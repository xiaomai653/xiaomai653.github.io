(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{488:function(t,s,a){"use strict";a.r(s);var n=a(16),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[a("a",{attrs:{href:"https://www.mysql.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("MySQL官网"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"docker安装mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker安装mysql"}},[t._v("#")]),t._v(" docker安装mysql")]),t._v(" "),a("h3",{attrs:{id:"_1-获取镜像列表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-获取镜像列表"}},[t._v("#")]),t._v(" 1.获取镜像列表")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" search mysql\n")])])]),a("h3",{attrs:{id:"_2-拉取镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-拉取镜像"}},[t._v("#")]),t._v(" 2.拉取镜像")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" pull mysql:5.7.32\n")])])]),a("h3",{attrs:{id:"_3-运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-运行"}},[t._v("#")]),t._v(" 3.运行")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" run -d --name mysql -p "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3306")]),t._v(":3306 -e "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("MYSQL_ROOT_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("123456")]),t._v(" -v /home/docker/mysql/db:/var/lib/mysql -v /home/docker/mysql/init:/docker-entrypoint-initdb.d/ mysql:5.7.32\n")])])]),a("blockquote",[a("p",[t._v("-d：后台运行"),a("br"),t._v("\n-p：将容器内部端口向外映射"),a("br"),t._v("\n--name：命名容器名称"),a("br"),t._v("\n-v：将容器内数据文件夹或者日志、配置等文件夹挂载到宿主机指定目录")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"docker-compose安装nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose安装nginx"}},[t._v("#")]),t._v(" docker compose安装nginx")]),t._v(" "),a("h3",{attrs:{id:"_1-创建yml文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建yml文件"}},[t._v("#")]),t._v(" 1.创建yml文件")]),t._v(" "),a("p",[a("code",[t._v("docker-compose-mysql.yml")])]),t._v(" "),a("div",{staticClass:"language-yml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'3.3'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mysql")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## network_mode: host")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mysql:5.7.32"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mysql\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3306:3306"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("TZ")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Asia/Shanghai\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("MYSQL_ROOT_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("123456")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("command")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("character"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("set"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("server=utf8mb4\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("collation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("server=utf8mb4_general_ci\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("explicit_defaults_for_timestamp=true\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("lower_case_table_names=1\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("max_allowed_packet=128M\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("sql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('mode="STRICT_TRANS_TABLES'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("NO_AUTO_CREATE_USER"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("NO_ENGINE_SUBSTITUTION"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("NO_ZERO_DATE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("NO_ZERO_IN_DATE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v('ERROR_FOR_DIVISION_BY_ZERO"\n      '),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("default"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("authentication_plugin=MYSQL_NATIVE_PASSWORD\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /home/docker/mysql/db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/var/lib/mysql\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /home/docker/mysql/init"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/docker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("entrypoint"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("initdb.d/\n")])])]),a("h3",{attrs:{id:"_2-运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-运行"}},[t._v("#")]),t._v(" 2.运行")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker-compose")]),t._v(" -f ./docker-compose-mysql.yml up -d\n")])])]),a("blockquote",[a("p",[t._v("-d：后台运行"),a("br"),t._v("\n-f：指定yml文件")])])])}),[],!1,null,null,null);s.default=e.exports}}]);