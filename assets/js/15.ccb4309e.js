(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{487:function(n,t,s){"use strict";s.r(t);var e=s(16),a=Object(e.a)({},(function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("p",[s("a",{attrs:{href:"https://www.nginx.cn/doc/",target:"_blank",rel:"noopener noreferrer"}},[n._v("Nginx中文文档"),s("OutboundLink")],1)]),n._v(" "),s("h2",{attrs:{id:"docker安装nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker安装nginx"}},[n._v("#")]),n._v(" docker安装nginx")]),n._v(" "),s("h3",{attrs:{id:"_1-获取镜像列表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-获取镜像列表"}},[n._v("#")]),n._v(" 1.获取镜像列表")]),n._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[n._v("docker")]),n._v(" search nginx\n")])])]),s("h3",{attrs:{id:"_2-拉取镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-拉取镜像"}},[n._v("#")]),n._v(" 2.拉取镜像")]),n._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[n._v("docker")]),n._v(" pull nginx\n")])])]),s("h3",{attrs:{id:"_3-运行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-运行"}},[n._v("#")]),n._v(" 3.运行")]),n._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[n._v("docker")]),n._v(" run -d --name nginx -p "),s("span",{pre:!0,attrs:{class:"token number"}},[n._v("80")]),n._v(":80 --privileged -v /home/docker/nginx/conf/nginx.conf:/etc/nginx/nginx.conf -v /home/docker/nginx/html:/usr/share/nginx/html -v /home/docker/nginx/logs:/var/log/nginx nginx:latest\n")])])]),s("blockquote",[s("p",[n._v("-d：后台运行"),s("br"),n._v("\n-p：将容器内部端口向外映射"),s("br"),n._v("\n--name：命名容器名称"),s("br"),n._v("\n-v：将容器内数据文件夹或者日志、配置等文件夹挂载到宿主机指定目录"),s("br"),n._v("\n--privileged：容器分配root权限")])]),n._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[n._v("nginx.conf")]),n._v(" "),s("div",{staticClass:"language-conf extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("#user  nobody;\nworker_processes  1;\n\n#error_log  logs/error.log;\n#error_log  logs/error.log  notice;\n#error_log  logs/error.log  info;\n\n#pid        logs/nginx.pid;\n\n\nevents {\n    worker_connections  1024;\n}\n\n\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n\n    #log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\n    #                  '$status $body_bytes_sent \"$http_referer\" '\n    #                  '\"$http_user_agent\" \"$http_x_forwarded_for\"';\n\n    #access_log  logs/access.log  main;\n\n    sendfile        on;\n    #tcp_nopush     on;\n\n    #keepalive_timeout  0;\n    keepalive_timeout  65;\n\n    #gzip  on;\n\n    server {\n        listen       80;\n        server_name  localhost;\n\n        #charset koi8-r;\n\n        #access_log  logs/host.access.log  main;\n\n        location / {\n            root   html;\n            index  index.html index.htm;\n        }\n\n        #error_page  404              /404.html;\n\n        # redirect server error pages to the static page /50x.html\n        #\n        error_page   500 502 503 504  /50x.html;\n        location = /50x.html {\n            root   html;\n        }\n\n        # proxy the PHP scripts to Apache listening on 127.0.0.1:80\n        #\n        #location ~ \\.php$ {\n        #    proxy_pass   http://127.0.0.1;\n        #}\n\n        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\n        #\n        #location ~ \\.php$ {\n        #    root           html;\n        #    fastcgi_pass   127.0.0.1:9000;\n        #    fastcgi_index  index.php;\n        #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;\n        #    include        fastcgi_params;\n        #}\n\n        # deny access to .htaccess files, if Apache's document root\n        # concurs with nginx's one\n        #\n        #location ~ /\\.ht {\n        #    deny  all;\n        #}\n    }\n\n\n    # another virtual host using mix of IP-, name-, and port-based configuration\n    #\n    #server {\n    #    listen       8000;\n    #    listen       somename:8080;\n    #    server_name  somename  alias  another.alias;\n\n    #    location / {\n    #        root   html;\n    #        index  index.html index.htm;\n    #    }\n    #}\n\n\n    # HTTPS server\n    #\n    #server {\n    #    listen       443 ssl;\n    #    server_name  localhost;\n\n    #    ssl_certificate      cert.pem;\n    #    ssl_certificate_key  cert.key;\n\n    #    ssl_session_cache    shared:SSL:1m;\n    #    ssl_session_timeout  5m;\n\n    #    ssl_ciphers  HIGH:!aNULL:!MD5;\n    #    ssl_prefer_server_ciphers  on;\n\n    #    location / {\n    #        root   html;\n    #        index  index.html index.htm;\n    #    }\n    #}\n\n}\n")])])])]),n._v(" "),s("hr"),n._v(" "),s("h2",{attrs:{id:"docker-compose安装nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose安装nginx"}},[n._v("#")]),n._v(" docker compose安装nginx")]),n._v(" "),s("h3",{attrs:{id:"_1-创建yml文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建yml文件"}},[n._v("#")]),n._v(" 1.创建yml文件")]),n._v(" "),s("p",[s("code",[n._v("docker-compose-nginx.yml")])]),n._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[n._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(":")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[n._v("'3.3'")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[n._v("services")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(":")]),n._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[n._v("nginx")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(":")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[n._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(":")]),n._v(" nginx\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[n._v("container_name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(":")]),n._v(" nginx\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[n._v("environment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(":")]),n._v("\n      TZ=Asia/Shanghai\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[n._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(":")]),n._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("-")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[n._v('"7273:7273"')]),n._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("-")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[n._v('"8188:8188"')]),n._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("-")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[n._v('"9200:9200"')]),n._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("-")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[n._v('"9999:9999"')]),n._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("-")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[n._v('"10000:10000"')]),n._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("-")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[n._v('"8088:8088"')]),n._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("-")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[n._v('"7272:7272"')]),n._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("-")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[n._v('"8089:8089"')]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[n._v("privileged")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(":")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[n._v("true")]),n._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[n._v("volumes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(":")]),n._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("-")]),n._v(" /home/docker/nginx/conf/nginx.conf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(":")]),n._v("/etc/nginx/nginx.conf\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("-")]),n._v(" /home/docker/nginx/html"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(":")]),n._v("/usr/share/nginx/html\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("-")]),n._v(" /home/docker/nginx/logs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(":")]),n._v("/var/log/nginx\n")])])]),s("h3",{attrs:{id:"_2-运行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-运行"}},[n._v("#")]),n._v(" 2.运行")]),n._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[n._v("docker-compose")]),n._v(" -f ./docker-compose-nginx.yml up -d\n")])])]),s("blockquote",[s("p",[n._v("-d：后台运行"),s("br"),n._v("\n-f：指定yml文件")])])])}),[],!1,null,null,null);t.default=a.exports}}]);