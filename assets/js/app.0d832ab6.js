(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(n){function e(e){for(var r,a,s=e[0],c=e[1],l=e[2],p=0,d=[];p<s.length;p++)a=s[p],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(n[r]=c[r]);for(u&&u(e);d.length;)d.shift()();return i.push.apply(i,l||[]),t()}function t(){for(var n,e=0;e<i.length;e++){for(var t=i[e],r=!0,s=1;s<t.length;s++){var c=t[s];0!==o[c]&&(r=!1)}r&&(i.splice(e--,1),n=a(a.s=t[0]))}return n}var r={},o={1:0},i=[];function a(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.e=function(n){var e=[],t=o[n];if(0!==t)if(t)e.push(t[2]);else{var r=new Promise((function(e,r){t=o[n]=[e,r]}));e.push(t[2]=r);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=function(n){return a.p+"assets/js/"+({}[n]||n)+"."+{2:"8f160e24",3:"bb85e424",4:"620e00b3",5:"019fad3e",6:"674a6ed1",7:"a02c519b",8:"d374dc82",9:"3822014c",10:"3d9b4e16",11:"4e056d62",12:"affa2bb8",13:"d4231f35",14:"a8d37966",15:"ccb4309e",16:"122e55e2",17:"731c061e",18:"6ade0574",19:"86605151",20:"3831bfc5",21:"dcd169a6",22:"f844edeb",23:"e6fb07ca",24:"92d04674",25:"c60d29fe",26:"0d51d958",27:"9f19bf6a",28:"19eb389a",29:"dab9dbf5",30:"57303ed0",31:"b315a882",32:"7001f772",33:"19bd3a46",34:"3968f9d0",35:"9d7e0ffb",36:"299f8f75",37:"7289918d",38:"c5900f0c",39:"9d63469c",40:"eae5b6fb",41:"f4b09d3d",42:"9724cb80",43:"8184dd6f",44:"def4ec73",45:"6f98a0f4",46:"75a2c9db",47:"7b4acdf8",48:"3d594ddb",49:"88bf6d16",50:"4dc46aa7",51:"cb0d0fb6",52:"c9e89abe",53:"4944f9a8",54:"4f8d3a28",55:"a35e56f7",56:"2594cd7d",57:"e4ba4da0",58:"5813e6b8"}[n]+".js"}(n);var c=new Error;i=function(e){s.onerror=s.onload=null,clearTimeout(l);var t=o[n];if(0!==t){if(t){var r=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;c.message="Loading chunk "+n+" failed.\n("+r+": "+i+")",c.name="ChunkLoadError",c.type=r,c.request=i,t[1](c)}o[n]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(e)},a.m=n,a.c=r,a.d=function(n,e,t){a.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},a.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},a.t=function(n,e){if(1&e&&(n=a(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)a.d(t,r,function(e){return n[e]}.bind(null,r));return t},a.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return a.d(e,"a",e),e},a.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},a.p="/",a.oe=function(n){throw console.error(n),n};var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;i.push([232,0]),t()}([function(n,e){var t=function(n){return n&&n.Math==Math&&n};n.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||function(){return this}()||Function("return this")()},function(n,e,t){var r=t(0),o=t(38).f,i=t(25),a=t(15),s=t(110),c=t(116),l=t(102);n.exports=function(n,e){var t,u,p,d,m,g=n.target,f=n.global,h=n.stat;if(t=f?r:h?r[g]||s(g,{}):(r[g]||{}).prototype)for(u in e){if(d=e[u],p=n.noTargetGet?(m=o(t,u))&&m.value:t[u],!l(f?u:g+(h?".":"#")+u,n.forced)&&void 0!==p){if(typeof d==typeof p)continue;c(d,p)}(n.sham||p&&p.sham)&&i(d,"sham",!0),a(t,u,d,n)}}},function(n,e,t){var r=t(60),o=Function.prototype,i=o.bind,a=o.call,s=r&&i.bind(a,a);n.exports=r?function(n){return n&&s(n)}:function(n){return n&&function(){return a.apply(n,arguments)}}},function(n,e){n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,e,t){var r=t(119),o=t(15),i=t(248);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(n,e){n.exports=function(n){return"function"==typeof n}},function(n,e,t){var r=t(0),o=t(77),i=t(10),a=t(78),s=t(111),c=t(148),l=o("wks"),u=r.Symbol,p=u&&u.for,d=c?u:u&&u.withoutSetter||a;n.exports=function(n){if(!i(l,n)||!s&&"string"!=typeof l[n]){var e="Symbol."+n;s&&i(u,n)?l[n]=u[n]:l[n]=c&&p?p(e):d(e)}return l[n]}},function(n,e,t){var r=t(3);n.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(n,e,t){var r=t(0),o=t(9),i=r.String,a=r.TypeError;n.exports=function(n){if(o(n))return n;throw a(i(n)+" is not an object")}},function(n,e,t){var r=t(5);n.exports=function(n){return"object"==typeof n?null!==n:r(n)}},function(n,e,t){var r=t(2),o=t(14),i=r({}.hasOwnProperty);n.exports=Object.hasOwn||function(n,e){return i(o(n),e)}},function(n,e,t){var r=t(60),o=Function.prototype.call;n.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},function(n,e,t){var r=t(0),o=t(75),i=r.String;n.exports=function(n){if("Symbol"===o(n))throw TypeError("Cannot convert a Symbol value to a string");return i(n)}},function(n,e,t){var r=t(0),o=t(7),i=t(150),a=t(149),s=t(8),c=t(80),l=r.TypeError,u=Object.defineProperty,p=Object.getOwnPropertyDescriptor;e.f=o?a?function(n,e,t){if(s(n),e=c(e),s(t),"function"==typeof n&&"prototype"===e&&"value"in t&&"writable"in t&&!t.writable){var r=p(n,e);r&&r.writable&&(n[e]=t.value,t={configurable:"configurable"in t?t.configurable:r.configurable,enumerable:"enumerable"in t?t.enumerable:r.enumerable,writable:!1})}return u(n,e,t)}:u:function(n,e,t){if(s(n),e=c(e),s(t),i)try{return u(n,e,t)}catch(n){}if("get"in t||"set"in t)throw l("Accessors not supported");return"value"in t&&(n[e]=t.value),n}},function(n,e,t){var r=t(0),o=t(19),i=r.Object;n.exports=function(n){return i(o(n))}},function(n,e,t){var r=t(0),o=t(5),i=t(10),a=t(25),s=t(110),c=t(85),l=t(39),u=t(74).CONFIGURABLE,p=l.get,d=l.enforce,m=String(String).split("String");(n.exports=function(n,e,t,c){var l,p=!!c&&!!c.unsafe,g=!!c&&!!c.enumerable,f=!!c&&!!c.noTargetGet,h=c&&void 0!==c.name?c.name:e;o(t)&&("Symbol("===String(h).slice(0,7)&&(h="["+String(h).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(t,"name")||u&&t.name!==h)&&a(t,"name",h),(l=d(t)).source||(l.source=m.join("string"==typeof h?h:""))),n!==r?(p?!f&&n[e]&&(g=!0):delete n[e],g?n[e]=t:a(n,e,t)):g?n[e]=t:s(e,t)})(Function.prototype,"toString",(function(){return o(this)&&p(this).source||c(this)}))},function(n,e,t){"use strict";function r(n,e,t,r,o,i,a,s){var c,l="function"==typeof n?n.options:n;if(e&&(l.render=e,l.staticRenderFns=t,l._compiled=!0),r&&(l.functional=!0),i&&(l._scopeId="data-v-"+i),a?(c=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),o&&o.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(a)},l._ssrRegister=c):o&&(c=s?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(n,e){return c.call(e),u(n,e)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,c):[c]}return{exports:n,options:l}}t.d(e,"a",(function(){return r}))},function(n,e,t){var r=t(0),o=t(5),i=function(n){return o(n)?n:void 0};n.exports=function(n,e){return arguments.length<2?i(r[n]):r[n]&&r[n][e]}},function(n,e,t){var r=t(50);n.exports=function(n){return r(n.length)}},function(n,e,t){var r=t(0).TypeError;n.exports=function(n){if(null==n)throw r("Can't call method on "+n);return n}},function(n,e,t){var r=t(59),o=t(19);n.exports=function(n){return r(o(n))}},function(n,e,t){"use strict";var r=t(1),o=t(90);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(n,e,t){"use strict";var r=t(1),o=t(54).filter;r({target:"Array",proto:!0,forced:!t(66)("filter")},{filter:function(n){return o(this,n,arguments.length>1?arguments[1]:void 0)}})},function(n,e,t){var r=t(2),o=r({}.toString),i=r("".slice);n.exports=function(n){return i(o(n),8,-1)}},function(n,e){n.exports=!1},function(n,e,t){var r=t(7),o=t(13),i=t(47);n.exports=r?function(n,e,t){return o.f(n,e,i(1,t))}:function(n,e,t){return n[e]=t,n}},function(n,e,t){"use strict";var r=t(167).charAt,o=t(12),i=t(39),a=t(154),s=i.set,c=i.getterFor("String Iterator");a(String,"String",(function(n){s(this,{type:"String Iterator",string:o(n),index:0})}),(function(){var n,e=c(this),t=e.string,o=e.index;return o>=t.length?{value:void 0,done:!0}:(n=r(t,o),e.index+=n.length,{value:n,done:!1})}))},function(n,e,t){"use strict";var r=t(1),o=t(174);r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},function(n,e,t){var r=t(0),o=t(168),i=t(169),a=t(174),s=t(25),c=function(n){if(n&&n.forEach!==a)try{s(n,"forEach",a)}catch(e){n.forEach=a}};for(var l in o)o[l]&&c(r[l]&&r[l].prototype);c(i)},function(n,e,t){var r=t(15),o=t(264),i=Error.prototype;i.toString!==o&&r(i,"toString",o)},function(n,e){var t=Array.isArray;n.exports=t},function(n,e,t){var r=t(17);n.exports=r("navigator","userAgent")||""},function(n,e,t){var r=t(183),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();n.exports=i},function(n,e,t){var r=t(0),o=t(168),i=t(169),a=t(139),s=t(25),c=t(6),l=c("iterator"),u=c("toStringTag"),p=a.values,d=function(n,e){if(n){if(n[l]!==p)try{s(n,l,p)}catch(e){n[l]=p}if(n[u]||s(n,u,e),o[e])for(var t in a)if(n[t]!==a[t])try{s(n,t,a[t])}catch(e){n[t]=a[t]}}};for(var m in o)d(r[m]&&r[m].prototype,m);d(i,"DOMTokenList")},function(n,e,t){var r,o=t(8),i=t(112),a=t(114),s=t(62),c=t(153),l=t(79),u=t(84),p=u("IE_PROTO"),d=function(){},m=function(n){return"<script>"+n+"<\/script>"},g=function(n){n.write(m("")),n.close();var e=n.parentWindow.Object;return n=null,e},f=function(){try{r=new ActiveXObject("htmlfile")}catch(n){}var n,e;f="undefined"!=typeof document?document.domain&&r?g(r):((e=l("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(n=e.contentWindow.document).open(),n.write(m("document.F=Object")),n.close(),n.F):g(r);for(var t=a.length;t--;)delete f.prototype[a[t]];return f()};s[p]=!0,n.exports=Object.create||function(n,e){var t;return null!==n?(d.prototype=o(n),t=new d,d.prototype=null,t[p]=n):t=f(),void 0===e?t:i.f(t,e)}},function(n,e,t){var r=t(2);n.exports=r({}.isPrototypeOf)},function(n,e,t){var r=t(60),o=Function.prototype,i=o.apply,a=o.call;n.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},function(n,e,t){var r=t(0),o=t(5),i=t(82),a=r.TypeError;n.exports=function(n){if(o(n))return n;throw a(i(n)+" is not a function")}},function(n,e,t){var r=t(7),o=t(11),i=t(115),a=t(47),s=t(20),c=t(80),l=t(10),u=t(150),p=Object.getOwnPropertyDescriptor;e.f=r?p:function(n,e){if(n=s(n),e=c(e),u)try{return p(n,e)}catch(n){}if(l(n,e))return a(!o(i.f,n,e),n[e])}},function(n,e,t){var r,o,i,a=t(234),s=t(0),c=t(2),l=t(9),u=t(25),p=t(10),d=t(109),m=t(84),g=t(62),f=s.TypeError,h=s.WeakMap;if(a||d.state){var y=d.state||(d.state=new h),v=c(y.get),b=c(y.has),k=c(y.set);r=function(n,e){if(b(y,n))throw new f("Object already initialized");return e.facade=n,k(y,n,e),e},o=function(n){return v(y,n)||{}},i=function(n){return b(y,n)}}else{var x=m("state");g[x]=!0,r=function(n,e){if(p(n,x))throw new f("Object already initialized");return e.facade=n,u(n,x,e),e},o=function(n){return p(n,x)?n[x]:{}},i=function(n){return p(n,x)}}n.exports={set:r,get:o,has:i,enforce:function(n){return i(n)?o(n):r(n,{})},getterFor:function(n){return function(e){var t;if(!l(e)||(t=o(e)).type!==n)throw f("Incompatible receiver, "+n+" required");return t}}}},function(n,e,t){var r=t(1),o=t(0),i=t(36),a=t(260),s=o.WebAssembly,c=7!==Error("e",{cause:7}).cause,l=function(n,e){var t={};t[n]=a(n,e,c),r({global:!0,forced:c},t)},u=function(n,e){if(s&&s[n]){var t={};t[n]=a("WebAssembly."+n,e,c),r({target:"WebAssembly",stat:!0,forced:c},t)}};l("Error",(function(n){return function(e){return i(n,this,arguments)}})),l("EvalError",(function(n){return function(e){return i(n,this,arguments)}})),l("RangeError",(function(n){return function(e){return i(n,this,arguments)}})),l("ReferenceError",(function(n){return function(e){return i(n,this,arguments)}})),l("SyntaxError",(function(n){return function(e){return i(n,this,arguments)}})),l("TypeError",(function(n){return function(e){return i(n,this,arguments)}})),l("URIError",(function(n){return function(e){return i(n,this,arguments)}})),u("CompileError",(function(n){return function(e){return i(n,this,arguments)}})),u("LinkError",(function(n){return function(e){return i(n,this,arguments)}})),u("RuntimeError",(function(n){return function(e){return i(n,this,arguments)}}))},function(n,e,t){var r=t(285),o=t(288);n.exports=function(n,e){var t=o(n,e);return r(t)?t:void 0}},function(n,e,t){"use strict";t.d(e,"e",(function(){return r})),t.d(e,"b",(function(){return i})),t.d(e,"j",(function(){return a})),t.d(e,"g",(function(){return c})),t.d(e,"h",(function(){return l})),t.d(e,"i",(function(){return u})),t.d(e,"c",(function(){return p})),t.d(e,"f",(function(){return d})),t.d(e,"l",(function(){return m})),t.d(e,"m",(function(){return g})),t.d(e,"d",(function(){return h})),t.d(e,"k",(function(){return y})),t.d(e,"n",(function(){return v})),t.d(e,"a",(function(){return k}));t(21),t(52),t(218),t(73),t(217),t(144),t(43),t(27),t(4),t(28),t(22),t(76),t(135),t(147),t(99),t(202),t(29),t(138);var r=/#.*$/,o=/\.(md|html)$/,i=/\/$/,a=/^[a-z]+:/i;function s(n){return decodeURI(n).replace(r,"").replace(o,"")}function c(n){return a.test(n)}function l(n){return/^mailto:/.test(n)}function u(n){return/^tel:/.test(n)}function p(n){if(c(n))return n;var e=n.match(r),t=e?e[0]:"",o=s(n);return i.test(o)?n:o+".html"+t}function d(n,e){var t=n.hash,o=function(n){var e=n.match(r);if(e)return e[0]}(e);return(!o||t===o)&&s(n.path)===s(e)}function m(n,e,t){if(c(e))return{type:"external",path:e};t&&(e=function(n,e,t){var r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;var o=e.split("/");t&&o[o.length-1]||o.pop();for(var i=n.replace(/^\//,"").split("/"),a=0;a<i.length;a++){var s=i[a];".."===s?o.pop():"."!==s&&o.push(s)}""!==o[0]&&o.unshift("");return o.join("/")}(e,t));for(var r=s(e),o=0;o<n.length;o++)if(s(n[o].regularPath)===r)return Object.assign({},n[o],{type:"page",path:p(n[o].path)});return console.error('[vuepress] No matching page found for sidebar item "'.concat(e,'"')),{}}function g(n,e,t,r){var o=t.pages,i=t.themeConfig,a=r&&i.locales&&i.locales[r]||i;if("auto"===(n.frontmatter.sidebar||a.sidebar||i.sidebar))return f(n);var s=a.sidebar||i.sidebar;if(s){var c=function(n,e){if(Array.isArray(e))return{base:"/",config:e};for(var t in e)if(0===(r=n,/(\.html|\/)$/.test(r)?r:r+"/").indexOf(encodeURI(t)))return{base:t,config:e[t]};var r;return{}}(e,s),l=c.base,u=c.config;return"auto"===u?f(n):u?u.map((function(n){return function n(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if("string"==typeof e)return m(t,e,r);if(Array.isArray(e))return Object.assign(m(t,e[0],r),{title:e[1]});o>3&&console.error("[vuepress] detected a too deep nested sidebar group.");var i=e.children||[];return 0===i.length&&e.path?Object.assign(m(t,e.path,r),{title:e.title}):{type:"group",path:e.path,title:e.title,sidebarDepth:e.sidebarDepth,initialOpenGroupIndex:e.initialOpenGroupIndex,children:i.map((function(e){return n(e,t,r,o+1)})),collapsable:!1!==e.collapsable}}(n,o,l)})):[]}return[]}function f(n){var e=h(n.headers||[]);return[{type:"group",collapsable:!1,title:n.title,path:null,children:e.map((function(e){return{type:"auto",title:e.title,basePath:n.path,path:n.path+"#"+e.slug,children:e.children||[]}}))}]}function h(n){var e;return(n=n.map((function(n){return Object.assign({},n)}))).forEach((function(n){2===n.level?e=n:e&&(e.children||(e.children=[])).push(n)})),n.filter((function(n){return 2===n.level}))}function y(n){return Object.assign(n,{type:n.items&&n.items.length?"links":"link"})}function v(n){return Object.prototype.toString.call(n).match(/\[object (.*?)\]/)[1].toLowerCase()}function b(n){var e=n.frontmatter.date||n.lastUpdated||new Date,t=new Date(e);return"Invalid Date"==t&&e&&(t=new Date(e.replace(/-/g,"/"))),t.getTime()}function k(n,e){return b(e)-b(n)}},function(n,e,t){"use strict";var r=t(1),o=t(54).map;r({target:"Array",proto:!0,forced:!t(66)("map")},{map:function(n){return o(this,n,arguments.length>1?arguments[1]:void 0)}})},function(n,e){var t=Math.ceil,r=Math.floor;n.exports=function(n){var e=+n;return e!=e||0===e?0:(e>0?r:t)(e)}},function(n,e,t){"use strict";var r=t(3);n.exports=function(n,e){var t=[][n];return!!t&&r((function(){t.call(null,e||function(){throw 1},1)}))}},function(n,e,t){var r=t(37);n.exports=function(n,e){var t=n[e];return null==t?void 0:r(t)}},function(n,e){n.exports=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}}},function(n,e){n.exports=function(n){return null!=n&&"object"==typeof n}},function(n,e,t){var r,o,i=t(0),a=t(31),s=i.process,c=i.Deno,l=s&&s.versions||c&&c.version,u=l&&l.v8;u&&(o=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),n.exports=o},function(n,e,t){var r=t(44),o=Math.min;n.exports=function(n){return n>0?o(r(n),9007199254740991):0}},function(n,e,t){"use strict";var r=t(80),o=t(13),i=t(47);n.exports=function(n,e,t){var a=r(e);a in n?o.f(n,a,i(0,t)):n[a]=t}},function(n,e,t){"use strict";var r=t(36),o=t(11),i=t(2),a=t(107),s=t(3),c=t(8),l=t(5),u=t(44),p=t(50),d=t(12),m=t(19),g=t(123),f=t(46),h=t(265),y=t(108),v=t(6)("replace"),b=Math.max,k=Math.min,x=i([].concat),w=i([].push),S=i("".indexOf),E=i("".slice),_="$0"==="a".replace(/./,"$0"),T=!!/./[v]&&""===/./[v]("a","$0");a("replace",(function(n,e,t){var i=T?"$":"$0";return[function(n,t){var r=m(this),i=null==n?void 0:f(n,v);return i?o(i,n,r,t):o(e,d(r),n,t)},function(n,o){var a=c(this),s=d(n);if("string"==typeof o&&-1===S(o,i)&&-1===S(o,"$<")){var m=t(e,a,s,o);if(m.done)return m.value}var f=l(o);f||(o=d(o));var v=a.global;if(v){var _=a.unicode;a.lastIndex=0}for(var T=[];;){var A=y(a,s);if(null===A)break;if(w(T,A),!v)break;""===d(A[0])&&(a.lastIndex=g(s,p(a.lastIndex),_))}for(var I,j="",R=0,C=0;C<T.length;C++){for(var z=d((A=T[C])[0]),O=b(k(u(A.index),s.length),0),B=[],P=1;P<A.length;P++)w(B,void 0===(I=A[P])?I:String(I));var D=A.groups;if(f){var q=x([z],B,O,s);void 0!==D&&w(q,D);var L=d(r(o,void 0,q))}else L=h(z,s,O,B,D,o);O>=R&&(j+=E(s,R,O)+L,R=O+z.length)}return j+E(s,R)}]}),!!s((function(){var n=/./;return n.exec=function(){var n=[];return n.groups={a:"7"},n},"7"!=="".replace(n,"$<a>")}))||!_||T)},function(n,e,t){var r=t(2),o=t(37),i=t(60),a=r(r.bind);n.exports=function(n,e){return o(n),void 0===e?n:i?a(n,e):function(){return n.apply(e,arguments)}}},function(n,e,t){var r=t(53),o=t(2),i=t(59),a=t(14),s=t(18),c=t(104),l=o([].push),u=function(n){var e=1==n,t=2==n,o=3==n,u=4==n,p=6==n,d=7==n,m=5==n||p;return function(g,f,h,y){for(var v,b,k=a(g),x=i(k),w=r(f,h),S=s(x),E=0,_=y||c,T=e?_(g,S):t||d?_(g,0):void 0;S>E;E++)if((m||E in x)&&(b=w(v=x[E],E,k),n))if(e)T[E]=b;else if(b)switch(n){case 3:return!0;case 5:return v;case 6:return E;case 2:l(T,v)}else switch(n){case 4:return!1;case 7:l(T,v)}return p?-1:o||u?u:T}};n.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},function(n,e,t){var r=t(152),o=t(114).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(n){return r(n,o)}},function(n,e,t){var r=t(13).f,o=t(10),i=t(6)("toStringTag");n.exports=function(n,e,t){n&&!t&&(n=n.prototype),n&&!o(n,i)&&r(n,i,{configurable:!0,value:e})}},function(n,e,t){var r=t(23);n.exports=Array.isArray||function(n){return"Array"==r(n)}},function(n,e,t){var r=t(68),o=t(270),i=t(271),a=r?r.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":a&&a in Object(n)?o(n):i(n)}},function(n,e,t){var r=t(0),o=t(2),i=t(3),a=t(23),s=r.Object,c=o("".split);n.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(n){return"String"==a(n)?c(n,""):s(n)}:s},function(n,e,t){var r=t(3);n.exports=!r((function(){var n=function(){}.bind();return"function"!=typeof n||n.hasOwnProperty("prototype")}))},function(n,e,t){var r=t(44),o=Math.max,i=Math.min;n.exports=function(n,e){var t=r(n);return t<0?o(t+e,0):i(t,e)}},function(n,e){n.exports={}},function(n,e){n.exports={}},function(n,e,t){var r=t(2),o=t(8),i=t(235);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,e=!1,t={};try{(n=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(t,[]),e=t instanceof Array}catch(n){}return function(t,r){return o(t),i(r),e?n(t,r):t.__proto__=r,t}}():void 0)},function(n,e,t){var r=t(2);n.exports=r([].slice)},function(n,e,t){var r=t(3),o=t(6),i=t(49),a=o("species");n.exports=function(n){return i>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[n](Boolean).foo}))}},function(n,e,t){"use strict";var r=t(1),o=t(0),i=t(17),a=t(36),s=t(11),c=t(2),l=t(24),u=t(7),p=t(111),d=t(3),m=t(10),g=t(57),f=t(5),h=t(9),y=t(35),v=t(81),b=t(8),k=t(14),x=t(20),w=t(80),S=t(12),E=t(47),_=t(34),T=t(83),A=t(55),I=t(176),j=t(117),R=t(38),C=t(13),z=t(112),O=t(115),B=t(65),P=t(15),D=t(77),q=t(84),L=t(62),U=t(78),M=t(6),$=t(177),N=t(178),F=t(56),J=t(39),H=t(54).forEach,W=q("hidden"),G=M("toPrimitive"),V=J.set,Q=J.getterFor("Symbol"),K=Object.prototype,Y=o.Symbol,X=Y&&Y.prototype,Z=o.TypeError,nn=o.QObject,en=i("JSON","stringify"),tn=R.f,rn=C.f,on=I.f,an=O.f,sn=c([].push),cn=D("symbols"),ln=D("op-symbols"),un=D("string-to-symbol-registry"),pn=D("symbol-to-string-registry"),dn=D("wks"),mn=!nn||!nn.prototype||!nn.prototype.findChild,gn=u&&d((function(){return 7!=_(rn({},"a",{get:function(){return rn(this,"a",{value:7}).a}})).a}))?function(n,e,t){var r=tn(K,e);r&&delete K[e],rn(n,e,t),r&&n!==K&&rn(K,e,r)}:rn,fn=function(n,e){var t=cn[n]=_(X);return V(t,{type:"Symbol",tag:n,description:e}),u||(t.description=e),t},hn=function(n,e,t){n===K&&hn(ln,e,t),b(n);var r=w(e);return b(t),m(cn,r)?(t.enumerable?(m(n,W)&&n[W][r]&&(n[W][r]=!1),t=_(t,{enumerable:E(0,!1)})):(m(n,W)||rn(n,W,E(1,{})),n[W][r]=!0),gn(n,r,t)):rn(n,r,t)},yn=function(n,e){b(n);var t=x(e),r=T(t).concat(xn(t));return H(r,(function(e){u&&!s(vn,t,e)||hn(n,e,t[e])})),n},vn=function(n){var e=w(n),t=s(an,this,e);return!(this===K&&m(cn,e)&&!m(ln,e))&&(!(t||!m(this,e)||!m(cn,e)||m(this,W)&&this[W][e])||t)},bn=function(n,e){var t=x(n),r=w(e);if(t!==K||!m(cn,r)||m(ln,r)){var o=tn(t,r);return!o||!m(cn,r)||m(t,W)&&t[W][r]||(o.enumerable=!0),o}},kn=function(n){var e=on(x(n)),t=[];return H(e,(function(n){m(cn,n)||m(L,n)||sn(t,n)})),t},xn=function(n){var e=n===K,t=on(e?ln:x(n)),r=[];return H(t,(function(n){!m(cn,n)||e&&!m(K,n)||sn(r,cn[n])})),r};(p||(P(X=(Y=function(){if(y(X,this))throw Z("Symbol is not a constructor");var n=arguments.length&&void 0!==arguments[0]?S(arguments[0]):void 0,e=U(n),t=function(n){this===K&&s(t,ln,n),m(this,W)&&m(this[W],e)&&(this[W][e]=!1),gn(this,e,E(1,n))};return u&&mn&&gn(K,e,{configurable:!0,set:t}),fn(e,n)}).prototype,"toString",(function(){return Q(this).tag})),P(Y,"withoutSetter",(function(n){return fn(U(n),n)})),O.f=vn,C.f=hn,z.f=yn,R.f=bn,A.f=I.f=kn,j.f=xn,$.f=function(n){return fn(M(n),n)},u&&(rn(X,"description",{configurable:!0,get:function(){return Q(this).description}}),l||P(K,"propertyIsEnumerable",vn,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:Y}),H(T(dn),(function(n){N(n)})),r({target:"Symbol",stat:!0,forced:!p},{for:function(n){var e=S(n);if(m(un,e))return un[e];var t=Y(e);return un[e]=t,pn[t]=e,t},keyFor:function(n){if(!v(n))throw Z(n+" is not a symbol");if(m(pn,n))return pn[n]},useSetter:function(){mn=!0},useSimple:function(){mn=!1}}),r({target:"Object",stat:!0,forced:!p,sham:!u},{create:function(n,e){return void 0===e?_(n):yn(_(n),e)},defineProperty:hn,defineProperties:yn,getOwnPropertyDescriptor:bn}),r({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:kn,getOwnPropertySymbols:xn}),r({target:"Object",stat:!0,forced:d((function(){j.f(1)}))},{getOwnPropertySymbols:function(n){return j.f(k(n))}}),en)&&r({target:"JSON",stat:!0,forced:!p||d((function(){var n=Y();return"[null]"!=en([n])||"{}"!=en({a:n})||"{}"!=en(Object(n))}))},{stringify:function(n,e,t){var r=B(arguments),o=e;if((h(e)||void 0!==n)&&!v(n))return g(e)||(e=function(n,e){if(f(o)&&(e=s(o,this,n,e)),!v(e))return e}),r[1]=e,a(en,null,r)}});if(!X[G]){var wn=X.valueOf;P(X,G,(function(n){return s(wn,this)}))}F(Y,"Symbol"),L[W]=!0},function(n,e,t){var r=t(32).Symbol;n.exports=r},function(n,e,t){"use strict";t.d(e,"a",(function(){return i}));t(76);var r=t(70);t(67),t(89),t(4),t(122),t(26),t(33),t(179);var o=t(97);t(40),t(29);function i(n){return function(n){if(Array.isArray(n))return Object(r.a)(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Object(o.a)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(n,e,t){"use strict";function r(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}t.d(e,"a",(function(){return r}))},function(n,e,t){"use strict";var r=t(1),o=t(0),i=t(57),a=t(86),s=t(9),c=t(61),l=t(18),u=t(20),p=t(51),d=t(6),m=t(66),g=t(65),f=m("slice"),h=d("species"),y=o.Array,v=Math.max;r({target:"Array",proto:!0,forced:!f},{slice:function(n,e){var t,r,o,d=u(this),m=l(d),f=c(n,m),b=c(void 0===e?m:e,m);if(i(d)&&(t=d.constructor,(a(t)&&(t===y||i(t.prototype))||s(t)&&null===(t=t[h]))&&(t=void 0),t===y||void 0===t))return g(d,f,b);for(r=new(void 0===t?y:t)(v(b-f,0)),o=0;f<b;f++,o++)f in d&&p(r,o,d[f]);return r.length=o,r}})},function(n,e,t){var r=t(1),o=t(0),i=t(36),a=t(5),s=t(31),c=t(65),l=/MSIE .\./.test(s),u=o.Function,p=function(n){return function(e,t){var r=arguments.length>2,o=r?c(arguments,2):void 0;return n(r?function(){i(a(e)?e:u(e),this,o)}:e,t)}};r({global:!0,bind:!0,forced:l},{setTimeout:p(o.setTimeout),setInterval:p(o.setInterval)})},function(n,e,t){"use strict";t(21);var r,o,i=t(1),a=t(0),s=t(11),c=t(2),l=t(5),u=t(9),p=(r=!1,(o=/[ac]/).exec=function(){return r=!0,/./.exec.apply(this,arguments)},!0===o.test("abc")&&r),d=a.Error,m=c(/./.test);i({target:"RegExp",proto:!0,forced:!p},{test:function(n){var e=this.exec;if(!l(e))return m(this,n);var t=s(e,this,n);if(null!==t&&!u(t))throw new d("RegExp exec method returned something other than an Object or null");return!!t}})},function(n,e,t){var r=t(7),o=t(10),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=o(i,"name"),c=s&&"something"===function(){}.name,l=s&&(!r||r&&a(i,"name").configurable);n.exports={EXISTS:s,PROPER:c,CONFIGURABLE:l}},function(n,e,t){var r=t(0),o=t(119),i=t(5),a=t(23),s=t(6)("toStringTag"),c=r.Object,l="Arguments"==a(function(){return arguments}());n.exports=o?a:function(n){var e,t,r;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(t=function(n,e){try{return n[e]}catch(n){}}(e=c(n),s))?t:l?a(e):"Object"==(r=a(e))&&i(e.callee)?"Arguments":r}},function(n,e,t){t(1)({target:"Array",stat:!0},{isArray:t(57)})},function(n,e,t){var r=t(24),o=t(109);(n.exports=function(n,e){return o[n]||(o[n]=void 0!==e?e:{})})("versions",[]).push({version:"3.20.3",mode:r?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"})},function(n,e,t){var r=t(2),o=0,i=Math.random(),a=r(1..toString);n.exports=function(n){return"Symbol("+(void 0===n?"":n)+")_"+a(++o+i,36)}},function(n,e,t){var r=t(0),o=t(9),i=r.document,a=o(i)&&o(i.createElement);n.exports=function(n){return a?i.createElement(n):{}}},function(n,e,t){var r=t(151),o=t(81);n.exports=function(n){var e=r(n,"string");return o(e)?e:e+""}},function(n,e,t){var r=t(0),o=t(17),i=t(5),a=t(35),s=t(148),c=r.Object;n.exports=s?function(n){return"symbol"==typeof n}:function(n){var e=o("Symbol");return i(e)&&a(e.prototype,c(n))}},function(n,e,t){var r=t(0).String;n.exports=function(n){try{return r(n)}catch(n){return"Object"}}},function(n,e,t){var r=t(152),o=t(114);n.exports=Object.keys||function(n){return r(n,o)}},function(n,e,t){var r=t(77),o=t(78),i=r("keys");n.exports=function(n){return i[n]||(i[n]=o(n))}},function(n,e,t){var r=t(2),o=t(5),i=t(109),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(n){return a(n)}),n.exports=i.inspectSource},function(n,e,t){var r=t(2),o=t(3),i=t(5),a=t(75),s=t(17),c=t(85),l=function(){},u=[],p=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,m=r(d.exec),g=!d.exec(l),f=function(n){if(!i(n))return!1;try{return p(l,u,n),!0}catch(n){return!1}},h=function(n){if(!i(n))return!1;switch(a(n)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!m(d,c(n))}catch(n){return!0}};h.sham=!0,n.exports=!p||o((function(){var n;return f(f.call)||!f(Object)||!f((function(){n=!0}))||n}))?h:f},function(n,e,t){var r=t(23),o=t(0);n.exports="process"==r(o.process)},function(n,e,t){"use strict";t.d(e,"a",(function(){return o}));t(4);function r(n,e,t,r,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void t(n)}s.done?e(c):Promise.resolve(c).then(r,o)}function o(n){return function(){var e=this,t=arguments;return new Promise((function(o,i){var a=n.apply(e,t);function s(n){r(a,o,i,s,c,"next",n)}function c(n){r(a,o,i,s,c,"throw",n)}s(void 0)}))}}},function(n,e,t){"use strict";var r=t(1),o=t(7),i=t(0),a=t(2),s=t(10),c=t(5),l=t(35),u=t(12),p=t(13).f,d=t(116),m=i.Symbol,g=m&&m.prototype;if(o&&c(m)&&(!("description"in g)||void 0!==m().description)){var f={},h=function(){var n=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),e=l(g,this)?new m(n):void 0===n?m():m(n);return""===n&&(f[e]=!0),e};d(h,m),h.prototype=g,g.constructor=h;var y="Symbol(test)"==String(m("test")),v=a(g.toString),b=a(g.valueOf),k=/^Symbol\((.*)\)[^)]+$/,x=a("".replace),w=a("".slice);p(g,"description",{configurable:!0,get:function(){var n=b(this),e=v(n);if(s(f,n))return"";var t=y?w(e,7,-1):x(e,k,"$1");return""===t?void 0:t}}),r({global:!0,forced:!0},{Symbol:h})}},function(n,e,t){"use strict";var r,o,i=t(11),a=t(2),s=t(12),c=t(142),l=t(106),u=t(77),p=t(34),d=t(39).get,m=t(219),g=t(226),f=u("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,y=h,v=a("".charAt),b=a("".indexOf),k=a("".replace),x=a("".slice),w=(o=/b*/g,i(h,r=/a/,"a"),i(h,o,"a"),0!==r.lastIndex||0!==o.lastIndex),S=l.BROKEN_CARET,E=void 0!==/()??/.exec("")[1];(w||E||S||m||g)&&(y=function(n){var e,t,r,o,a,l,u,m=this,g=d(m),_=s(n),T=g.raw;if(T)return T.lastIndex=m.lastIndex,e=i(y,T,_),m.lastIndex=T.lastIndex,e;var A=g.groups,I=S&&m.sticky,j=i(c,m),R=m.source,C=0,z=_;if(I&&(j=k(j,"y",""),-1===b(j,"g")&&(j+="g"),z=x(_,m.lastIndex),m.lastIndex>0&&(!m.multiline||m.multiline&&"\n"!==v(_,m.lastIndex-1))&&(R="(?: "+R+")",z=" "+z,C++),t=new RegExp("^(?:"+R+")",j)),E&&(t=new RegExp("^"+R+"$(?!\\s)",j)),w&&(r=m.lastIndex),o=i(h,I?t:m,z),I?o?(o.input=x(o.input,C),o[0]=x(o[0],C),o.index=m.lastIndex,m.lastIndex+=o[0].length):m.lastIndex=0:w&&o&&(m.lastIndex=m.global?o.index+o[0].length:r),E&&o&&o.length>1&&i(f,o[0],t,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&A)for(o.groups=l=p(null),a=0;a<A.length;a++)l[(u=A[a])[0]]=o[u[1]];return o}),n.exports=y},function(n,e,t){var r=t(275),o=t(276),i=t(277),a=t(278),s=t(279);function c(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,n.exports=c},function(n,e,t){var r=t(185);n.exports=function(n,e){for(var t=n.length;t--;)if(r(n[t][0],e))return t;return-1}},function(n,e,t){var r=t(41)(Object,"create");n.exports=r},function(n,e,t){var r=t(297);n.exports=function(n,e){var t=n.__data__;return r(e)?t["string"==typeof e?"string":"hash"]:t.map}},function(n,e,t){var r=t(131);n.exports=function(n){if("string"==typeof n||r(n))return n;var e=n+"";return"0"==e&&1/n==-1/0?"-0":e}},function(n,e,t){var r=t(1),o=t(7),i=t(13).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!o},{defineProperty:i})},function(n,e,t){"use strict";t.d(e,"a",(function(){return o}));t(71),t(4),t(105),t(179),t(26),t(21),t(73);var r=t(70);function o(n,e){if(n){if("string"==typeof n)return Object(r.a)(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Object(r.a)(n,e):void 0}}},function(n,e,t){var r,o;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(o="function"==typeof(r=function(){var n,e,t={version:"0.2.0"},r=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function o(n,e,t){return n<e?e:n>t?t:n}function i(n){return 100*(-1+n)}t.configure=function(n){var e,t;for(e in n)void 0!==(t=n[e])&&n.hasOwnProperty(e)&&(r[e]=t);return this},t.status=null,t.set=function(n){var e=t.isStarted();n=o(n,r.minimum,1),t.status=1===n?null:n;var c=t.render(!e),l=c.querySelector(r.barSelector),u=r.speed,p=r.easing;return c.offsetWidth,a((function(e){""===r.positionUsing&&(r.positionUsing=t.getPositioningCSS()),s(l,function(n,e,t){var o;return(o="translate3d"===r.positionUsing?{transform:"translate3d("+i(n)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+i(n)+"%,0)"}:{"margin-left":i(n)+"%"}).transition="all "+e+"ms "+t,o}(n,u,p)),1===n?(s(c,{transition:"none",opacity:1}),c.offsetWidth,setTimeout((function(){s(c,{transition:"all "+u+"ms linear",opacity:0}),setTimeout((function(){t.remove(),e()}),u)}),u)):setTimeout(e,u)})),this},t.isStarted=function(){return"number"==typeof t.status},t.start=function(){t.status||t.set(0);var n=function(){setTimeout((function(){t.status&&(t.trickle(),n())}),r.trickleSpeed)};return r.trickle&&n(),this},t.done=function(n){return n||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(n){var e=t.status;return e?("number"!=typeof n&&(n=(1-e)*o(Math.random()*e,.1,.95)),e=o(e+n,0,.994),t.set(e)):t.start()},t.trickle=function(){return t.inc(Math.random()*r.trickleRate)},n=0,e=0,t.promise=function(r){return r&&"resolved"!==r.state()?(0===e&&t.start(),n++,e++,r.always((function(){0==--e?(n=0,t.done()):t.set((n-e)/n)})),this):this},t.render=function(n){if(t.isRendered())return document.getElementById("nprogress");l(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=r.template;var o,a=e.querySelector(r.barSelector),c=n?"-100":i(t.status||0),u=document.querySelector(r.parent);return s(a,{transition:"all 0 linear",transform:"translate3d("+c+"%,0,0)"}),r.showSpinner||(o=e.querySelector(r.spinnerSelector))&&d(o),u!=document.body&&l(u,"nprogress-custom-parent"),u.appendChild(e),e},t.remove=function(){u(document.documentElement,"nprogress-busy"),u(document.querySelector(r.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&d(n)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var n=document.body.style,e="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return e+"Perspective"in n?"translate3d":e+"Transform"in n?"translate":"margin"};var a=function(){var n=[];function e(){var t=n.shift();t&&t(e)}return function(t){n.push(t),1==n.length&&e()}}(),s=function(){var n=["Webkit","O","Moz","ms"],e={};function t(t){return t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(n,e){return e.toUpperCase()})),e[t]||(e[t]=function(e){var t=document.body.style;if(e in t)return e;for(var r,o=n.length,i=e.charAt(0).toUpperCase()+e.slice(1);o--;)if((r=n[o]+i)in t)return r;return e}(t))}function r(n,e,r){e=t(e),n.style[e]=r}return function(n,e){var t,o,i=arguments;if(2==i.length)for(t in e)void 0!==(o=e[t])&&e.hasOwnProperty(t)&&r(n,t,o);else r(n,i[1],i[2])}}();function c(n,e){return("string"==typeof n?n:p(n)).indexOf(" "+e+" ")>=0}function l(n,e){var t=p(n),r=t+e;c(t,e)||(n.className=r.substring(1))}function u(n,e){var t,r=p(n);c(n,e)&&(t=r.replace(" "+e+" "," "),n.className=t.substring(1,t.length-1))}function p(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function d(n){n&&n.parentNode&&n.parentNode.removeChild(n)}return t})?r.call(e,t,e,n):r)||(n.exports=o)},function(n,e,t){"use strict";var r=t(1),o=t(0),i=t(3),a=t(57),s=t(9),c=t(14),l=t(18),u=t(51),p=t(104),d=t(66),m=t(6),g=t(49),f=m("isConcatSpreadable"),h=o.TypeError,y=g>=51||!i((function(){var n=[];return n[f]=!1,n.concat()[0]!==n})),v=d("concat"),b=function(n){if(!s(n))return!1;var e=n[f];return void 0!==e?!!e:a(n)};r({target:"Array",proto:!0,forced:!y||!v},{concat:function(n){var e,t,r,o,i,a=c(this),s=p(a,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(b(i=-1===e?a:arguments[e])){if(d+(o=l(i))>9007199254740991)throw h("Maximum allowed index exceeded");for(t=0;t<o;t++,d++)t in i&&u(s,d,i[t])}else{if(d>=9007199254740991)throw h("Maximum allowed index exceeded");u(s,d++,i)}return s.length=d,s}})},function(n,e,t){var r=t(6),o=t(34),i=t(13),a=r("unscopables"),s=Array.prototype;null==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),n.exports=function(n){s[a][n]=!0}},function(n,e,t){var r=t(1),o=t(14),i=t(83);r({target:"Object",stat:!0,forced:t(3)((function(){i(1)}))},{keys:function(n){return i(o(n))}})},function(n,e,t){var r=t(3),o=t(5),i=/#|\.prototype\./,a=function(n,e){var t=c[s(n)];return t==u||t!=l&&(o(e)?r(e):!!e)},s=a.normalize=function(n){return String(n).replace(i,".").toLowerCase()},c=a.data={},l=a.NATIVE="N",u=a.POLYFILL="P";n.exports=a},function(n,e,t){var r=t(75),o=t(46),i=t(63),a=t(6)("iterator");n.exports=function(n){if(null!=n)return o(n,a)||o(n,"@@iterator")||i[r(n)]}},function(n,e,t){var r=t(249);n.exports=function(n,e){return new(r(n))(0===e?0:e)}},function(n,e,t){var r=t(7),o=t(74).EXISTS,i=t(2),a=t(13).f,s=Function.prototype,c=i(s.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=i(l.exec);r&&!o&&a(s,"name",{configurable:!0,get:function(){try{return u(l,c(this))[1]}catch(n){return""}}})},function(n,e,t){var r=t(3),o=t(0).RegExp,i=r((function(){var n=o("a","y");return n.lastIndex=2,null!=n.exec("abcd")})),a=i||r((function(){return!o("a","y").sticky})),s=i||r((function(){var n=o("^r","gy");return n.lastIndex=2,null!=n.exec("str")}));n.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:i}},function(n,e,t){"use strict";t(21);var r=t(2),o=t(15),i=t(90),a=t(3),s=t(6),c=t(25),l=s("species"),u=RegExp.prototype;n.exports=function(n,e,t,p){var d=s(n),m=!a((function(){var e={};return e[d]=function(){return 7},7!=""[n](e)})),g=m&&!a((function(){var e=!1,t=/a/;return"split"===n&&((t={}).constructor={},t.constructor[l]=function(){return t},t.flags="",t[d]=/./[d]),t.exec=function(){return e=!0,null},t[d](""),!e}));if(!m||!g||t){var f=r(/./[d]),h=e(d,""[n],(function(n,e,t,o,a){var s=r(n),c=e.exec;return c===i||c===u.exec?m&&!a?{done:!0,value:f(e,t,o)}:{done:!0,value:s(t,e,o)}:{done:!1}}));o(String.prototype,n,h[0]),o(u,d,h[1])}p&&c(u[d],"sham",!0)}},function(n,e,t){var r=t(0),o=t(11),i=t(8),a=t(5),s=t(23),c=t(90),l=r.TypeError;n.exports=function(n,e){var t=n.exec;if(a(t)){var r=o(t,n,e);return null!==r&&i(r),r}if("RegExp"===s(n))return o(c,n,e);throw l("RegExp#exec called on incompatible receiver")}},function(n,e,t){var r=t(0),o=t(110),i=r["__core-js_shared__"]||o("__core-js_shared__",{});n.exports=i},function(n,e,t){var r=t(0),o=Object.defineProperty;n.exports=function(n,e){try{o(r,n,{value:e,configurable:!0,writable:!0})}catch(t){r[n]=e}return e}},function(n,e,t){var r=t(49),o=t(3);n.exports=!!Object.getOwnPropertySymbols&&!o((function(){var n=Symbol();return!String(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(n,e,t){var r=t(7),o=t(149),i=t(13),a=t(8),s=t(20),c=t(83);e.f=r&&!o?Object.defineProperties:function(n,e){a(n);for(var t,r=s(e),o=c(e),l=o.length,u=0;l>u;)i.f(n,t=o[u++],r[t]);return n}},function(n,e,t){var r=t(20),o=t(61),i=t(18),a=function(n){return function(e,t,a){var s,c=r(e),l=i(c),u=o(a,l);if(n&&t!=t){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((n||u in c)&&c[u]===t)return n||u||0;return!n&&-1}};n.exports={includes:a(!0),indexOf:a(!1)}},function(n,e){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,e,t){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(n){var e=o(this,n);return!!e&&e.enumerable}:r},function(n,e,t){var r=t(10),o=t(155),i=t(38),a=t(13);n.exports=function(n,e,t){for(var s=o(e),c=a.f,l=i.f,u=0;u<s.length;u++){var p=s[u];r(n,p)||t&&r(t,p)||c(n,p,l(e,p))}}},function(n,e){e.f=Object.getOwnPropertySymbols},function(n,e,t){var r=t(0),o=t(10),i=t(5),a=t(14),s=t(84),c=t(157),l=s("IE_PROTO"),u=r.Object,p=u.prototype;n.exports=c?u.getPrototypeOf:function(n){var e=a(n);if(o(e,l))return e[l];var t=e.constructor;return i(t)&&e instanceof t?t.prototype:e instanceof u?p:null}},function(n,e,t){var r={};r[t(6)("toStringTag")]="z",n.exports="[object z]"===String(r)},function(n,e,t){var r=t(8),o=t(162),i=t(6)("species");n.exports=function(n,e){var t,a=r(n).constructor;return void 0===a||null==(t=r(a)[i])?e:o(t)}},function(n,e,t){var r=t(0),o=t(61),i=t(18),a=t(51),s=r.Array,c=Math.max;n.exports=function(n,e,t){for(var r=i(n),l=o(e,r),u=o(void 0===t?r:t,r),p=s(c(u-l,0)),d=0;l<u;l++,d++)a(p,d,n[l]);return p.length=d,p}},function(n,e,t){t(178)("iterator")},function(n,e,t){"use strict";var r=t(167).charAt;n.exports=function(n,e,t){return e+(t?r(n,e).length:1)}},function(n,e,t){var r=t(269),o=t(48),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(n){return o(n)&&a.call(n,"callee")&&!s.call(n,"callee")};n.exports=c},function(n,e,t){var r=t(41)(t(32),"Map");n.exports=r},function(n,e){n.exports=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}},function(n,e,t){var r=t(289),o=t(296),i=t(298),a=t(299),s=t(300);function c(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,n.exports=c},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n){t[++e]=n})),t}},function(n,e){n.exports=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},function(n,e,t){var r=t(30),o=t(131),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;n.exports=function(n,e){if(r(n))return!1;var t=typeof n;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=n&&!o(n))||(a.test(n)||!i.test(n)||null!=e&&n in Object(e))}},function(n,e,t){var r=t(58),o=t(48);n.exports=function(n){return"symbol"==typeof n||o(n)&&"[object Symbol]"==r(n)}},function(n,e){n.exports=function(n){return n}},function(n,e,t){"use strict";t.d(e,"a",(function(){return o}));t(76);t(67),t(89),t(4),t(122),t(26),t(33);var r=t(97);t(40),t(29);function o(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,i=[],a=!0,s=!1;try{for(t=t.call(n);!(a=(r=t.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(n){s=!0,o=n}finally{try{a||null==t.return||t.return()}finally{if(s)throw o}}return i}}(n,e)||Object(r.a)(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(n,e,t){"use strict";var r=t(1),o=t(54).some;r({target:"Array",proto:!0,forced:!t(45)("some")},{some:function(n){return o(this,n,arguments.length>1?arguments[1]:void 0)}})},function(n,e,t){"use strict";var r=t(1),o=t(2),i=t(113).indexOf,a=t(45),s=o([].indexOf),c=!!s&&1/s([1],1,-0)<0,l=a("indexOf");r({target:"Array",proto:!0,forced:c||!l},{indexOf:function(n){var e=arguments.length>1?arguments[1]:void 0;return c?s(this,n,e)||0:i(this,n,e)}})},function(n,e,t){"use strict";t.d(e,"a",(function(){return i}));t(101),t(67),t(22),t(4),t(376),t(27),t(28),t(170),t(377),t(96);function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function i(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?o(Object(t),!0).forEach((function(e){r(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}},function(n,e,t){var r=function(n){"use strict";var e=Object.prototype,t=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(n,e,t){return Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),n[e]}try{s({},"")}catch(n){s=function(n,e,t){return n[e]=t}}function c(n,e,t,r){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new S(r||[]);return i._invoke=function(n,e,t){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(t.method=o,t.arg=i;;){var a=t.delegate;if(a){var s=k(a,t);if(s){if(s===u)continue;return s}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===r)throw r="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);r="executing";var c=l(n,e,t);if("normal"===c.type){if(r=t.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:t.done}}"throw"===c.type&&(r="completed",t.method="throw",t.arg=c.arg)}}}(n,t,a),i}function l(n,e,t){try{return{type:"normal",arg:n.call(e,t)}}catch(n){return{type:"throw",arg:n}}}n.wrap=c;var u={};function p(){}function d(){}function m(){}var g={};s(g,o,(function(){return this}));var f=Object.getPrototypeOf,h=f&&f(f(E([])));h&&h!==e&&t.call(h,o)&&(g=h);var y=m.prototype=p.prototype=Object.create(g);function v(n){["next","throw","return"].forEach((function(e){s(n,e,(function(n){return this._invoke(e,n)}))}))}function b(n,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,s){var c=l(n[o],n,i);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==typeof p&&t.call(p,"__await")?e.resolve(p.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):e.resolve(p).then((function(n){u.value=n,a(u)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function k(n,e){var t=n.iterator[e.method];if(void 0===t){if(e.delegate=null,"throw"===e.method){if(n.iterator.return&&(e.method="return",e.arg=void 0,k(n,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(t,n.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[n.resultName]=o.value,e.next=n.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(n){var e={tryLoc:n[0]};1 in n&&(e.catchLoc=n[1]),2 in n&&(e.finallyLoc=n[2],e.afterLoc=n[3]),this.tryEntries.push(e)}function w(n){var e=n.completion||{};e.type="normal",delete e.arg,n.completion=e}function S(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(x,this),this.reset(!0)}function E(n){if(n){var e=n[o];if(e)return e.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var r=-1,i=function e(){for(;++r<n.length;)if(t.call(n,r))return e.value=n[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=m,s(y,"constructor",m),s(m,"constructor",d),d.displayName=s(m,a,"GeneratorFunction"),n.isGeneratorFunction=function(n){var e="function"==typeof n&&n.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,m):(n.__proto__=m,s(n,a,"GeneratorFunction")),n.prototype=Object.create(y),n},n.awrap=function(n){return{__await:n}},v(b.prototype),s(b.prototype,i,(function(){return this})),n.AsyncIterator=b,n.async=function(e,t,r,o,i){void 0===i&&(i=Promise);var a=new b(c(e,t,r,o),i);return n.isGeneratorFunction(t)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},v(y),s(y,a,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),n.keys=function(n){var e=[];for(var t in n)e.push(t);return e.reverse(),function t(){for(;e.length;){var r=e.pop();if(r in n)return t.value=r,t.done=!1,t}return t.done=!0,t}},n.values=E,S.prototype={constructor:S,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!n)for(var e in this)"t"===e.charAt(0)&&t.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var e=this;function r(t,r){return a.type="throw",a.arg=n,e.next=t,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=t.call(i,"catchLoc"),c=t.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(n,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&t.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===n||"continue"===n)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=n,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(n,e){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&e&&(this.next=e),u},finish:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.finallyLoc===n)return this.complete(t.completion,t.afterLoc),w(t),u}},catch:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.tryLoc===n){var r=t.completion;if("throw"===r.type){var o=r.arg;w(t)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(n,e,t){return this.delegate={iterator:E(n),resultName:e,nextLoc:t},"next"===this.method&&(this.arg=void 0),u}},n}(n.exports);try{regeneratorRuntime=r}catch(n){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(n,e,t){"use strict";var r=t(2),o=t(74).PROPER,i=t(15),a=t(8),s=t(35),c=t(12),l=t(3),u=t(142),p=RegExp.prototype,d=p.toString,m=r(u),g=l((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),f=o&&"toString"!=d.name;(g||f)&&i(RegExp.prototype,"toString",(function(){var n=a(this),e=c(n.source),t=n.flags;return"/"+e+"/"+c(void 0===t&&s(p,n)&&!("flags"in p)?m(n):t)}),{unsafe:!0})},function(n,e,t){"use strict";var r=t(20),o=t(100),i=t(63),a=t(39),s=t(13).f,c=t(154),l=t(24),u=t(7),p=a.set,d=a.getterFor("Array Iterator");n.exports=c(Array,"Array",(function(n,e){p(this,{type:"Array Iterator",target:r(n),index:0,kind:e})}),(function(){var n=d(this),e=n.target,t=n.kind,r=n.index++;return!e||r>=e.length?(n.target=void 0,{value:void 0,done:!0}):"keys"==t?{value:r,done:!1}:"values"==t?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");var m=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!l&&u&&"values"!==m.name)try{s(m,"name",{value:"values"})}catch(n){}},function(n,e,t){var r=t(0),o=t(11),i=t(37),a=t(8),s=t(82),c=t(103),l=r.TypeError;n.exports=function(n,e){var t=arguments.length<2?c(n):e;if(i(t))return a(o(t,n));throw l(s(n)+" is not iterable")}},function(n,e,t){var r=t(9),o=t(23),i=t(6)("match");n.exports=function(n){var e;return r(n)&&(void 0!==(e=n[i])?!!e:"RegExp"==o(n))}},function(n,e,t){"use strict";var r=t(8);n.exports=function(){var n=r(this),e="";return n.global&&(e+="g"),n.ignoreCase&&(e+="i"),n.multiline&&(e+="m"),n.dotAll&&(e+="s"),n.unicode&&(e+="u"),n.sticky&&(e+="y"),e}},function(n,e,t){var r=t(5),o=t(9),i=t(64);n.exports=function(n,e,t){var a,s;return i&&r(a=e.constructor)&&a!==t&&o(s=a.prototype)&&s!==t.prototype&&i(n,s),n}},function(n,e,t){"use strict";var r=t(1),o=t(2),i=t(59),a=t(20),s=t(45),c=o([].join),l=i!=Object,u=s("join",",");r({target:"Array",proto:!0,forced:l||!u},{join:function(n){return c(a(this),void 0===n?",":n)}})},function(n,e){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,e){var t=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof global&&global&&global.Object===Object&&global,c="object"==typeof self&&self&&self.Object===Object&&self,l=s||c||Function("return this")(),u=Object.prototype.toString,p=Math.max,d=Math.min,m=function(){return l.Date.now()};function g(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function f(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==u.call(n)}(n))return NaN;if(g(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=g(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(t,"");var s=o.test(n);return s||i.test(n)?a(n.slice(2),s?2:8):r.test(n)?NaN:+n}n.exports=function(n,e,t){var r,o,i,a,s,c,l=0,u=!1,h=!1,y=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function v(e){var t=r,i=o;return r=o=void 0,l=e,a=n.apply(i,t)}function b(n){return l=n,s=setTimeout(x,e),u?v(n):a}function k(n){var t=n-c;return void 0===c||t>=e||t<0||h&&n-l>=i}function x(){var n=m();if(k(n))return w(n);s=setTimeout(x,function(n){var t=e-(n-c);return h?d(t,i-(n-l)):t}(n))}function w(n){return s=void 0,y&&r?v(n):(r=o=void 0,a)}function S(){var n=m(),t=k(n);if(r=arguments,o=this,c=n,t){if(void 0===s)return b(c);if(h)return s=setTimeout(x,e),v(c)}return void 0===s&&(s=setTimeout(x,e)),a}return e=f(e)||0,g(t)&&(u=!!t.leading,i=(h="maxWait"in t)?p(f(t.maxWait)||0,e):i,y="trailing"in t?!!t.trailing:y),S.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=c=o=s=void 0},S.flush=function(){return void 0===s?a:w(m())},S}},function(n,e,t){var r=t(2),o=t(15),i=Date.prototype,a=r(i.toString),s=r(i.getTime);"Invalid Date"!=String(new Date(NaN))&&o(i,"toString",(function(){var n=s(this);return n==n?a(this):"Invalid Date"}))},function(n,e,t){var r=t(111);n.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(n,e,t){var r=t(7),o=t(3);n.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(n,e,t){var r=t(7),o=t(3),i=t(79);n.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(n,e,t){var r=t(0),o=t(11),i=t(9),a=t(81),s=t(46),c=t(233),l=t(6),u=r.TypeError,p=l("toPrimitive");n.exports=function(n,e){if(!i(n)||a(n))return n;var t,r=s(n,p);if(r){if(void 0===e&&(e="default"),t=o(r,n,e),!i(t)||a(t))return t;throw u("Can't convert object to primitive value")}return void 0===e&&(e="number"),c(n,e)}},function(n,e,t){var r=t(2),o=t(10),i=t(20),a=t(113).indexOf,s=t(62),c=r([].push);n.exports=function(n,e){var t,r=i(n),l=0,u=[];for(t in r)!o(s,t)&&o(r,t)&&c(u,t);for(;e.length>l;)o(r,t=e[l++])&&(~a(u,t)||c(u,t));return u}},function(n,e,t){var r=t(17);n.exports=r("document","documentElement")},function(n,e,t){"use strict";var r=t(1),o=t(11),i=t(24),a=t(74),s=t(5),c=t(222),l=t(118),u=t(64),p=t(56),d=t(25),m=t(15),g=t(6),f=t(63),h=t(156),y=a.PROPER,v=a.CONFIGURABLE,b=h.IteratorPrototype,k=h.BUGGY_SAFARI_ITERATORS,x=g("iterator"),w=function(){return this};n.exports=function(n,e,t,a,g,h,S){c(t,e,a);var E,_,T,A=function(n){if(n===g&&z)return z;if(!k&&n in R)return R[n];switch(n){case"keys":case"values":case"entries":return function(){return new t(this,n)}}return function(){return new t(this)}},I=e+" Iterator",j=!1,R=n.prototype,C=R[x]||R["@@iterator"]||g&&R[g],z=!k&&C||A(g),O="Array"==e&&R.entries||C;if(O&&(E=l(O.call(new n)))!==Object.prototype&&E.next&&(i||l(E)===b||(u?u(E,b):s(E[x])||m(E,x,w)),p(E,I,!0,!0),i&&(f[I]=w)),y&&"values"==g&&C&&"values"!==C.name&&(!i&&v?d(R,"name","values"):(j=!0,z=function(){return o(C,this)})),g)if(_={values:A("values"),keys:h?z:A("keys"),entries:A("entries")},S)for(T in _)(k||j||!(T in R))&&m(R,T,_[T]);else r({target:e,proto:!0,forced:k||j},_);return i&&!S||R[x]===z||m(R,x,z,{name:g}),f[e]=z,_}},function(n,e,t){var r=t(17),o=t(2),i=t(55),a=t(117),s=t(8),c=o([].concat);n.exports=r("Reflect","ownKeys")||function(n){var e=i.f(s(n)),t=a.f;return t?c(e,t(n)):e}},function(n,e,t){"use strict";var r,o,i,a=t(3),s=t(5),c=t(34),l=t(118),u=t(15),p=t(6),d=t(24),m=p("iterator"),g=!1;[].keys&&("next"in(i=[].keys())?(o=l(l(i)))!==Object.prototype&&(r=o):g=!0),null==r||a((function(){var n={};return r[m].call(n)!==n}))?r={}:d&&(r=c(r)),s(r[m])||u(r,m,(function(){return this})),n.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:g}},function(n,e,t){var r=t(3);n.exports=!r((function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype}))},function(n,e,t){var r=t(0);n.exports=r.Promise},function(n,e,t){var r=t(6),o=t(63),i=r("iterator"),a=Array.prototype;n.exports=function(n){return void 0!==n&&(o.Array===n||a[i]===n)}},function(n,e,t){var r=t(11),o=t(8),i=t(46);n.exports=function(n,e,t){var a,s;o(n);try{if(!(a=i(n,"return"))){if("throw"===e)throw t;return t}a=r(a,n)}catch(n){s=!0,a=n}if("throw"===e)throw t;if(s)throw a;return o(a),t}},function(n,e,t){var r=t(6)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(n){}n.exports=function(n,e){if(!e&&!o)return!1;var t=!1;try{var i={};i[r]=function(){return{next:function(){return{done:t=!0}}}},n(i)}catch(n){}return t}},function(n,e,t){var r=t(0),o=t(86),i=t(82),a=r.TypeError;n.exports=function(n){if(o(n))return n;throw a(i(n)+" is not a constructor")}},function(n,e,t){var r,o,i,a,s=t(0),c=t(36),l=t(53),u=t(5),p=t(10),d=t(3),m=t(153),g=t(65),f=t(79),h=t(164),y=t(87),v=s.setImmediate,b=s.clearImmediate,k=s.process,x=s.Dispatch,w=s.Function,S=s.MessageChannel,E=s.String,_=0,T={};try{r=s.location}catch(n){}var A=function(n){if(p(T,n)){var e=T[n];delete T[n],e()}},I=function(n){return function(){A(n)}},j=function(n){A(n.data)},R=function(n){s.postMessage(E(n),r.protocol+"//"+r.host)};v&&b||(v=function(n){var e=g(arguments,1);return T[++_]=function(){c(u(n)?n:w(n),void 0,e)},o(_),_},b=function(n){delete T[n]},y?o=function(n){k.nextTick(I(n))}:x&&x.now?o=function(n){x.now(I(n))}:S&&!h?(a=(i=new S).port2,i.port1.onmessage=j,o=l(a.postMessage,a)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!d(R)?(o=R,s.addEventListener("message",j,!1)):o="onreadystatechange"in f("script")?function(n){m.appendChild(f("script")).onreadystatechange=function(){m.removeChild(this),A(n)}}:function(n){setTimeout(I(n),0)}),n.exports={set:v,clear:b}},function(n,e,t){var r=t(31);n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(n,e,t){var r=t(8),o=t(9),i=t(166);n.exports=function(n,e){if(r(n),o(e)&&e.constructor===n)return e;var t=i.f(n);return(0,t.resolve)(e),t.promise}},function(n,e,t){"use strict";var r=t(37),o=function(n){var e,t;this.promise=new n((function(n,r){if(void 0!==e||void 0!==t)throw TypeError("Bad Promise constructor");e=n,t=r})),this.resolve=r(e),this.reject=r(t)};n.exports.f=function(n){return new o(n)}},function(n,e,t){var r=t(2),o=t(44),i=t(12),a=t(19),s=r("".charAt),c=r("".charCodeAt),l=r("".slice),u=function(n){return function(e,t){var r,u,p=i(a(e)),d=o(t),m=p.length;return d<0||d>=m?n?"":void 0:(r=c(p,d))<55296||r>56319||d+1===m||(u=c(p,d+1))<56320||u>57343?n?s(p,d):r:n?l(p,d,d+2):u-56320+(r-55296<<10)+65536}};n.exports={codeAt:u(!1),charAt:u(!0)}},function(n,e){n.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(n,e,t){var r=t(79)("span").classList,o=r&&r.constructor&&r.constructor.prototype;n.exports=o===Object.prototype?void 0:o},function(n,e,t){var r=t(1),o=t(7),i=t(155),a=t(20),s=t(38),c=t(51);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(n){for(var e,t,r=a(n),o=s.f,l=i(r),u={},p=0;l.length>p;)void 0!==(t=o(r,e=l[p++]))&&c(u,e,t);return u}})},function(n,e,t){var r=t(1),o=t(3),i=t(14),a=t(118),s=t(157);r({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!s},{getPrototypeOf:function(n){return a(i(n))}})},function(n,e,t){var r=t(0),o=t(141),i=r.TypeError;n.exports=function(n){if(o(n))throw i("The method doesn't accept regular expressions");return n}},function(n,e,t){var r=t(6)("match");n.exports=function(n){var e=/./;try{"/./"[n](e)}catch(t){try{return e[r]=!1,"/./"[n](e)}catch(n){}}return!1}},function(n,e,t){"use strict";var r=t(54).forEach,o=t(45)("forEach");n.exports=o?[].forEach:function(n){return r(this,n,arguments.length>1?arguments[1]:void 0)}},function(n,e,t){var r=t(3);n.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(n,e,t){var r=t(23),o=t(20),i=t(55).f,a=t(121),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(n){return s&&"Window"==r(n)?function(n){try{return i(n)}catch(n){return a(s)}}(n):i(o(n))}},function(n,e,t){var r=t(6);e.f=r},function(n,e,t){var r=t(257),o=t(10),i=t(177),a=t(13).f;n.exports=function(n){var e=r.Symbol||(r.Symbol={});o(e,n)||a(e,n,{value:i.f(n)})}},function(n,e,t){var r=t(1),o=t(258);r({target:"Array",stat:!0,forced:!t(161)((function(n){Array.from(n)}))},{from:o})},function(n,e,t){var r=t(12);n.exports=function(n,e){return void 0===n?arguments.length<2?"":e:r(n)}},function(n,e,t){t(1)({target:"Object",stat:!0,sham:!t(7)},{create:t(34)})},function(n,e){n.exports=function(n,e){for(var t=-1,r=e.length,o=n.length;++t<r;)n[o+t]=e[t];return n}},function(n,e){var t="object"==typeof global&&global&&global.Object===Object&&global;n.exports=t},function(n,e,t){var r=t(91),o=t(280),i=t(281),a=t(282),s=t(283),c=t(284);function l(n){var e=this.__data__=new r(n);this.size=e.size}l.prototype.clear=o,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=s,l.prototype.set=c,n.exports=l},function(n,e){n.exports=function(n,e){return n===e||n!=n&&e!=e}},function(n,e,t){var r=t(58),o=t(126);n.exports=function(n){if(!o(n))return!1;var e=r(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(n,e){var t=Function.prototype.toString;n.exports=function(n){if(null!=n){try{return t.call(n)}catch(n){}try{return n+""}catch(n){}}return""}},function(n,e,t){var r=t(301),o=t(48);n.exports=function n(e,t,i,a,s){return e===t||(null==e||null==t||!o(e)&&!o(t)?e!=e&&t!=t:r(e,t,i,a,n,s))}},function(n,e,t){var r=t(190),o=t(304),i=t(191);n.exports=function(n,e,t,a,s,c){var l=1&t,u=n.length,p=e.length;if(u!=p&&!(l&&p>u))return!1;var d=c.get(n),m=c.get(e);if(d&&m)return d==e&&m==n;var g=-1,f=!0,h=2&t?new r:void 0;for(c.set(n,e),c.set(e,n);++g<u;){var y=n[g],v=e[g];if(a)var b=l?a(v,y,g,e,n,c):a(y,v,g,n,e,c);if(void 0!==b){if(b)continue;f=!1;break}if(h){if(!o(e,(function(n,e){if(!i(h,e)&&(y===n||s(y,n,t,a,c)))return h.push(e)}))){f=!1;break}}else if(y!==v&&!s(y,v,t,a,c)){f=!1;break}}return c.delete(n),c.delete(e),f}},function(n,e,t){var r=t(127),o=t(302),i=t(303);function a(n){var e=-1,t=null==n?0:n.length;for(this.__data__=new r;++e<t;)this.add(n[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,n.exports=a},function(n,e){n.exports=function(n,e){return n.has(e)}},function(n,e,t){var r=t(314),o=t(320),i=t(196);n.exports=function(n){return i(n)?r(n):o(n)}},function(n,e,t){(function(n){var r=t(32),o=t(316),i=e&&!e.nodeType&&e,a=i&&"object"==typeof n&&n&&!n.nodeType&&n,s=a&&a.exports===i?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;n.exports=c}).call(this,t(145)(n))},function(n,e){var t=/^(?:0|[1-9]\d*)$/;n.exports=function(n,e){var r=typeof n;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&t.test(n))&&n>-1&&n%1==0&&n<e}},function(n,e,t){var r=t(317),o=t(318),i=t(319),a=i&&i.isTypedArray,s=a?o(a):r;n.exports=s},function(n,e,t){var r=t(186),o=t(129);n.exports=function(n){return null!=n&&o(n.length)&&!r(n)}},function(n,e,t){var r=t(41)(t(32),"Set");n.exports=r},function(n,e,t){var r=t(126);n.exports=function(n){return n==n&&!r(n)}},function(n,e){n.exports=function(n,e){return function(t){return null!=t&&(t[n]===e&&(void 0!==e||n in Object(t)))}}},function(n,e,t){var r=t(201),o=t(95);n.exports=function(n,e){for(var t=0,i=(e=r(e,n)).length;null!=n&&t<i;)n=n[o(e[t++])];return t&&t==i?n:void 0}},function(n,e,t){var r=t(30),o=t(130),i=t(331),a=t(334);n.exports=function(n,e){return r(n)?n:o(n,e)?[n]:i(a(n))}},function(n,e,t){"use strict";var r=t(1),o=t(364).start;r({target:"String",proto:!0,forced:t(366)},{padStart:function(n){return o(this,n,arguments.length>1?arguments[1]:void 0)}})},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";var r=t(1),o=t(0),i=t(61),a=t(44),s=t(18),c=t(14),l=t(104),u=t(51),p=t(66)("splice"),d=o.TypeError,m=Math.max,g=Math.min;r({target:"Array",proto:!0,forced:!p},{splice:function(n,e){var t,r,o,p,f,h,y=c(this),v=s(y),b=i(n,v),k=arguments.length;if(0===k?t=r=0:1===k?(t=0,r=v-b):(t=k-2,r=g(m(a(e),0),v-b)),v+t-r>9007199254740991)throw d("Maximum allowed length exceeded");for(o=l(y,r),p=0;p<r;p++)(f=b+p)in y&&u(o,p,y[f]);if(o.length=r,t<r){for(p=b;p<v-r;p++)h=p+t,(f=p+r)in y?y[h]=y[f]:delete y[h];for(p=v;p>v-r+t;p--)delete y[p-1]}else if(t>r)for(p=v-r;p>b;p--)h=p+t-1,(f=p+r-1)in y?y[h]=y[f]:delete y[h];for(p=0;p<t;p++)y[p+b]=arguments[p+2];return y.length=v-r+t,o}})},function(n,e,t){t(1)({target:"Object",stat:!0},{setPrototypeOf:t(64)})},function(n,e,t){var r=t(1),o=t(17),i=t(36),a=t(375),s=t(162),c=t(8),l=t(9),u=t(34),p=t(3),d=o("Reflect","construct"),m=Object.prototype,g=[].push,f=p((function(){function n(){}return!(d((function(){}),[],n)instanceof n)})),h=!p((function(){d((function(){}))})),y=f||h;r({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(n,e){s(n),c(e);var t=arguments.length<3?n:s(arguments[2]);if(h&&!f)return d(n,e,t);if(n==t){switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3])}var r=[null];return i(g,r,e),new(i(a,n,r))}var o=t.prototype,p=u(l(o)?o:m),y=i(n,p,e);return l(y)?y:p}})},function(n,e,t){var r=t(1),o=t(0),i=t(56);r({global:!0},{Reflect:{}}),i(o.Reflect,"Reflect",!0)},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){var r=t(267),o=t(272),i=t(343),a=t(351),s=t(360),c=t(229),l=i((function(n){var e=c(n);return s(e)&&(e=void 0),a(r(n,1,s,!0),o(e,2))}));n.exports=l},function(n,e,t){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var r=/["'&<>]/;n.exports=function(n){var e,t=""+n,o=r.exec(t);if(!o)return t;var i="",a=0,s=0;for(a=o.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}s!==a&&(i+=t.substring(s,a)),s=a+1,i+=e}return s!==a?i+t.substring(s,a):i}},function(n,e,t){"use strict";t.r(e);var r={name:"CodeBlock",props:{title:{type:String,required:!0},active:{type:Boolean,default:!1}}},o=(t(367),t(16)),i=Object(o.a)(r,(function(){var n=this.$createElement;return(this._self._c||n)("div",{staticClass:"theme-code-block",class:{"theme-code-block__active":this.active}},[this._t("default")],2)}),[],!1,null,"4f1e9d0c",null);e.default=i.exports},function(n,e,t){"use strict";t.r(e);t(27),t(4),t(28),t(43),t(22);var r={name:"CodeGroup",data:function(){return{codeTabs:[],activeCodeTabIndex:-1}},watch:{activeCodeTabIndex:function(n){this.codeTabs.forEach((function(n){n.elm.classList.remove("theme-code-block__active")})),this.codeTabs[n].elm.classList.add("theme-code-block__active")}},mounted:function(){var n=this;this.codeTabs=(this.$slots.default||[]).filter((function(n){return Boolean(n.componentOptions)})).map((function(e,t){return""===e.componentOptions.propsData.active&&(n.activeCodeTabIndex=t),{title:e.componentOptions.propsData.title,elm:e.elm}})),-1===this.activeCodeTabIndex&&this.codeTabs.length>0&&(this.activeCodeTabIndex=0)},methods:{changeCodeTab:function(n){this.activeCodeTabIndex=n}}},o=(t(368),t(16)),i=Object(o.a)(r,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"theme-code-group"},[t("div",{staticClass:"theme-code-group__nav"},[t("ul",{staticClass:"theme-code-group__ul"},n._l(n.codeTabs,(function(e,r){return t("li",{key:e.title,staticClass:"theme-code-group__li"},[t("button",{staticClass:"theme-code-group__nav-tab",class:{"theme-code-group__nav-tab-active":r===n.activeCodeTabIndex},on:{click:function(e){return n.changeCodeTab(r)}}},[n._v("\n            "+n._s(e.title)+"\n          ")])])})),0)]),n._v(" "),n._t("default"),n._v(" "),n.codeTabs.length<1?t("pre",{staticClass:"pre-blank"},[n._v("// Make sure to add code blocks to your code group")]):n._e()],2)}),[],!1,null,"2f5f1757",null);e.default=i.exports},function(n,e,t){"use strict";var r=t(7),o=t(0),i=t(2),a=t(102),s=t(15),c=t(10),l=t(143),u=t(35),p=t(81),d=t(151),m=t(3),g=t(55).f,f=t(38).f,h=t(13).f,y=t(363),v=t(220).trim,b=o.Number,k=b.prototype,x=o.TypeError,w=i("".slice),S=i("".charCodeAt),E=function(n){var e=d(n,"number");return"bigint"==typeof e?e:_(e)},_=function(n){var e,t,r,o,i,a,s,c,l=d(n,"number");if(p(l))throw x("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=v(l),43===(e=S(l,0))||45===e){if(88===(t=S(l,2))||120===t)return NaN}else if(48===e){switch(S(l,1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+l}for(a=(i=w(l,2)).length,s=0;s<a;s++)if((c=S(i,s))<48||c>o)return NaN;return parseInt(i,r)}return+l};if(a("Number",!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var T,A=function(n){var e=arguments.length<1?0:b(E(n)),t=this;return u(k,t)&&m((function(){y(t)}))?l(Object(e),t,A):e},I=r?g(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),j=0;I.length>j;j++)c(b,T=I[j])&&!c(A,T)&&h(A,T,f(b,T));A.prototype=k,k.constructor=A,s(o,"Number",A)}},function(n,e,t){"use strict";var r=t(36),o=t(11),i=t(2),a=t(107),s=t(141),c=t(8),l=t(19),u=t(120),p=t(123),d=t(50),m=t(12),g=t(46),f=t(121),h=t(108),y=t(90),v=t(106),b=t(3),k=v.UNSUPPORTED_Y,x=Math.min,w=[].push,S=i(/./.exec),E=i(w),_=i("".slice);a("split",(function(n,e,t){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(n,t){var i=m(l(this)),a=void 0===t?4294967295:t>>>0;if(0===a)return[];if(void 0===n)return[i];if(!s(n))return o(e,i,n,a);for(var c,u,p,d=[],g=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(n.sticky?"y":""),h=0,v=new RegExp(n.source,g+"g");(c=o(y,v,i))&&!((u=v.lastIndex)>h&&(E(d,_(i,h,c.index)),c.length>1&&c.index<i.length&&r(w,d,f(c,1)),p=c[0].length,h=u,d.length>=a));)v.lastIndex===c.index&&v.lastIndex++;return h===i.length?!p&&S(v,"")||E(d,""):E(d,_(i,h)),d.length>a?f(d,0,a):d}:"0".split(void 0,0).length?function(n,t){return void 0===n&&0===t?[]:o(e,this,n,t)}:e,[function(e,t){var r=l(this),a=null==e?void 0:g(e,n);return a?o(a,e,r,t):o(i,m(r),e,t)},function(n,r){var o=c(this),a=m(n),s=t(i,o,a,r,i!==e);if(s.done)return s.value;var l=u(o,RegExp),g=o.unicode,f=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(k?"g":"y"),y=new l(k?"^(?:"+o.source+")":o,f),v=void 0===r?4294967295:r>>>0;if(0===v)return[];if(0===a.length)return null===h(y,a)?[a]:[];for(var b=0,w=0,S=[];w<a.length;){y.lastIndex=k?0:w;var T,A=h(y,k?_(a,w):a);if(null===A||(T=x(d(y.lastIndex+(k?w:0)),a.length))===b)w=p(a,w,g);else{if(E(S,_(a,b,w)),S.length===v)return S;for(var I=1;I<=A.length-1;I++)if(E(S,A[I]),S.length===v)return S;w=b=T}}return E(S,_(a,b)),S}]}),!!b((function(){var n=/(?:)/,e=n.exec;n.exec=function(){return e.apply(this,arguments)};var t="ab".split(n);return 2!==t.length||"a"!==t[0]||"b"!==t[1]})),k)},function(n,e,t){"use strict";var r=t(11),o=t(107),i=t(8),a=t(50),s=t(12),c=t(19),l=t(46),u=t(123),p=t(108);o("match",(function(n,e,t){return[function(e){var t=c(this),o=null==e?void 0:l(e,n);return o?r(o,e,t):new RegExp(e)[n](s(t))},function(n){var r=i(this),o=s(n),c=t(e,r,o);if(c.done)return c.value;if(!r.global)return p(r,o);var l=r.unicode;r.lastIndex=0;for(var d,m=[],g=0;null!==(d=p(r,o));){var f=s(d[0]);m[g]=f,""===f&&(r.lastIndex=u(o,a(r.lastIndex),l)),g++}return 0===g?null:m}]}))},function(n,e,t){var r=t(3),o=t(0).RegExp;n.exports=r((function(){var n=o(".","s");return!(n.dotAll&&n.exec("\n")&&"s"===n.flags)}))},function(n,e,t){var r=t(2),o=t(19),i=t(12),a=t(221),s=r("".replace),c="["+a+"]",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),p=function(n){return function(e){var t=i(o(e));return 1&n&&(t=s(t,l,"")),2&n&&(t=s(t,u,"")),t}};n.exports={start:p(1),end:p(2),trim:p(3)}},function(n,e){n.exports="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff"},function(n,e,t){"use strict";var r=t(156).IteratorPrototype,o=t(34),i=t(47),a=t(56),s=t(63),c=function(){return this};n.exports=function(n,e,t,l){var u=e+" Iterator";return n.prototype=o(r,{next:i(+!l,t)}),a(n,u,!1,!0),s[u]=c,n}},function(n,e,t){var r=t(15);n.exports=function(n,e,t){for(var o in e)r(n,o,e[o],t);return n}},function(n,e,t){"use strict";var r=t(17),o=t(13),i=t(6),a=t(7),s=i("species");n.exports=function(n){var e=r(n),t=o.f;a&&e&&!e[s]&&t(e,s,{configurable:!0,get:function(){return this}})}},function(n,e,t){var r=t(0),o=t(35),i=r.TypeError;n.exports=function(n,e){if(o(e,n))return n;throw i("Incorrect invocation")}},function(n,e,t){var r=t(3),o=t(0).RegExp;n.exports=r((function(){var n=o("(?<a>b)","g");return"b"!==n.exec("b").groups.a||"bc"!=="b".replace(n,"$<a>c")}))},function(n,e,t){"use strict";var r=t(1),o=t(113).includes,i=t(100);r({target:"Array",proto:!0},{includes:function(n){return o(this,n,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(n,e,t){"use strict";var r=t(1),o=t(2),i=t(172),a=t(19),s=t(12),c=t(173),l=o("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(n){return!!~l(s(a(this)),s(i(n)),arguments.length>1?arguments[1]:void 0)}})},function(n,e){n.exports=function(n){var e=null==n?0:n.length;return e?n[e-1]:void 0}},function(n,e,t){var r=t(121),o=Math.floor,i=function(n,e){var t=n.length,c=o(t/2);return t<8?a(n,e):s(n,i(r(n,0,c),e),i(r(n,c),e),e)},a=function(n,e){for(var t,r,o=n.length,i=1;i<o;){for(r=i,t=n[i];r&&e(n[r-1],t)>0;)n[r]=n[--r];r!==i++&&(n[r]=t)}return n},s=function(n,e,t,r){for(var o=e.length,i=t.length,a=0,s=0;a<o||s<i;)n[a+s]=a<o&&s<i?r(e[a],t[s])<=0?e[a++]:t[s++]:a<o?e[a++]:t[s++];return n};n.exports=i},function(n,e,t){var r=t(0),o=t(7),i=t(106).MISSED_STICKY,a=t(23),s=t(13).f,c=t(39).get,l=RegExp.prototype,u=r.TypeError;o&&i&&s(l,"sticky",{configurable:!0,get:function(){if(this!==l){if("RegExp"===a(this))return!!c(this).sticky;throw u("Incompatible receiver, RegExp required")}}})},function(n,e,t){n.exports=t(383)},function(n,e,t){var r=t(0),o=t(11),i=t(5),a=t(9),s=r.TypeError;n.exports=function(n,e){var t,r;if("string"===e&&i(t=n.toString)&&!a(r=o(t,n)))return r;if(i(t=n.valueOf)&&!a(r=o(t,n)))return r;if("string"!==e&&i(t=n.toString)&&!a(r=o(t,n)))return r;throw s("Can't convert object to primitive value")}},function(n,e,t){var r=t(0),o=t(5),i=t(85),a=r.WeakMap;n.exports=o(a)&&/native code/.test(i(a))},function(n,e,t){var r=t(0),o=t(5),i=r.String,a=r.TypeError;n.exports=function(n){if("object"==typeof n||o(n))return n;throw a("Can't set "+i(n)+" as a prototype")}},function(n,e,t){"use strict";var r,o,i,a,s=t(1),c=t(24),l=t(0),u=t(17),p=t(11),d=t(158),m=t(15),g=t(223),f=t(64),h=t(56),y=t(224),v=t(37),b=t(5),k=t(9),x=t(225),w=t(85),S=t(237),E=t(161),_=t(120),T=t(163).set,A=t(238),I=t(165),j=t(241),R=t(166),C=t(242),z=t(243),O=t(39),B=t(102),P=t(6),D=t(244),q=t(87),L=t(49),U=P("species"),M="Promise",$=O.getterFor(M),N=O.set,F=O.getterFor(M),J=d&&d.prototype,H=d,W=J,G=l.TypeError,V=l.document,Q=l.process,K=R.f,Y=K,X=!!(V&&V.createEvent&&l.dispatchEvent),Z=b(l.PromiseRejectionEvent),nn=!1,en=B(M,(function(){var n=w(H),e=n!==String(H);if(!e&&66===L)return!0;if(c&&!W.finally)return!0;if(L>=51&&/native code/.test(n))return!1;var t=new H((function(n){n(1)})),r=function(n){n((function(){}),(function(){}))};return(t.constructor={})[U]=r,!(nn=t.then((function(){}))instanceof r)||!e&&D&&!Z})),tn=en||!E((function(n){H.all(n).catch((function(){}))})),rn=function(n){var e;return!(!k(n)||!b(e=n.then))&&e},on=function(n,e){var t,r,o,i=e.value,a=1==e.state,s=a?n.ok:n.fail,c=n.resolve,l=n.reject,u=n.domain;try{s?(a||(2===e.rejection&&un(e),e.rejection=1),!0===s?t=i:(u&&u.enter(),t=s(i),u&&(u.exit(),o=!0)),t===n.promise?l(G("Promise-chain cycle")):(r=rn(t))?p(r,t,c,l):c(t)):l(i)}catch(n){u&&!o&&u.exit(),l(n)}},an=function(n,e){n.notified||(n.notified=!0,A((function(){for(var t,r=n.reactions;t=r.get();)on(t,n);n.notified=!1,e&&!n.rejection&&cn(n)})))},sn=function(n,e,t){var r,o;X?((r=V.createEvent("Event")).promise=e,r.reason=t,r.initEvent(n,!1,!0),l.dispatchEvent(r)):r={promise:e,reason:t},!Z&&(o=l["on"+n])?o(r):"unhandledrejection"===n&&j("Unhandled promise rejection",t)},cn=function(n){p(T,l,(function(){var e,t=n.facade,r=n.value;if(ln(n)&&(e=C((function(){q?Q.emit("unhandledRejection",r,t):sn("unhandledrejection",t,r)})),n.rejection=q||ln(n)?2:1,e.error))throw e.value}))},ln=function(n){return 1!==n.rejection&&!n.parent},un=function(n){p(T,l,(function(){var e=n.facade;q?Q.emit("rejectionHandled",e):sn("rejectionhandled",e,n.value)}))},pn=function(n,e,t){return function(r){n(e,r,t)}},dn=function(n,e,t){n.done||(n.done=!0,t&&(n=t),n.value=e,n.state=2,an(n,!0))},mn=function(n,e,t){if(!n.done){n.done=!0,t&&(n=t);try{if(n.facade===e)throw G("Promise can't be resolved itself");var r=rn(e);r?A((function(){var t={done:!1};try{p(r,e,pn(mn,t,n),pn(dn,t,n))}catch(e){dn(t,e,n)}})):(n.value=e,n.state=1,an(n,!1))}catch(e){dn({done:!1},e,n)}}};if(en&&(W=(H=function(n){x(this,W),v(n),p(r,this);var e=$(this);try{n(pn(mn,e),pn(dn,e))}catch(n){dn(e,n)}}).prototype,(r=function(n){N(this,{type:M,done:!1,notified:!1,parent:!1,reactions:new z,rejection:!1,state:0,value:void 0})}).prototype=g(W,{then:function(n,e){var t=F(this),r=K(_(this,H));return t.parent=!0,r.ok=!b(n)||n,r.fail=b(e)&&e,r.domain=q?Q.domain:void 0,0==t.state?t.reactions.add(r):A((function(){on(r,t)})),r.promise},catch:function(n){return this.then(void 0,n)}}),o=function(){var n=new r,e=$(n);this.promise=n,this.resolve=pn(mn,e),this.reject=pn(dn,e)},R.f=K=function(n){return n===H||n===i?new o(n):Y(n)},!c&&b(d)&&J!==Object.prototype)){a=J.then,nn||(m(J,"then",(function(n,e){var t=this;return new H((function(n,e){p(a,t,n,e)})).then(n,e)}),{unsafe:!0}),m(J,"catch",W.catch,{unsafe:!0}));try{delete J.constructor}catch(n){}f&&f(J,W)}s({global:!0,wrap:!0,forced:en},{Promise:H}),h(H,M,!1,!0),y(M),i=u(M),s({target:M,stat:!0,forced:en},{reject:function(n){var e=K(this);return p(e.reject,void 0,n),e.promise}}),s({target:M,stat:!0,forced:c||en},{resolve:function(n){return I(c&&this===i?H:this,n)}}),s({target:M,stat:!0,forced:tn},{all:function(n){var e=this,t=K(e),r=t.resolve,o=t.reject,i=C((function(){var t=v(e.resolve),i=[],a=0,s=1;S(n,(function(n){var c=a++,l=!1;s++,p(t,e,n).then((function(n){l||(l=!0,i[c]=n,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),t.promise},race:function(n){var e=this,t=K(e),r=t.reject,o=C((function(){var o=v(e.resolve);S(n,(function(n){p(o,e,n).then(t.resolve,r)}))}));return o.error&&r(o.value),t.promise}})},function(n,e,t){var r=t(0),o=t(53),i=t(11),a=t(8),s=t(82),c=t(159),l=t(18),u=t(35),p=t(140),d=t(103),m=t(160),g=r.TypeError,f=function(n,e){this.stopped=n,this.result=e},h=f.prototype;n.exports=function(n,e,t){var r,y,v,b,k,x,w,S=t&&t.that,E=!(!t||!t.AS_ENTRIES),_=!(!t||!t.IS_ITERATOR),T=!(!t||!t.INTERRUPTED),A=o(e,S),I=function(n){return r&&m(r,"normal",n),new f(!0,n)},j=function(n){return E?(a(n),T?A(n[0],n[1],I):A(n[0],n[1])):T?A(n,I):A(n)};if(_)r=n;else{if(!(y=d(n)))throw g(s(n)+" is not iterable");if(c(y)){for(v=0,b=l(n);b>v;v++)if((k=j(n[v]))&&u(h,k))return k;return new f(!1)}r=p(n,y)}for(x=r.next;!(w=i(x,r)).done;){try{k=j(w.value)}catch(n){m(r,"throw",n)}if("object"==typeof k&&k&&u(h,k))return k}return new f(!1)}},function(n,e,t){var r,o,i,a,s,c,l,u,p=t(0),d=t(53),m=t(38).f,g=t(163).set,f=t(164),h=t(239),y=t(240),v=t(87),b=p.MutationObserver||p.WebKitMutationObserver,k=p.document,x=p.process,w=p.Promise,S=m(p,"queueMicrotask"),E=S&&S.value;E||(r=function(){var n,e;for(v&&(n=x.domain)&&n.exit();o;){e=o.fn,o=o.next;try{e()}catch(n){throw o?a():i=void 0,n}}i=void 0,n&&n.enter()},f||v||y||!b||!k?!h&&w&&w.resolve?((l=w.resolve(void 0)).constructor=w,u=d(l.then,l),a=function(){u(r)}):v?a=function(){x.nextTick(r)}:(g=d(g,p),a=function(){g(r)}):(s=!0,c=k.createTextNode(""),new b(r).observe(c,{characterData:!0}),a=function(){c.data=s=!s})),n.exports=E||function(n){var e={fn:n,next:void 0};i&&(i.next=e),o||(o=e,a()),i=e}},function(n,e,t){var r=t(31),o=t(0);n.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==o.Pebble},function(n,e,t){var r=t(31);n.exports=/web0s(?!.*chrome)/i.test(r)},function(n,e,t){var r=t(0);n.exports=function(n,e){var t=r.console;t&&t.error&&(1==arguments.length?t.error(n):t.error(n,e))}},function(n,e){n.exports=function(n){try{return{error:!1,value:n()}}catch(n){return{error:!0,value:n}}}},function(n,e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(n){var e={item:n,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var n=this.head;if(n)return this.head=n.next,this.tail===n&&(this.tail=null),n.item}},n.exports=t},function(n,e){n.exports="object"==typeof window},function(n,e,t){var r=t(1),o=t(246);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(n,e,t){"use strict";var r=t(7),o=t(2),i=t(11),a=t(3),s=t(83),c=t(117),l=t(115),u=t(14),p=t(59),d=Object.assign,m=Object.defineProperty,g=o([].concat);n.exports=!d||a((function(){if(r&&1!==d({b:1},d(m({},"a",{enumerable:!0,get:function(){m(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var n={},e={},t=Symbol();return n[t]=7,"abcdefghijklmnopqrst".split("").forEach((function(n){e[n]=n})),7!=d({},n)[t]||"abcdefghijklmnopqrst"!=s(d({},e)).join("")}))?function(n,e){for(var t=u(n),o=arguments.length,a=1,d=c.f,m=l.f;o>a;)for(var f,h=p(arguments[a++]),y=d?g(s(h),d(h)):s(h),v=y.length,b=0;v>b;)f=y[b++],r&&!i(m,h,f)||(t[f]=h[f]);return t}:d},function(n,e,t){"use strict";var r=t(1),o=t(24),i=t(158),a=t(3),s=t(17),c=t(5),l=t(120),u=t(165),p=t(15);if(r({target:"Promise",proto:!0,real:!0,forced:!!i&&a((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(n){var e=l(this,s("Promise")),t=c(n);return this.then(t?function(t){return u(e,n()).then((function(){return t}))}:n,t?function(t){return u(e,n()).then((function(){throw t}))}:n)}}),!o&&c(i)){var d=s("Promise").prototype.finally;i.prototype.finally!==d&&p(i.prototype,"finally",d,{unsafe:!0})}},function(n,e,t){"use strict";var r=t(119),o=t(75);n.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(n,e,t){var r=t(0),o=t(57),i=t(86),a=t(9),s=t(6)("species"),c=r.Array;n.exports=function(n){var e;return o(n)&&(e=n.constructor,(i(e)&&(e===c||o(e.prototype))||a(e)&&null===(e=e[s]))&&(e=void 0)),void 0===e?c:e}},function(n,e,t){"use strict";var r=t(1),o=t(251).left,i=t(45),a=t(49),s=t(87);r({target:"Array",proto:!0,forced:!i("reduce")||!s&&a>79&&a<83},{reduce:function(n){var e=arguments.length;return o(this,n,e,e>1?arguments[1]:void 0)}})},function(n,e,t){var r=t(0),o=t(37),i=t(14),a=t(59),s=t(18),c=r.TypeError,l=function(n){return function(e,t,r,l){o(t);var u=i(e),p=a(u),d=s(u),m=n?d-1:0,g=n?-1:1;if(r<2)for(;;){if(m in p){l=p[m],m+=g;break}if(m+=g,n?m<0:d<=m)throw c("Reduce of empty array with no initial value")}for(;n?m>=0:d>m;m+=g)m in p&&(l=t(l,p[m],m,u));return l}};n.exports={left:l(!1),right:l(!0)}},function(n,e,t){"use strict";var r,o=t(1),i=t(2),a=t(38).f,s=t(50),c=t(12),l=t(172),u=t(19),p=t(173),d=t(24),m=i("".startsWith),g=i("".slice),f=Math.min,h=p("startsWith");o({target:"String",proto:!0,forced:!!(d||h||(r=a(String.prototype,"startsWith"),!r||r.writable))&&!h},{startsWith:function(n){var e=c(u(this));l(n);var t=s(f(arguments.length>1?arguments[1]:void 0,e.length)),r=c(n);return m?m(e,r,t):g(e,t,t+r.length)===r}})},function(n,e,t){var r=t(1),o=t(175),i=t(3),a=t(9),s=t(254).onFreeze,c=Object.freeze;r({target:"Object",stat:!0,forced:i((function(){c(1)})),sham:!o},{freeze:function(n){return c&&a(n)?c(s(n)):n}})},function(n,e,t){var r=t(1),o=t(2),i=t(62),a=t(9),s=t(10),c=t(13).f,l=t(55),u=t(176),p=t(255),d=t(78),m=t(175),g=!1,f=d("meta"),h=0,y=function(n){c(n,f,{value:{objectID:"O"+h++,weakData:{}}})},v=n.exports={enable:function(){v.enable=function(){},g=!0;var n=l.f,e=o([].splice),t={};t[f]=1,n(t).length&&(l.f=function(t){for(var r=n(t),o=0,i=r.length;o<i;o++)if(r[o]===f){e(r,o,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(n,e){if(!a(n))return"symbol"==typeof n?n:("string"==typeof n?"S":"P")+n;if(!s(n,f)){if(!p(n))return"F";if(!e)return"E";y(n)}return n[f].objectID},getWeakData:function(n,e){if(!s(n,f)){if(!p(n))return!0;if(!e)return!1;y(n)}return n[f].weakData},onFreeze:function(n){return m&&g&&p(n)&&!s(n,f)&&y(n),n}};i[f]=!0},function(n,e,t){var r=t(3),o=t(9),i=t(23),a=t(256),s=Object.isExtensible,c=r((function(){s(1)}));n.exports=c||a?function(n){return!!o(n)&&((!a||"ArrayBuffer"!=i(n))&&(!s||s(n)))}:s},function(n,e,t){var r=t(3);n.exports=r((function(){if("function"==typeof ArrayBuffer){var n=new ArrayBuffer(8);Object.isExtensible(n)&&Object.defineProperty(n,"a",{value:8})}}))},function(n,e,t){var r=t(0);n.exports=r},function(n,e,t){"use strict";var r=t(0),o=t(53),i=t(11),a=t(14),s=t(259),c=t(159),l=t(86),u=t(18),p=t(51),d=t(140),m=t(103),g=r.Array;n.exports=function(n){var e=a(n),t=l(this),r=arguments.length,f=r>1?arguments[1]:void 0,h=void 0!==f;h&&(f=o(f,r>2?arguments[2]:void 0));var y,v,b,k,x,w,S=m(e),E=0;if(!S||this==g&&c(S))for(y=u(e),v=t?new this(y):g(y);y>E;E++)w=h?f(e[E],E):e[E],p(v,E,w);else for(x=(k=d(e,S)).next,v=t?new this:[];!(b=i(x,k)).done;E++)w=h?s(k,f,[b.value,E],!0):b.value,p(v,E,w);return v.length=E,v}},function(n,e,t){var r=t(8),o=t(160);n.exports=function(n,e,t,i){try{return i?e(r(t)[0],t[1]):e(t)}catch(e){o(n,"throw",e)}}},function(n,e,t){"use strict";var r=t(17),o=t(10),i=t(25),a=t(35),s=t(64),c=t(116),l=t(143),u=t(180),p=t(261),d=t(262),m=t(263),g=t(24);n.exports=function(n,e,t,f){var h=f?2:1,y=n.split("."),v=y[y.length-1],b=r.apply(null,y);if(b){var k=b.prototype;if(!g&&o(k,"cause")&&delete k.cause,!t)return b;var x=r("Error"),w=e((function(n,e){var t=u(f?e:n,void 0),r=f?new b(n):new b;return void 0!==t&&i(r,"message",t),m&&i(r,"stack",d(r.stack,2)),this&&a(k,this)&&l(r,this,w),arguments.length>h&&p(r,arguments[h]),r}));if(w.prototype=k,"Error"!==v&&(s?s(w,x):c(w,x,{name:!0})),c(w,b),!g)try{k.name!==v&&i(k,"name",v),k.constructor=w}catch(n){}return w}}},function(n,e,t){var r=t(9),o=t(25);n.exports=function(n,e){r(e)&&"cause"in e&&o(n,"cause",e.cause)}},function(n,e,t){var r=t(2)("".replace),o=String(Error("zxcasd").stack),i=/\n\s*at [^:]*:[^\n]*/,a=i.test(o);n.exports=function(n,e){if(a&&"string"==typeof n)for(;e--;)n=r(n,i,"");return n}},function(n,e,t){var r=t(3),o=t(47);n.exports=!r((function(){var n=Error("a");return!("stack"in n)||(Object.defineProperty(n,"stack",o(1,7)),7!==n.stack)}))},function(n,e,t){"use strict";var r=t(7),o=t(3),i=t(8),a=t(34),s=t(180),c=Error.prototype.toString,l=o((function(){if(r){var n=a(Object.defineProperty({},"name",{get:function(){return this===n}}));if("true"!==c.call(n))return!0}return"2: 1"!==c.call({message:1,name:2})||"Error"!==c.call({})}));n.exports=l?function(){var n=i(this),e=s(n.name,"Error"),t=s(n.message);return e?t?e+": "+t:e:t}:c},function(n,e,t){var r=t(2),o=t(14),i=Math.floor,a=r("".charAt),s=r("".replace),c=r("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;n.exports=function(n,e,t,r,p,d){var m=t+n.length,g=r.length,f=u;return void 0!==p&&(p=o(p),f=l),s(d,f,(function(o,s){var l;switch(a(s,0)){case"$":return"$";case"&":return n;case"`":return c(e,0,t);case"'":return c(e,m);case"<":l=p[c(s,1,-1)];break;default:var u=+s;if(0===u)return o;if(u>g){var d=i(u/10);return 0===d?o:d<=g?void 0===r[d-1]?a(s,1):r[d-1]+a(s,1):o}l=r[u-1]}return void 0===l?"":l}))}},function(n,e,t){var r=t(1),o=t(0),i=t(17),a=t(36),s=t(2),c=t(3),l=o.Array,u=i("JSON","stringify"),p=s(/./.exec),d=s("".charAt),m=s("".charCodeAt),g=s("".replace),f=s(1..toString),h=/[\uD800-\uDFFF]/g,y=/^[\uD800-\uDBFF]$/,v=/^[\uDC00-\uDFFF]$/,b=function(n,e,t){var r=d(t,e-1),o=d(t,e+1);return p(y,n)&&!p(v,o)||p(v,n)&&!p(y,r)?"\\u"+f(m(n,0),16):n},k=c((function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")}));u&&r({target:"JSON",stat:!0,forced:k},{stringify:function(n,e,t){for(var r=0,o=arguments.length,i=l(o);r<o;r++)i[r]=arguments[r];var s=a(u,null,i);return"string"==typeof s?g(s,h,b):s}})},function(n,e,t){var r=t(182),o=t(268);n.exports=function n(e,t,i,a,s){var c=-1,l=e.length;for(i||(i=o),s||(s=[]);++c<l;){var u=e[c];t>0&&i(u)?t>1?n(u,t-1,i,a,s):r(s,u):a||(s[s.length]=u)}return s}},function(n,e,t){var r=t(68),o=t(124),i=t(30),a=r?r.isConcatSpreadable:void 0;n.exports=function(n){return i(n)||o(n)||!!(a&&n&&n[a])}},function(n,e,t){var r=t(58),o=t(48);n.exports=function(n){return o(n)&&"[object Arguments]"==r(n)}},function(n,e,t){var r=t(68),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;n.exports=function(n){var e=i.call(n,s),t=n[s];try{n[s]=void 0;var r=!0}catch(n){}var o=a.call(n);return r&&(e?n[s]=t:delete n[s]),o}},function(n,e){var t=Object.prototype.toString;n.exports=function(n){return t.call(n)}},function(n,e,t){var r=t(273),o=t(329),i=t(132),a=t(30),s=t(340);n.exports=function(n){return"function"==typeof n?n:null==n?i:"object"==typeof n?a(n)?o(n[0],n[1]):r(n):s(n)}},function(n,e,t){var r=t(274),o=t(328),i=t(199);n.exports=function(n){var e=o(n);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(t){return t===n||r(t,n,e)}}},function(n,e,t){var r=t(184),o=t(188);n.exports=function(n,e,t,i){var a=t.length,s=a,c=!i;if(null==n)return!s;for(n=Object(n);a--;){var l=t[a];if(c&&l[2]?l[1]!==n[l[0]]:!(l[0]in n))return!1}for(;++a<s;){var u=(l=t[a])[0],p=n[u],d=l[1];if(c&&l[2]){if(void 0===p&&!(u in n))return!1}else{var m=new r;if(i)var g=i(p,d,u,n,e,m);if(!(void 0===g?o(d,p,3,i,m):g))return!1}}return!0}},function(n,e){n.exports=function(){this.__data__=[],this.size=0}},function(n,e,t){var r=t(92),o=Array.prototype.splice;n.exports=function(n){var e=this.__data__,t=r(e,n);return!(t<0)&&(t==e.length-1?e.pop():o.call(e,t,1),--this.size,!0)}},function(n,e,t){var r=t(92);n.exports=function(n){var e=this.__data__,t=r(e,n);return t<0?void 0:e[t][1]}},function(n,e,t){var r=t(92);n.exports=function(n){return r(this.__data__,n)>-1}},function(n,e,t){var r=t(92);n.exports=function(n,e){var t=this.__data__,o=r(t,n);return o<0?(++this.size,t.push([n,e])):t[o][1]=e,this}},function(n,e,t){var r=t(91);n.exports=function(){this.__data__=new r,this.size=0}},function(n,e){n.exports=function(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}},function(n,e){n.exports=function(n){return this.__data__.get(n)}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e,t){var r=t(91),o=t(125),i=t(127);n.exports=function(n,e){var t=this.__data__;if(t instanceof r){var a=t.__data__;if(!o||a.length<199)return a.push([n,e]),this.size=++t.size,this;t=this.__data__=new i(a)}return t.set(n,e),this.size=t.size,this}},function(n,e,t){var r=t(186),o=t(286),i=t(126),a=t(187),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,p=l.hasOwnProperty,d=RegExp("^"+u.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(n){return!(!i(n)||o(n))&&(r(n)?d:s).test(a(n))}},function(n,e,t){var r,o=t(287),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";n.exports=function(n){return!!i&&i in n}},function(n,e,t){var r=t(32)["__core-js_shared__"];n.exports=r},function(n,e){n.exports=function(n,e){return null==n?void 0:n[e]}},function(n,e,t){var r=t(290),o=t(91),i=t(125);n.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(n,e,t){var r=t(291),o=t(292),i=t(293),a=t(294),s=t(295);function c(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,n.exports=c},function(n,e,t){var r=t(93);n.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(n,e){n.exports=function(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}},function(n,e,t){var r=t(93),o=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;if(r){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return o.call(e,n)?e[n]:void 0}},function(n,e,t){var r=t(93),o=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;return r?void 0!==e[n]:o.call(e,n)}},function(n,e,t){var r=t(93);n.exports=function(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(n,e,t){var r=t(94);n.exports=function(n){var e=r(this,n).delete(n);return this.size-=e?1:0,e}},function(n,e){n.exports=function(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}},function(n,e,t){var r=t(94);n.exports=function(n){return r(this,n).get(n)}},function(n,e,t){var r=t(94);n.exports=function(n){return r(this,n).has(n)}},function(n,e,t){var r=t(94);n.exports=function(n,e){var t=r(this,n),o=t.size;return t.set(n,e),this.size+=t.size==o?0:1,this}},function(n,e,t){var r=t(184),o=t(189),i=t(305),a=t(308),s=t(324),c=t(30),l=t(193),u=t(195),p="[object Object]",d=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,m,g,f){var h=c(n),y=c(e),v=h?"[object Array]":s(n),b=y?"[object Array]":s(e),k=(v="[object Arguments]"==v?p:v)==p,x=(b="[object Arguments]"==b?p:b)==p,w=v==b;if(w&&l(n)){if(!l(e))return!1;h=!0,k=!1}if(w&&!k)return f||(f=new r),h||u(n)?o(n,e,t,m,g,f):i(n,e,v,t,m,g,f);if(!(1&t)){var S=k&&d.call(n,"__wrapped__"),E=x&&d.call(e,"__wrapped__");if(S||E){var _=S?n.value():n,T=E?e.value():e;return f||(f=new r),g(_,T,t,m,f)}}return!!w&&(f||(f=new r),a(n,e,t,m,g,f))}},function(n,e){n.exports=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}},function(n,e,t){var r=t(68),o=t(306),i=t(185),a=t(189),s=t(307),c=t(128),l=r?r.prototype:void 0,u=l?l.valueOf:void 0;n.exports=function(n,e,t,r,l,p,d){switch(t){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!p(new o(n),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var m=s;case"[object Set]":var g=1&r;if(m||(m=c),n.size!=e.size&&!g)return!1;var f=d.get(n);if(f)return f==e;r|=2,d.set(n,e);var h=a(m(n),m(e),r,l,p,d);return d.delete(n),h;case"[object Symbol]":if(u)return u.call(n)==u.call(e)}return!1}},function(n,e,t){var r=t(32).Uint8Array;n.exports=r},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n,r){t[++e]=[r,n]})),t}},function(n,e,t){var r=t(309),o=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,i,a,s){var c=1&t,l=r(n),u=l.length;if(u!=r(e).length&&!c)return!1;for(var p=u;p--;){var d=l[p];if(!(c?d in e:o.call(e,d)))return!1}var m=s.get(n),g=s.get(e);if(m&&g)return m==e&&g==n;var f=!0;s.set(n,e),s.set(e,n);for(var h=c;++p<u;){var y=n[d=l[p]],v=e[d];if(i)var b=c?i(v,y,d,e,n,s):i(y,v,d,n,e,s);if(!(void 0===b?y===v||a(y,v,t,i,s):b)){f=!1;break}h||(h="constructor"==d)}if(f&&!h){var k=n.constructor,x=e.constructor;k==x||!("constructor"in n)||!("constructor"in e)||"function"==typeof k&&k instanceof k&&"function"==typeof x&&x instanceof x||(f=!1)}return s.delete(n),s.delete(e),f}},function(n,e,t){var r=t(310),o=t(311),i=t(192);n.exports=function(n){return r(n,i,o)}},function(n,e,t){var r=t(182),o=t(30);n.exports=function(n,e,t){var i=e(n);return o(n)?i:r(i,t(n))}},function(n,e,t){var r=t(312),o=t(313),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(n){return null==n?[]:(n=Object(n),r(a(n),(function(e){return i.call(n,e)})))}:o;n.exports=s},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,o=0,i=[];++t<r;){var a=n[t];e(a,t,n)&&(i[o++]=a)}return i}},function(n,e){n.exports=function(){return[]}},function(n,e,t){var r=t(315),o=t(124),i=t(30),a=t(193),s=t(194),c=t(195),l=Object.prototype.hasOwnProperty;n.exports=function(n,e){var t=i(n),u=!t&&o(n),p=!t&&!u&&a(n),d=!t&&!u&&!p&&c(n),m=t||u||p||d,g=m?r(n.length,String):[],f=g.length;for(var h in n)!e&&!l.call(n,h)||m&&("length"==h||p&&("offset"==h||"parent"==h)||d&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||s(h,f))||g.push(h);return g}},function(n,e){n.exports=function(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}},function(n,e){n.exports=function(){return!1}},function(n,e,t){var r=t(58),o=t(129),i=t(48),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,n.exports=function(n){return i(n)&&o(n.length)&&!!a[r(n)]}},function(n,e){n.exports=function(n){return function(e){return n(e)}}},function(n,e,t){(function(n){var r=t(183),o=e&&!e.nodeType&&e,i=o&&"object"==typeof n&&n&&!n.nodeType&&n,a=i&&i.exports===o&&r.process,s=function(){try{var n=i&&i.require&&i.require("util").types;return n||a&&a.binding&&a.binding("util")}catch(n){}}();n.exports=s}).call(this,t(145)(n))},function(n,e,t){var r=t(321),o=t(322),i=Object.prototype.hasOwnProperty;n.exports=function(n){if(!r(n))return o(n);var e=[];for(var t in Object(n))i.call(n,t)&&"constructor"!=t&&e.push(t);return e}},function(n,e){var t=Object.prototype;n.exports=function(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||t)}},function(n,e,t){var r=t(323)(Object.keys,Object);n.exports=r},function(n,e){n.exports=function(n,e){return function(t){return n(e(t))}}},function(n,e,t){var r=t(325),o=t(125),i=t(326),a=t(197),s=t(327),c=t(58),l=t(187),u=l(r),p=l(o),d=l(i),m=l(a),g=l(s),f=c;(r&&"[object DataView]"!=f(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=f(new o)||i&&"[object Promise]"!=f(i.resolve())||a&&"[object Set]"!=f(new a)||s&&"[object WeakMap]"!=f(new s))&&(f=function(n){var e=c(n),t="[object Object]"==e?n.constructor:void 0,r=t?l(t):"";if(r)switch(r){case u:return"[object DataView]";case p:return"[object Map]";case d:return"[object Promise]";case m:return"[object Set]";case g:return"[object WeakMap]"}return e}),n.exports=f},function(n,e,t){var r=t(41)(t(32),"DataView");n.exports=r},function(n,e,t){var r=t(41)(t(32),"Promise");n.exports=r},function(n,e,t){var r=t(41)(t(32),"WeakMap");n.exports=r},function(n,e,t){var r=t(198),o=t(192);n.exports=function(n){for(var e=o(n),t=e.length;t--;){var i=e[t],a=n[i];e[t]=[i,a,r(a)]}return e}},function(n,e,t){var r=t(188),o=t(330),i=t(337),a=t(130),s=t(198),c=t(199),l=t(95);n.exports=function(n,e){return a(n)&&s(e)?c(l(n),e):function(t){var a=o(t,n);return void 0===a&&a===e?i(t,n):r(e,a,3)}}},function(n,e,t){var r=t(200);n.exports=function(n,e,t){var o=null==n?void 0:r(n,e);return void 0===o?t:o}},function(n,e,t){var r=t(332),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(o,(function(n,t,r,o){e.push(r?o.replace(i,"$1"):t||n)})),e}));n.exports=a},function(n,e,t){var r=t(333);n.exports=function(n){var e=r(n,(function(n){return 500===t.size&&t.clear(),n})),t=e.cache;return e}},function(n,e,t){var r=t(127);function o(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=t.cache;if(i.has(o))return i.get(o);var a=n.apply(this,r);return t.cache=i.set(o,a)||i,a};return t.cache=new(o.Cache||r),t}o.Cache=r,n.exports=o},function(n,e,t){var r=t(335);n.exports=function(n){return null==n?"":r(n)}},function(n,e,t){var r=t(68),o=t(336),i=t(30),a=t(131),s=r?r.prototype:void 0,c=s?s.toString:void 0;n.exports=function n(e){if("string"==typeof e)return e;if(i(e))return o(e,n)+"";if(a(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,o=Array(r);++t<r;)o[t]=e(n[t],t,n);return o}},function(n,e,t){var r=t(338),o=t(339);n.exports=function(n,e){return null!=n&&o(n,e,r)}},function(n,e){n.exports=function(n,e){return null!=n&&e in Object(n)}},function(n,e,t){var r=t(201),o=t(124),i=t(30),a=t(194),s=t(129),c=t(95);n.exports=function(n,e,t){for(var l=-1,u=(e=r(e,n)).length,p=!1;++l<u;){var d=c(e[l]);if(!(p=null!=n&&t(n,d)))break;n=n[d]}return p||++l!=u?p:!!(u=null==n?0:n.length)&&s(u)&&a(d,u)&&(i(n)||o(n))}},function(n,e,t){var r=t(341),o=t(342),i=t(130),a=t(95);n.exports=function(n){return i(n)?r(a(n)):o(n)}},function(n,e){n.exports=function(n){return function(e){return null==e?void 0:e[n]}}},function(n,e,t){var r=t(200);n.exports=function(n){return function(e){return r(e,n)}}},function(n,e,t){var r=t(132),o=t(344),i=t(346);n.exports=function(n,e){return i(o(n,e,r),n+"")}},function(n,e,t){var r=t(345),o=Math.max;n.exports=function(n,e,t){return e=o(void 0===e?n.length-1:e,0),function(){for(var i=arguments,a=-1,s=o(i.length-e,0),c=Array(s);++a<s;)c[a]=i[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=i[a];return l[e]=t(c),r(n,this,l)}}},function(n,e){n.exports=function(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}},function(n,e,t){var r=t(347),o=t(350)(r);n.exports=o},function(n,e,t){var r=t(348),o=t(349),i=t(132),a=o?function(n,e){return o(n,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;n.exports=a},function(n,e){n.exports=function(n){return function(){return n}}},function(n,e,t){var r=t(41),o=function(){try{var n=r(Object,"defineProperty");return n({},"",{}),n}catch(n){}}();n.exports=o},function(n,e){var t=Date.now;n.exports=function(n){var e=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}},function(n,e,t){var r=t(190),o=t(352),i=t(357),a=t(191),s=t(358),c=t(128);n.exports=function(n,e,t){var l=-1,u=o,p=n.length,d=!0,m=[],g=m;if(t)d=!1,u=i;else if(p>=200){var f=e?null:s(n);if(f)return c(f);d=!1,u=a,g=new r}else g=e?[]:m;n:for(;++l<p;){var h=n[l],y=e?e(h):h;if(h=t||0!==h?h:0,d&&y==y){for(var v=g.length;v--;)if(g[v]===y)continue n;e&&g.push(y),m.push(h)}else u(g,y,t)||(g!==m&&g.push(y),m.push(h))}return m}},function(n,e,t){var r=t(353);n.exports=function(n,e){return!!(null==n?0:n.length)&&r(n,e,0)>-1}},function(n,e,t){var r=t(354),o=t(355),i=t(356);n.exports=function(n,e,t){return e==e?i(n,e,t):r(n,o,t)}},function(n,e){n.exports=function(n,e,t,r){for(var o=n.length,i=t+(r?1:-1);r?i--:++i<o;)if(e(n[i],i,n))return i;return-1}},function(n,e){n.exports=function(n){return n!=n}},function(n,e){n.exports=function(n,e,t){for(var r=t-1,o=n.length;++r<o;)if(n[r]===e)return r;return-1}},function(n,e){n.exports=function(n,e,t){for(var r=-1,o=null==n?0:n.length;++r<o;)if(t(e,n[r]))return!0;return!1}},function(n,e,t){var r=t(197),o=t(359),i=t(128),a=r&&1/i(new r([,-0]))[1]==1/0?function(n){return new r(n)}:o;n.exports=a},function(n,e){n.exports=function(){}},function(n,e,t){var r=t(196),o=t(48);n.exports=function(n){return o(n)&&r(n)}},function(n,e,t){},function(n,e,t){},function(n,e,t){var r=t(2);n.exports=r(1..valueOf)},function(n,e,t){var r=t(2),o=t(50),i=t(12),a=t(365),s=t(19),c=r(a),l=r("".slice),u=Math.ceil,p=function(n){return function(e,t,r){var a,p,d=i(s(e)),m=o(t),g=d.length,f=void 0===r?" ":i(r);return m<=g||""==f?d:((p=c(f,u((a=m-g)/f.length))).length>a&&(p=l(p,0,a)),n?d+p:p+d)}};n.exports={start:p(!1),end:p(!0)}},function(n,e,t){"use strict";var r=t(0),o=t(44),i=t(12),a=t(19),s=r.RangeError;n.exports=function(n){var e=i(a(this)),t="",r=o(n);if(r<0||r==1/0)throw s("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(t+=e);return t}},function(n,e,t){var r=t(31);n.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},function(n,e,t){"use strict";t(203)},function(n,e,t){"use strict";t(204)},function(n,e,t){"use strict";var r=t(1),o=t(2),i=t(37),a=t(14),s=t(18),c=t(12),l=t(3),u=t(230),p=t(45),d=t(370),m=t(371),g=t(49),f=t(372),h=[],y=o(h.sort),v=o(h.push),b=l((function(){h.sort(void 0)})),k=l((function(){h.sort(null)})),x=p("sort"),w=!l((function(){if(g)return g<70;if(!(d&&d>3)){if(m)return!0;if(f)return f<603;var n,e,t,r,o="";for(n=65;n<76;n++){switch(e=String.fromCharCode(n),n){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(r=0;r<47;r++)h.push({k:e+r,v:t})}for(h.sort((function(n,e){return e.v-n.v})),r=0;r<h.length;r++)e=h[r].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));r({target:"Array",proto:!0,forced:b||!k||!x||!w},{sort:function(n){void 0!==n&&i(n);var e=a(this);if(w)return void 0===n?y(e):y(e,n);var t,r,o=[],l=s(e);for(r=0;r<l;r++)r in e&&v(o,e[r]);for(u(o,function(n){return function(e,t){return void 0===t?-1:void 0===e?1:void 0!==n?+n(e,t)||0:c(e)>c(t)?1:-1}}(n)),t=o.length,r=0;r<t;)e[r]=o[r++];for(;r<l;)delete e[r++];return e}})},function(n,e,t){var r=t(31).match(/firefox\/(\d+)/i);n.exports=!!r&&+r[1]},function(n,e,t){var r=t(31);n.exports=/MSIE|Trident/.test(r)},function(n,e,t){var r=t(31).match(/AppleWebKit\/(\d+)\./);n.exports=!!r&&+r[1]},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";var r=t(0),o=t(2),i=t(37),a=t(9),s=t(10),c=t(65),l=t(60),u=r.Function,p=o([].concat),d=o([].join),m={},g=function(n,e,t){if(!s(m,e)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";m[e]=u("C,a","return new C("+d(r,",")+")")}return m[e](n,t)};n.exports=l?u.bind:function(n){var e=i(this),t=e.prototype,r=c(arguments,1),o=function(){var t=p(r,c(arguments));return this instanceof o?g(e,t.length,t):e.apply(n,t)};return a(t)&&(o.prototype=t),o}},function(n,e,t){var r=t(1),o=t(3),i=t(20),a=t(38).f,s=t(7),c=o((function(){a(1)}));r({target:"Object",stat:!0,forced:!s||c,sham:!s},{getOwnPropertyDescriptor:function(n,e){return a(i(n),e)}})},function(n,e,t){var r=t(1),o=t(7),i=t(112).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==i,sham:!o},{defineProperties:i})},function(n,e,t){var r=t(1),o=t(379),i=t(100);r({target:"Array",proto:!0},{fill:o}),i("fill")},function(n,e,t){"use strict";var r=t(14),o=t(61),i=t(18);n.exports=function(n){for(var e=r(this),t=i(e),a=arguments.length,s=o(a>1?arguments[1]:void 0,t),c=a>2?arguments[2]:void 0,l=void 0===c?t:o(c,t);l>s;)e[s++]=n;return e}},function(n,e,t){"use strict";t(209)},function(n,e,t){"use strict";t(210)},function(n,e,t){"use strict";t(211)},function(n,e,t){"use strict";t.r(e);t(139),t(236),t(245),t(247);var r=t(88),o=(t(137),t(71),t(4),t(26),t(33),t(43),t(22),Object.freeze({}));function i(n){return null==n}function a(n){return null!=n}function s(n){return!0===n}function c(n){return"string"==typeof n||"number"==typeof n||"symbol"==typeof n||"boolean"==typeof n}function l(n){return null!==n&&"object"==typeof n}var u=Object.prototype.toString;function p(n){return"[object Object]"===u.call(n)}function d(n){return"[object RegExp]"===u.call(n)}function m(n){var e=parseFloat(String(n));return e>=0&&Math.floor(e)===e&&isFinite(n)}function g(n){return a(n)&&"function"==typeof n.then&&"function"==typeof n.catch}function f(n){return null==n?"":Array.isArray(n)||p(n)&&n.toString===u?JSON.stringify(n,null,2):String(n)}function h(n){var e=parseFloat(n);return isNaN(e)?n:e}function y(n,e){for(var t=Object.create(null),r=n.split(","),o=0;o<r.length;o++)t[r[o]]=!0;return e?function(n){return t[n.toLowerCase()]}:function(n){return t[n]}}y("slot,component",!0);var v=y("key,ref,slot,slot-scope,is");function b(n,e){if(n.length){var t=n.indexOf(e);if(t>-1)return n.splice(t,1)}}var k=Object.prototype.hasOwnProperty;function x(n,e){return k.call(n,e)}function w(n){var e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}var S=/-(\w)/g,E=w((function(n){return n.replace(S,(function(n,e){return e?e.toUpperCase():""}))})),_=w((function(n){return n.charAt(0).toUpperCase()+n.slice(1)})),T=/\B([A-Z])/g,A=w((function(n){return n.replace(T,"-$1").toLowerCase()}));var I=Function.prototype.bind?function(n,e){return n.bind(e)}:function(n,e){function t(t){var r=arguments.length;return r?r>1?n.apply(e,arguments):n.call(e,t):n.call(e)}return t._length=n.length,t};function j(n,e){e=e||0;for(var t=n.length-e,r=new Array(t);t--;)r[t]=n[t+e];return r}function R(n,e){for(var t in e)n[t]=e[t];return n}function C(n){for(var e={},t=0;t<n.length;t++)n[t]&&R(e,n[t]);return e}function z(n,e,t){}var O=function(n,e,t){return!1},B=function(n){return n};function P(n,e){if(n===e)return!0;var t=l(n),r=l(e);if(!t||!r)return!t&&!r&&String(n)===String(e);try{var o=Array.isArray(n),i=Array.isArray(e);if(o&&i)return n.length===e.length&&n.every((function(n,t){return P(n,e[t])}));if(n instanceof Date&&e instanceof Date)return n.getTime()===e.getTime();if(o||i)return!1;var a=Object.keys(n),s=Object.keys(e);return a.length===s.length&&a.every((function(t){return P(n[t],e[t])}))}catch(n){return!1}}function D(n,e){for(var t=0;t<n.length;t++)if(P(n[t],e))return t;return-1}function q(n){var e=!1;return function(){e||(e=!0,n.apply(this,arguments))}}var L=["component","directive","filter"],U=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],M={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:O,isReservedAttr:O,isUnknownElement:O,getTagNamespace:z,parsePlatformTagName:B,mustUseProp:O,async:!0,_lifecycleHooks:U},$=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function N(n,e,t,r){Object.defineProperty(n,e,{value:t,enumerable:!!r,writable:!0,configurable:!0})}var F=new RegExp("[^"+$.source+".$_\\d]");var J,H="__proto__"in{},W="undefined"!=typeof window,G="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,V=G&&WXEnvironment.platform.toLowerCase(),Q=W&&window.navigator.userAgent.toLowerCase(),K=Q&&/msie|trident/.test(Q),Y=Q&&Q.indexOf("msie 9.0")>0,X=Q&&Q.indexOf("edge/")>0,Z=(Q&&Q.indexOf("android"),Q&&/iphone|ipad|ipod|ios/.test(Q)||"ios"===V),nn=(Q&&/chrome\/\d+/.test(Q),Q&&/phantomjs/.test(Q),Q&&Q.match(/firefox\/(\d+)/)),en={}.watch,tn=!1;if(W)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){tn=!0}}),window.addEventListener("test-passive",null,rn)}catch(n){}var on=function(){return void 0===J&&(J=!W&&!G&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),J},an=W&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function sn(n){return"function"==typeof n&&/native code/.test(n.toString())}var cn,ln="undefined"!=typeof Symbol&&sn(Symbol)&&"undefined"!=typeof Reflect&&sn(Reflect.ownKeys);cn="undefined"!=typeof Set&&sn(Set)?Set:function(){function n(){this.set=Object.create(null)}return n.prototype.has=function(n){return!0===this.set[n]},n.prototype.add=function(n){this.set[n]=!0},n.prototype.clear=function(){this.set=Object.create(null)},n}();var un=z,pn=0,dn=function(){this.id=pn++,this.subs=[]};dn.prototype.addSub=function(n){this.subs.push(n)},dn.prototype.removeSub=function(n){b(this.subs,n)},dn.prototype.depend=function(){dn.target&&dn.target.addDep(this)},dn.prototype.notify=function(){var n=this.subs.slice();for(var e=0,t=n.length;e<t;e++)n[e].update()},dn.target=null;var mn=[];function gn(n){mn.push(n),dn.target=n}function fn(){mn.pop(),dn.target=mn[mn.length-1]}var hn=function(n,e,t,r,o,i,a,s){this.tag=n,this.data=e,this.children=t,this.text=r,this.elm=o,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},yn={child:{configurable:!0}};yn.child.get=function(){return this.componentInstance},Object.defineProperties(hn.prototype,yn);var vn=function(n){void 0===n&&(n="");var e=new hn;return e.text=n,e.isComment=!0,e};function bn(n){return new hn(void 0,void 0,void 0,String(n))}function kn(n){var e=new hn(n.tag,n.data,n.children&&n.children.slice(),n.text,n.elm,n.context,n.componentOptions,n.asyncFactory);return e.ns=n.ns,e.isStatic=n.isStatic,e.key=n.key,e.isComment=n.isComment,e.fnContext=n.fnContext,e.fnOptions=n.fnOptions,e.fnScopeId=n.fnScopeId,e.asyncMeta=n.asyncMeta,e.isCloned=!0,e}var xn=Array.prototype,wn=Object.create(xn);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(n){var e=xn[n];N(wn,n,(function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var o,i=e.apply(this,t),a=this.__ob__;switch(n){case"push":case"unshift":o=t;break;case"splice":o=t.slice(2)}return o&&a.observeArray(o),a.dep.notify(),i}))}));var Sn=Object.getOwnPropertyNames(wn),En=!0;function _n(n){En=n}var Tn=function(n){this.value=n,this.dep=new dn,this.vmCount=0,N(n,"__ob__",this),Array.isArray(n)?(H?function(n,e){n.__proto__=e}(n,wn):function(n,e,t){for(var r=0,o=t.length;r<o;r++){var i=t[r];N(n,i,e[i])}}(n,wn,Sn),this.observeArray(n)):this.walk(n)};function An(n,e){var t;if(l(n)&&!(n instanceof hn))return x(n,"__ob__")&&n.__ob__ instanceof Tn?t=n.__ob__:En&&!on()&&(Array.isArray(n)||p(n))&&Object.isExtensible(n)&&!n._isVue&&(t=new Tn(n)),e&&t&&t.vmCount++,t}function In(n,e,t,r,o){var i=new dn,a=Object.getOwnPropertyDescriptor(n,e);if(!a||!1!==a.configurable){var s=a&&a.get,c=a&&a.set;s&&!c||2!==arguments.length||(t=n[e]);var l=!o&&An(t);Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(n):t;return dn.target&&(i.depend(),l&&(l.dep.depend(),Array.isArray(e)&&Cn(e))),e},set:function(e){var r=s?s.call(n):t;e===r||e!=e&&r!=r||s&&!c||(c?c.call(n,e):t=e,l=!o&&An(e),i.notify())}})}}function jn(n,e,t){if(Array.isArray(n)&&m(e))return n.length=Math.max(n.length,e),n.splice(e,1,t),t;if(e in n&&!(e in Object.prototype))return n[e]=t,t;var r=n.__ob__;return n._isVue||r&&r.vmCount?t:r?(In(r.value,e,t),r.dep.notify(),t):(n[e]=t,t)}function Rn(n,e){if(Array.isArray(n)&&m(e))n.splice(e,1);else{var t=n.__ob__;n._isVue||t&&t.vmCount||x(n,e)&&(delete n[e],t&&t.dep.notify())}}function Cn(n){for(var e=void 0,t=0,r=n.length;t<r;t++)(e=n[t])&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Cn(e)}Tn.prototype.walk=function(n){for(var e=Object.keys(n),t=0;t<e.length;t++)In(n,e[t])},Tn.prototype.observeArray=function(n){for(var e=0,t=n.length;e<t;e++)An(n[e])};var zn=M.optionMergeStrategies;function On(n,e){if(!e)return n;for(var t,r,o,i=ln?Reflect.ownKeys(e):Object.keys(e),a=0;a<i.length;a++)"__ob__"!==(t=i[a])&&(r=n[t],o=e[t],x(n,t)?r!==o&&p(r)&&p(o)&&On(r,o):jn(n,t,o));return n}function Bn(n,e,t){return t?function(){var r="function"==typeof e?e.call(t,t):e,o="function"==typeof n?n.call(t,t):n;return r?On(r,o):o}:e?n?function(){return On("function"==typeof e?e.call(this,this):e,"function"==typeof n?n.call(this,this):n)}:e:n}function Pn(n,e){var t=e?n?n.concat(e):Array.isArray(e)?e:[e]:n;return t?function(n){for(var e=[],t=0;t<n.length;t++)-1===e.indexOf(n[t])&&e.push(n[t]);return e}(t):t}function Dn(n,e,t,r){var o=Object.create(n||null);return e?R(o,e):o}zn.data=function(n,e,t){return t?Bn(n,e,t):e&&"function"!=typeof e?n:Bn(n,e)},U.forEach((function(n){zn[n]=Pn})),L.forEach((function(n){zn[n+"s"]=Dn})),zn.watch=function(n,e,t,r){if(n===en&&(n=void 0),e===en&&(e=void 0),!e)return Object.create(n||null);if(!n)return e;var o={};for(var i in R(o,n),e){var a=o[i],s=e[i];a&&!Array.isArray(a)&&(a=[a]),o[i]=a?a.concat(s):Array.isArray(s)?s:[s]}return o},zn.props=zn.methods=zn.inject=zn.computed=function(n,e,t,r){if(!n)return e;var o=Object.create(null);return R(o,n),e&&R(o,e),o},zn.provide=Bn;var qn=function(n,e){return void 0===e?n:e};function Ln(n,e,t){if("function"==typeof e&&(e=e.options),function(n,e){var t=n.props;if(t){var r,o,i={};if(Array.isArray(t))for(r=t.length;r--;)"string"==typeof(o=t[r])&&(i[E(o)]={type:null});else if(p(t))for(var a in t)o=t[a],i[E(a)]=p(o)?o:{type:o};else 0;n.props=i}}(e),function(n,e){var t=n.inject;if(t){var r=n.inject={};if(Array.isArray(t))for(var o=0;o<t.length;o++)r[t[o]]={from:t[o]};else if(p(t))for(var i in t){var a=t[i];r[i]=p(a)?R({from:i},a):{from:a}}else 0}}(e),function(n){var e=n.directives;if(e)for(var t in e){var r=e[t];"function"==typeof r&&(e[t]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(n=Ln(n,e.extends,t)),e.mixins))for(var r=0,o=e.mixins.length;r<o;r++)n=Ln(n,e.mixins[r],t);var i,a={};for(i in n)s(i);for(i in e)x(n,i)||s(i);function s(r){var o=zn[r]||qn;a[r]=o(n[r],e[r],t,r)}return a}function Un(n,e,t,r){if("string"==typeof t){var o=n[e];if(x(o,t))return o[t];var i=E(t);if(x(o,i))return o[i];var a=_(i);return x(o,a)?o[a]:o[t]||o[i]||o[a]}}function Mn(n,e,t,r){var o=e[n],i=!x(t,n),a=t[n],s=Jn(Boolean,o.type);if(s>-1)if(i&&!x(o,"default"))a=!1;else if(""===a||a===A(n)){var c=Jn(String,o.type);(c<0||s<c)&&(a=!0)}if(void 0===a){a=function(n,e,t){if(!x(e,"default"))return;var r=e.default;0;if(n&&n.$options.propsData&&void 0===n.$options.propsData[t]&&void 0!==n._props[t])return n._props[t];return"function"==typeof r&&"Function"!==Nn(e.type)?r.call(n):r}(r,o,n);var l=En;_n(!0),An(a),_n(l)}return a}var $n=/^\s*function (\w+)/;function Nn(n){var e=n&&n.toString().match($n);return e?e[1]:""}function Fn(n,e){return Nn(n)===Nn(e)}function Jn(n,e){if(!Array.isArray(e))return Fn(e,n)?0:-1;for(var t=0,r=e.length;t<r;t++)if(Fn(e[t],n))return t;return-1}function Hn(n,e,t){gn();try{if(e)for(var r=e;r=r.$parent;){var o=r.$options.errorCaptured;if(o)for(var i=0;i<o.length;i++)try{if(!1===o[i].call(r,n,e,t))return}catch(n){Gn(n,r,"errorCaptured hook")}}Gn(n,e,t)}finally{fn()}}function Wn(n,e,t,r,o){var i;try{(i=t?n.apply(e,t):n.call(e))&&!i._isVue&&g(i)&&!i._handled&&(i.catch((function(n){return Hn(n,r,o+" (Promise/async)")})),i._handled=!0)}catch(n){Hn(n,r,o)}return i}function Gn(n,e,t){if(M.errorHandler)try{return M.errorHandler.call(null,n,e,t)}catch(e){e!==n&&Vn(e,null,"config.errorHandler")}Vn(n,e,t)}function Vn(n,e,t){if(!W&&!G||"undefined"==typeof console)throw n;console.error(n)}var Qn,Kn=!1,Yn=[],Xn=!1;function Zn(){Xn=!1;var n=Yn.slice(0);Yn.length=0;for(var e=0;e<n.length;e++)n[e]()}if("undefined"!=typeof Promise&&sn(Promise)){var ne=Promise.resolve();Qn=function(){ne.then(Zn),Z&&setTimeout(z)},Kn=!0}else if(K||"undefined"==typeof MutationObserver||!sn(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Qn="undefined"!=typeof setImmediate&&sn(setImmediate)?function(){setImmediate(Zn)}:function(){setTimeout(Zn,0)};else{var ee=1,te=new MutationObserver(Zn),re=document.createTextNode(String(ee));te.observe(re,{characterData:!0}),Qn=function(){ee=(ee+1)%2,re.data=String(ee)},Kn=!0}function oe(n,e){var t;if(Yn.push((function(){if(n)try{n.call(e)}catch(n){Hn(n,e,"nextTick")}else t&&t(e)})),Xn||(Xn=!0,Qn()),!n&&"undefined"!=typeof Promise)return new Promise((function(n){t=n}))}var ie=new cn;function ae(n){!function n(e,t){var r,o,i=Array.isArray(e);if(!i&&!l(e)||Object.isFrozen(e)||e instanceof hn)return;if(e.__ob__){var a=e.__ob__.dep.id;if(t.has(a))return;t.add(a)}if(i)for(r=e.length;r--;)n(e[r],t);else for(o=Object.keys(e),r=o.length;r--;)n(e[o[r]],t)}(n,ie),ie.clear()}var se=w((function(n){var e="&"===n.charAt(0),t="~"===(n=e?n.slice(1):n).charAt(0),r="!"===(n=t?n.slice(1):n).charAt(0);return{name:n=r?n.slice(1):n,once:t,capture:r,passive:e}}));function ce(n,e){function t(){var n=arguments,r=t.fns;if(!Array.isArray(r))return Wn(r,null,arguments,e,"v-on handler");for(var o=r.slice(),i=0;i<o.length;i++)Wn(o[i],null,n,e,"v-on handler")}return t.fns=n,t}function le(n,e,t,r,o,a){var c,l,u,p;for(c in n)l=n[c],u=e[c],p=se(c),i(l)||(i(u)?(i(l.fns)&&(l=n[c]=ce(l,a)),s(p.once)&&(l=n[c]=o(p.name,l,p.capture)),t(p.name,l,p.capture,p.passive,p.params)):l!==u&&(u.fns=l,n[c]=u));for(c in e)i(n[c])&&r((p=se(c)).name,e[c],p.capture)}function ue(n,e,t){var r;n instanceof hn&&(n=n.data.hook||(n.data.hook={}));var o=n[e];function c(){t.apply(this,arguments),b(r.fns,c)}i(o)?r=ce([c]):a(o.fns)&&s(o.merged)?(r=o).fns.push(c):r=ce([o,c]),r.merged=!0,n[e]=r}function pe(n,e,t,r,o){if(a(e)){if(x(e,t))return n[t]=e[t],o||delete e[t],!0;if(x(e,r))return n[t]=e[r],o||delete e[r],!0}return!1}function de(n){return c(n)?[bn(n)]:Array.isArray(n)?function n(e,t){var r,o,l,u,p=[];for(r=0;r<e.length;r++)i(o=e[r])||"boolean"==typeof o||(l=p.length-1,u=p[l],Array.isArray(o)?o.length>0&&(me((o=n(o,(t||"")+"_"+r))[0])&&me(u)&&(p[l]=bn(u.text+o[0].text),o.shift()),p.push.apply(p,o)):c(o)?me(u)?p[l]=bn(u.text+o):""!==o&&p.push(bn(o)):me(o)&&me(u)?p[l]=bn(u.text+o.text):(s(e._isVList)&&a(o.tag)&&i(o.key)&&a(t)&&(o.key="__vlist"+t+"_"+r+"__"),p.push(o)));return p}(n):void 0}function me(n){return a(n)&&a(n.text)&&!1===n.isComment}function ge(n,e){if(n){for(var t=Object.create(null),r=ln?Reflect.ownKeys(n):Object.keys(n),o=0;o<r.length;o++){var i=r[o];if("__ob__"!==i){for(var a=n[i].from,s=e;s;){if(s._provided&&x(s._provided,a)){t[i]=s._provided[a];break}s=s.$parent}if(!s)if("default"in n[i]){var c=n[i].default;t[i]="function"==typeof c?c.call(e):c}else 0}}return t}}function fe(n,e){if(!n||!n.length)return{};for(var t={},r=0,o=n.length;r<o;r++){var i=n[r],a=i.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,i.context!==e&&i.fnContext!==e||!a||null==a.slot)(t.default||(t.default=[])).push(i);else{var s=a.slot,c=t[s]||(t[s]=[]);"template"===i.tag?c.push.apply(c,i.children||[]):c.push(i)}}for(var l in t)t[l].every(he)&&delete t[l];return t}function he(n){return n.isComment&&!n.asyncFactory||" "===n.text}function ye(n){return n.isComment&&n.asyncFactory}function ve(n,e,t){var r,i=Object.keys(e).length>0,a=n?!!n.$stable:!i,s=n&&n.$key;if(n){if(n._normalized)return n._normalized;if(a&&t&&t!==o&&s===t.$key&&!i&&!t.$hasNormal)return t;for(var c in r={},n)n[c]&&"$"!==c[0]&&(r[c]=be(e,c,n[c]))}else r={};for(var l in e)l in r||(r[l]=ke(e,l));return n&&Object.isExtensible(n)&&(n._normalized=r),N(r,"$stable",a),N(r,"$key",s),N(r,"$hasNormal",i),r}function be(n,e,t){var r=function(){var n=arguments.length?t.apply(null,arguments):t({}),e=(n=n&&"object"==typeof n&&!Array.isArray(n)?[n]:de(n))&&n[0];return n&&(!e||1===n.length&&e.isComment&&!ye(e))?void 0:n};return t.proxy&&Object.defineProperty(n,e,{get:r,enumerable:!0,configurable:!0}),r}function ke(n,e){return function(){return n[e]}}function xe(n,e){var t,r,o,i,s;if(Array.isArray(n)||"string"==typeof n)for(t=new Array(n.length),r=0,o=n.length;r<o;r++)t[r]=e(n[r],r);else if("number"==typeof n)for(t=new Array(n),r=0;r<n;r++)t[r]=e(r+1,r);else if(l(n))if(ln&&n[Symbol.iterator]){t=[];for(var c=n[Symbol.iterator](),u=c.next();!u.done;)t.push(e(u.value,t.length)),u=c.next()}else for(i=Object.keys(n),t=new Array(i.length),r=0,o=i.length;r<o;r++)s=i[r],t[r]=e(n[s],s,r);return a(t)||(t=[]),t._isVList=!0,t}function we(n,e,t,r){var o,i=this.$scopedSlots[n];i?(t=t||{},r&&(t=R(R({},r),t)),o=i(t)||("function"==typeof e?e():e)):o=this.$slots[n]||("function"==typeof e?e():e);var a=t&&t.slot;return a?this.$createElement("template",{slot:a},o):o}function Se(n){return Un(this.$options,"filters",n)||B}function Ee(n,e){return Array.isArray(n)?-1===n.indexOf(e):n!==e}function _e(n,e,t,r,o){var i=M.keyCodes[e]||t;return o&&r&&!M.keyCodes[e]?Ee(o,r):i?Ee(i,n):r?A(r)!==e:void 0===n}function Te(n,e,t,r,o){if(t)if(l(t)){var i;Array.isArray(t)&&(t=C(t));var a=function(a){if("class"===a||"style"===a||v(a))i=n;else{var s=n.attrs&&n.attrs.type;i=r||M.mustUseProp(e,s,a)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={})}var c=E(a),l=A(a);c in i||l in i||(i[a]=t[a],o&&((n.on||(n.on={}))["update:"+a]=function(n){t[a]=n}))};for(var s in t)a(s)}else;return n}function Ae(n,e){var t=this._staticTrees||(this._staticTrees=[]),r=t[n];return r&&!e||je(r=t[n]=this.$options.staticRenderFns[n].call(this._renderProxy,null,this),"__static__"+n,!1),r}function Ie(n,e,t){return je(n,"__once__"+e+(t?"_"+t:""),!0),n}function je(n,e,t){if(Array.isArray(n))for(var r=0;r<n.length;r++)n[r]&&"string"!=typeof n[r]&&Re(n[r],e+"_"+r,t);else Re(n,e,t)}function Re(n,e,t){n.isStatic=!0,n.key=e,n.isOnce=t}function Ce(n,e){if(e)if(p(e)){var t=n.on=n.on?R({},n.on):{};for(var r in e){var o=t[r],i=e[r];t[r]=o?[].concat(o,i):i}}else;return n}function ze(n,e,t,r){e=e||{$stable:!t};for(var o=0;o<n.length;o++){var i=n[o];Array.isArray(i)?ze(i,e,t):i&&(i.proxy&&(i.fn.proxy=!0),e[i.key]=i.fn)}return r&&(e.$key=r),e}function Oe(n,e){for(var t=0;t<e.length;t+=2){var r=e[t];"string"==typeof r&&r&&(n[e[t]]=e[t+1])}return n}function Be(n,e){return"string"==typeof n?e+n:n}function Pe(n){n._o=Ie,n._n=h,n._s=f,n._l=xe,n._t=we,n._q=P,n._i=D,n._m=Ae,n._f=Se,n._k=_e,n._b=Te,n._v=bn,n._e=vn,n._u=ze,n._g=Ce,n._d=Oe,n._p=Be}function De(n,e,t,r,i){var a,c=this,l=i.options;x(r,"_uid")?(a=Object.create(r))._original=r:(a=r,r=r._original);var u=s(l._compiled),p=!u;this.data=n,this.props=e,this.children=t,this.parent=r,this.listeners=n.on||o,this.injections=ge(l.inject,r),this.slots=function(){return c.$slots||ve(n.scopedSlots,c.$slots=fe(t,r)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return ve(n.scopedSlots,this.slots())}}),u&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=ve(n.scopedSlots,this.$slots)),l._scopeId?this._c=function(n,e,t,o){var i=Fe(a,n,e,t,o,p);return i&&!Array.isArray(i)&&(i.fnScopeId=l._scopeId,i.fnContext=r),i}:this._c=function(n,e,t,r){return Fe(a,n,e,t,r,p)}}function qe(n,e,t,r,o){var i=kn(n);return i.fnContext=t,i.fnOptions=r,e.slot&&((i.data||(i.data={})).slot=e.slot),i}function Le(n,e){for(var t in e)n[E(t)]=e[t]}Pe(De.prototype);var Ue={init:function(n,e){if(n.componentInstance&&!n.componentInstance._isDestroyed&&n.data.keepAlive){var t=n;Ue.prepatch(t,t)}else{(n.componentInstance=function(n,e){var t={_isComponent:!0,_parentVnode:n,parent:e},r=n.data.inlineTemplate;a(r)&&(t.render=r.render,t.staticRenderFns=r.staticRenderFns);return new n.componentOptions.Ctor(t)}(n,Xe)).$mount(e?n.elm:void 0,e)}},prepatch:function(n,e){var t=e.componentOptions;!function(n,e,t,r,i){0;var a=r.data.scopedSlots,s=n.$scopedSlots,c=!!(a&&!a.$stable||s!==o&&!s.$stable||a&&n.$scopedSlots.$key!==a.$key||!a&&n.$scopedSlots.$key),l=!!(i||n.$options._renderChildren||c);n.$options._parentVnode=r,n.$vnode=r,n._vnode&&(n._vnode.parent=r);if(n.$options._renderChildren=i,n.$attrs=r.data.attrs||o,n.$listeners=t||o,e&&n.$options.props){_n(!1);for(var u=n._props,p=n.$options._propKeys||[],d=0;d<p.length;d++){var m=p[d],g=n.$options.props;u[m]=Mn(m,g,e,n)}_n(!0),n.$options.propsData=e}t=t||o;var f=n.$options._parentListeners;n.$options._parentListeners=t,Ye(n,t,f),l&&(n.$slots=fe(i,r.context),n.$forceUpdate());0}(e.componentInstance=n.componentInstance,t.propsData,t.listeners,e,t.children)},insert:function(n){var e,t=n.context,r=n.componentInstance;r._isMounted||(r._isMounted=!0,tt(r,"mounted")),n.data.keepAlive&&(t._isMounted?((e=r)._inactive=!1,ot.push(e)):et(r,!0))},destroy:function(n){var e=n.componentInstance;e._isDestroyed||(n.data.keepAlive?function n(e,t){if(t&&(e._directInactive=!0,nt(e)))return;if(!e._inactive){e._inactive=!0;for(var r=0;r<e.$children.length;r++)n(e.$children[r]);tt(e,"deactivated")}}(e,!0):e.$destroy())}},Me=Object.keys(Ue);function $e(n,e,t,r,c){if(!i(n)){var u=t.$options._base;if(l(n)&&(n=u.extend(n)),"function"==typeof n){var p;if(i(n.cid)&&void 0===(n=function(n,e){if(s(n.error)&&a(n.errorComp))return n.errorComp;if(a(n.resolved))return n.resolved;var t=He;t&&a(n.owners)&&-1===n.owners.indexOf(t)&&n.owners.push(t);if(s(n.loading)&&a(n.loadingComp))return n.loadingComp;if(t&&!a(n.owners)){var r=n.owners=[t],o=!0,c=null,u=null;t.$on("hook:destroyed",(function(){return b(r,t)}));var p=function(n){for(var e=0,t=r.length;e<t;e++)r[e].$forceUpdate();n&&(r.length=0,null!==c&&(clearTimeout(c),c=null),null!==u&&(clearTimeout(u),u=null))},d=q((function(t){n.resolved=We(t,e),o?r.length=0:p(!0)})),m=q((function(e){a(n.errorComp)&&(n.error=!0,p(!0))})),f=n(d,m);return l(f)&&(g(f)?i(n.resolved)&&f.then(d,m):g(f.component)&&(f.component.then(d,m),a(f.error)&&(n.errorComp=We(f.error,e)),a(f.loading)&&(n.loadingComp=We(f.loading,e),0===f.delay?n.loading=!0:c=setTimeout((function(){c=null,i(n.resolved)&&i(n.error)&&(n.loading=!0,p(!1))}),f.delay||200)),a(f.timeout)&&(u=setTimeout((function(){u=null,i(n.resolved)&&m(null)}),f.timeout)))),o=!1,n.loading?n.loadingComp:n.resolved}}(p=n,u)))return function(n,e,t,r,o){var i=vn();return i.asyncFactory=n,i.asyncMeta={data:e,context:t,children:r,tag:o},i}(p,e,t,r,c);e=e||{},Et(n),a(e.model)&&function(n,e){var t=n.model&&n.model.prop||"value",r=n.model&&n.model.event||"input";(e.attrs||(e.attrs={}))[t]=e.model.value;var o=e.on||(e.on={}),i=o[r],s=e.model.callback;a(i)?(Array.isArray(i)?-1===i.indexOf(s):i!==s)&&(o[r]=[s].concat(i)):o[r]=s}(n.options,e);var d=function(n,e,t){var r=e.options.props;if(!i(r)){var o={},s=n.attrs,c=n.props;if(a(s)||a(c))for(var l in r){var u=A(l);pe(o,c,l,u,!0)||pe(o,s,l,u,!1)}return o}}(e,n);if(s(n.options.functional))return function(n,e,t,r,i){var s=n.options,c={},l=s.props;if(a(l))for(var u in l)c[u]=Mn(u,l,e||o);else a(t.attrs)&&Le(c,t.attrs),a(t.props)&&Le(c,t.props);var p=new De(t,c,i,r,n),d=s.render.call(null,p._c,p);if(d instanceof hn)return qe(d,t,p.parent,s,p);if(Array.isArray(d)){for(var m=de(d)||[],g=new Array(m.length),f=0;f<m.length;f++)g[f]=qe(m[f],t,p.parent,s,p);return g}}(n,d,e,t,r);var m=e.on;if(e.on=e.nativeOn,s(n.options.abstract)){var f=e.slot;e={},f&&(e.slot=f)}!function(n){for(var e=n.hook||(n.hook={}),t=0;t<Me.length;t++){var r=Me[t],o=e[r],i=Ue[r];o===i||o&&o._merged||(e[r]=o?Ne(i,o):i)}}(e);var h=n.options.name||c;return new hn("vue-component-"+n.cid+(h?"-"+h:""),e,void 0,void 0,void 0,t,{Ctor:n,propsData:d,listeners:m,tag:c,children:r},p)}}}function Ne(n,e){var t=function(t,r){n(t,r),e(t,r)};return t._merged=!0,t}function Fe(n,e,t,r,o,u){return(Array.isArray(t)||c(t))&&(o=r,r=t,t=void 0),s(u)&&(o=2),function(n,e,t,r,o){if(a(t)&&a(t.__ob__))return vn();a(t)&&a(t.is)&&(e=t.is);if(!e)return vn();0;Array.isArray(r)&&"function"==typeof r[0]&&((t=t||{}).scopedSlots={default:r[0]},r.length=0);2===o?r=de(r):1===o&&(r=function(n){for(var e=0;e<n.length;e++)if(Array.isArray(n[e]))return Array.prototype.concat.apply([],n);return n}(r));var c,u;if("string"==typeof e){var p;u=n.$vnode&&n.$vnode.ns||M.getTagNamespace(e),c=M.isReservedTag(e)?new hn(M.parsePlatformTagName(e),t,r,void 0,void 0,n):t&&t.pre||!a(p=Un(n.$options,"components",e))?new hn(e,t,r,void 0,void 0,n):$e(p,t,n,r,e)}else c=$e(e,t,n,r);return Array.isArray(c)?c:a(c)?(a(u)&&function n(e,t,r){e.ns=t,"foreignObject"===e.tag&&(t=void 0,r=!0);if(a(e.children))for(var o=0,c=e.children.length;o<c;o++){var l=e.children[o];a(l.tag)&&(i(l.ns)||s(r)&&"svg"!==l.tag)&&n(l,t,r)}}(c,u),a(t)&&function(n){l(n.style)&&ae(n.style);l(n.class)&&ae(n.class)}(t),c):vn()}(n,e,t,r,o)}var Je,He=null;function We(n,e){return(n.__esModule||ln&&"Module"===n[Symbol.toStringTag])&&(n=n.default),l(n)?e.extend(n):n}function Ge(n){if(Array.isArray(n))for(var e=0;e<n.length;e++){var t=n[e];if(a(t)&&(a(t.componentOptions)||ye(t)))return t}}function Ve(n,e){Je.$on(n,e)}function Qe(n,e){Je.$off(n,e)}function Ke(n,e){var t=Je;return function r(){var o=e.apply(null,arguments);null!==o&&t.$off(n,r)}}function Ye(n,e,t){Je=n,le(e,t||{},Ve,Qe,Ke,n),Je=void 0}var Xe=null;function Ze(n){var e=Xe;return Xe=n,function(){Xe=e}}function nt(n){for(;n&&(n=n.$parent);)if(n._inactive)return!0;return!1}function et(n,e){if(e){if(n._directInactive=!1,nt(n))return}else if(n._directInactive)return;if(n._inactive||null===n._inactive){n._inactive=!1;for(var t=0;t<n.$children.length;t++)et(n.$children[t]);tt(n,"activated")}}function tt(n,e){gn();var t=n.$options[e],r=e+" hook";if(t)for(var o=0,i=t.length;o<i;o++)Wn(t[o],n,null,n,r);n._hasHookEvent&&n.$emit("hook:"+e),fn()}var rt=[],ot=[],it={},at=!1,st=!1,ct=0;var lt=0,ut=Date.now;if(W&&!K){var pt=window.performance;pt&&"function"==typeof pt.now&&ut()>document.createEvent("Event").timeStamp&&(ut=function(){return pt.now()})}function dt(){var n,e;for(lt=ut(),st=!0,rt.sort((function(n,e){return n.id-e.id})),ct=0;ct<rt.length;ct++)(n=rt[ct]).before&&n.before(),e=n.id,it[e]=null,n.run();var t=ot.slice(),r=rt.slice();ct=rt.length=ot.length=0,it={},at=st=!1,function(n){for(var e=0;e<n.length;e++)n[e]._inactive=!0,et(n[e],!0)}(t),function(n){var e=n.length;for(;e--;){var t=n[e],r=t.vm;r._watcher===t&&r._isMounted&&!r._isDestroyed&&tt(r,"updated")}}(r),an&&M.devtools&&an.emit("flush")}var mt=0,gt=function(n,e,t,r,o){this.vm=n,o&&(n._watcher=this),n._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=t,this.id=++mt,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new cn,this.newDepIds=new cn,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(n){if(!F.test(n)){var e=n.split(".");return function(n){for(var t=0;t<e.length;t++){if(!n)return;n=n[e[t]]}return n}}}(e),this.getter||(this.getter=z)),this.value=this.lazy?void 0:this.get()};gt.prototype.get=function(){var n;gn(this);var e=this.vm;try{n=this.getter.call(e,e)}catch(n){if(!this.user)throw n;Hn(n,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ae(n),fn(),this.cleanupDeps()}return n},gt.prototype.addDep=function(n){var e=n.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(n),this.depIds.has(e)||n.addSub(this))},gt.prototype.cleanupDeps=function(){for(var n=this.deps.length;n--;){var e=this.deps[n];this.newDepIds.has(e.id)||e.removeSub(this)}var t=this.depIds;this.depIds=this.newDepIds,this.newDepIds=t,this.newDepIds.clear(),t=this.deps,this.deps=this.newDeps,this.newDeps=t,this.newDeps.length=0},gt.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(n){var e=n.id;if(null==it[e]){if(it[e]=!0,st){for(var t=rt.length-1;t>ct&&rt[t].id>n.id;)t--;rt.splice(t+1,0,n)}else rt.push(n);at||(at=!0,oe(dt))}}(this)},gt.prototype.run=function(){if(this.active){var n=this.get();if(n!==this.value||l(n)||this.deep){var e=this.value;if(this.value=n,this.user){var t='callback for watcher "'+this.expression+'"';Wn(this.cb,this.vm,[n,e],this.vm,t)}else this.cb.call(this.vm,n,e)}}},gt.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},gt.prototype.depend=function(){for(var n=this.deps.length;n--;)this.deps[n].depend()},gt.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||b(this.vm._watchers,this);for(var n=this.deps.length;n--;)this.deps[n].removeSub(this);this.active=!1}};var ft={enumerable:!0,configurable:!0,get:z,set:z};function ht(n,e,t){ft.get=function(){return this[e][t]},ft.set=function(n){this[e][t]=n},Object.defineProperty(n,t,ft)}function yt(n){n._watchers=[];var e=n.$options;e.props&&function(n,e){var t=n.$options.propsData||{},r=n._props={},o=n.$options._propKeys=[];n.$parent&&_n(!1);var i=function(i){o.push(i);var a=Mn(i,e,t,n);In(r,i,a),i in n||ht(n,"_props",i)};for(var a in e)i(a);_n(!0)}(n,e.props),e.methods&&function(n,e){n.$options.props;for(var t in e)n[t]="function"!=typeof e[t]?z:I(e[t],n)}(n,e.methods),e.data?function(n){var e=n.$options.data;p(e=n._data="function"==typeof e?function(n,e){gn();try{return n.call(e,e)}catch(n){return Hn(n,e,"data()"),{}}finally{fn()}}(e,n):e||{})||(e={});var t=Object.keys(e),r=n.$options.props,o=(n.$options.methods,t.length);for(;o--;){var i=t[o];0,r&&x(r,i)||(a=void 0,36!==(a=(i+"").charCodeAt(0))&&95!==a&&ht(n,"_data",i))}var a;An(e,!0)}(n):An(n._data={},!0),e.computed&&function(n,e){var t=n._computedWatchers=Object.create(null),r=on();for(var o in e){var i=e[o],a="function"==typeof i?i:i.get;0,r||(t[o]=new gt(n,a||z,z,vt)),o in n||bt(n,o,i)}}(n,e.computed),e.watch&&e.watch!==en&&function(n,e){for(var t in e){var r=e[t];if(Array.isArray(r))for(var o=0;o<r.length;o++)wt(n,t,r[o]);else wt(n,t,r)}}(n,e.watch)}var vt={lazy:!0};function bt(n,e,t){var r=!on();"function"==typeof t?(ft.get=r?kt(e):xt(t),ft.set=z):(ft.get=t.get?r&&!1!==t.cache?kt(e):xt(t.get):z,ft.set=t.set||z),Object.defineProperty(n,e,ft)}function kt(n){return function(){var e=this._computedWatchers&&this._computedWatchers[n];if(e)return e.dirty&&e.evaluate(),dn.target&&e.depend(),e.value}}function xt(n){return function(){return n.call(this,this)}}function wt(n,e,t,r){return p(t)&&(r=t,t=t.handler),"string"==typeof t&&(t=n[t]),n.$watch(e,t,r)}var St=0;function Et(n){var e=n.options;if(n.super){var t=Et(n.super);if(t!==n.superOptions){n.superOptions=t;var r=function(n){var e,t=n.options,r=n.sealedOptions;for(var o in t)t[o]!==r[o]&&(e||(e={}),e[o]=t[o]);return e}(n);r&&R(n.extendOptions,r),(e=n.options=Ln(t,n.extendOptions)).name&&(e.components[e.name]=n)}}return e}function _t(n){this._init(n)}function Tt(n){n.cid=0;var e=1;n.extend=function(n){n=n||{};var t=this,r=t.cid,o=n._Ctor||(n._Ctor={});if(o[r])return o[r];var i=n.name||t.options.name;var a=function(n){this._init(n)};return(a.prototype=Object.create(t.prototype)).constructor=a,a.cid=e++,a.options=Ln(t.options,n),a.super=t,a.options.props&&function(n){var e=n.options.props;for(var t in e)ht(n.prototype,"_props",t)}(a),a.options.computed&&function(n){var e=n.options.computed;for(var t in e)bt(n.prototype,t,e[t])}(a),a.extend=t.extend,a.mixin=t.mixin,a.use=t.use,L.forEach((function(n){a[n]=t[n]})),i&&(a.options.components[i]=a),a.superOptions=t.options,a.extendOptions=n,a.sealedOptions=R({},a.options),o[r]=a,a}}function At(n){return n&&(n.Ctor.options.name||n.tag)}function It(n,e){return Array.isArray(n)?n.indexOf(e)>-1:"string"==typeof n?n.split(",").indexOf(e)>-1:!!d(n)&&n.test(e)}function jt(n,e){var t=n.cache,r=n.keys,o=n._vnode;for(var i in t){var a=t[i];if(a){var s=a.name;s&&!e(s)&&Rt(t,i,r,o)}}}function Rt(n,e,t,r){var o=n[e];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),n[e]=null,b(t,e)}_t.prototype._init=function(n){var e=this;e._uid=St++,e._isVue=!0,n&&n._isComponent?function(n,e){var t=n.$options=Object.create(n.constructor.options),r=e._parentVnode;t.parent=e.parent,t._parentVnode=r;var o=r.componentOptions;t.propsData=o.propsData,t._parentListeners=o.listeners,t._renderChildren=o.children,t._componentTag=o.tag,e.render&&(t.render=e.render,t.staticRenderFns=e.staticRenderFns)}(e,n):e.$options=Ln(Et(e.constructor),n||{},e),e._renderProxy=e,e._self=e,function(n){var e=n.$options,t=e.parent;if(t&&!e.abstract){for(;t.$options.abstract&&t.$parent;)t=t.$parent;t.$children.push(n)}n.$parent=t,n.$root=t?t.$root:n,n.$children=[],n.$refs={},n._watcher=null,n._inactive=null,n._directInactive=!1,n._isMounted=!1,n._isDestroyed=!1,n._isBeingDestroyed=!1}(e),function(n){n._events=Object.create(null),n._hasHookEvent=!1;var e=n.$options._parentListeners;e&&Ye(n,e)}(e),function(n){n._vnode=null,n._staticTrees=null;var e=n.$options,t=n.$vnode=e._parentVnode,r=t&&t.context;n.$slots=fe(e._renderChildren,r),n.$scopedSlots=o,n._c=function(e,t,r,o){return Fe(n,e,t,r,o,!1)},n.$createElement=function(e,t,r,o){return Fe(n,e,t,r,o,!0)};var i=t&&t.data;In(n,"$attrs",i&&i.attrs||o,null,!0),In(n,"$listeners",e._parentListeners||o,null,!0)}(e),tt(e,"beforeCreate"),function(n){var e=ge(n.$options.inject,n);e&&(_n(!1),Object.keys(e).forEach((function(t){In(n,t,e[t])})),_n(!0))}(e),yt(e),function(n){var e=n.$options.provide;e&&(n._provided="function"==typeof e?e.call(n):e)}(e),tt(e,"created"),e.$options.el&&e.$mount(e.$options.el)},function(n){var e={get:function(){return this._data}},t={get:function(){return this._props}};Object.defineProperty(n.prototype,"$data",e),Object.defineProperty(n.prototype,"$props",t),n.prototype.$set=jn,n.prototype.$delete=Rn,n.prototype.$watch=function(n,e,t){if(p(e))return wt(this,n,e,t);(t=t||{}).user=!0;var r=new gt(this,n,e,t);if(t.immediate){var o='callback for immediate watcher "'+r.expression+'"';gn(),Wn(e,this,[r.value],this,o),fn()}return function(){r.teardown()}}}(_t),function(n){var e=/^hook:/;n.prototype.$on=function(n,t){var r=this;if(Array.isArray(n))for(var o=0,i=n.length;o<i;o++)r.$on(n[o],t);else(r._events[n]||(r._events[n]=[])).push(t),e.test(n)&&(r._hasHookEvent=!0);return r},n.prototype.$once=function(n,e){var t=this;function r(){t.$off(n,r),e.apply(t,arguments)}return r.fn=e,t.$on(n,r),t},n.prototype.$off=function(n,e){var t=this;if(!arguments.length)return t._events=Object.create(null),t;if(Array.isArray(n)){for(var r=0,o=n.length;r<o;r++)t.$off(n[r],e);return t}var i,a=t._events[n];if(!a)return t;if(!e)return t._events[n]=null,t;for(var s=a.length;s--;)if((i=a[s])===e||i.fn===e){a.splice(s,1);break}return t},n.prototype.$emit=function(n){var e=this,t=e._events[n];if(t){t=t.length>1?j(t):t;for(var r=j(arguments,1),o='event handler for "'+n+'"',i=0,a=t.length;i<a;i++)Wn(t[i],e,r,e,o)}return e}}(_t),function(n){n.prototype._update=function(n,e){var t=this,r=t.$el,o=t._vnode,i=Ze(t);t._vnode=n,t.$el=o?t.__patch__(o,n):t.__patch__(t.$el,n,e,!1),i(),r&&(r.__vue__=null),t.$el&&(t.$el.__vue__=t),t.$vnode&&t.$parent&&t.$vnode===t.$parent._vnode&&(t.$parent.$el=t.$el)},n.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},n.prototype.$destroy=function(){var n=this;if(!n._isBeingDestroyed){tt(n,"beforeDestroy"),n._isBeingDestroyed=!0;var e=n.$parent;!e||e._isBeingDestroyed||n.$options.abstract||b(e.$children,n),n._watcher&&n._watcher.teardown();for(var t=n._watchers.length;t--;)n._watchers[t].teardown();n._data.__ob__&&n._data.__ob__.vmCount--,n._isDestroyed=!0,n.__patch__(n._vnode,null),tt(n,"destroyed"),n.$off(),n.$el&&(n.$el.__vue__=null),n.$vnode&&(n.$vnode.parent=null)}}}(_t),function(n){Pe(n.prototype),n.prototype.$nextTick=function(n){return oe(n,this)},n.prototype._render=function(){var n,e=this,t=e.$options,r=t.render,o=t._parentVnode;o&&(e.$scopedSlots=ve(o.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=o;try{He=e,n=r.call(e._renderProxy,e.$createElement)}catch(t){Hn(t,e,"render"),n=e._vnode}finally{He=null}return Array.isArray(n)&&1===n.length&&(n=n[0]),n instanceof hn||(n=vn()),n.parent=o,n}}(_t);var Ct=[String,RegExp,Array],zt={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Ct,exclude:Ct,max:[String,Number]},methods:{cacheVNode:function(){var n=this.cache,e=this.keys,t=this.vnodeToCache,r=this.keyToCache;if(t){var o=t.tag,i=t.componentInstance,a=t.componentOptions;n[r]={name:At(a),tag:o,componentInstance:i},e.push(r),this.max&&e.length>parseInt(this.max)&&Rt(n,e[0],e,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var n in this.cache)Rt(this.cache,n,this.keys)},mounted:function(){var n=this;this.cacheVNode(),this.$watch("include",(function(e){jt(n,(function(n){return It(e,n)}))})),this.$watch("exclude",(function(e){jt(n,(function(n){return!It(e,n)}))}))},updated:function(){this.cacheVNode()},render:function(){var n=this.$slots.default,e=Ge(n),t=e&&e.componentOptions;if(t){var r=At(t),o=this.include,i=this.exclude;if(o&&(!r||!It(o,r))||i&&r&&It(i,r))return e;var a=this.cache,s=this.keys,c=null==e.key?t.Ctor.cid+(t.tag?"::"+t.tag:""):e.key;a[c]?(e.componentInstance=a[c].componentInstance,b(s,c),s.push(c)):(this.vnodeToCache=e,this.keyToCache=c),e.data.keepAlive=!0}return e||n&&n[0]}}};!function(n){var e={get:function(){return M}};Object.defineProperty(n,"config",e),n.util={warn:un,extend:R,mergeOptions:Ln,defineReactive:In},n.set=jn,n.delete=Rn,n.nextTick=oe,n.observable=function(n){return An(n),n},n.options=Object.create(null),L.forEach((function(e){n.options[e+"s"]=Object.create(null)})),n.options._base=n,R(n.options.components,zt),function(n){n.use=function(n){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(n)>-1)return this;var t=j(arguments,1);return t.unshift(this),"function"==typeof n.install?n.install.apply(n,t):"function"==typeof n&&n.apply(null,t),e.push(n),this}}(n),function(n){n.mixin=function(n){return this.options=Ln(this.options,n),this}}(n),Tt(n),function(n){L.forEach((function(e){n[e]=function(n,t){return t?("component"===e&&p(t)&&(t.name=t.name||n,t=this.options._base.extend(t)),"directive"===e&&"function"==typeof t&&(t={bind:t,update:t}),this.options[e+"s"][n]=t,t):this.options[e+"s"][n]}}))}(n)}(_t),Object.defineProperty(_t.prototype,"$isServer",{get:on}),Object.defineProperty(_t.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(_t,"FunctionalRenderContext",{value:De}),_t.version="2.6.14";var Ot=y("style,class"),Bt=y("input,textarea,option,select,progress"),Pt=y("contenteditable,draggable,spellcheck"),Dt=y("events,caret,typing,plaintext-only"),qt=y("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Lt="http://www.w3.org/1999/xlink",Ut=function(n){return":"===n.charAt(5)&&"xlink"===n.slice(0,5)},Mt=function(n){return Ut(n)?n.slice(6,n.length):""},$t=function(n){return null==n||!1===n};function Nt(n){for(var e=n.data,t=n,r=n;a(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=Ft(r.data,e));for(;a(t=t.parent);)t&&t.data&&(e=Ft(e,t.data));return function(n,e){if(a(n)||a(e))return Jt(n,Ht(e));return""}(e.staticClass,e.class)}function Ft(n,e){return{staticClass:Jt(n.staticClass,e.staticClass),class:a(n.class)?[n.class,e.class]:e.class}}function Jt(n,e){return n?e?n+" "+e:n:e||""}function Ht(n){return Array.isArray(n)?function(n){for(var e,t="",r=0,o=n.length;r<o;r++)a(e=Ht(n[r]))&&""!==e&&(t&&(t+=" "),t+=e);return t}(n):l(n)?function(n){var e="";for(var t in n)n[t]&&(e&&(e+=" "),e+=t);return e}(n):"string"==typeof n?n:""}var Wt={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Gt=y("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Vt=y("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Qt=function(n){return Gt(n)||Vt(n)};var Kt=Object.create(null);var Yt=y("text,number,password,search,email,tel,url");var Xt=Object.freeze({createElement:function(n,e){var t=document.createElement(n);return"select"!==n||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&t.setAttribute("multiple","multiple"),t},createElementNS:function(n,e){return document.createElementNS(Wt[n],e)},createTextNode:function(n){return document.createTextNode(n)},createComment:function(n){return document.createComment(n)},insertBefore:function(n,e,t){n.insertBefore(e,t)},removeChild:function(n,e){n.removeChild(e)},appendChild:function(n,e){n.appendChild(e)},parentNode:function(n){return n.parentNode},nextSibling:function(n){return n.nextSibling},tagName:function(n){return n.tagName},setTextContent:function(n,e){n.textContent=e},setStyleScope:function(n,e){n.setAttribute(e,"")}}),Zt={create:function(n,e){nr(e)},update:function(n,e){n.data.ref!==e.data.ref&&(nr(n,!0),nr(e))},destroy:function(n){nr(n,!0)}};function nr(n,e){var t=n.data.ref;if(a(t)){var r=n.context,o=n.componentInstance||n.elm,i=r.$refs;e?Array.isArray(i[t])?b(i[t],o):i[t]===o&&(i[t]=void 0):n.data.refInFor?Array.isArray(i[t])?i[t].indexOf(o)<0&&i[t].push(o):i[t]=[o]:i[t]=o}}var er=new hn("",{},[]),tr=["create","activate","update","remove","destroy"];function rr(n,e){return n.key===e.key&&n.asyncFactory===e.asyncFactory&&(n.tag===e.tag&&n.isComment===e.isComment&&a(n.data)===a(e.data)&&function(n,e){if("input"!==n.tag)return!0;var t,r=a(t=n.data)&&a(t=t.attrs)&&t.type,o=a(t=e.data)&&a(t=t.attrs)&&t.type;return r===o||Yt(r)&&Yt(o)}(n,e)||s(n.isAsyncPlaceholder)&&i(e.asyncFactory.error))}function or(n,e,t){var r,o,i={};for(r=e;r<=t;++r)a(o=n[r].key)&&(i[o]=r);return i}var ir={create:ar,update:ar,destroy:function(n){ar(n,er)}};function ar(n,e){(n.data.directives||e.data.directives)&&function(n,e){var t,r,o,i=n===er,a=e===er,s=cr(n.data.directives,n.context),c=cr(e.data.directives,e.context),l=[],u=[];for(t in c)r=s[t],o=c[t],r?(o.oldValue=r.value,o.oldArg=r.arg,ur(o,"update",e,n),o.def&&o.def.componentUpdated&&u.push(o)):(ur(o,"bind",e,n),o.def&&o.def.inserted&&l.push(o));if(l.length){var p=function(){for(var t=0;t<l.length;t++)ur(l[t],"inserted",e,n)};i?ue(e,"insert",p):p()}u.length&&ue(e,"postpatch",(function(){for(var t=0;t<u.length;t++)ur(u[t],"componentUpdated",e,n)}));if(!i)for(t in s)c[t]||ur(s[t],"unbind",n,n,a)}(n,e)}var sr=Object.create(null);function cr(n,e){var t,r,o=Object.create(null);if(!n)return o;for(t=0;t<n.length;t++)(r=n[t]).modifiers||(r.modifiers=sr),o[lr(r)]=r,r.def=Un(e.$options,"directives",r.name);return o}function lr(n){return n.rawName||n.name+"."+Object.keys(n.modifiers||{}).join(".")}function ur(n,e,t,r,o){var i=n.def&&n.def[e];if(i)try{i(t.elm,n,t,r,o)}catch(r){Hn(r,t.context,"directive "+n.name+" "+e+" hook")}}var pr=[Zt,ir];function dr(n,e){var t=e.componentOptions;if(!(a(t)&&!1===t.Ctor.options.inheritAttrs||i(n.data.attrs)&&i(e.data.attrs))){var r,o,s=e.elm,c=n.data.attrs||{},l=e.data.attrs||{};for(r in a(l.__ob__)&&(l=e.data.attrs=R({},l)),l)o=l[r],c[r]!==o&&mr(s,r,o,e.data.pre);for(r in(K||X)&&l.value!==c.value&&mr(s,"value",l.value),c)i(l[r])&&(Ut(r)?s.removeAttributeNS(Lt,Mt(r)):Pt(r)||s.removeAttribute(r))}}function mr(n,e,t,r){r||n.tagName.indexOf("-")>-1?gr(n,e,t):qt(e)?$t(t)?n.removeAttribute(e):(t="allowfullscreen"===e&&"EMBED"===n.tagName?"true":e,n.setAttribute(e,t)):Pt(e)?n.setAttribute(e,function(n,e){return $t(e)||"false"===e?"false":"contenteditable"===n&&Dt(e)?e:"true"}(e,t)):Ut(e)?$t(t)?n.removeAttributeNS(Lt,Mt(e)):n.setAttributeNS(Lt,e,t):gr(n,e,t)}function gr(n,e,t){if($t(t))n.removeAttribute(e);else{if(K&&!Y&&"TEXTAREA"===n.tagName&&"placeholder"===e&&""!==t&&!n.__ieph){var r=function(e){e.stopImmediatePropagation(),n.removeEventListener("input",r)};n.addEventListener("input",r),n.__ieph=!0}n.setAttribute(e,t)}}var fr={create:dr,update:dr};function hr(n,e){var t=e.elm,r=e.data,o=n.data;if(!(i(r.staticClass)&&i(r.class)&&(i(o)||i(o.staticClass)&&i(o.class)))){var s=Nt(e),c=t._transitionClasses;a(c)&&(s=Jt(s,Ht(c))),s!==t._prevClass&&(t.setAttribute("class",s),t._prevClass=s)}}var yr,vr={create:hr,update:hr};function br(n,e,t){var r=yr;return function o(){var i=e.apply(null,arguments);null!==i&&wr(n,o,t,r)}}var kr=Kn&&!(nn&&Number(nn[1])<=53);function xr(n,e,t,r){if(kr){var o=lt,i=e;e=i._wrapper=function(n){if(n.target===n.currentTarget||n.timeStamp>=o||n.timeStamp<=0||n.target.ownerDocument!==document)return i.apply(this,arguments)}}yr.addEventListener(n,e,tn?{capture:t,passive:r}:t)}function wr(n,e,t,r){(r||yr).removeEventListener(n,e._wrapper||e,t)}function Sr(n,e){if(!i(n.data.on)||!i(e.data.on)){var t=e.data.on||{},r=n.data.on||{};yr=e.elm,function(n){if(a(n.__r)){var e=K?"change":"input";n[e]=[].concat(n.__r,n[e]||[]),delete n.__r}a(n.__c)&&(n.change=[].concat(n.__c,n.change||[]),delete n.__c)}(t),le(t,r,xr,wr,br,e.context),yr=void 0}}var Er,_r={create:Sr,update:Sr};function Tr(n,e){if(!i(n.data.domProps)||!i(e.data.domProps)){var t,r,o=e.elm,s=n.data.domProps||{},c=e.data.domProps||{};for(t in a(c.__ob__)&&(c=e.data.domProps=R({},c)),s)t in c||(o[t]="");for(t in c){if(r=c[t],"textContent"===t||"innerHTML"===t){if(e.children&&(e.children.length=0),r===s[t])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===t&&"PROGRESS"!==o.tagName){o._value=r;var l=i(r)?"":String(r);Ar(o,l)&&(o.value=l)}else if("innerHTML"===t&&Vt(o.tagName)&&i(o.innerHTML)){(Er=Er||document.createElement("div")).innerHTML="<svg>"+r+"</svg>";for(var u=Er.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;u.firstChild;)o.appendChild(u.firstChild)}else if(r!==s[t])try{o[t]=r}catch(n){}}}}function Ar(n,e){return!n.composing&&("OPTION"===n.tagName||function(n,e){var t=!0;try{t=document.activeElement!==n}catch(n){}return t&&n.value!==e}(n,e)||function(n,e){var t=n.value,r=n._vModifiers;if(a(r)){if(r.number)return h(t)!==h(e);if(r.trim)return t.trim()!==e.trim()}return t!==e}(n,e))}var Ir={create:Tr,update:Tr},jr=w((function(n){var e={},t=/:(.+)/;return n.split(/;(?![^(]*\))/g).forEach((function(n){if(n){var r=n.split(t);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function Rr(n){var e=Cr(n.style);return n.staticStyle?R(n.staticStyle,e):e}function Cr(n){return Array.isArray(n)?C(n):"string"==typeof n?jr(n):n}var zr,Or=/^--/,Br=/\s*!important$/,Pr=function(n,e,t){if(Or.test(e))n.style.setProperty(e,t);else if(Br.test(t))n.style.setProperty(A(e),t.replace(Br,""),"important");else{var r=qr(e);if(Array.isArray(t))for(var o=0,i=t.length;o<i;o++)n.style[r]=t[o];else n.style[r]=t}},Dr=["Webkit","Moz","ms"],qr=w((function(n){if(zr=zr||document.createElement("div").style,"filter"!==(n=E(n))&&n in zr)return n;for(var e=n.charAt(0).toUpperCase()+n.slice(1),t=0;t<Dr.length;t++){var r=Dr[t]+e;if(r in zr)return r}}));function Lr(n,e){var t=e.data,r=n.data;if(!(i(t.staticStyle)&&i(t.style)&&i(r.staticStyle)&&i(r.style))){var o,s,c=e.elm,l=r.staticStyle,u=r.normalizedStyle||r.style||{},p=l||u,d=Cr(e.data.style)||{};e.data.normalizedStyle=a(d.__ob__)?R({},d):d;var m=function(n,e){var t,r={};if(e)for(var o=n;o.componentInstance;)(o=o.componentInstance._vnode)&&o.data&&(t=Rr(o.data))&&R(r,t);(t=Rr(n.data))&&R(r,t);for(var i=n;i=i.parent;)i.data&&(t=Rr(i.data))&&R(r,t);return r}(e,!0);for(s in p)i(m[s])&&Pr(c,s,"");for(s in m)(o=m[s])!==p[s]&&Pr(c,s,null==o?"":o)}}var Ur={create:Lr,update:Lr},Mr=/\s+/;function $r(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(Mr).forEach((function(e){return n.classList.add(e)})):n.classList.add(e);else{var t=" "+(n.getAttribute("class")||"")+" ";t.indexOf(" "+e+" ")<0&&n.setAttribute("class",(t+e).trim())}}function Nr(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(Mr).forEach((function(e){return n.classList.remove(e)})):n.classList.remove(e),n.classList.length||n.removeAttribute("class");else{for(var t=" "+(n.getAttribute("class")||"")+" ",r=" "+e+" ";t.indexOf(r)>=0;)t=t.replace(r," ");(t=t.trim())?n.setAttribute("class",t):n.removeAttribute("class")}}function Fr(n){if(n){if("object"==typeof n){var e={};return!1!==n.css&&R(e,Jr(n.name||"v")),R(e,n),e}return"string"==typeof n?Jr(n):void 0}}var Jr=w((function(n){return{enterClass:n+"-enter",enterToClass:n+"-enter-to",enterActiveClass:n+"-enter-active",leaveClass:n+"-leave",leaveToClass:n+"-leave-to",leaveActiveClass:n+"-leave-active"}})),Hr=W&&!Y,Wr="transition",Gr="transitionend",Vr="animation",Qr="animationend";Hr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Wr="WebkitTransition",Gr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Vr="WebkitAnimation",Qr="webkitAnimationEnd"));var Kr=W?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(n){return n()};function Yr(n){Kr((function(){Kr(n)}))}function Xr(n,e){var t=n._transitionClasses||(n._transitionClasses=[]);t.indexOf(e)<0&&(t.push(e),$r(n,e))}function Zr(n,e){n._transitionClasses&&b(n._transitionClasses,e),Nr(n,e)}function no(n,e,t){var r=to(n,e),o=r.type,i=r.timeout,a=r.propCount;if(!o)return t();var s="transition"===o?Gr:Qr,c=0,l=function(){n.removeEventListener(s,u),t()},u=function(e){e.target===n&&++c>=a&&l()};setTimeout((function(){c<a&&l()}),i+1),n.addEventListener(s,u)}var eo=/\b(transform|all)(,|$)/;function to(n,e){var t,r=window.getComputedStyle(n),o=(r[Wr+"Delay"]||"").split(", "),i=(r[Wr+"Duration"]||"").split(", "),a=ro(o,i),s=(r[Vr+"Delay"]||"").split(", "),c=(r[Vr+"Duration"]||"").split(", "),l=ro(s,c),u=0,p=0;return"transition"===e?a>0&&(t="transition",u=a,p=i.length):"animation"===e?l>0&&(t="animation",u=l,p=c.length):p=(t=(u=Math.max(a,l))>0?a>l?"transition":"animation":null)?"transition"===t?i.length:c.length:0,{type:t,timeout:u,propCount:p,hasTransform:"transition"===t&&eo.test(r[Wr+"Property"])}}function ro(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max.apply(null,e.map((function(e,t){return oo(e)+oo(n[t])})))}function oo(n){return 1e3*Number(n.slice(0,-1).replace(",","."))}function io(n,e){var t=n.elm;a(t._leaveCb)&&(t._leaveCb.cancelled=!0,t._leaveCb());var r=Fr(n.data.transition);if(!i(r)&&!a(t._enterCb)&&1===t.nodeType){for(var o=r.css,s=r.type,c=r.enterClass,u=r.enterToClass,p=r.enterActiveClass,d=r.appearClass,m=r.appearToClass,g=r.appearActiveClass,f=r.beforeEnter,y=r.enter,v=r.afterEnter,b=r.enterCancelled,k=r.beforeAppear,x=r.appear,w=r.afterAppear,S=r.appearCancelled,E=r.duration,_=Xe,T=Xe.$vnode;T&&T.parent;)_=T.context,T=T.parent;var A=!_._isMounted||!n.isRootInsert;if(!A||x||""===x){var I=A&&d?d:c,j=A&&g?g:p,R=A&&m?m:u,C=A&&k||f,z=A&&"function"==typeof x?x:y,O=A&&w||v,B=A&&S||b,P=h(l(E)?E.enter:E);0;var D=!1!==o&&!Y,L=co(z),U=t._enterCb=q((function(){D&&(Zr(t,R),Zr(t,j)),U.cancelled?(D&&Zr(t,I),B&&B(t)):O&&O(t),t._enterCb=null}));n.data.show||ue(n,"insert",(function(){var e=t.parentNode,r=e&&e._pending&&e._pending[n.key];r&&r.tag===n.tag&&r.elm._leaveCb&&r.elm._leaveCb(),z&&z(t,U)})),C&&C(t),D&&(Xr(t,I),Xr(t,j),Yr((function(){Zr(t,I),U.cancelled||(Xr(t,R),L||(so(P)?setTimeout(U,P):no(t,s,U)))}))),n.data.show&&(e&&e(),z&&z(t,U)),D||L||U()}}}function ao(n,e){var t=n.elm;a(t._enterCb)&&(t._enterCb.cancelled=!0,t._enterCb());var r=Fr(n.data.transition);if(i(r)||1!==t.nodeType)return e();if(!a(t._leaveCb)){var o=r.css,s=r.type,c=r.leaveClass,u=r.leaveToClass,p=r.leaveActiveClass,d=r.beforeLeave,m=r.leave,g=r.afterLeave,f=r.leaveCancelled,y=r.delayLeave,v=r.duration,b=!1!==o&&!Y,k=co(m),x=h(l(v)?v.leave:v);0;var w=t._leaveCb=q((function(){t.parentNode&&t.parentNode._pending&&(t.parentNode._pending[n.key]=null),b&&(Zr(t,u),Zr(t,p)),w.cancelled?(b&&Zr(t,c),f&&f(t)):(e(),g&&g(t)),t._leaveCb=null}));y?y(S):S()}function S(){w.cancelled||(!n.data.show&&t.parentNode&&((t.parentNode._pending||(t.parentNode._pending={}))[n.key]=n),d&&d(t),b&&(Xr(t,c),Xr(t,p),Yr((function(){Zr(t,c),w.cancelled||(Xr(t,u),k||(so(x)?setTimeout(w,x):no(t,s,w)))}))),m&&m(t,w),b||k||w())}}function so(n){return"number"==typeof n&&!isNaN(n)}function co(n){if(i(n))return!1;var e=n.fns;return a(e)?co(Array.isArray(e)?e[0]:e):(n._length||n.length)>1}function lo(n,e){!0!==e.data.show&&io(e)}var uo=function(n){var e,t,r={},o=n.modules,l=n.nodeOps;for(e=0;e<tr.length;++e)for(r[tr[e]]=[],t=0;t<o.length;++t)a(o[t][tr[e]])&&r[tr[e]].push(o[t][tr[e]]);function u(n){var e=l.parentNode(n);a(e)&&l.removeChild(e,n)}function p(n,e,t,o,i,c,u){if(a(n.elm)&&a(c)&&(n=c[u]=kn(n)),n.isRootInsert=!i,!function(n,e,t,o){var i=n.data;if(a(i)){var c=a(n.componentInstance)&&i.keepAlive;if(a(i=i.hook)&&a(i=i.init)&&i(n,!1),a(n.componentInstance))return d(n,e),m(t,n.elm,o),s(c)&&function(n,e,t,o){var i,s=n;for(;s.componentInstance;)if(s=s.componentInstance._vnode,a(i=s.data)&&a(i=i.transition)){for(i=0;i<r.activate.length;++i)r.activate[i](er,s);e.push(s);break}m(t,n.elm,o)}(n,e,t,o),!0}}(n,e,t,o)){var p=n.data,f=n.children,y=n.tag;a(y)?(n.elm=n.ns?l.createElementNS(n.ns,y):l.createElement(y,n),v(n),g(n,f,e),a(p)&&h(n,e),m(t,n.elm,o)):s(n.isComment)?(n.elm=l.createComment(n.text),m(t,n.elm,o)):(n.elm=l.createTextNode(n.text),m(t,n.elm,o))}}function d(n,e){a(n.data.pendingInsert)&&(e.push.apply(e,n.data.pendingInsert),n.data.pendingInsert=null),n.elm=n.componentInstance.$el,f(n)?(h(n,e),v(n)):(nr(n),e.push(n))}function m(n,e,t){a(n)&&(a(t)?l.parentNode(t)===n&&l.insertBefore(n,e,t):l.appendChild(n,e))}function g(n,e,t){if(Array.isArray(e)){0;for(var r=0;r<e.length;++r)p(e[r],t,n.elm,null,!0,e,r)}else c(n.text)&&l.appendChild(n.elm,l.createTextNode(String(n.text)))}function f(n){for(;n.componentInstance;)n=n.componentInstance._vnode;return a(n.tag)}function h(n,t){for(var o=0;o<r.create.length;++o)r.create[o](er,n);a(e=n.data.hook)&&(a(e.create)&&e.create(er,n),a(e.insert)&&t.push(n))}function v(n){var e;if(a(e=n.fnScopeId))l.setStyleScope(n.elm,e);else for(var t=n;t;)a(e=t.context)&&a(e=e.$options._scopeId)&&l.setStyleScope(n.elm,e),t=t.parent;a(e=Xe)&&e!==n.context&&e!==n.fnContext&&a(e=e.$options._scopeId)&&l.setStyleScope(n.elm,e)}function b(n,e,t,r,o,i){for(;r<=o;++r)p(t[r],i,n,e,!1,t,r)}function k(n){var e,t,o=n.data;if(a(o))for(a(e=o.hook)&&a(e=e.destroy)&&e(n),e=0;e<r.destroy.length;++e)r.destroy[e](n);if(a(e=n.children))for(t=0;t<n.children.length;++t)k(n.children[t])}function x(n,e,t){for(;e<=t;++e){var r=n[e];a(r)&&(a(r.tag)?(w(r),k(r)):u(r.elm))}}function w(n,e){if(a(e)||a(n.data)){var t,o=r.remove.length+1;for(a(e)?e.listeners+=o:e=function(n,e){function t(){0==--t.listeners&&u(n)}return t.listeners=e,t}(n.elm,o),a(t=n.componentInstance)&&a(t=t._vnode)&&a(t.data)&&w(t,e),t=0;t<r.remove.length;++t)r.remove[t](n,e);a(t=n.data.hook)&&a(t=t.remove)?t(n,e):e()}else u(n.elm)}function S(n,e,t,r){for(var o=t;o<r;o++){var i=e[o];if(a(i)&&rr(n,i))return o}}function E(n,e,t,o,c,u){if(n!==e){a(e.elm)&&a(o)&&(e=o[c]=kn(e));var d=e.elm=n.elm;if(s(n.isAsyncPlaceholder))a(e.asyncFactory.resolved)?A(n.elm,e,t):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(n.isStatic)&&e.key===n.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=n.componentInstance;else{var m,g=e.data;a(g)&&a(m=g.hook)&&a(m=m.prepatch)&&m(n,e);var h=n.children,y=e.children;if(a(g)&&f(e)){for(m=0;m<r.update.length;++m)r.update[m](n,e);a(m=g.hook)&&a(m=m.update)&&m(n,e)}i(e.text)?a(h)&&a(y)?h!==y&&function(n,e,t,r,o){var s,c,u,d=0,m=0,g=e.length-1,f=e[0],h=e[g],y=t.length-1,v=t[0],k=t[y],w=!o;for(0;d<=g&&m<=y;)i(f)?f=e[++d]:i(h)?h=e[--g]:rr(f,v)?(E(f,v,r,t,m),f=e[++d],v=t[++m]):rr(h,k)?(E(h,k,r,t,y),h=e[--g],k=t[--y]):rr(f,k)?(E(f,k,r,t,y),w&&l.insertBefore(n,f.elm,l.nextSibling(h.elm)),f=e[++d],k=t[--y]):rr(h,v)?(E(h,v,r,t,m),w&&l.insertBefore(n,h.elm,f.elm),h=e[--g],v=t[++m]):(i(s)&&(s=or(e,d,g)),i(c=a(v.key)?s[v.key]:S(v,e,d,g))?p(v,r,n,f.elm,!1,t,m):rr(u=e[c],v)?(E(u,v,r,t,m),e[c]=void 0,w&&l.insertBefore(n,u.elm,f.elm)):p(v,r,n,f.elm,!1,t,m),v=t[++m]);d>g?b(n,i(t[y+1])?null:t[y+1].elm,t,m,y,r):m>y&&x(e,d,g)}(d,h,y,t,u):a(y)?(a(n.text)&&l.setTextContent(d,""),b(d,null,y,0,y.length-1,t)):a(h)?x(h,0,h.length-1):a(n.text)&&l.setTextContent(d,""):n.text!==e.text&&l.setTextContent(d,e.text),a(g)&&a(m=g.hook)&&a(m=m.postpatch)&&m(n,e)}}}function _(n,e,t){if(s(t)&&a(n.parent))n.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var T=y("attrs,class,staticClass,staticStyle,key");function A(n,e,t,r){var o,i=e.tag,c=e.data,l=e.children;if(r=r||c&&c.pre,e.elm=n,s(e.isComment)&&a(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(a(c)&&(a(o=c.hook)&&a(o=o.init)&&o(e,!0),a(o=e.componentInstance)))return d(e,t),!0;if(a(i)){if(a(l))if(n.hasChildNodes())if(a(o=c)&&a(o=o.domProps)&&a(o=o.innerHTML)){if(o!==n.innerHTML)return!1}else{for(var u=!0,p=n.firstChild,m=0;m<l.length;m++){if(!p||!A(p,l[m],t,r)){u=!1;break}p=p.nextSibling}if(!u||p)return!1}else g(e,l,t);if(a(c)){var f=!1;for(var y in c)if(!T(y)){f=!0,h(e,t);break}!f&&c.class&&ae(c.class)}}else n.data!==e.text&&(n.data=e.text);return!0}return function(n,e,t,o){if(!i(e)){var c,u=!1,d=[];if(i(n))u=!0,p(e,d);else{var m=a(n.nodeType);if(!m&&rr(n,e))E(n,e,d,null,null,o);else{if(m){if(1===n.nodeType&&n.hasAttribute("data-server-rendered")&&(n.removeAttribute("data-server-rendered"),t=!0),s(t)&&A(n,e,d))return _(e,d,!0),n;c=n,n=new hn(l.tagName(c).toLowerCase(),{},[],void 0,c)}var g=n.elm,h=l.parentNode(g);if(p(e,d,g._leaveCb?null:h,l.nextSibling(g)),a(e.parent))for(var y=e.parent,v=f(e);y;){for(var b=0;b<r.destroy.length;++b)r.destroy[b](y);if(y.elm=e.elm,v){for(var w=0;w<r.create.length;++w)r.create[w](er,y);var S=y.data.hook.insert;if(S.merged)for(var T=1;T<S.fns.length;T++)S.fns[T]()}else nr(y);y=y.parent}a(h)?x([n],0,0):a(n.tag)&&k(n)}}return _(e,d,u),e.elm}a(n)&&k(n)}}({nodeOps:Xt,modules:[fr,vr,_r,Ir,Ur,W?{create:lo,activate:lo,remove:function(n,e){!0!==n.data.show?ao(n,e):e()}}:{}].concat(pr)});Y&&document.addEventListener("selectionchange",(function(){var n=document.activeElement;n&&n.vmodel&&bo(n,"input")}));var po={inserted:function(n,e,t,r){"select"===t.tag?(r.elm&&!r.elm._vOptions?ue(t,"postpatch",(function(){po.componentUpdated(n,e,t)})):mo(n,e,t.context),n._vOptions=[].map.call(n.options,ho)):("textarea"===t.tag||Yt(n.type))&&(n._vModifiers=e.modifiers,e.modifiers.lazy||(n.addEventListener("compositionstart",yo),n.addEventListener("compositionend",vo),n.addEventListener("change",vo),Y&&(n.vmodel=!0)))},componentUpdated:function(n,e,t){if("select"===t.tag){mo(n,e,t.context);var r=n._vOptions,o=n._vOptions=[].map.call(n.options,ho);if(o.some((function(n,e){return!P(n,r[e])})))(n.multiple?e.value.some((function(n){return fo(n,o)})):e.value!==e.oldValue&&fo(e.value,o))&&bo(n,"change")}}};function mo(n,e,t){go(n,e,t),(K||X)&&setTimeout((function(){go(n,e,t)}),0)}function go(n,e,t){var r=e.value,o=n.multiple;if(!o||Array.isArray(r)){for(var i,a,s=0,c=n.options.length;s<c;s++)if(a=n.options[s],o)i=D(r,ho(a))>-1,a.selected!==i&&(a.selected=i);else if(P(ho(a),r))return void(n.selectedIndex!==s&&(n.selectedIndex=s));o||(n.selectedIndex=-1)}}function fo(n,e){return e.every((function(e){return!P(e,n)}))}function ho(n){return"_value"in n?n._value:n.value}function yo(n){n.target.composing=!0}function vo(n){n.target.composing&&(n.target.composing=!1,bo(n.target,"input"))}function bo(n,e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),n.dispatchEvent(t)}function ko(n){return!n.componentInstance||n.data&&n.data.transition?n:ko(n.componentInstance._vnode)}var xo={model:po,show:{bind:function(n,e,t){var r=e.value,o=(t=ko(t)).data&&t.data.transition,i=n.__vOriginalDisplay="none"===n.style.display?"":n.style.display;r&&o?(t.data.show=!0,io(t,(function(){n.style.display=i}))):n.style.display=r?i:"none"},update:function(n,e,t){var r=e.value;!r!=!e.oldValue&&((t=ko(t)).data&&t.data.transition?(t.data.show=!0,r?io(t,(function(){n.style.display=n.__vOriginalDisplay})):ao(t,(function(){n.style.display="none"}))):n.style.display=r?n.__vOriginalDisplay:"none")},unbind:function(n,e,t,r,o){o||(n.style.display=n.__vOriginalDisplay)}}},wo={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function So(n){var e=n&&n.componentOptions;return e&&e.Ctor.options.abstract?So(Ge(e.children)):n}function Eo(n){var e={},t=n.$options;for(var r in t.propsData)e[r]=n[r];var o=t._parentListeners;for(var i in o)e[E(i)]=o[i];return e}function _o(n,e){if(/\d-keep-alive$/.test(e.tag))return n("keep-alive",{props:e.componentOptions.propsData})}var To=function(n){return n.tag||ye(n)},Ao=function(n){return"show"===n.name},Io={name:"transition",props:wo,abstract:!0,render:function(n){var e=this,t=this.$slots.default;if(t&&(t=t.filter(To)).length){0;var r=this.mode;0;var o=t[0];if(function(n){for(;n=n.parent;)if(n.data.transition)return!0}(this.$vnode))return o;var i=So(o);if(!i)return o;if(this._leaving)return _o(n,o);var a="__transition-"+this._uid+"-";i.key=null==i.key?i.isComment?a+"comment":a+i.tag:c(i.key)?0===String(i.key).indexOf(a)?i.key:a+i.key:i.key;var s=(i.data||(i.data={})).transition=Eo(this),l=this._vnode,u=So(l);if(i.data.directives&&i.data.directives.some(Ao)&&(i.data.show=!0),u&&u.data&&!function(n,e){return e.key===n.key&&e.tag===n.tag}(i,u)&&!ye(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var p=u.data.transition=R({},s);if("out-in"===r)return this._leaving=!0,ue(p,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),_o(n,o);if("in-out"===r){if(ye(i))return l;var d,m=function(){d()};ue(s,"afterEnter",m),ue(s,"enterCancelled",m),ue(p,"delayLeave",(function(n){d=n}))}}return o}}},jo=R({tag:String,moveClass:String},wo);function Ro(n){n.elm._moveCb&&n.elm._moveCb(),n.elm._enterCb&&n.elm._enterCb()}function Co(n){n.data.newPos=n.elm.getBoundingClientRect()}function zo(n){var e=n.data.pos,t=n.data.newPos,r=e.left-t.left,o=e.top-t.top;if(r||o){n.data.moved=!0;var i=n.elm.style;i.transform=i.WebkitTransform="translate("+r+"px,"+o+"px)",i.transitionDuration="0s"}}delete jo.mode;var Oo={Transition:Io,TransitionGroup:{props:jo,beforeMount:function(){var n=this,e=this._update;this._update=function(t,r){var o=Ze(n);n.__patch__(n._vnode,n.kept,!1,!0),n._vnode=n.kept,o(),e.call(n,t,r)}},render:function(n){for(var e=this.tag||this.$vnode.data.tag||"span",t=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],i=this.children=[],a=Eo(this),s=0;s<o.length;s++){var c=o[s];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))i.push(c),t[c.key]=c,(c.data||(c.data={})).transition=a;else;}if(r){for(var l=[],u=[],p=0;p<r.length;p++){var d=r[p];d.data.transition=a,d.data.pos=d.elm.getBoundingClientRect(),t[d.key]?l.push(d):u.push(d)}this.kept=n(e,null,l),this.removed=u}return n(e,null,i)},updated:function(){var n=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";n.length&&this.hasMove(n[0].elm,e)&&(n.forEach(Ro),n.forEach(Co),n.forEach(zo),this._reflow=document.body.offsetHeight,n.forEach((function(n){if(n.data.moved){var t=n.elm,r=t.style;Xr(t,e),r.transform=r.WebkitTransform=r.transitionDuration="",t.addEventListener(Gr,t._moveCb=function n(r){r&&r.target!==t||r&&!/transform$/.test(r.propertyName)||(t.removeEventListener(Gr,n),t._moveCb=null,Zr(t,e))})}})))},methods:{hasMove:function(n,e){if(!Hr)return!1;if(this._hasMove)return this._hasMove;var t=n.cloneNode();n._transitionClasses&&n._transitionClasses.forEach((function(n){Nr(t,n)})),$r(t,e),t.style.display="none",this.$el.appendChild(t);var r=to(t);return this.$el.removeChild(t),this._hasMove=r.hasTransform}}}};_t.config.mustUseProp=function(n,e,t){return"value"===t&&Bt(n)&&"button"!==e||"selected"===t&&"option"===n||"checked"===t&&"input"===n||"muted"===t&&"video"===n},_t.config.isReservedTag=Qt,_t.config.isReservedAttr=Ot,_t.config.getTagNamespace=function(n){return Vt(n)?"svg":"math"===n?"math":void 0},_t.config.isUnknownElement=function(n){if(!W)return!0;if(Qt(n))return!1;if(n=n.toLowerCase(),null!=Kt[n])return Kt[n];var e=document.createElement(n);return n.indexOf("-")>-1?Kt[n]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Kt[n]=/HTMLUnknownElement/.test(e.toString())},R(_t.options.directives,xo),R(_t.options.components,Oo),_t.prototype.__patch__=W?uo:z,_t.prototype.$mount=function(n,e){return function(n,e,t){var r;return n.$el=e,n.$options.render||(n.$options.render=vn),tt(n,"beforeMount"),r=function(){n._update(n._render(),t)},new gt(n,r,z,{before:function(){n._isMounted&&!n._isDestroyed&&tt(n,"beforeUpdate")}},!0),t=!1,null==n.$vnode&&(n._isMounted=!0,tt(n,"mounted")),n}(this,n=n&&W?function(n){if("string"==typeof n){var e=document.querySelector(n);return e||document.createElement("div")}return n}(n):void 0,e)},W&&setTimeout((function(){M.devtools&&an&&an.emit("init",_t)}),0);var Bo=_t;
/*!
  * vue-router v3.5.3
  * (c) 2021 Evan You
  * @license MIT
  */function Po(n,e){for(var t in e)n[t]=e[t];return n}var Do=/[!'()*]/g,qo=function(n){return"%"+n.charCodeAt(0).toString(16)},Lo=/%2C/g,Uo=function(n){return encodeURIComponent(n).replace(Do,qo).replace(Lo,",")};function Mo(n){try{return decodeURIComponent(n)}catch(n){0}return n}var $o=function(n){return null==n||"object"==typeof n?n:String(n)};function No(n){var e={};return(n=n.trim().replace(/^(\?|#|&)/,""))?(n.split("&").forEach((function(n){var t=n.replace(/\+/g," ").split("="),r=Mo(t.shift()),o=t.length>0?Mo(t.join("=")):null;void 0===e[r]?e[r]=o:Array.isArray(e[r])?e[r].push(o):e[r]=[e[r],o]})),e):e}function Fo(n){var e=n?Object.keys(n).map((function(e){var t=n[e];if(void 0===t)return"";if(null===t)return Uo(e);if(Array.isArray(t)){var r=[];return t.forEach((function(n){void 0!==n&&(null===n?r.push(Uo(e)):r.push(Uo(e)+"="+Uo(n)))})),r.join("&")}return Uo(e)+"="+Uo(t)})).filter((function(n){return n.length>0})).join("&"):null;return e?"?"+e:""}var Jo=/\/?$/;function Ho(n,e,t,r){var o=r&&r.options.stringifyQuery,i=e.query||{};try{i=Wo(i)}catch(n){}var a={name:e.name||n&&n.name,meta:n&&n.meta||{},path:e.path||"/",hash:e.hash||"",query:i,params:e.params||{},fullPath:Qo(e,o),matched:n?Vo(n):[]};return t&&(a.redirectedFrom=Qo(t,o)),Object.freeze(a)}function Wo(n){if(Array.isArray(n))return n.map(Wo);if(n&&"object"==typeof n){var e={};for(var t in n)e[t]=Wo(n[t]);return e}return n}var Go=Ho(null,{path:"/"});function Vo(n){for(var e=[];n;)e.unshift(n),n=n.parent;return e}function Qo(n,e){var t=n.path,r=n.query;void 0===r&&(r={});var o=n.hash;return void 0===o&&(o=""),(t||"/")+(e||Fo)(r)+o}function Ko(n,e,t){return e===Go?n===e:!!e&&(n.path&&e.path?n.path.replace(Jo,"")===e.path.replace(Jo,"")&&(t||n.hash===e.hash&&Yo(n.query,e.query)):!(!n.name||!e.name)&&(n.name===e.name&&(t||n.hash===e.hash&&Yo(n.query,e.query)&&Yo(n.params,e.params))))}function Yo(n,e){if(void 0===n&&(n={}),void 0===e&&(e={}),!n||!e)return n===e;var t=Object.keys(n).sort(),r=Object.keys(e).sort();return t.length===r.length&&t.every((function(t,o){var i=n[t];if(r[o]!==t)return!1;var a=e[t];return null==i||null==a?i===a:"object"==typeof i&&"object"==typeof a?Yo(i,a):String(i)===String(a)}))}function Xo(n){for(var e=0;e<n.matched.length;e++){var t=n.matched[e];for(var r in t.instances){var o=t.instances[r],i=t.enteredCbs[r];if(o&&i){delete t.enteredCbs[r];for(var a=0;a<i.length;a++)o._isBeingDestroyed||i[a](o)}}}}var Zo={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(n,e){var t=e.props,r=e.children,o=e.parent,i=e.data;i.routerView=!0;for(var a=o.$createElement,s=t.name,c=o.$route,l=o._routerViewCache||(o._routerViewCache={}),u=0,p=!1;o&&o._routerRoot!==o;){var d=o.$vnode?o.$vnode.data:{};d.routerView&&u++,d.keepAlive&&o._directInactive&&o._inactive&&(p=!0),o=o.$parent}if(i.routerViewDepth=u,p){var m=l[s],g=m&&m.component;return g?(m.configProps&&ni(g,i,m.route,m.configProps),a(g,i,r)):a()}var f=c.matched[u],h=f&&f.components[s];if(!f||!h)return l[s]=null,a();l[s]={component:h},i.registerRouteInstance=function(n,e){var t=f.instances[s];(e&&t!==n||!e&&t===n)&&(f.instances[s]=e)},(i.hook||(i.hook={})).prepatch=function(n,e){f.instances[s]=e.componentInstance},i.hook.init=function(n){n.data.keepAlive&&n.componentInstance&&n.componentInstance!==f.instances[s]&&(f.instances[s]=n.componentInstance),Xo(c)};var y=f.props&&f.props[s];return y&&(Po(l[s],{route:c,configProps:y}),ni(h,i,c,y)),a(h,i,r)}};function ni(n,e,t,r){var o=e.props=function(n,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(n);case"boolean":return e?n.params:void 0;default:0}}(t,r);if(o){o=e.props=Po({},o);var i=e.attrs=e.attrs||{};for(var a in o)n.props&&a in n.props||(i[a]=o[a],delete o[a])}}function ei(n,e,t){var r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;var o=e.split("/");t&&o[o.length-1]||o.pop();for(var i=n.replace(/^\//,"").split("/"),a=0;a<i.length;a++){var s=i[a];".."===s?o.pop():"."!==s&&o.push(s)}return""!==o[0]&&o.unshift(""),o.join("/")}function ti(n){return n.replace(/\/+/g,"/")}var ri=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)},oi=vi,ii=ui,ai=function(n,e){return di(ui(n,e),e)},si=di,ci=yi,li=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function ui(n,e){for(var t,r=[],o=0,i=0,a="",s=e&&e.delimiter||"/";null!=(t=li.exec(n));){var c=t[0],l=t[1],u=t.index;if(a+=n.slice(i,u),i=u+c.length,l)a+=l[1];else{var p=n[i],d=t[2],m=t[3],g=t[4],f=t[5],h=t[6],y=t[7];a&&(r.push(a),a="");var v=null!=d&&null!=p&&p!==d,b="+"===h||"*"===h,k="?"===h||"*"===h,x=t[2]||s,w=g||f;r.push({name:m||o++,prefix:d||"",delimiter:x,optional:k,repeat:b,partial:v,asterisk:!!y,pattern:w?gi(w):y?".*":"[^"+mi(x)+"]+?"})}}return i<n.length&&(a+=n.substr(i)),a&&r.push(a),r}function pi(n){return encodeURI(n).replace(/[\/?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()}))}function di(n,e){for(var t=new Array(n.length),r=0;r<n.length;r++)"object"==typeof n[r]&&(t[r]=new RegExp("^(?:"+n[r].pattern+")$",hi(e)));return function(e,r){for(var o="",i=e||{},a=(r||{}).pretty?pi:encodeURIComponent,s=0;s<n.length;s++){var c=n[s];if("string"!=typeof c){var l,u=i[c.name];if(null==u){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(ri(u)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var p=0;p<u.length;p++){if(l=a(u[p]),!t[s].test(l))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(l)+"`");o+=(0===p?c.prefix:c.delimiter)+l}}else{if(l=c.asterisk?encodeURI(u).replace(/[?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})):a(u),!t[s].test(l))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+l+'"');o+=c.prefix+l}}else o+=c}return o}}function mi(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function gi(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function fi(n,e){return n.keys=e,n}function hi(n){return n&&n.sensitive?"":"i"}function yi(n,e,t){ri(e)||(t=e||t,e=[]);for(var r=(t=t||{}).strict,o=!1!==t.end,i="",a=0;a<n.length;a++){var s=n[a];if("string"==typeof s)i+=mi(s);else{var c=mi(s.prefix),l="(?:"+s.pattern+")";e.push(s),s.repeat&&(l+="(?:"+c+l+")*"),i+=l=s.optional?s.partial?c+"("+l+")?":"(?:"+c+"("+l+"))?":c+"("+l+")"}}var u=mi(t.delimiter||"/"),p=i.slice(-u.length)===u;return r||(i=(p?i.slice(0,-u.length):i)+"(?:"+u+"(?=$))?"),i+=o?"$":r&&p?"":"(?="+u+"|$)",fi(new RegExp("^"+i,hi(t)),e)}function vi(n,e,t){return ri(e)||(t=e||t,e=[]),t=t||{},n instanceof RegExp?function(n,e){var t=n.source.match(/\((?!\?)/g);if(t)for(var r=0;r<t.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return fi(n,e)}(n,e):ri(n)?function(n,e,t){for(var r=[],o=0;o<n.length;o++)r.push(vi(n[o],e,t).source);return fi(new RegExp("(?:"+r.join("|")+")",hi(t)),e)}(n,e,t):function(n,e,t){return yi(ui(n,t),e,t)}(n,e,t)}oi.parse=ii,oi.compile=ai,oi.tokensToFunction=si,oi.tokensToRegExp=ci;var bi=Object.create(null);function ki(n,e,t){e=e||{};try{var r=bi[n]||(bi[n]=oi.compile(n));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(n){return""}finally{delete e[0]}}function xi(n,e,t,r){var o="string"==typeof n?{path:n}:n;if(o._normalized)return o;if(o.name){var i=(o=Po({},n)).params;return i&&"object"==typeof i&&(o.params=Po({},i)),o}if(!o.path&&o.params&&e){(o=Po({},o))._normalized=!0;var a=Po(Po({},e.params),o.params);if(e.name)o.name=e.name,o.params=a;else if(e.matched.length){var s=e.matched[e.matched.length-1].path;o.path=ki(s,a,e.path)}else 0;return o}var c=function(n){var e="",t="",r=n.indexOf("#");r>=0&&(e=n.slice(r),n=n.slice(0,r));var o=n.indexOf("?");return o>=0&&(t=n.slice(o+1),n=n.slice(0,o)),{path:n,query:t,hash:e}}(o.path||""),l=e&&e.path||"/",u=c.path?ei(c.path,l,t||o.append):l,p=function(n,e,t){void 0===e&&(e={});var r,o=t||No;try{r=o(n||"")}catch(n){r={}}for(var i in e){var a=e[i];r[i]=Array.isArray(a)?a.map($o):$o(a)}return r}(c.query,o.query,r&&r.options.parseQuery),d=o.hash||c.hash;return d&&"#"!==d.charAt(0)&&(d="#"+d),{_normalized:!0,path:u,query:p,hash:d}}var wi,Si=function(){},Ei={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(n){var e=this,t=this.$router,r=this.$route,o=t.resolve(this.to,r,this.append),i=o.location,a=o.route,s=o.href,c={},l=t.options.linkActiveClass,u=t.options.linkExactActiveClass,p=null==l?"router-link-active":l,d=null==u?"router-link-exact-active":u,m=null==this.activeClass?p:this.activeClass,g=null==this.exactActiveClass?d:this.exactActiveClass,f=a.redirectedFrom?Ho(null,xi(a.redirectedFrom),null,t):a;c[g]=Ko(r,f,this.exactPath),c[m]=this.exact||this.exactPath?c[g]:function(n,e){return 0===n.path.replace(Jo,"/").indexOf(e.path.replace(Jo,"/"))&&(!e.hash||n.hash===e.hash)&&function(n,e){for(var t in e)if(!(t in n))return!1;return!0}(n.query,e.query)}(r,f);var h=c[g]?this.ariaCurrentValue:null,y=function(n){_i(n)&&(e.replace?t.replace(i,Si):t.push(i,Si))},v={click:_i};Array.isArray(this.event)?this.event.forEach((function(n){v[n]=y})):v[this.event]=y;var b={class:c},k=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:s,route:a,navigate:y,isActive:c[m],isExactActive:c[g]});if(k){if(1===k.length)return k[0];if(k.length>1||!k.length)return 0===k.length?n():n("span",{},k)}if("a"===this.tag)b.on=v,b.attrs={href:s,"aria-current":h};else{var x=function n(e){var t;if(e)for(var r=0;r<e.length;r++){if("a"===(t=e[r]).tag)return t;if(t.children&&(t=n(t.children)))return t}}(this.$slots.default);if(x){x.isStatic=!1;var w=x.data=Po({},x.data);for(var S in w.on=w.on||{},w.on){var E=w.on[S];S in v&&(w.on[S]=Array.isArray(E)?E:[E])}for(var _ in v)_ in w.on?w.on[_].push(v[_]):w.on[_]=y;var T=x.data.attrs=Po({},x.data.attrs);T.href=s,T["aria-current"]=h}else b.on=v}return n(this.tag,b,this.$slots.default)}};function _i(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey||n.defaultPrevented||void 0!==n.button&&0!==n.button)){if(n.currentTarget&&n.currentTarget.getAttribute){var e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}var Ti="undefined"!=typeof window;function Ai(n,e,t,r,o){var i=e||[],a=t||Object.create(null),s=r||Object.create(null);n.forEach((function(n){!function n(e,t,r,o,i,a){var s=o.path,c=o.name;0;var l=o.pathToRegexpOptions||{},u=function(n,e,t){t||(n=n.replace(/\/$/,""));if("/"===n[0])return n;if(null==e)return n;return ti(e.path+"/"+n)}(s,i,l.strict);"boolean"==typeof o.caseSensitive&&(l.sensitive=o.caseSensitive);var p={path:u,regex:Ii(u,l),components:o.components||{default:o.component},alias:o.alias?"string"==typeof o.alias?[o.alias]:o.alias:[],instances:{},enteredCbs:{},name:c,parent:i,matchAs:a,redirect:o.redirect,beforeEnter:o.beforeEnter,meta:o.meta||{},props:null==o.props?{}:o.components?o.props:{default:o.props}};o.children&&o.children.forEach((function(o){var i=a?ti(a+"/"+o.path):void 0;n(e,t,r,o,p,i)}));t[p.path]||(e.push(p.path),t[p.path]=p);if(void 0!==o.alias)for(var d=Array.isArray(o.alias)?o.alias:[o.alias],m=0;m<d.length;++m){0;var g={path:d[m],children:o.children};n(e,t,r,g,i,p.path||"/")}c&&(r[c]||(r[c]=p))}(i,a,s,n,o)}));for(var c=0,l=i.length;c<l;c++)"*"===i[c]&&(i.push(i.splice(c,1)[0]),l--,c--);return{pathList:i,pathMap:a,nameMap:s}}function Ii(n,e){return oi(n,[],e)}function ji(n,e){var t=Ai(n),r=t.pathList,o=t.pathMap,i=t.nameMap;function a(n,t,a){var s=xi(n,t,!1,e),l=s.name;if(l){var u=i[l];if(!u)return c(null,s);var p=u.regex.keys.filter((function(n){return!n.optional})).map((function(n){return n.name}));if("object"!=typeof s.params&&(s.params={}),t&&"object"==typeof t.params)for(var d in t.params)!(d in s.params)&&p.indexOf(d)>-1&&(s.params[d]=t.params[d]);return s.path=ki(u.path,s.params),c(u,s,a)}if(s.path){s.params={};for(var m=0;m<r.length;m++){var g=r[m],f=o[g];if(Ri(f.regex,s.path,s.params))return c(f,s,a)}}return c(null,s)}function s(n,t){var r=n.redirect,o="function"==typeof r?r(Ho(n,t,null,e)):r;if("string"==typeof o&&(o={path:o}),!o||"object"!=typeof o)return c(null,t);var s=o,l=s.name,u=s.path,p=t.query,d=t.hash,m=t.params;if(p=s.hasOwnProperty("query")?s.query:p,d=s.hasOwnProperty("hash")?s.hash:d,m=s.hasOwnProperty("params")?s.params:m,l){i[l];return a({_normalized:!0,name:l,query:p,hash:d,params:m},void 0,t)}if(u){var g=function(n,e){return ei(n,e.parent?e.parent.path:"/",!0)}(u,n);return a({_normalized:!0,path:ki(g,m),query:p,hash:d},void 0,t)}return c(null,t)}function c(n,t,r){return n&&n.redirect?s(n,r||t):n&&n.matchAs?function(n,e,t){var r=a({_normalized:!0,path:ki(t,e.params)});if(r){var o=r.matched,i=o[o.length-1];return e.params=r.params,c(i,e)}return c(null,e)}(0,t,n.matchAs):Ho(n,t,r,e)}return{match:a,addRoute:function(n,e){var t="object"!=typeof n?i[n]:void 0;Ai([e||n],r,o,i,t),t&&t.alias.length&&Ai(t.alias.map((function(n){return{path:n,children:[e]}})),r,o,i,t)},getRoutes:function(){return r.map((function(n){return o[n]}))},addRoutes:function(n){Ai(n,r,o,i)}}}function Ri(n,e,t){var r=e.match(n);if(!r)return!1;if(!t)return!0;for(var o=1,i=r.length;o<i;++o){var a=n.keys[o-1];a&&(t[a.name||"pathMatch"]="string"==typeof r[o]?Mo(r[o]):r[o])}return!0}var Ci=Ti&&window.performance&&window.performance.now?window.performance:Date;function zi(){return Ci.now().toFixed(3)}var Oi=zi();function Bi(){return Oi}function Pi(n){return Oi=n}var Di=Object.create(null);function qi(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var n=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(n,""),t=Po({},window.history.state);return t.key=Bi(),window.history.replaceState(t,"",e),window.addEventListener("popstate",Mi),function(){window.removeEventListener("popstate",Mi)}}function Li(n,e,t,r){if(n.app){var o=n.options.scrollBehavior;o&&n.app.$nextTick((function(){var i=function(){var n=Bi();if(n)return Di[n]}(),a=o.call(n,e,t,r?i:null);a&&("function"==typeof a.then?a.then((function(n){Hi(n,i)})).catch((function(n){0})):Hi(a,i))}))}}function Ui(){var n=Bi();n&&(Di[n]={x:window.pageXOffset,y:window.pageYOffset})}function Mi(n){Ui(),n.state&&n.state.key&&Pi(n.state.key)}function $i(n){return Fi(n.x)||Fi(n.y)}function Ni(n){return{x:Fi(n.x)?n.x:window.pageXOffset,y:Fi(n.y)?n.y:window.pageYOffset}}function Fi(n){return"number"==typeof n}var Ji=/^#\d/;function Hi(n,e){var t,r="object"==typeof n;if(r&&"string"==typeof n.selector){var o=Ji.test(n.selector)?document.getElementById(n.selector.slice(1)):document.querySelector(n.selector);if(o){var i=n.offset&&"object"==typeof n.offset?n.offset:{};e=function(n,e){var t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{x:r.left-t.left-e.x,y:r.top-t.top-e.y}}(o,i={x:Fi((t=i).x)?t.x:0,y:Fi(t.y)?t.y:0})}else $i(n)&&(e=Ni(n))}else r&&$i(n)&&(e=Ni(n));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:n.behavior}):window.scrollTo(e.x,e.y))}var Wi,Gi=Ti&&((-1===(Wi=window.navigator.userAgent).indexOf("Android 2.")&&-1===Wi.indexOf("Android 4.0")||-1===Wi.indexOf("Mobile Safari")||-1!==Wi.indexOf("Chrome")||-1!==Wi.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function Vi(n,e){Ui();var t=window.history;try{if(e){var r=Po({},t.state);r.key=Bi(),t.replaceState(r,"",n)}else t.pushState({key:Pi(zi())},"",n)}catch(t){window.location[e?"replace":"assign"](n)}}function Qi(n){Vi(n,!0)}function Ki(n,e,t){var r=function(o){o>=n.length?t():n[o]?e(n[o],(function(){r(o+1)})):r(o+1)};r(0)}var Yi={redirected:2,aborted:4,cancelled:8,duplicated:16};function Xi(n,e){return na(n,e,Yi.redirected,'Redirected when going from "'+n.fullPath+'" to "'+function(n){if("string"==typeof n)return n;if("path"in n)return n.path;var e={};return ea.forEach((function(t){t in n&&(e[t]=n[t])})),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}function Zi(n,e){return na(n,e,Yi.cancelled,'Navigation cancelled from "'+n.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function na(n,e,t,r){var o=new Error(r);return o._isRouter=!0,o.from=n,o.to=e,o.type=t,o}var ea=["params","query","hash"];function ta(n){return Object.prototype.toString.call(n).indexOf("Error")>-1}function ra(n,e){return ta(n)&&n._isRouter&&(null==e||n.type===e)}function oa(n){return function(e,t,r){var o=!1,i=0,a=null;ia(n,(function(n,e,t,s){if("function"==typeof n&&void 0===n.cid){o=!0,i++;var c,l=ca((function(e){var o;((o=e).__esModule||sa&&"Module"===o[Symbol.toStringTag])&&(e=e.default),n.resolved="function"==typeof e?e:wi.extend(e),t.components[s]=e,--i<=0&&r()})),u=ca((function(n){var e="Failed to resolve async component "+s+": "+n;a||(a=ta(n)?n:new Error(e),r(a))}));try{c=n(l,u)}catch(n){u(n)}if(c)if("function"==typeof c.then)c.then(l,u);else{var p=c.component;p&&"function"==typeof p.then&&p.then(l,u)}}})),o||r()}}function ia(n,e){return aa(n.map((function(n){return Object.keys(n.components).map((function(t){return e(n.components[t],n.instances[t],n,t)}))})))}function aa(n){return Array.prototype.concat.apply([],n)}var sa="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function ca(n){var e=!1;return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(!e)return e=!0,n.apply(this,t)}}var la=function(n,e){this.router=n,this.base=function(n){if(!n)if(Ti){var e=document.querySelector("base");n=(n=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else n="/";"/"!==n.charAt(0)&&(n="/"+n);return n.replace(/\/$/,"")}(e),this.current=Go,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function ua(n,e,t,r){var o=ia(n,(function(n,r,o,i){var a=function(n,e){"function"!=typeof n&&(n=wi.extend(n));return n.options[e]}(n,e);if(a)return Array.isArray(a)?a.map((function(n){return t(n,r,o,i)})):t(a,r,o,i)}));return aa(r?o.reverse():o)}function pa(n,e){if(e)return function(){return n.apply(e,arguments)}}la.prototype.listen=function(n){this.cb=n},la.prototype.onReady=function(n,e){this.ready?n():(this.readyCbs.push(n),e&&this.readyErrorCbs.push(e))},la.prototype.onError=function(n){this.errorCbs.push(n)},la.prototype.transitionTo=function(n,e,t){var r,o=this;try{r=this.router.match(n,this.current)}catch(n){throw this.errorCbs.forEach((function(e){e(n)})),n}var i=this.current;this.confirmTransition(r,(function(){o.updateRoute(r),e&&e(r),o.ensureURL(),o.router.afterHooks.forEach((function(n){n&&n(r,i)})),o.ready||(o.ready=!0,o.readyCbs.forEach((function(n){n(r)})))}),(function(n){t&&t(n),n&&!o.ready&&(ra(n,Yi.redirected)&&i===Go||(o.ready=!0,o.readyErrorCbs.forEach((function(e){e(n)}))))}))},la.prototype.confirmTransition=function(n,e,t){var r=this,o=this.current;this.pending=n;var i,a,s=function(n){!ra(n)&&ta(n)&&(r.errorCbs.length?r.errorCbs.forEach((function(e){e(n)})):console.error(n)),t&&t(n)},c=n.matched.length-1,l=o.matched.length-1;if(Ko(n,o)&&c===l&&n.matched[c]===o.matched[l])return this.ensureURL(),n.hash&&Li(this.router,o,n,!1),s(((a=na(i=o,n,Yi.duplicated,'Avoided redundant navigation to current location: "'+i.fullPath+'".')).name="NavigationDuplicated",a));var u=function(n,e){var t,r=Math.max(n.length,e.length);for(t=0;t<r&&n[t]===e[t];t++);return{updated:e.slice(0,t),activated:e.slice(t),deactivated:n.slice(t)}}(this.current.matched,n.matched),p=u.updated,d=u.deactivated,m=u.activated,g=[].concat(function(n){return ua(n,"beforeRouteLeave",pa,!0)}(d),this.router.beforeHooks,function(n){return ua(n,"beforeRouteUpdate",pa)}(p),m.map((function(n){return n.beforeEnter})),oa(m)),f=function(e,t){if(r.pending!==n)return s(Zi(o,n));try{e(n,o,(function(e){!1===e?(r.ensureURL(!0),s(function(n,e){return na(n,e,Yi.aborted,'Navigation aborted from "'+n.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(o,n))):ta(e)?(r.ensureURL(!0),s(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(s(Xi(o,n)),"object"==typeof e&&e.replace?r.replace(e):r.push(e)):t(e)}))}catch(n){s(n)}};Ki(g,f,(function(){Ki(function(n){return ua(n,"beforeRouteEnter",(function(n,e,t,r){return function(n,e,t){return function(r,o,i){return n(r,o,(function(n){"function"==typeof n&&(e.enteredCbs[t]||(e.enteredCbs[t]=[]),e.enteredCbs[t].push(n)),i(n)}))}}(n,t,r)}))}(m).concat(r.router.resolveHooks),f,(function(){if(r.pending!==n)return s(Zi(o,n));r.pending=null,e(n),r.router.app&&r.router.app.$nextTick((function(){Xo(n)}))}))}))},la.prototype.updateRoute=function(n){this.current=n,this.cb&&this.cb(n)},la.prototype.setupListeners=function(){},la.prototype.teardown=function(){this.listeners.forEach((function(n){n()})),this.listeners=[],this.current=Go,this.pending=null};var da=function(n){function e(e,t){n.call(this,e,t),this._startLocation=ma(this.base)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router,t=e.options.scrollBehavior,r=Gi&&t;r&&this.listeners.push(qi());var o=function(){var t=n.current,o=ma(n.base);n.current===Go&&o===n._startLocation||n.transitionTo(o,(function(n){r&&Li(e,n,t,!0)}))};window.addEventListener("popstate",o),this.listeners.push((function(){window.removeEventListener("popstate",o)}))}},e.prototype.go=function(n){window.history.go(n)},e.prototype.push=function(n,e,t){var r=this,o=this.current;this.transitionTo(n,(function(n){Vi(ti(r.base+n.fullPath)),Li(r.router,n,o,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,o=this.current;this.transitionTo(n,(function(n){Qi(ti(r.base+n.fullPath)),Li(r.router,n,o,!1),e&&e(n)}),t)},e.prototype.ensureURL=function(n){if(ma(this.base)!==this.current.fullPath){var e=ti(this.base+this.current.fullPath);n?Vi(e):Qi(e)}},e.prototype.getCurrentLocation=function(){return ma(this.base)},e}(la);function ma(n){var e=window.location.pathname,t=e.toLowerCase(),r=n.toLowerCase();return!n||t!==r&&0!==t.indexOf(ti(r+"/"))||(e=e.slice(n.length)),(e||"/")+window.location.search+window.location.hash}var ga=function(n){function e(e,t,r){n.call(this,e,t),r&&function(n){var e=ma(n);if(!/^\/#/.test(e))return window.location.replace(ti(n+"/#"+e)),!0}(this.base)||fa()}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,t=Gi&&e;t&&this.listeners.push(qi());var r=function(){var e=n.current;fa()&&n.transitionTo(ha(),(function(r){t&&Li(n.router,r,e,!0),Gi||ba(r.fullPath)}))},o=Gi?"popstate":"hashchange";window.addEventListener(o,r),this.listeners.push((function(){window.removeEventListener(o,r)}))}},e.prototype.push=function(n,e,t){var r=this,o=this.current;this.transitionTo(n,(function(n){va(n.fullPath),Li(r.router,n,o,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,o=this.current;this.transitionTo(n,(function(n){ba(n.fullPath),Li(r.router,n,o,!1),e&&e(n)}),t)},e.prototype.go=function(n){window.history.go(n)},e.prototype.ensureURL=function(n){var e=this.current.fullPath;ha()!==e&&(n?va(e):ba(e))},e.prototype.getCurrentLocation=function(){return ha()},e}(la);function fa(){var n=ha();return"/"===n.charAt(0)||(ba("/"+n),!1)}function ha(){var n=window.location.href,e=n.indexOf("#");return e<0?"":n=n.slice(e+1)}function ya(n){var e=window.location.href,t=e.indexOf("#");return(t>=0?e.slice(0,t):e)+"#"+n}function va(n){Gi?Vi(ya(n)):window.location.hash=n}function ba(n){Gi?Qi(ya(n)):window.location.replace(ya(n))}var ka=function(n){function e(e,t){n.call(this,e,t),this.stack=[],this.index=-1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.push=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index+1).concat(n),r.index++,e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index).concat(n),e&&e(n)}),t)},e.prototype.go=function(n){var e=this,t=this.index+n;if(!(t<0||t>=this.stack.length)){var r=this.stack[t];this.confirmTransition(r,(function(){var n=e.current;e.index=t,e.updateRoute(r),e.router.afterHooks.forEach((function(e){e&&e(r,n)}))}),(function(n){ra(n,Yi.duplicated)&&(e.index=t)}))}},e.prototype.getCurrentLocation=function(){var n=this.stack[this.stack.length-1];return n?n.fullPath:"/"},e.prototype.ensureURL=function(){},e}(la),xa=function(n){void 0===n&&(n={}),this.app=null,this.apps=[],this.options=n,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=ji(n.routes||[],this);var e=n.mode||"hash";switch(this.fallback="history"===e&&!Gi&&!1!==n.fallback,this.fallback&&(e="hash"),Ti||(e="abstract"),this.mode=e,e){case"history":this.history=new da(this,n.base);break;case"hash":this.history=new ga(this,n.base,this.fallback);break;case"abstract":this.history=new ka(this,n.base);break;default:0}},wa={currentRoute:{configurable:!0}};function Sa(n,e){return n.push(e),function(){var t=n.indexOf(e);t>-1&&n.splice(t,1)}}xa.prototype.match=function(n,e,t){return this.matcher.match(n,e,t)},wa.currentRoute.get=function(){return this.history&&this.history.current},xa.prototype.init=function(n){var e=this;if(this.apps.push(n),n.$once("hook:destroyed",(function(){var t=e.apps.indexOf(n);t>-1&&e.apps.splice(t,1),e.app===n&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=n;var t=this.history;if(t instanceof da||t instanceof ga){var r=function(n){t.setupListeners(),function(n){var r=t.current,o=e.options.scrollBehavior;Gi&&o&&"fullPath"in n&&Li(e,n,r,!1)}(n)};t.transitionTo(t.getCurrentLocation(),r,r)}t.listen((function(n){e.apps.forEach((function(e){e._route=n}))}))}},xa.prototype.beforeEach=function(n){return Sa(this.beforeHooks,n)},xa.prototype.beforeResolve=function(n){return Sa(this.resolveHooks,n)},xa.prototype.afterEach=function(n){return Sa(this.afterHooks,n)},xa.prototype.onReady=function(n,e){this.history.onReady(n,e)},xa.prototype.onError=function(n){this.history.onError(n)},xa.prototype.push=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.push(n,e,t)}));this.history.push(n,e,t)},xa.prototype.replace=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.replace(n,e,t)}));this.history.replace(n,e,t)},xa.prototype.go=function(n){this.history.go(n)},xa.prototype.back=function(){this.go(-1)},xa.prototype.forward=function(){this.go(1)},xa.prototype.getMatchedComponents=function(n){var e=n?n.matched?n:this.resolve(n).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(n){return Object.keys(n.components).map((function(e){return n.components[e]}))}))):[]},xa.prototype.resolve=function(n,e,t){var r=xi(n,e=e||this.history.current,t,this),o=this.match(r,e),i=o.redirectedFrom||o.fullPath;return{location:r,route:o,href:function(n,e,t){var r="hash"===t?"#"+e:e;return n?ti(n+"/"+r):r}(this.history.base,i,this.mode),normalizedTo:r,resolved:o}},xa.prototype.getRoutes=function(){return this.matcher.getRoutes()},xa.prototype.addRoute=function(n,e){this.matcher.addRoute(n,e),this.history.current!==Go&&this.history.transitionTo(this.history.getCurrentLocation())},xa.prototype.addRoutes=function(n){this.matcher.addRoutes(n),this.history.current!==Go&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(xa.prototype,wa),xa.install=function n(e){if(!n.installed||wi!==e){n.installed=!0,wi=e;var t=function(n){return void 0!==n},r=function(n,e){var r=n.$options._parentVnode;t(r)&&t(r=r.data)&&t(r=r.registerRouteInstance)&&r(n,e)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",Zo),e.component("RouterLink",Ei);var o=e.config.optionMergeStrategies;o.beforeRouteEnter=o.beforeRouteLeave=o.beforeRouteUpdate=o.created}},xa.version="3.5.3",xa.isNavigationFailure=ra,xa.NavigationFailureType=Yi,xa.START_LOCATION=Go,Ti&&window.Vue&&window.Vue.use(xa);var Ea=xa;t(170),t(171),t(250),t(101),t(252),t(27),t(28),t(253);function _a(n){n.locales&&Object.keys(n.locales).forEach((function(e){n.locales[e].path=e})),Object.freeze(n)}t(67),t(89),t(122);function Ta(n){return(Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var Aa=t(69),Ia=(t(181),t(21),t(52),t(227),t(228),t(40),t(29),{NotFound:function(){return Promise.all([t.e(0),t.e(4)]).then(t.bind(null,476))},Layout:function(){return Promise.all([t.e(0),t.e(2)]).then(t.bind(null,475))}}),ja={"v-25b81bb6":function(){return t.e(5).then(t.bind(null,477))},"v-00c345ae":function(){return t.e(6).then(t.bind(null,478))},"v-ab13ac78":function(){return t.e(7).then(t.bind(null,479))},"v-53104ef6":function(){return t.e(8).then(t.bind(null,480))},"v-1a9d53e5":function(){return t.e(9).then(t.bind(null,481))},"v-150b83f6":function(){return t.e(10).then(t.bind(null,482))},"v-400d4d36":function(){return t.e(11).then(t.bind(null,483))},"v-460154d7":function(){return t.e(12).then(t.bind(null,484))},"v-1b773c08":function(){return t.e(13).then(t.bind(null,485))},"v-b06ecd3a":function(){return t.e(14).then(t.bind(null,486))},"v-b673a666":function(){return t.e(15).then(t.bind(null,487))},"v-e72bac0a":function(){return t.e(16).then(t.bind(null,488))},"v-732a2f39":function(){return t.e(17).then(t.bind(null,489))},"v-4a0974f9":function(){return t.e(18).then(t.bind(null,490))},"v-035690b5":function(){return t.e(19).then(t.bind(null,491))},"v-9a2f34ce":function(){return t.e(20).then(t.bind(null,492))},"v-7e99b8ce":function(){return t.e(21).then(t.bind(null,493))},"v-f18c332a":function(){return t.e(22).then(t.bind(null,494))},"v-e80e330a":function(){return t.e(23).then(t.bind(null,495))},"v-4fb836dd":function(){return t.e(24).then(t.bind(null,496))},"v-4c310cce":function(){return t.e(25).then(t.bind(null,497))},"v-7b4d7bc7":function(){return t.e(26).then(t.bind(null,498))},"v-525c82f9":function(){return t.e(27).then(t.bind(null,499))},"v-0f635eb9":function(){return t.e(28).then(t.bind(null,500))},"v-51306d75":function(){return t.e(29).then(t.bind(null,501))},"v-333d5a73":function(){return t.e(30).then(t.bind(null,502))},"v-33820a93":function(){return t.e(31).then(t.bind(null,503))},"v-680b3833":function(){return t.e(32).then(t.bind(null,504))},"v-097f0cda":function(){return t.e(33).then(t.bind(null,505))},"v-0967cebd":function(){return t.e(34).then(t.bind(null,506))},"v-6903b558":function(){return t.e(35).then(t.bind(null,507))},"v-a0ce0a92":function(){return t.e(36).then(t.bind(null,508))},"v-4174c5c8":function(){return t.e(37).then(t.bind(null,509))},"v-193cd5cd":function(){return t.e(38).then(t.bind(null,510))},"v-03fefd3b":function(){return t.e(39).then(t.bind(null,511))},"v-61294425":function(){return t.e(40).then(t.bind(null,512))},"v-05930a17":function(){return t.e(41).then(t.bind(null,513))},"v-01780501":function(){return t.e(42).then(t.bind(null,514))},"v-67ad6d8f":function(){return t.e(43).then(t.bind(null,515))},"v-2f299662":function(){return t.e(44).then(t.bind(null,516))},"v-4de5e5e9":function(){return t.e(45).then(t.bind(null,517))},"v-24bd736f":function(){return t.e(46).then(t.bind(null,518))},"v-a1f6d0d6":function(){return t.e(47).then(t.bind(null,519))},"v-3259f422":function(){return t.e(48).then(t.bind(null,520))},"v-2f26580a":function(){return t.e(49).then(t.bind(null,521))},"v-1f6f6185":function(){return t.e(50).then(t.bind(null,522))},"v-55f08350":function(){return t.e(51).then(t.bind(null,523))},"v-5889e6e6":function(){return t.e(52).then(t.bind(null,524))},"v-2c7c7647":function(){return t.e(53).then(t.bind(null,525))},"v-7b54e78f":function(){return t.e(54).then(t.bind(null,526))},"v-0f82412e":function(){return t.e(55).then(t.bind(null,527))},"v-7c876527":function(){return t.e(56).then(t.bind(null,528))},"v-b54b2dd0":function(){return t.e(57).then(t.bind(null,529))},"v-e40802de":function(){return t.e(58).then(t.bind(null,530))}};function Ra(n){var e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}var Ca=/-(\w)/g,za=Ra((function(n){return n.replace(Ca,(function(n,e){return e?e.toUpperCase():""}))})),Oa=/\B([A-Z])/g,Ba=Ra((function(n){return n.replace(Oa,"-$1").toLowerCase()})),Pa=Ra((function(n){return n.charAt(0).toUpperCase()+n.slice(1)}));function Da(n,e){if(e)return n(e)?n(e):e.includes("-")?n(Pa(za(e))):n(Pa(e))||n(Ba(e))}var qa=Object.assign({},Ia,ja),La=function(n){return qa[n]},Ua=function(n){return ja[n]},Ma=function(n){return Ia[n]},$a=function(n){return Bo.component(n)};function Na(n){return Da(Ua,n)}function Fa(n){return Da(Ma,n)}function Ja(n){return Da(La,n)}function Ha(n){return Da($a,n)}function Wa(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Promise.all(e.filter((function(n){return n})).map(function(){var n=Object(r.a)(regeneratorRuntime.mark((function n(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(Ha(e)||!Ja(e)){n.next=5;break}return n.next=3,Ja(e)();case 3:t=n.sent,Bo.component(e,t.default);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()))}function Ga(n,e){"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[n]=e)}var Va=t(133),Qa=(t(266),t(144),t(99),t(212)),Ka=t.n(Qa),Ya=t(213),Xa=t.n(Ya),Za={created:function(){if(this.siteMeta=this.$site.headTags.filter((function(n){return"meta"===Object(Va.a)(n,1)[0]})).map((function(n){var e=Object(Va.a)(n,2);e[0];return e[1]})),this.$ssrContext){var n=this.getMergedMetaTags();this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.pageMeta=(e=n)?e.map((function(n){var e="<meta";return Object.keys(n).forEach((function(t){e+=" ".concat(t,'="').concat(Xa()(n[t]),'"')})),e+">"})).join("\n    "):"",this.$ssrContext.canonicalLink=es(this.$canonicalUrl)}var e},mounted:function(){this.currentMetaTags=Object(Aa.a)(document.querySelectorAll("meta")),this.updateMeta(),this.updateCanonicalLink()},methods:{updateMeta:function(){document.title=this.$title,document.documentElement.lang=this.$lang;var n=this.getMergedMetaTags();this.currentMetaTags=ts(n,this.currentMetaTags)},getMergedMetaTags:function(){var n=this.$page.frontmatter.meta||[];return Ka()([{name:"description",content:this.$description}],n,this.siteMeta,rs)},updateCanonicalLink:function(){ns(),this.$canonicalUrl&&document.head.insertAdjacentHTML("beforeend",es(this.$canonicalUrl))}},watch:{$page:function(){this.updateMeta(),this.updateCanonicalLink()}},beforeDestroy:function(){ts(null,this.currentMetaTags),ns()}};function ns(){var n=document.querySelector("link[rel='canonical']");n&&n.remove()}function es(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n?'<link href="'.concat(n,'" rel="canonical" />'):""}function ts(n,e){if(e&&Object(Aa.a)(e).filter((function(n){return n.parentNode===document.head})).forEach((function(n){return document.head.removeChild(n)})),n)return n.map((function(n){var e=document.createElement("meta");return Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),document.head.appendChild(e),e}))}function rs(n){for(var e=0,t=["name","property","itemprop"];e<t.length;e++){var r=t[e];if(n.hasOwnProperty(r))return n[r]+r}return JSON.stringify(n)}t(134);var os=t(146),is={mounted:function(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:t.n(os)()((function(){this.setActiveHash()}),300),setActiveHash:function(){for(var n=this,e=[].slice.call(document.querySelectorAll(".sidebar-link")),t=[].slice.call(document.querySelectorAll(".header-anchor")).filter((function(n){return e.some((function(e){return e.hash===n.hash}))})),r=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),o=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=window.innerHeight+r,a=0;a<t.length;a++){var s=t[a],c=t[a+1],l=0===a&&0===r||r>=s.parentElement.offsetTop+10&&(!c||r<c.parentElement.offsetTop-10),u=decodeURIComponent(this.$route.hash);if(l&&u!==decodeURIComponent(s.hash)){var p=s;if(i===o)for(var d=a+1;d<t.length;d++)if(u===decodeURIComponent(t[d].hash))return;return this.$vuepress.$set("disableScrollBehavior",!0),void this.$router.replace(decodeURIComponent(p.hash),(function(){n.$nextTick((function(){n.$vuepress.$set("disableScrollBehavior",!1)}))}))}}}},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll)}},as=(t(105),t(98)),ss=t.n(as),cs={mounted:function(){var n=this;ss.a.configure({showSpinner:!1}),this.$router.beforeEach((function(n,e,t){n.path===e.path||Bo.component(n.name)||ss.a.start(),t()})),this.$router.afterEach((function(){ss.a.done(),n.isSidebarOpen=!1}))}};t(73),t(72),t(76),t(361);function ls(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}t(96);function us(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function ps(n,e,t){return e&&us(n.prototype,e),t&&us(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}t(362);var ds=function(){function n(){ls(this,n);this.containerEl=document.getElementById("message-container"),this.containerEl||(this.containerEl=document.createElement("div"),this.containerEl.id="message-container",document.body.appendChild(this.containerEl))}return ps(n,[{key:"show",value:function(n){var e=this,t=n.text,r=void 0===t?"":t,o=n.duration,i=void 0===o?3e3:o,a=document.createElement("div");a.className="message move-in",a.innerHTML='\n      <i style="fill: #06a35a;font-size: 14px;display:inline-flex;align-items: center;">\n        <svg style="fill: #06a35a;font-size: 14px;" t="1572421810237" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2323" width="16" height="16"><path d="M822.811993 824.617989c-83.075838 81.99224-188.546032 124.613757-316.049383 127.86455-122.085362-3.250794-223.943563-45.87231-305.935802-127.86455s-124.613757-184.21164-127.86455-305.935802c3.250794-127.503351 45.87231-232.973545 127.86455-316.049383 81.99224-83.075838 184.21164-126.058554 305.935802-129.309347 127.503351 3.250794 232.973545 46.23351 316.049383 129.309347 83.075838 83.075838 126.058554 188.546032 129.309347 316.049383C949.231746 640.406349 905.887831 742.62575 822.811993 824.617989zM432.716755 684.111464c3.973192 3.973192 8.307584 5.779189 13.364374 6.140388 5.05679 0.361199 9.752381-1.444797 13.364374-5.417989l292.571429-287.514638c3.973192-3.973192 5.779189-8.307584 5.779189-13.364374 0-5.05679-1.805996-9.752381-5.779189-13.364374l1.805996 1.805996c-3.973192-3.973192-8.668783-5.779189-14.086772-6.140388-5.417989-0.361199-10.47478 1.444797-14.809171 5.417989l-264.397884 220.33157c-3.973192 3.250794-8.668783 4.695591-14.447972 4.695591-5.779189 0-10.835979-1.444797-15.53157-3.973192l-94.273016-72.962257c-4.334392-3.250794-9.391182-4.334392-14.447972-3.973192s-9.391182 3.250794-12.641975 7.585185l-2.889594 3.973192c-3.250794 4.334392-4.334392 9.391182-3.973192 14.809171 0.722399 5.417989 2.528395 10.11358 5.779189 14.086772L432.716755 684.111464z" p-id="2324"></path></svg>\n      </i>\n      <div class="text">'.concat(r,"</div>\n    "),this.containerEl.appendChild(a),i>0&&setTimeout((function(){e.close(a)}),i)}},{key:"close",value:function(n){n.className=n.className.replace("move-in",""),n.className+="move-out",n.addEventListener("animationend",(function(){n.remove()}))}}]),n}(),ms={mounted:function(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},updated:function(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},methods:{updateCopy:function(){var n=this;setTimeout((function(){(['div[class*="language-"] pre','div[class*="aside-code"] aside']instanceof Array||Array.isArray(['div[class*="language-"] pre','div[class*="aside-code"] aside']))&&['div[class*="language-"] pre','div[class*="aside-code"] aside'].forEach((function(e){document.querySelectorAll(e).forEach(n.generateCopyButton)}))}),1e3)},generateCopyButton:function(n){var e=this;if(!n.classList.contains("codecopy-enabled")){var t=document.createElement("i");t.className="code-copy",t.innerHTML='<svg  style="color:#aaa;font-size:14px" t="1572422231464" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3201" width="14" height="14"><path d="M866.461538 39.384615H354.461538c-43.323077 0-78.769231 35.446154-78.76923 78.769231v39.384616h472.615384c43.323077 0 78.769231 35.446154 78.769231 78.76923v551.384616h39.384615c43.323077 0 78.769231-35.446154 78.769231-78.769231V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231z m-118.153846 275.692308c0-43.323077-35.446154-78.769231-78.76923-78.769231H157.538462c-43.323077 0-78.769231 35.446154-78.769231 78.769231v590.769231c0 43.323077 35.446154 78.769231 78.769231 78.769231h512c43.323077 0 78.769231-35.446154 78.76923-78.769231V315.076923z m-354.461538 137.846154c0 11.815385-7.876923 19.692308-19.692308 19.692308h-157.538461c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h157.538461c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z m157.538461 315.076923c0 11.815385-7.876923 19.692308-19.692307 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h315.076923c11.815385 0 19.692308 7.876923 19.692307 19.692308v39.384615z m78.769231-157.538462c0 11.815385-7.876923 19.692308-19.692308 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h393.846153c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z" p-id="3202"></path></svg>',t.title="å¤å¶å°åªè´´æ¿",t.addEventListener("click",(function(){e.copyToClipboard(n.innerText)})),n.appendChild(t),n.classList.add("codecopy-enabled")}},copyToClipboard:function(n){var e=document.createElement("textarea");e.value=n,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);var t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select(),document.execCommand("copy"),(new ds).show({text:"å¤å¶æå",duration:500}),document.body.removeChild(e),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))}}},gs=(t(216),"auto"),fs="zoom-in",hs="zoom-out",ys="grab",vs="move";function bs(n,e,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o={passive:!1};r?n.addEventListener(e,t,o):n.removeEventListener(e,t,o)}function ks(n,e){if(n){var t=new Image;t.onload=function(){e&&e(t)},t.src=n}}function xs(n){return n.dataset.original?n.dataset.original:"A"===n.parentNode.tagName?n.parentNode.getAttribute("href"):null}function ws(n,e,t){!function(n){var e=Ss,t=Es;if(n.transition){var r=n.transition;delete n.transition,n[e]=r}if(n.transform){var o=n.transform;delete n.transform,n[t]=o}}(e);var r=n.style,o={};for(var i in e)t&&(o[i]=r[i]||""),r[i]=e[i];return o}var Ss="transition",Es="transform",_s="transform",Ts="transitionend";var As=function(){},Is={enableGrab:!0,preloadImage:!1,closeOnWindowResize:!0,transitionDuration:.4,transitionTimingFunction:"cubic-bezier(0.4, 0, 0, 1)",bgColor:"rgb(255, 255, 255)",bgOpacity:1,scaleBase:1,scaleExtra:.5,scrollThreshold:40,zIndex:998,customSize:null,onOpen:As,onClose:As,onGrab:As,onMove:As,onRelease:As,onBeforeOpen:As,onBeforeClose:As,onBeforeGrab:As,onBeforeRelease:As,onImageLoading:As,onImageLoaded:As},js={init:function(n){var e,t;e=this,t=n,Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(n){e[n]=e[n].bind(t)}))},click:function(n){if(n.preventDefault(),Cs(n))return window.open(this.target.srcOriginal||n.currentTarget.src,"_blank");this.shown?this.released?this.close():this.release():this.open(n.currentTarget)},scroll:function(){var n=document.documentElement||document.body.parentNode||document.body,e=window.pageXOffset||n.scrollLeft,t=window.pageYOffset||n.scrollTop;null===this.lastScrollPosition&&(this.lastScrollPosition={x:e,y:t});var r=this.lastScrollPosition.x-e,o=this.lastScrollPosition.y-t,i=this.options.scrollThreshold;(Math.abs(o)>=i||Math.abs(r)>=i)&&(this.lastScrollPosition=null,this.close())},keydown:function(n){(function(n){return"Escape"===(n.key||n.code)||27===n.keyCode})(n)&&(this.released?this.close():this.release(this.close))},mousedown:function(n){if(Rs(n)&&!Cs(n)){n.preventDefault();var e=n.clientX,t=n.clientY;this.pressTimer=setTimeout(function(){this.grab(e,t)}.bind(this),200)}},mousemove:function(n){this.released||this.move(n.clientX,n.clientY)},mouseup:function(n){Rs(n)&&!Cs(n)&&(clearTimeout(this.pressTimer),this.released?this.close():this.release())},touchstart:function(n){n.preventDefault();var e=n.touches[0],t=e.clientX,r=e.clientY;this.pressTimer=setTimeout(function(){this.grab(t,r)}.bind(this),200)},touchmove:function(n){if(!this.released){var e=n.touches[0],t=e.clientX,r=e.clientY;this.move(t,r)}},touchend:function(n){(function(n){n.targetTouches.length})(n)||(clearTimeout(this.pressTimer),this.released?this.close():this.release())},clickOverlay:function(){this.close()},resizeWindow:function(){this.close()}};function Rs(n){return 0===n.button}function Cs(n){return n.metaKey||n.ctrlKey}var zs={init:function(n){this.el=document.createElement("div"),this.instance=n,this.parent=document.body,ws(this.el,{position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0}),this.updateStyle(n.options),bs(this.el,"click",n.handler.clickOverlay.bind(n))},updateStyle:function(n){ws(this.el,{zIndex:n.zIndex,backgroundColor:n.bgColor,transition:"opacity\n        "+n.transitionDuration+"s\n        "+n.transitionTimingFunction})},insert:function(){this.parent.appendChild(this.el)},remove:function(){this.parent.removeChild(this.el)},fadeIn:function(){this.el.offsetWidth,this.el.style.opacity=this.instance.options.bgOpacity},fadeOut:function(){this.el.style.opacity=0}},Os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bs=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),Ps=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ds={init:function(n,e){this.el=n,this.instance=e,this.srcThumbnail=this.el.getAttribute("src"),this.srcset=this.el.getAttribute("srcset"),this.srcOriginal=xs(this.el),this.rect=this.el.getBoundingClientRect(),this.translate=null,this.scale=null,this.styleOpen=null,this.styleClose=null},zoomIn:function(){var n=this.instance.options,e=n.zIndex,t=n.enableGrab,r=n.transitionDuration,o=n.transitionTimingFunction;this.translate=this.calculateTranslate(),this.scale=this.calculateScale(),this.styleOpen={position:"relative",zIndex:e+1,cursor:t?ys:hs,transition:_s+"\n        "+r+"s\n        "+o,transform:"translate3d("+this.translate.x+"px, "+this.translate.y+"px, 0px)\n        scale("+this.scale.x+","+this.scale.y+")",height:this.rect.height+"px",width:this.rect.width+"px"},this.el.offsetWidth,this.styleClose=ws(this.el,this.styleOpen,!0)},zoomOut:function(){this.el.offsetWidth,ws(this.el,{transform:"none"})},grab:function(n,e,t){var r=qs(),o=r.x-n,i=r.y-e;ws(this.el,{cursor:vs,transform:"translate3d(\n        "+(this.translate.x+o)+"px, "+(this.translate.y+i)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},move:function(n,e,t){var r=qs(),o=r.x-n,i=r.y-e;ws(this.el,{transition:_s,transform:"translate3d(\n        "+(this.translate.x+o)+"px, "+(this.translate.y+i)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},restoreCloseStyle:function(){ws(this.el,this.styleClose)},restoreOpenStyle:function(){ws(this.el,this.styleOpen)},upgradeSource:function(){if(this.srcOriginal){var n=this.el.parentNode;this.srcset&&this.el.removeAttribute("srcset");var e=this.el.cloneNode(!1);e.setAttribute("src",this.srcOriginal),e.style.position="fixed",e.style.visibility="hidden",n.appendChild(e),setTimeout(function(){this.el.setAttribute("src",this.srcOriginal),n.removeChild(e)}.bind(this),50)}},downgradeSource:function(){this.srcOriginal&&(this.srcset&&this.el.setAttribute("srcset",this.srcset),this.el.setAttribute("src",this.srcThumbnail))},calculateTranslate:function(){var n=qs(),e=this.rect.left+this.rect.width/2,t=this.rect.top+this.rect.height/2;return{x:n.x-e,y:n.y-t}},calculateScale:function(){var n=this.el.dataset,e=n.zoomingHeight,t=n.zoomingWidth,r=this.instance.options,o=r.customSize,i=r.scaleBase;if(!o&&e&&t)return{x:t/this.rect.width,y:e/this.rect.height};if(o&&"object"===(void 0===o?"undefined":Os(o)))return{x:o.width/this.rect.width,y:o.height/this.rect.height};var a=this.rect.width/2,s=this.rect.height/2,c=qs(),l={x:c.x-a,y:c.y-s},u=l.x/a,p=l.y/s,d=i+Math.min(u,p);if(o&&"string"==typeof o){var m=t||this.el.naturalWidth,g=e||this.el.naturalHeight,f=parseFloat(o)*m/(100*this.rect.width),h=parseFloat(o)*g/(100*this.rect.height);if(d>f||d>h)return{x:f,y:h}}return{x:d,y:d}}};function qs(){var n=document.documentElement;return{x:Math.min(n.clientWidth,window.innerWidth)/2,y:Math.min(n.clientHeight,window.innerHeight)/2}}function Ls(n,e,t){["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach((function(r){bs(n,r,e[r],t)}))}var Us=function(){function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.target=Object.create(Ds),this.overlay=Object.create(zs),this.handler=Object.create(js),this.body=document.body,this.shown=!1,this.lock=!1,this.released=!0,this.lastScrollPosition=null,this.pressTimer=null,this.options=Ps({},Is,e),this.overlay.init(this),this.handler.init(this)}return Bs(n,[{key:"listen",value:function(n){if("string"==typeof n)for(var e=document.querySelectorAll(n),t=e.length;t--;)this.listen(e[t]);else"IMG"===n.tagName&&(n.style.cursor=fs,bs(n,"click",this.handler.click),this.options.preloadImage&&ks(xs(n)));return this}},{key:"config",value:function(n){return n?(Ps(this.options,n),this.overlay.updateStyle(this.options),this):this.options}},{key:"open",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.onOpen;if(!this.shown&&!this.lock){var r="string"==typeof n?document.querySelector(n):n;if("IMG"===r.tagName){if(this.options.onBeforeOpen(r),this.target.init(r,this),!this.options.preloadImage){var o=this.target.srcOriginal;null!=o&&(this.options.onImageLoading(r),ks(o,this.options.onImageLoaded))}this.shown=!0,this.lock=!0,this.target.zoomIn(),this.overlay.insert(),this.overlay.fadeIn(),bs(document,"scroll",this.handler.scroll),bs(document,"keydown",this.handler.keydown),this.options.closeOnWindowResize&&bs(window,"resize",this.handler.resizeWindow);var i=function n(){bs(r,Ts,n,!1),e.lock=!1,e.target.upgradeSource(),e.options.enableGrab&&Ls(document,e.handler,!0),t(r)};return bs(r,Ts,i),this}}}},{key:"close",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onClose;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeClose(t),this.lock=!0,this.body.style.cursor=gs,this.overlay.fadeOut(),this.target.zoomOut(),bs(document,"scroll",this.handler.scroll,!1),bs(document,"keydown",this.handler.keydown,!1),this.options.closeOnWindowResize&&bs(window,"resize",this.handler.resizeWindow,!1);var r=function r(){bs(t,Ts,r,!1),n.shown=!1,n.lock=!1,n.target.downgradeSource(),n.options.enableGrab&&Ls(document,n.handler,!1),n.target.restoreCloseStyle(),n.overlay.remove(),e(t)};return bs(t,Ts,r),this}}},{key:"grab",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onGrab;if(this.shown&&!this.lock){var o=this.target.el;this.options.onBeforeGrab(o),this.released=!1,this.target.grab(n,e,t);var i=function n(){bs(o,Ts,n,!1),r(o)};return bs(o,Ts,i),this}}},{key:"move",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onMove;if(this.shown&&!this.lock){this.released=!1,this.body.style.cursor=vs,this.target.move(n,e,t);var o=this.target.el,i=function n(){bs(o,Ts,n,!1),r(o)};return bs(o,Ts,i),this}}},{key:"release",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onRelease;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeRelease(t),this.lock=!0,this.body.style.cursor=gs,this.target.restoreOpenStyle();var r=function r(){bs(t,Ts,r,!1),n.lock=!1,n.released=!0,e(t)};return bs(t,Ts,r),this}}}]),n}(),Ms=".theme-vdoing-content img:not(.no-zoom)",$s=JSON.parse('{"bgColor":"rgba(0,0,0,0.6)"}'),Ns=Number("500"),Fs=function(){function n(){ls(this,n),this.instance=new Us($s)}return ps(n,[{key:"update",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ms;"undefined"!=typeof window&&this.instance.listen(n)}},{key:"updateDelay",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ms,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ns;setTimeout((function(){return n.update(e)}),t)}}]),n}(),Js=[Za,is,cs,ms,{watch:{"$page.path":function(){void 0!==this.$vuepress.zooming&&this.$vuepress.zooming.updateDelay()}},mounted:function(){this.$vuepress.zooming=new Fs,this.$vuepress.zooming.updateDelay()}}],Hs={name:"GlobalLayout",computed:{layout:function(){var n=this.getLayout();return Ga("layout",n),Bo.component(n)}},methods:{getLayout:function(){if(this.$page.path){var n=this.$page.frontmatter.layout;return n&&(this.$vuepress.getLayoutAsyncComponent(n)||this.$vuepress.getVueComponent(n))?n:"Layout"}return"NotFound"}}},Ws=t(16),Gs=Object(Ws.a)(Hs,(function(){var n=this.$createElement;return(this._self._c||n)(this.layout,{tag:"component"})}),[],!1,null,null,null).exports;!function(n,e,t){var r;switch(e){case"components":n[e]||(n[e]={}),Object.assign(n[e],t);break;case"mixins":n[e]||(n[e]=[]),(r=n[e]).push.apply(r,Object(Aa.a)(t));break;default:throw new Error("Unknown option name.")}}(Gs,"mixins",Js);var Vs=[{name:"v-25b81bb6",path:"/centos7/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-25b81bb6").then(t)}},{path:"/centos7/index.html",redirect:"/centos7/"},{path:"/00.ç®å½é¡µ/01.centos7.html",redirect:"/centos7/"},{name:"v-00c345ae",path:"/command/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-00c345ae").then(t)}},{path:"/command/index.html",redirect:"/command/"},{path:"/00.ç®å½é¡µ/02.å¸¸ç¨å½ä»¤.html",redirect:"/command/"},{name:"v-ab13ac78",path:"/java/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-ab13ac78").then(t)}},{path:"/java/index.html",redirect:"/java/"},{path:"/00.ç®å½é¡µ/03.Java.html",redirect:"/java/"},{name:"v-53104ef6",path:"/archives/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-53104ef6").then(t)}},{path:"/archives/index.html",redirect:"/archives/"},{path:"/@pages/archivesPage.html",redirect:"/archives/"},{name:"v-1a9d53e5",path:"/categories/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-1a9d53e5").then(t)}},{path:"/categories/index.html",redirect:"/categories/"},{path:"/@pages/categoriesPage.html",redirect:"/categories/"},{name:"v-150b83f6",path:"/tags/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-150b83f6").then(t)}},{path:"/tags/index.html",redirect:"/tags/"},{path:"/@pages/tagsPage.html",redirect:"/tags/"},{name:"v-400d4d36",path:"/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-400d4d36").then(t)}},{path:"/index.html",redirect:"/"},{name:"v-460154d7",path:"/pages/ef2f99/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-460154d7").then(t)}},{path:"/pages/ef2f99/index.html",redirect:"/pages/ef2f99/"},{path:"/å­¦ä¹ èµæ/01.centos7/01.centos7å¸¸ç¨éç½®/02.Centos7éç½®éæç½ç».html",redirect:"/pages/ef2f99/"},{name:"v-1b773c08",path:"/pages/59c52f/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-1b773c08").then(t)}},{path:"/pages/59c52f/index.html",redirect:"/pages/59c52f/"},{path:"/å­¦ä¹ èµæ/01.centos7/01.centos7å¸¸ç¨éç½®/04.Centos7éç½®å®æ¶ä»»å¡.html",redirect:"/pages/59c52f/"},{name:"v-b06ecd3a",path:"/pages/a0deac/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-b06ecd3a").then(t)}},{path:"/pages/a0deac/index.html",redirect:"/pages/a0deac/"},{path:"/å­¦ä¹ èµæ/01.centos7/03.centos7å®è£æå¡/01.Centos7å®è£Docker.html",redirect:"/pages/a0deac/"},{name:"v-b673a666",path:"/pages/64523d/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-b673a666").then(t)}},{path:"/pages/64523d/index.html",redirect:"/pages/64523d/"},{path:"/å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/01.Dockerå®è£Nginx.html",redirect:"/pages/64523d/"},{name:"v-e72bac0a",path:"/pages/02c95e/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-e72bac0a").then(t)}},{path:"/pages/02c95e/index.html",redirect:"/pages/02c95e/"},{path:"/å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/02.Dockerå®è£MySQL.html",redirect:"/pages/02c95e/"},{name:"v-732a2f39",path:"/pages/cdbdbb/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-732a2f39").then(t)}},{path:"/pages/cdbdbb/index.html",redirect:"/pages/cdbdbb/"},{path:"/å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/03.Dockerå®è£Tomcat.html",redirect:"/pages/cdbdbb/"},{name:"v-4a0974f9",path:"/pages/8b837f/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-4a0974f9").then(t)}},{path:"/pages/8b837f/index.html",redirect:"/pages/8b837f/"},{path:"/å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/04.Dockerå®è£Gitlab.html",redirect:"/pages/8b837f/"},{name:"v-035690b5",path:"/pages/02a6d1/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-035690b5").then(t)}},{path:"/pages/02a6d1/index.html",redirect:"/pages/02a6d1/"},{path:"/å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/05.Dockerå®è£Ftp.html",redirect:"/pages/02a6d1/"},{name:"v-9a2f34ce",path:"/pages/7b6292/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-9a2f34ce").then(t)}},{path:"/pages/7b6292/index.html",redirect:"/pages/7b6292/"},{path:"/å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/06.Dockerå®è£Trojan.html",redirect:"/pages/7b6292/"},{name:"v-7e99b8ce",path:"/pages/a7c015/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-7e99b8ce").then(t)}},{path:"/pages/a7c015/index.html",redirect:"/pages/a7c015/"},{path:"/å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/07.Dockerå®è£V2ray.html",redirect:"/pages/a7c015/"},{name:"v-f18c332a",path:"/pages/c1ed84/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-f18c332a").then(t)}},{path:"/pages/c1ed84/index.html",redirect:"/pages/c1ed84/"},{path:"/å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/08.Dockerå®è£Frp.html",redirect:"/pages/c1ed84/"},{name:"v-e80e330a",path:"/pages/0000a6/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-e80e330a").then(t)}},{path:"/pages/0000a6/index.html",redirect:"/pages/0000a6/"},{path:"/å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/09.Dockerå®è£Redis.html",redirect:"/pages/0000a6/"},{name:"v-4fb836dd",path:"/pages/a45d98/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-4fb836dd").then(t)}},{path:"/pages/a45d98/index.html",redirect:"/pages/a45d98/"},{path:"/å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/10.Dockerå®è£Nacos.html",redirect:"/pages/a45d98/"},{name:"v-4c310cce",path:"/pages/c54468/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-4c310cce").then(t)}},{path:"/pages/c54468/index.html",redirect:"/pages/c54468/"},{path:"/å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/11.Dockerå®è£Rabbitmq.html",redirect:"/pages/c54468/"},{name:"v-7b4d7bc7",path:"/pages/1e85fd/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-7b4d7bc7").then(t)}},{path:"/pages/1e85fd/index.html",redirect:"/pages/1e85fd/"},{path:"/å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/12.Dockerå®è£Elasticsearch.html",redirect:"/pages/1e85fd/"},{name:"v-525c82f9",path:"/pages/8a8651/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-525c82f9").then(t)}},{path:"/pages/8a8651/index.html",redirect:"/pages/8a8651/"},{path:"/å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/13.Dockerå®è£Logstash.html",redirect:"/pages/8a8651/"},{name:"v-0f635eb9",path:"/pages/25aa1b/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-0f635eb9").then(t)}},{path:"/pages/25aa1b/index.html",redirect:"/pages/25aa1b/"},{path:"/å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/14.Dockerå®è£Kibana.html",redirect:"/pages/25aa1b/"},{name:"v-51306d75",path:"/pages/ab63d6/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-51306d75").then(t)}},{path:"/pages/ab63d6/index.html",redirect:"/pages/ab63d6/"},{path:"/å­¦ä¹ èµæ/02.å¸¸ç¨å½ä»¤/01.Dockerå¸¸ç¨å½ä»¤.html",redirect:"/pages/ab63d6/"},{name:"v-333d5a73",path:"/pages/115b69/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-333d5a73").then(t)}},{path:"/pages/115b69/index.html",redirect:"/pages/115b69/"},{path:"/å­¦ä¹ èµæ/02.å¸¸ç¨å½ä»¤/02.Gitå¸¸ç¨å½ä»¤.html",redirect:"/pages/115b69/"},{name:"v-33820a93",path:"/pages/33ee6d/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-33820a93").then(t)}},{path:"/pages/33ee6d/index.html",redirect:"/pages/33ee6d/"},{path:"/å­¦ä¹ èµæ/02.å¸¸ç¨å½ä»¤/03.Linuxå¸¸ç¨å½ä»¤.html",redirect:"/pages/33ee6d/"},{name:"v-680b3833",path:"/pages/3c4d4a/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-680b3833").then(t)}},{path:"/pages/3c4d4a/index.html",redirect:"/pages/3c4d4a/"},{path:"/å­¦ä¹ èµæ/02.å¸¸ç¨å½ä»¤/04.MySQLå¸¸ç¨å½ä»¤.html",redirect:"/pages/3c4d4a/"},{name:"v-097f0cda",path:"/pages/a1ed3d/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-097f0cda").then(t)}},{path:"/pages/a1ed3d/index.html",redirect:"/pages/a1ed3d/"},{path:"/å­¦ä¹ èµæ/02.å¸¸ç¨å½ä»¤/05.Nginxå¸¸ç¨å½ä»¤.html",redirect:"/pages/a1ed3d/"},{name:"v-0967cebd",path:"/pages/07cc6a/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-0967cebd").then(t)}},{path:"/pages/07cc6a/index.html",redirect:"/pages/07cc6a/"},{path:"/å­¦ä¹ èµæ/03.Java/01.Javaåºç¡/01.åºç¡ç¥è¯.html",redirect:"/pages/07cc6a/"},{name:"v-6903b558",path:"/pages/118174/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-6903b558").then(t)}},{path:"/pages/118174/index.html",redirect:"/pages/118174/"},{path:"/å­¦ä¹ èµæ/03.Java/01.Javaåºç¡/03.æ°æ®ç±»å.html",redirect:"/pages/118174/"},{name:"v-a0ce0a92",path:"/pages/15942a/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-a0ce0a92").then(t)}},{path:"/pages/15942a/index.html",redirect:"/pages/15942a/"},{path:"/å­¦ä¹ èµæ/03.Java/01.Javaåºç¡/05.é¢åå¯¹è±¡.html",redirect:"/pages/15942a/"},{name:"v-4174c5c8",path:"/pages/b5379c/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-4174c5c8").then(t)}},{path:"/pages/b5379c/index.html",redirect:"/pages/b5379c/"},{path:"/å­¦ä¹ èµæ/03.Java/01.Javaåºç¡/07.å¼å¸¸å¤ç.html",redirect:"/pages/b5379c/"},{name:"v-193cd5cd",path:"/pages/4cb86a/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-193cd5cd").then(t)}},{path:"/pages/4cb86a/index.html",redirect:"/pages/4cb86a/"},{path:"/å­¦ä¹ èµæ/03.Java/03.éå/01.Javaéå.html",redirect:"/pages/4cb86a/"},{name:"v-03fefd3b",path:"/pages/c3df4e/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-03fefd3b").then(t)}},{path:"/pages/c3df4e/index.html",redirect:"/pages/c3df4e/"},{path:"/å­¦ä¹ èµæ/03.Java/05.JVM/01.JVMç¸å³ç¥è¯ä½ç³».html",redirect:"/pages/c3df4e/"},{name:"v-61294425",path:"/pages/27f6bd/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-61294425").then(t)}},{path:"/pages/27f6bd/index.html",redirect:"/pages/27f6bd/"},{path:"/å­¦ä¹ èµæ/03.Java/07.IO/01.Java IOç¥è¯ä½ç³»å¾.html",redirect:"/pages/27f6bd/"},{name:"v-05930a17",path:"/pages/5f1d51/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-05930a17").then(t)}},{path:"/pages/5f1d51/index.html",redirect:"/pages/5f1d51/"},{path:"/å­¦ä¹ èµæ/03.Java/09.å¹¶å/01.Javaå¹¶åç¥è¯ä½ç³».html",redirect:"/pages/5f1d51/"},{name:"v-01780501",path:"/pages/20b9df/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-01780501").then(t)}},{path:"/pages/20b9df/index.html",redirect:"/pages/20b9df/"},{path:"/å­¦ä¹ èµæ/03.Java/09.å¹¶å/03.Javaçº¿ç¨åºç¡.html",redirect:"/pages/20b9df/"},{name:"v-67ad6d8f",path:"/pages/5f83bc/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-67ad6d8f").then(t)}},{path:"/pages/5f83bc/index.html",redirect:"/pages/5f83bc/"},{path:"/å­¦ä¹ èµæ/03.Java/18.SpringBootå®æ/01.SpringBootæ´åMybatisPlus.html",redirect:"/pages/5f83bc/"},{name:"v-2f299662",path:"/pages/5d1537/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-2f299662").then(t)}},{path:"/pages/5d1537/index.html",redirect:"/pages/5d1537/"},{path:"/å­¦ä¹ èµæ/03.Java/18.SpringBootå®æ/02.SpringBootæ´åSwaggerUI.html",redirect:"/pages/5d1537/"},{name:"v-4de5e5e9",path:"/pages/d0754d/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-4de5e5e9").then(t)}},{path:"/pages/d0754d/index.html",redirect:"/pages/d0754d/"},{path:"/å­¦ä¹ èµæ/03.Java/18.SpringBootå®æ/03.SpringBootæ´åSpringTask.html",redirect:"/pages/d0754d/"},{name:"v-24bd736f",path:"/pages/a36330/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-24bd736f").then(t)}},{path:"/pages/a36330/index.html",redirect:"/pages/a36330/"},{path:"/å­¦ä¹ èµæ/03.Java/18.SpringBootå®æ/04.SpringBootæ´åRedis.html",redirect:"/pages/a36330/"},{name:"v-a1f6d0d6",path:"/pages/73b1ea/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-a1f6d0d6").then(t)}},{path:"/pages/73b1ea/index.html",redirect:"/pages/73b1ea/"},{path:"/å­¦ä¹ èµæ/03.Java/18.SpringBootå®æ/05.SpringBootæ´åRabbitMQ.html",redirect:"/pages/73b1ea/"},{name:"v-3259f422",path:"/pages/b7c905/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-3259f422").then(t)}},{path:"/pages/b7c905/index.html",redirect:"/pages/b7c905/"},{path:"/å­¦ä¹ èµæ/03.Java/18.SpringBootå®æ/06.SpringBootæ´åElasticSearch.html",redirect:"/pages/b7c905/"},{name:"v-2f26580a",path:"/pages/464d7a/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-2f26580a").then(t)}},{path:"/pages/464d7a/index.html",redirect:"/pages/464d7a/"},{path:"/å­¦ä¹ èµæ/03.Java/18.SpringBootå®æ/07.SpringBootæ´åSpringSecurity.html",redirect:"/pages/464d7a/"},{name:"v-1f6f6185",path:"/pages/44301a/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-1f6f6185").then(t)}},{path:"/pages/44301a/index.html",redirect:"/pages/44301a/"},{path:"/å­¦ä¹ èµæ/03.Java/20.è®¾è®¡æ¨¡å¼/01.Javaè®¾è®¡æ¨¡å¼.html",redirect:"/pages/44301a/"},{name:"v-55f08350",path:"/pages/723081/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-55f08350").then(t)}},{path:"/pages/723081/index.html",redirect:"/pages/723081/"},{path:"/å­¦ä¹ èµæ/03.Java/25.SpringCloudå®æ/01.SpringCloudå¼å§æ­å»º.html",redirect:"/pages/723081/"},{name:"v-5889e6e6",path:"/pages/73ae92/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-5889e6e6").then(t)}},{path:"/pages/73ae92/index.html",redirect:"/pages/73ae92/"},{path:"/å­¦ä¹ èµæ/03.Java/25.SpringCloudå®æ/02.SpringCloudéç½®ä¸­å¿Config.html",redirect:"/pages/73ae92/"},{name:"v-2c7c7647",path:"/pages/90be9f/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-2c7c7647").then(t)}},{path:"/pages/90be9f/index.html",redirect:"/pages/90be9f/"},{path:"/å­¦ä¹ èµæ/03.Java/25.SpringCloudå®æ/03.SpringCloudæå¡æ³¨åDiscovery.html",redirect:"/pages/90be9f/"},{name:"v-7b54e78f",path:"/pages/b48b5b/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-7b54e78f").then(t)}},{path:"/pages/b48b5b/index.html",redirect:"/pages/b48b5b/"},{path:"/å­¦ä¹ èµæ/03.Java/25.SpringCloudå®æ/04.SpringCloudç½å³Gateway.html",redirect:"/pages/b48b5b/"},{name:"v-0f82412e",path:"/pages/ffc151/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-0f82412e").then(t)}},{path:"/pages/ffc151/index.html",redirect:"/pages/ffc151/"},{path:"/å­¦ä¹ èµæ/03.Java/25.SpringCloudå®æ/05.SpringCloudææOAuth2.html",redirect:"/pages/ffc151/"},{name:"v-7c876527",path:"/pages/9d5dbe/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-7c876527").then(t)}},{path:"/pages/9d5dbe/index.html",redirect:"/pages/9d5dbe/"},{path:"/å­¦ä¹ èµæ/03.Java/25.SpringCloudå®æ/06.SpringCloudå¨åµSentinel.html",redirect:"/pages/9d5dbe/"},{name:"v-b54b2dd0",path:"/pages/fde21f/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-b54b2dd0").then(t)}},{path:"/pages/fde21f/index.html",redirect:"/pages/fde21f/"},{path:"/å­¦ä¹ èµæ/03.Java/25.SpringCloudå®æ/07.SpringCloudçæ§Admin.html",redirect:"/pages/fde21f/"},{name:"v-e40802de",path:"/pages/a1549e/",component:Gs,beforeEnter:function(n,e,t){Wa("Layout","v-e40802de").then(t)}},{path:"/pages/a1549e/index.html",redirect:"/pages/a1549e/"},{path:"/å­¦ä¹ èµæ/21.ç¬è®°/01.Tomcatæä½³å®è·µ.html",redirect:"/pages/a1549e/"},{path:"*",component:Gs}],Qs={title:"å²ï¼å²ï¼å²ï¼",description:"GO! GO! GO!",base:"/",headTags:[["link",{rel:"icon",href:"/images/head-logo.jpg"}]],pages:[{title:"centos7",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"å­¦ä¹ èµæ/01.centos7",imgUrl:"/images/docker.jpg",description:"è·¯ç¯ç»è¿ä¸å¤çåªåï¼ææ æ§å°é¢åç¬¬ä¸ç¼æ¨åçææ°ã"}},title:"centos7",date:"2022-01-18T11:51:53.000Z",permalink:"/centos7/",sidebar:!1,article:!1,comment:!1,editLink:!1},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/01.centos7.html",relativePath:"00.ç®å½é¡µ/01.centos7.md",key:"v-25b81bb6",path:"/centos7/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"å¸¸ç¨å½ä»¤",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"å­¦ä¹ èµæ/02.å¸¸ç¨å½ä»¤",imgUrl:"/images/å½ä»¤.jpg",description:"ä¸ä¸ºå¤±è´¥æ¾çç±ï¼è¦ä¸ºæåæ¾æ¹æ³ã"}},title:"å¸¸ç¨å½ä»¤",date:"2022-01-19T09:35:11.000Z",permalink:"/command/",sidebar:!1,article:!1,comment:!1,editLink:!1},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/02.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html",relativePath:"00.ç®å½é¡µ/02.å¸¸ç¨å½ä»¤.md",key:"v-00c345ae",path:"/command/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"Java",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"å­¦ä¹ èµæ/03.Java",imgUrl:"/images/java.jpg",description:"ä¸ä¸ææççé¼èåï¼é½æ¯ä¸å¸®ç©å½çäººã"}},title:"Java",date:"2022-01-19T09:37:09.000Z",permalink:"/java/",sidebar:!1,article:!1,comment:!1,editLink:!1},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/03.Java.html",relativePath:"00.ç®å½é¡µ/03.Java.md",key:"v-ab13ac78",path:"/java/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"å½æ¡£",frontmatter:{archivesPage:!0,title:"å½æ¡£",permalink:"/archives/",article:!1},regularPath:"/@pages/archivesPage.html",relativePath:"@pages/archivesPage.md",key:"v-53104ef6",path:"/archives/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"åç±»",frontmatter:{categoriesPage:!0,title:"åç±»",permalink:"/categories/",article:!1},regularPath:"/@pages/categoriesPage.html",relativePath:"@pages/categoriesPage.md",key:"v-1a9d53e5",path:"/categories/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"æ ç­¾",frontmatter:{tagsPage:!0,title:"æ ç­¾",permalink:"/tags/",article:!1},regularPath:"/@pages/tagsPage.html",relativePath:"@pages/tagsPage.md",key:"v-150b83f6",path:"/tags/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"Home",frontmatter:{home:!0,heroImage:"/images/home.jpg",heroText:"å¥½å¥½å­¦ä¹ ï¼å¤©å¤©åä¸",tagline:"æ²¡ææ·å¾ï¼éè¦æ¥ç§¯æç´¯çç§¯ç´¯ï¼ä»¥åå¯¹ææ¯æä¹çç­æ",bannerBg:"none",features:[{title:"centos7",details:"ç¯å¢éç½®å¥½ï¼å¼åäºæå°ã",imgUrl:"/images/home-1.jpg",link:"/centos7"},{title:"å¸¸ç¨å½ä»¤",details:"å¿å¿ï¼å¿å¿ï¼å¿å¿ï¼éè¦çäºæè¯´ä¸éã",imgUrl:"/images/home-2.jpg",link:"/command"},{title:"Java",details:"å¥é¨å°å¥åï¼åªè¦å­¦ä¸æ­»ï¼å°±å¾æ­»éå­¦ã",imgUrl:"/images/home-3.jpg",link:"/java"}],footer:"MIT Licensed | Copyright Â© 2018-present Evan You"},regularPath:"/",relativePath:"README.md",key:"v-400d4d36",path:"/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"Centos7éç½®éæç½ç»",frontmatter:{title:"Centos7éç½®éæç½ç»",date:"2022-02-12T15:16:07.000Z",permalink:"/pages/ef2f99/",categories:["å­¦ä¹ èµæ","centos7","centos7å¸¸ç¨éç½®"],tags:[null]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/01.centos7/01.centos7%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE/02.Centos7%E9%85%8D%E7%BD%AE%E9%9D%99%E6%80%81%E7%BD%91%E7%BB%9C.html",relativePath:"å­¦ä¹ èµæ/01.centos7/01.centos7å¸¸ç¨éç½®/02.Centos7éç½®éæç½ç».md",key:"v-460154d7",path:"/pages/ef2f99/",headers:[{level:2,title:"centos7éç½®ç½ç»",slug:"centos7éç½®ç½ç»",normalizedTitle:"centos7éç½®ç½ç»",charIndex:2},{level:3,title:"1.æ¥çæå¡å¨ç½ç»",slug:"_1-æ¥çæå¡å¨ç½ç»",normalizedTitle:"1.æ¥çæå¡å¨ç½ç»",charIndex:18},{level:3,title:"2.ä¿®æ¹ç¸å¯¹åºç½å£çéç½®æä»¶",slug:"_2-ä¿®æ¹ç¸å¯¹åºç½å£çéç½®æä»¶",normalizedTitle:"2.ä¿®æ¹ç¸å¯¹åºç½å£çéç½®æä»¶",charIndex:57},{level:3,title:"3.éå¯ç½å¡æå¡",slug:"_3-éå¯ç½å¡æå¡",normalizedTitle:"3.éå¯ç½å¡æå¡",charIndex:613}],headersStr:"centos7éç½®ç½ç» 1.æ¥çæå¡å¨ç½ç» 2.ä¿®æ¹ç¸å¯¹åºç½å£çéç½®æä»¶ 3.éå¯ç½å¡æå¡",content:"# centos7éç½®ç½ç»\n\n\n# 1.æ¥çæå¡å¨ç½ç»\n\nip addr     #æ¥çæå¡å¨ç½ç»æåµ\n\n\n\n# 2.ä¿®æ¹ç¸å¯¹åºç½å£çéç½®æä»¶\n\nvi /etc/sysconfig/network-scripts/ifcfg-eno1     #æå¼eno1çéç½®æä»¶,ä¿®æ¹ä¿å­   \n\n\nTYPE=Ethernet\nPROXY_METHOD=none\nBROWSER_ONLY=no\nBOOTPROTO=static            #staticéæãdhcpå¨æ\nDEFROUTE=yes\nIPV4_FAILURE_FATAL=yes\nIPADDR=192.168.3.123        #IPå°å\nNETMASK=255.255.255.0       #æ©ç \nGATEWAY=192.168.3.1         #ç½å³\nDNS1=192.168.3.1            #DNS\nIPV6INIT=yes\nIPV6_AUTOCONF=yes\nIPV6_DEFROUTE=yes\nIPV6_FAILURE_FATAL=no\nIPV6_ADDR_GEN_MODE=stable-privacy\nNAME=eno1\nUUID=212602a9-5702-4561-a402-37588f875fe8\nDEVICE=eno1\nONBOOT=yes                  #èªå¨å¯å¨\n\n\n\n# 3.éå¯ç½å¡æå¡\n\nsystemctl restart network           #éå¯ç½å¡æå¡\nip addr                             #åæ¬¡æ¥çIP\n",normalizedContent:"# centos7éç½®ç½ç»\n\n\n# 1.æ¥çæå¡å¨ç½ç»\n\nip addr     #æ¥çæå¡å¨ç½ç»æåµ\n\n\n\n# 2.ä¿®æ¹ç¸å¯¹åºç½å£çéç½®æä»¶\n\nvi /etc/sysconfig/network-scripts/ifcfg-eno1     #æå¼eno1çéç½®æä»¶,ä¿®æ¹ä¿å­   \n\n\ntype=ethernet\nproxy_method=none\nbrowser_only=no\nbootproto=static            #staticéæãdhcpå¨æ\ndefroute=yes\nipv4_failure_fatal=yes\nipaddr=192.168.3.123        #ipå°å\nnetmask=255.255.255.0       #æ©ç \ngateway=192.168.3.1         #ç½å³\ndns1=192.168.3.1            #dns\nipv6init=yes\nipv6_autoconf=yes\nipv6_defroute=yes\nipv6_failure_fatal=no\nipv6_addr_gen_mode=stable-privacy\nname=eno1\nuuid=212602a9-5702-4561-a402-37588f875fe8\ndevice=eno1\nonboot=yes                  #èªå¨å¯å¨\n\n\n\n# 3.éå¯ç½å¡æå¡\n\nsystemctl restart network           #éå¯ç½å¡æå¡\nip addr                             #åæ¬¡æ¥çip\n",charsets:{cjk:!0}},{title:"Centos7éç½®å®æ¶ä»»å¡",frontmatter:{title:"Centos7éç½®å®æ¶ä»»å¡",date:"2022-04-14T16:26:48.000Z",permalink:"/pages/59c52f/",categories:["å­¦ä¹ èµæ","centos7","centos7å¸¸ç¨éç½®"],tags:[null]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/01.centos7/01.centos7%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE/04.Centos7%E9%85%8D%E7%BD%AE%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1.html",relativePath:"å­¦ä¹ èµæ/01.centos7/01.centos7å¸¸ç¨éç½®/04.Centos7éç½®å®æ¶ä»»å¡.md",key:"v-1b773c08",path:"/pages/59c52f/",headers:[{level:2,title:"å¸¸ç¨å½ä»¤",slug:"å¸¸ç¨å½ä»¤",normalizedTitle:"å¸¸ç¨å½ä»¤",charIndex:2},{level:2,title:"ç¼è¾çä¸ç§æ¹å¼",slug:"ç¼è¾çä¸ç§æ¹å¼",normalizedTitle:"ç¼è¾çä¸ç§æ¹å¼",charIndex:215},{level:2,title:"è¡¨è¾¾å¼è¯´æ",slug:"è¡¨è¾¾å¼è¯´æ",normalizedTitle:"è¡¨è¾¾å¼è¯´æ",charIndex:328},{level:2,title:"ä½¿ç¨",slug:"ä½¿ç¨",normalizedTitle:"ä½¿ç¨",charIndex:258}],headersStr:"å¸¸ç¨å½ä»¤ ç¼è¾çä¸ç§æ¹å¼ è¡¨è¾¾å¼è¯´æ ä½¿ç¨",content:"# å¸¸ç¨å½ä»¤\n\nsystemctl start   crondâââââââââ// å¯å¨æå¡\nsystemctl stop    crondâââ âââââ// åæ­¢æå¡\nsystemctl restart crond   ââââââ// éå¯æå¡\nsystemctl reload  crond âââ ââââ// éè½½éç½®æä»¶\nsystemctl status  crond ââââ âââ// æ¥çç¶æ\n\n\n\n# ç¼è¾çä¸ç§æ¹å¼\n\n * ç´æ¥ç¼è¾éç½®æä»¶\n\nvi /etc/crontab\n\n\n * ä½¿ç¨crontab -e å½ä»¤ç¼è¾\n\ncrontab -e\n\n\n * ç´æ¥ç¼è¾ç®æ æä»¶\n\nvi /var/spool/cron/\n\n\n\n# è¡¨è¾¾å¼è¯´æ\n\nSHELL=/bin/bash\nPATH=/sbin:/bin:/usr/sbin:/usr/bin\nMAILTO=root\n\n# For details see man 4 crontabs\n\n# Example of job definition:\n# .---------------- minute (0 - 59)\n# |  .------------- hour (0 - 23)\n# |  |  .---------- day of month (1 - 31)\n# |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...\n# |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat\n# |  |  |  |  |\n# *  *  *  *  * user-name  command to be executed\n0 21 * * * root /usr/zksc/elk_delete.sh start\n0 21 * * * root /usr/zksc/mysql_backup.sh start\n\n\nè¯´æ\n\nç¨æ·çå®æ¶ä»»å¡å6æ®µ,åå«æ¯ï¼åï¼æ¶ï¼æ¥ï¼æï¼å¨ï¼å½ä»¤  \nç¬¬1åè¡¨ç¤ºåé1ï½59 æ¯åéç¨*æè */1è¡¨ç¤º  \nç¬¬2åè¡¨ç¤ºå°æ¶1ï½23ï¼0è¡¨ç¤º0ç¹ï¼  \nç¬¬3åè¡¨ç¤ºæ¥æ1ï½31  \nç¬¬4åè¡¨ç¤ºæä»½1ï½12  \nç¬¬5åæ è¯å·ææ0ï½6ï¼0è¡¨ç¤ºææå¤©ï¼  \nç¬¬6åè¦è¿è¡çå½ä»¤    \n  \n*ï¼è¡¨ç¤ºä»»ææ¶é´é½ï¼å®éä¸å°±æ¯âæ¯âçææãå¯ä»¥ä»£è¡¨00-23å°æ¶æè00-12æ¯ææè00-59å  \n-ï¼è¡¨ç¤ºåºé´ï¼æ¯ä¸ä¸ªèå´ï¼00 17-19 * * * cmdï¼å°±æ¯æ¯å¤©17,18,19ç¹çæ´ç¹æ§è¡å½ä»¤  \n,ï¼æ¯åå²æ¶æ®µï¼30 3,19,21 * * * cmdï¼å°±æ¯æ¯å¤©åæ¨3åæä¸19,21ç¹çåç¹æ¶å»æ§è¡å½ä»¤  \n/ï¼è¡¨ç¤ºåå²ï¼å¯ä»¥çæé¤æ³ï¼*/5 * * * * cmdï¼æ¯éäºåéæ§è¡ä¸æ¬¡  \n\n\n\n# ä½¿ç¨\n\n 1. ç¼è¾è¡¨è¾¾å¼ vi /etc/crontab\n 2. ä¿å­å¹¶éåº :wq\n 3. éå¯å®æ¶ä»»å¡ systemctl restart crond",normalizedContent:"# å¸¸ç¨å½ä»¤\n\nsystemctl start   crondâââââââââ// å¯å¨æå¡\nsystemctl stop    crondâââ âââââ// åæ­¢æå¡\nsystemctl restart crond   ââââââ// éå¯æå¡\nsystemctl reload  crond âââ ââââ// éè½½éç½®æä»¶\nsystemctl status  crond ââââ âââ// æ¥çç¶æ\n\n\n\n# ç¼è¾çä¸ç§æ¹å¼\n\n * ç´æ¥ç¼è¾éç½®æä»¶\n\nvi /etc/crontab\n\n\n * ä½¿ç¨crontab -e å½ä»¤ç¼è¾\n\ncrontab -e\n\n\n * ç´æ¥ç¼è¾ç®æ æä»¶\n\nvi /var/spool/cron/\n\n\n\n# è¡¨è¾¾å¼è¯´æ\n\nshell=/bin/bash\npath=/sbin:/bin:/usr/sbin:/usr/bin\nmailto=root\n\n# for details see man 4 crontabs\n\n# example of job definition:\n# .---------------- minute (0 - 59)\n# |  .------------- hour (0 - 23)\n# |  |  .---------- day of month (1 - 31)\n# |  |  |  .------- month (1 - 12) or jan,feb,mar,apr ...\n# |  |  |  |  .---- day of week (0 - 6) (sunday=0 or 7) or sun,mon,tue,wed,thu,fri,sat\n# |  |  |  |  |\n# *  *  *  *  * user-name  command to be executed\n0 21 * * * root /usr/zksc/elk_delete.sh start\n0 21 * * * root /usr/zksc/mysql_backup.sh start\n\n\nè¯´æ\n\nç¨æ·çå®æ¶ä»»å¡å6æ®µ,åå«æ¯ï¼åï¼æ¶ï¼æ¥ï¼æï¼å¨ï¼å½ä»¤  \nç¬¬1åè¡¨ç¤ºåé1ï½59 æ¯åéç¨*æè */1è¡¨ç¤º  \nç¬¬2åè¡¨ç¤ºå°æ¶1ï½23ï¼0è¡¨ç¤º0ç¹ï¼  \nç¬¬3åè¡¨ç¤ºæ¥æ1ï½31  \nç¬¬4åè¡¨ç¤ºæä»½1ï½12  \nç¬¬5åæ è¯å·ææ0ï½6ï¼0è¡¨ç¤ºææå¤©ï¼  \nç¬¬6åè¦è¿è¡çå½ä»¤    \n  \n*ï¼è¡¨ç¤ºä»»ææ¶é´é½ï¼å®éä¸å°±æ¯âæ¯âçææãå¯ä»¥ä»£è¡¨00-23å°æ¶æè00-12æ¯ææè00-59å  \n-ï¼è¡¨ç¤ºåºé´ï¼æ¯ä¸ä¸ªèå´ï¼00 17-19 * * * cmdï¼å°±æ¯æ¯å¤©17,18,19ç¹çæ´ç¹æ§è¡å½ä»¤  \n,ï¼æ¯åå²æ¶æ®µï¼30 3,19,21 * * * cmdï¼å°±æ¯æ¯å¤©åæ¨3åæä¸19,21ç¹çåç¹æ¶å»æ§è¡å½ä»¤  \n/ï¼è¡¨ç¤ºåå²ï¼å¯ä»¥çæé¤æ³ï¼*/5 * * * * cmdï¼æ¯éäºåéæ§è¡ä¸æ¬¡  \n\n\n\n# ä½¿ç¨\n\n 1. ç¼è¾è¡¨è¾¾å¼ vi /etc/crontab\n 2. ä¿å­å¹¶éåº :wq\n 3. éå¯å®æ¶ä»»å¡ systemctl restart crond",charsets:{cjk:!0}},{title:"Centos7å®è£Docker",frontmatter:{title:"Centos7å®è£Docker",date:"2022-02-12T15:01:36.000Z",permalink:"/pages/a0deac/",categories:["å­¦ä¹ èµæ","centos7","centos7å®è£æå¡"],tags:[null]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/01.centos7/03.centos7%E5%AE%89%E8%A3%85%E6%9C%8D%E5%8A%A1/01.Centos7%E5%AE%89%E8%A3%85Docker.html",relativePath:"å­¦ä¹ èµæ/01.centos7/03.centos7å®è£æå¡/01.Centos7å®è£Docker.md",key:"v-b06ecd3a",path:"/pages/a0deac/",headers:[{level:2,title:"centos7äºè¿å¶å®è£docker",slug:"centos7äºè¿å¶å®è£docker",normalizedTitle:"centos7äºè¿å¶å®è£docker",charIndex:2},{level:3,title:"ä¸è½½ç¦»çº¿å®è£å",slug:"ä¸è½½ç¦»çº¿å®è£å",normalizedTitle:"ä¸è½½ç¦»çº¿å®è£å",charIndex:25},{level:3,title:"å®è£",slug:"å®è£",normalizedTitle:"å®è£",charIndex:12},{level:2,title:"å®è£docker-compose",slug:"å®è£docker-compose",normalizedTitle:"å®è£docker-compose",charIndex:1821},{level:3,title:"ä¸è½½",slug:"ä¸è½½",normalizedTitle:"ä¸è½½",charIndex:25},{level:3,title:"å®è£",slug:"å®è£-2",normalizedTitle:"å®è£",charIndex:12},{level:2,title:"ä¸é®å®è£dockerådocker compose",slug:"ä¸é®å®è£dockerådocker-compose",normalizedTitle:"ä¸é®å®è£dockerådocker compose",charIndex:2098},{level:3,title:"ä¸è½½",slug:"ä¸è½½-2",normalizedTitle:"ä¸è½½",charIndex:25},{level:3,title:"ä½¿ç¨",slug:"ä½¿ç¨",normalizedTitle:"ä½¿ç¨",charIndex:2221}],headersStr:"centos7äºè¿å¶å®è£docker ä¸è½½ç¦»çº¿å®è£å å®è£ å®è£docker-compose ä¸è½½ å®è£ ä¸é®å®è£dockerådocker compose ä¸è½½ ä½¿ç¨",content:"# centos7äºè¿å¶å®è£docker\n\n\n# ä¸è½½ç¦»çº¿å®è£å\n\nå®ç½ä¸è½½\n\n\n# å®è£\n\n 1. æåå¤å¥½çæä»¶æ¾è¿homeç®å½\n 2. è§£åæ¾å°/usr/bin/ç®å½ä¸\n\ntar -zxvf docker-20.10.1.tgz        # è§£åå®è£å\nmv docker/* /usr/bin/               # ç§»å¨ç®å½\nrm docker-20.10.1.tgz               # å é¤å®è£å\n\n\n 3. å¨/etc/systemd/system/ç®å½ä¸æ°å»ºæä»¶docker.service\n\nvi /etc/systemd/system/\n\n\ndocker.service\n\n[Unit]\nDescription=Docker Application Container Engine\nDocumentation=https://docs.docker.com\nAfter=network-online.target firewalld.service\nWants=network-online.target\n[Service]\nType=notify\n# the default is not to use systemd for cgroups because the delegate issues still\n# exists and systemd currently does not support the cgroup feature set required\n# for containers run by docker\nExecStart=/usr/bin/dockerd  -H tcp://0.0.0.0:2375 -H unix://var/run/docker.sock\nExecReload=/bin/kill -s HUP $MAINPID\n# Having non-zero Limit*s causes performance problems due to accounting overhead\n# in the kernel. We recommend using cgroups to do container-local accounting.\nLimitNOFILE=infinity\nLimitNPROC=infinity\nLimitCORE=infinity\n# Uncomment TasksMax if your systemd version supports it.\n# Only systemd 226 and above support this version.\n#TasksMax=infinity\nTimeoutStartSec=0\n# set delegate yes so that systemd does not reset the cgroups of docker containers\nDelegate=yes\n# kill only the docker process, not all processes in the cgroup\nKillMode=process\n# restart the docker process if it exits prematurely\nRestart=on-failure\nStartLimitBurst=3\nStartLimitInterval=60s\n[Install]\nWantedBy=multi-user.target \n\n\n 4. éå¯\n\nchmod +x /etc/systemd/system/docker.service       #æ·»å æä»¶æé \nsystemctl daemon-reload                           #éæ°å è½½éç½®æä»¶ \nsystemctl start docker                            #å¯å¨Docker \ndocker -v                                         #æ¥çDockerçæ¬\nsystemctl enable docker.service                   #è®¾ç½®å¼æºèªå¯ \n\n\n\n# å®è£docker-compose\n\n\n# ä¸è½½\n\nå®ç½ä¸è½½\n\n\n# å®è£\n\nmv docker-compose-Linux-x86_64 /usr/local/bin/docker-compose       #ææä»¶ç§»å¨å°/usr/local/bin/docker-compose\nchmod +x /usr/local/bin/docker-compose\t\t\t\t\t\t\t   #æ·»å æä»¶æé \ndocker-compose -v                                                  #æ¥ççæ¬\n\n\n\n# ä¸é®å®è£dockerådocker compose\n\n\n# ä¸è½½\n\ndockerInstall.sh\nå®è£å\n\n> ædockerInstall.shåzksc-install-docker.taræä»¶ä¸ä¼ å°centos7æå¡å¨åä¸ç®å½\n\n\n# ä½¿ç¨\n\n> è¿å¥dockerInstall.shæä»¶æå¨ç®å½\n\nchmod 777 dockerInstall.sh      #ç»dockerInstall.shæä»¶æéå½ä»¤\n./dockerInstall.sh              #æ§è¡dockerInstall.shæä»¶\næè\nsh dockerInstall.sh             #æ§è¡dockerInstall.shæä»¶\n",normalizedContent:"# centos7äºè¿å¶å®è£docker\n\n\n# ä¸è½½ç¦»çº¿å®è£å\n\nå®ç½ä¸è½½\n\n\n# å®è£\n\n 1. æåå¤å¥½çæä»¶æ¾è¿homeç®å½\n 2. è§£åæ¾å°/usr/bin/ç®å½ä¸\n\ntar -zxvf docker-20.10.1.tgz        # è§£åå®è£å\nmv docker/* /usr/bin/               # ç§»å¨ç®å½\nrm docker-20.10.1.tgz               # å é¤å®è£å\n\n\n 3. å¨/etc/systemd/system/ç®å½ä¸æ°å»ºæä»¶docker.service\n\nvi /etc/systemd/system/\n\n\ndocker.service\n\n[unit]\ndescription=docker application container engine\ndocumentation=https://docs.docker.com\nafter=network-online.target firewalld.service\nwants=network-online.target\n[service]\ntype=notify\n# the default is not to use systemd for cgroups because the delegate issues still\n# exists and systemd currently does not support the cgroup feature set required\n# for containers run by docker\nexecstart=/usr/bin/dockerd  -h tcp://0.0.0.0:2375 -h unix://var/run/docker.sock\nexecreload=/bin/kill -s hup $mainpid\n# having non-zero limit*s causes performance problems due to accounting overhead\n# in the kernel. we recommend using cgroups to do container-local accounting.\nlimitnofile=infinity\nlimitnproc=infinity\nlimitcore=infinity\n# uncomment tasksmax if your systemd version supports it.\n# only systemd 226 and above support this version.\n#tasksmax=infinity\ntimeoutstartsec=0\n# set delegate yes so that systemd does not reset the cgroups of docker containers\ndelegate=yes\n# kill only the docker process, not all processes in the cgroup\nkillmode=process\n# restart the docker process if it exits prematurely\nrestart=on-failure\nstartlimitburst=3\nstartlimitinterval=60s\n[install]\nwantedby=multi-user.target \n\n\n 4. éå¯\n\nchmod +x /etc/systemd/system/docker.service       #æ·»å æä»¶æé \nsystemctl daemon-reload                           #éæ°å è½½éç½®æä»¶ \nsystemctl start docker                            #å¯å¨docker \ndocker -v                                         #æ¥çdockerçæ¬\nsystemctl enable docker.service                   #è®¾ç½®å¼æºèªå¯ \n\n\n\n# å®è£docker-compose\n\n\n# ä¸è½½\n\nå®ç½ä¸è½½\n\n\n# å®è£\n\nmv docker-compose-linux-x86_64 /usr/local/bin/docker-compose       #ææä»¶ç§»å¨å°/usr/local/bin/docker-compose\nchmod +x /usr/local/bin/docker-compose\t\t\t\t\t\t\t   #æ·»å æä»¶æé \ndocker-compose -v                                                  #æ¥ççæ¬\n\n\n\n# ä¸é®å®è£dockerådocker compose\n\n\n# ä¸è½½\n\ndockerinstall.sh\nå®è£å\n\n> ædockerinstall.shåzksc-install-docker.taræä»¶ä¸ä¼ å°centos7æå¡å¨åä¸ç®å½\n\n\n# ä½¿ç¨\n\n> è¿å¥dockerinstall.shæä»¶æå¨ç®å½\n\nchmod 777 dockerinstall.sh      #ç»dockerinstall.shæä»¶æéå½ä»¤\n./dockerinstall.sh              #æ§è¡dockerinstall.shæä»¶\næè\nsh dockerinstall.sh             #æ§è¡dockerinstall.shæä»¶\n",charsets:{cjk:!0}},{title:"Dockerå®è£Nginx",frontmatter:{title:"Dockerå®è£Nginx",date:"2022-02-07T11:17:03.000Z",permalink:"/pages/64523d/",categories:["å­¦ä¹ èµæ","centos7","dockerå®è£æå¡"],tags:["docker","nginx"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/01.centos7/05.docker%E5%AE%89%E8%A3%85%E6%9C%8D%E5%8A%A1/01.Docker%E5%AE%89%E8%A3%85Nginx.html",relativePath:"å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/01.Dockerå®è£Nginx.md",key:"v-b673a666",path:"/pages/64523d/",headers:[{level:2,title:"dockerå®è£nginx",slug:"dockerå®è£nginx",normalizedTitle:"dockerå®è£nginx",charIndex:14},{level:3,title:"1.è·åéååè¡¨",slug:"_1-è·åéååè¡¨",normalizedTitle:"1.è·åéååè¡¨",charIndex:32},{level:3,title:"2.æåéå",slug:"_2-æåéå",normalizedTitle:"2.æåéå",charIndex:67},{level:3,title:"3.è¿è¡",slug:"_3-è¿è¡",normalizedTitle:"3.è¿è¡",charIndex:98},{level:2,title:"docker composeå®è£nginx",slug:"docker-composeå®è£nginx",normalizedTitle:"docker composeå®è£nginx",charIndex:3139},{level:3,title:"1.åå»ºymlæä»¶",slug:"_1-åå»ºymlæä»¶",normalizedTitle:"1.åå»ºymlæä»¶",charIndex:3165},{level:3,title:"2.è¿è¡",slug:"_2-è¿è¡",normalizedTitle:"2.è¿è¡",charIndex:3697}],headersStr:"dockerå®è£nginx 1.è·åéååè¡¨ 2.æåéå 3.è¿è¡ docker composeå®è£nginx 1.åå»ºymlæä»¶ 2.è¿è¡",content:'Nginxä¸­æææ¡£\n\n\n# dockerå®è£nginx\n\n\n# 1.è·åéååè¡¨\n\ndocker search nginx\n\n\n\n# 2.æåéå\n\ndocker pull nginx\n\n\n\n# 3.è¿è¡\n\ndocker run -d --name nginx -p 80:80 --privileged -v /home/docker/nginx/conf/nginx.conf:/etc/nginx/nginx.conf -v /home/docker/nginx/html:/usr/share/nginx/html -v /home/docker/nginx/logs:/var/log/nginx nginx:latest\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n> --privilegedï¼å®¹å¨åérootæé\n\nnginx.conf\n\n#user  nobody;\nworker_processes  1;\n\n#error_log  logs/error.log;\n#error_log  logs/error.log  notice;\n#error_log  logs/error.log  info;\n\n#pid        logs/nginx.pid;\n\n\nevents {\n    worker_connections  1024;\n}\n\n\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n\n    #log_format  main  \'$remote_addr - $remote_user [$time_local] "$request" \'\n    #                  \'$status $body_bytes_sent "$http_referer" \'\n    #                  \'"$http_user_agent" "$http_x_forwarded_for"\';\n\n    #access_log  logs/access.log  main;\n\n    sendfile        on;\n    #tcp_nopush     on;\n\n    #keepalive_timeout  0;\n    keepalive_timeout  65;\n\n    #gzip  on;\n\n    server {\n        listen       80;\n        server_name  localhost;\n\n        #charset koi8-r;\n\n        #access_log  logs/host.access.log  main;\n\n        location / {\n            root   html;\n            index  index.html index.htm;\n        }\n\n        #error_page  404              /404.html;\n\n        # redirect server error pages to the static page /50x.html\n        #\n        error_page   500 502 503 504  /50x.html;\n        location = /50x.html {\n            root   html;\n        }\n\n        # proxy the PHP scripts to Apache listening on 127.0.0.1:80\n        #\n        #location ~ \\.php$ {\n        #    proxy_pass   http://127.0.0.1;\n        #}\n\n        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\n        #\n        #location ~ \\.php$ {\n        #    root           html;\n        #    fastcgi_pass   127.0.0.1:9000;\n        #    fastcgi_index  index.php;\n        #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;\n        #    include        fastcgi_params;\n        #}\n\n        # deny access to .htaccess files, if Apache\'s document root\n        # concurs with nginx\'s one\n        #\n        #location ~ /\\.ht {\n        #    deny  all;\n        #}\n    }\n\n\n    # another virtual host using mix of IP-, name-, and port-based configuration\n    #\n    #server {\n    #    listen       8000;\n    #    listen       somename:8080;\n    #    server_name  somename  alias  another.alias;\n\n    #    location / {\n    #        root   html;\n    #        index  index.html index.htm;\n    #    }\n    #}\n\n\n    # HTTPS server\n    #\n    #server {\n    #    listen       443 ssl;\n    #    server_name  localhost;\n\n    #    ssl_certificate      cert.pem;\n    #    ssl_certificate_key  cert.key;\n\n    #    ssl_session_cache    shared:SSL:1m;\n    #    ssl_session_timeout  5m;\n\n    #    ssl_ciphers  HIGH:!aNULL:!MD5;\n    #    ssl_prefer_server_ciphers  on;\n\n    #    location / {\n    #        root   html;\n    #        index  index.html index.htm;\n    #    }\n    #}\n\n}\n\n\n----------------------------------------\n\n\n# docker composeå®è£nginx\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-nginx.yml\n\nversion: \'3.3\'\nservices:\n  nginx:\n    image: nginx\n    container_name: nginx\n    environment:\n      TZ=Asia/Shanghai\n    ports:\n      - "7273:7273"\n      - "8188:8188"\n      - "9200:9200"\n      - "9999:9999"\n      - "10000:10000"\n      - "8088:8088"\n      - "7272:7272"\n      - "8089:8089"\n    privileged: true\n    volumes:\n      - /home/docker/nginx/conf/nginx.conf:/etc/nginx/nginx.conf\n      - /home/docker/nginx/html:/usr/share/nginx/html\n      - /home/docker/nginx/logs:/var/log/nginx\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-nginx.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶',normalizedContent:'nginxä¸­æææ¡£\n\n\n# dockerå®è£nginx\n\n\n# 1.è·åéååè¡¨\n\ndocker search nginx\n\n\n\n# 2.æåéå\n\ndocker pull nginx\n\n\n\n# 3.è¿è¡\n\ndocker run -d --name nginx -p 80:80 --privileged -v /home/docker/nginx/conf/nginx.conf:/etc/nginx/nginx.conf -v /home/docker/nginx/html:/usr/share/nginx/html -v /home/docker/nginx/logs:/var/log/nginx nginx:latest\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n> --privilegedï¼å®¹å¨åérootæé\n\nnginx.conf\n\n#user  nobody;\nworker_processes  1;\n\n#error_log  logs/error.log;\n#error_log  logs/error.log  notice;\n#error_log  logs/error.log  info;\n\n#pid        logs/nginx.pid;\n\n\nevents {\n    worker_connections  1024;\n}\n\n\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n\n    #log_format  main  \'$remote_addr - $remote_user [$time_local] "$request" \'\n    #                  \'$status $body_bytes_sent "$http_referer" \'\n    #                  \'"$http_user_agent" "$http_x_forwarded_for"\';\n\n    #access_log  logs/access.log  main;\n\n    sendfile        on;\n    #tcp_nopush     on;\n\n    #keepalive_timeout  0;\n    keepalive_timeout  65;\n\n    #gzip  on;\n\n    server {\n        listen       80;\n        server_name  localhost;\n\n        #charset koi8-r;\n\n        #access_log  logs/host.access.log  main;\n\n        location / {\n            root   html;\n            index  index.html index.htm;\n        }\n\n        #error_page  404              /404.html;\n\n        # redirect server error pages to the static page /50x.html\n        #\n        error_page   500 502 503 504  /50x.html;\n        location = /50x.html {\n            root   html;\n        }\n\n        # proxy the php scripts to apache listening on 127.0.0.1:80\n        #\n        #location ~ \\.php$ {\n        #    proxy_pass   http://127.0.0.1;\n        #}\n\n        # pass the php scripts to fastcgi server listening on 127.0.0.1:9000\n        #\n        #location ~ \\.php$ {\n        #    root           html;\n        #    fastcgi_pass   127.0.0.1:9000;\n        #    fastcgi_index  index.php;\n        #    fastcgi_param  script_filename  /scripts$fastcgi_script_name;\n        #    include        fastcgi_params;\n        #}\n\n        # deny access to .htaccess files, if apache\'s document root\n        # concurs with nginx\'s one\n        #\n        #location ~ /\\.ht {\n        #    deny  all;\n        #}\n    }\n\n\n    # another virtual host using mix of ip-, name-, and port-based configuration\n    #\n    #server {\n    #    listen       8000;\n    #    listen       somename:8080;\n    #    server_name  somename  alias  another.alias;\n\n    #    location / {\n    #        root   html;\n    #        index  index.html index.htm;\n    #    }\n    #}\n\n\n    # https server\n    #\n    #server {\n    #    listen       443 ssl;\n    #    server_name  localhost;\n\n    #    ssl_certificate      cert.pem;\n    #    ssl_certificate_key  cert.key;\n\n    #    ssl_session_cache    shared:ssl:1m;\n    #    ssl_session_timeout  5m;\n\n    #    ssl_ciphers  high:!anull:!md5;\n    #    ssl_prefer_server_ciphers  on;\n\n    #    location / {\n    #        root   html;\n    #        index  index.html index.htm;\n    #    }\n    #}\n\n}\n\n\n----------------------------------------\n\n\n# docker composeå®è£nginx\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-nginx.yml\n\nversion: \'3.3\'\nservices:\n  nginx:\n    image: nginx\n    container_name: nginx\n    environment:\n      tz=asia/shanghai\n    ports:\n      - "7273:7273"\n      - "8188:8188"\n      - "9200:9200"\n      - "9999:9999"\n      - "10000:10000"\n      - "8088:8088"\n      - "7272:7272"\n      - "8089:8089"\n    privileged: true\n    volumes:\n      - /home/docker/nginx/conf/nginx.conf:/etc/nginx/nginx.conf\n      - /home/docker/nginx/html:/usr/share/nginx/html\n      - /home/docker/nginx/logs:/var/log/nginx\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-nginx.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶',charsets:{cjk:!0}},{title:"Dockerå®è£MySQL",frontmatter:{title:"Dockerå®è£MySQL",date:"2022-02-07T15:20:19.000Z",permalink:"/pages/02c95e/",categories:["å­¦ä¹ èµæ","centos7","dockerå®è£æå¡"],tags:["docker","mysql"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/01.centos7/05.docker%E5%AE%89%E8%A3%85%E6%9C%8D%E5%8A%A1/02.Docker%E5%AE%89%E8%A3%85MySQL.html",relativePath:"å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/02.Dockerå®è£MySQL.md",key:"v-e72bac0a",path:"/pages/02c95e/",headers:[{level:2,title:"dockerå®è£mysql",slug:"dockerå®è£mysql",normalizedTitle:"dockerå®è£mysql",charIndex:12},{level:3,title:"1.è·åéååè¡¨",slug:"_1-è·åéååè¡¨",normalizedTitle:"1.è·åéååè¡¨",charIndex:30},{level:3,title:"2.æåéå",slug:"_2-æåéå",normalizedTitle:"2.æåéå",charIndex:65},{level:3,title:"3.è¿è¡",slug:"_3-è¿è¡",normalizedTitle:"3.è¿è¡",charIndex:103},{level:2,title:"docker composeå®è£nginx",slug:"docker-composeå®è£nginx",normalizedTitle:"docker composeå®è£nginx",charIndex:415},{level:3,title:"1.åå»ºymlæä»¶",slug:"_1-åå»ºymlæä»¶",normalizedTitle:"1.åå»ºymlæä»¶",charIndex:441},{level:3,title:"2.è¿è¡",slug:"_2-è¿è¡",normalizedTitle:"2.è¿è¡",charIndex:1223}],headersStr:"dockerå®è£mysql 1.è·åéååè¡¨ 2.æåéå 3.è¿è¡ docker composeå®è£nginx 1.åå»ºymlæä»¶ 2.è¿è¡",content:'MySQLå®ç½\n\n\n# dockerå®è£mysql\n\n\n# 1.è·åéååè¡¨\n\ndocker search mysql\n\n\n\n# 2.æåéå\n\ndocker pull mysql:5.7.32\n\n\n\n# 3.è¿è¡\n\ndocker run -d --name mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123456 -v /home/docker/mysql/db:/var/lib/mysql -v /home/docker/mysql/init:/docker-entrypoint-initdb.d/ mysql:5.7.32\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\n----------------------------------------\n\n\n# docker composeå®è£nginx\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-mysql.yml\n\nversion: \'3.3\'\nservices: \n  mysql:\n    ## network_mode: host\n    image: "mysql:5.7.32"\n    container_name: mysql\n    ports:\n      - "3306:3306"\n    environment:\n      TZ: Asia/Shanghai\n      MYSQL_ROOT_PASSWORD: 123456\n    command:\n      --character-set-server=utf8mb4\n      --collation-server=utf8mb4_general_ci\n      --explicit_defaults_for_timestamp=true\n      --lower_case_table_names=1\n      --max_allowed_packet=128M\n      --sql-mode="STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION,NO_ZERO_DATE,NO_ZERO_IN_DATE,ERROR_FOR_DIVISION_BY_ZERO"\n      --default-authentication_plugin=MYSQL_NATIVE_PASSWORD\n    volumes:\n      - /home/docker/mysql/db:/var/lib/mysql\n      - /home/docker/mysql/init:/docker-entrypoint-initdb.d/\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-mysql.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶',normalizedContent:'mysqlå®ç½\n\n\n# dockerå®è£mysql\n\n\n# 1.è·åéååè¡¨\n\ndocker search mysql\n\n\n\n# 2.æåéå\n\ndocker pull mysql:5.7.32\n\n\n\n# 3.è¿è¡\n\ndocker run -d --name mysql -p 3306:3306 -e mysql_root_password=123456 -v /home/docker/mysql/db:/var/lib/mysql -v /home/docker/mysql/init:/docker-entrypoint-initdb.d/ mysql:5.7.32\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\n----------------------------------------\n\n\n# docker composeå®è£nginx\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-mysql.yml\n\nversion: \'3.3\'\nservices: \n  mysql:\n    ## network_mode: host\n    image: "mysql:5.7.32"\n    container_name: mysql\n    ports:\n      - "3306:3306"\n    environment:\n      tz: asia/shanghai\n      mysql_root_password: 123456\n    command:\n      --character-set-server=utf8mb4\n      --collation-server=utf8mb4_general_ci\n      --explicit_defaults_for_timestamp=true\n      --lower_case_table_names=1\n      --max_allowed_packet=128m\n      --sql-mode="strict_trans_tables,no_auto_create_user,no_engine_substitution,no_zero_date,no_zero_in_date,error_for_division_by_zero"\n      --default-authentication_plugin=mysql_native_password\n    volumes:\n      - /home/docker/mysql/db:/var/lib/mysql\n      - /home/docker/mysql/init:/docker-entrypoint-initdb.d/\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-mysql.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶',charsets:{cjk:!0}},{title:"Dockerå®è£Tomcat",frontmatter:{title:"Dockerå®è£Tomcat",date:"2022-02-07T15:32:25.000Z",permalink:"/pages/cdbdbb/",categories:["å­¦ä¹ èµæ","centos7","dockerå®è£æå¡"],tags:["docker","tomcat"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/01.centos7/05.docker%E5%AE%89%E8%A3%85%E6%9C%8D%E5%8A%A1/03.Docker%E5%AE%89%E8%A3%85Tomcat.html",relativePath:"å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/03.Dockerå®è£Tomcat.md",key:"v-732a2f39",path:"/pages/cdbdbb/",headers:[{level:2,title:"dockerå®è£tomcat",slug:"dockerå®è£tomcat",normalizedTitle:"dockerå®è£tomcat",charIndex:18},{level:3,title:"1.è·åéååè¡¨",slug:"_1-è·åéååè¡¨",normalizedTitle:"1.è·åéååè¡¨",charIndex:37},{level:3,title:"2.æåéå",slug:"_2-æåéå",normalizedTitle:"2.æåéå",charIndex:73},{level:3,title:"3.è¿è¡",slug:"_3-è¿è¡",normalizedTitle:"3.è¿è¡",charIndex:105},{level:2,title:"docker composeå®è£tomcat",slug:"docker-composeå®è£tomcat",normalizedTitle:"docker composeå®è£tomcat",charIndex:7422},{level:3,title:"1.åå»ºymlæä»¶",slug:"_1-åå»ºymlæä»¶",normalizedTitle:"1.åå»ºymlæä»¶",charIndex:7449},{level:3,title:"2.è¿è¡",slug:"_2-è¿è¡",normalizedTitle:"2.è¿è¡",charIndex:7876}],headersStr:"dockerå®è£tomcat 1.è·åéååè¡¨ 2.æåéå 3.è¿è¡ docker composeå®è£tomcat 1.åå»ºymlæä»¶ 2.è¿è¡",content:'Apache Tomcat\n\n\n# dockerå®è£tomcat\n\n\n# 1.è·åéååè¡¨\n\ndocker search tomcat\n\n\n\n# 2.æåéå\n\ndocker pull tomcat\n\n\n\n# 3.è¿è¡\n\ndocker run -d --name tomcat -p 8080:8080 -v /home/docker/tomcat/webapps:/usr/local/tomcat/webapps/ -v /home/docker/tomcat/conf/server.xml:/usr/local/tomcat/conf/server.xml -v /home/docker/tomcat/logs:/usr/local/tomcat/logs/ tomcat:latest\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\nserver.xml\n\n<?xml version=\'1.0\' encoding=\'utf-8\'?>\n\x3c!--\n  Licensed to the Apache Software Foundation (ASF) under one or more\n  contributor license agreements.  See the NOTICE file distributed with\n  this work for additional information regarding copyright ownership.\n  The ASF licenses this file to You under the Apache License, Version 2.0\n  (the "License"); you may not use this file except in compliance with\n  the License.  You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n--\x3e\n\x3c!-- Note:  A "Server" is not itself a "Container", so you may not\n     define subcomponents such as "Valves" at this level.\n     Documentation at /docs/config/server.html\n --\x3e\n<Server port="8005" shutdown="SHUTDOWN">\n    <Listener className="org.apache.catalina.startup.VersionLoggerListener"/>\n    \x3c!-- Security listener. Documentation at /docs/config/listeners.html\n    <Listener className="org.apache.catalina.security.SecurityListener" />\n    --\x3e\n    \x3c!--APR library loader. Documentation at /docs/apr.html --\x3e\n    <Listener className="org.apache.catalina.core.AprLifecycleListener" SSLEngine="on"/>\n    \x3c!-- Prevent memory leaks due to use of particular java/javax APIs--\x3e\n    <Listener className="org.apache.catalina.core.JreMemoryLeakPreventionListener"/>\n    <Listener className="org.apache.catalina.mbeans.GlobalResourcesLifecycleListener"/>\n    <Listener className="org.apache.catalina.core.ThreadLocalLeakPreventionListener"/>\n\n    \x3c!-- Global JNDI resources\n         Documentation at /docs/jndi-resources-howto.html\n    --\x3e\n    <GlobalNamingResources>\n        \x3c!-- Editable user database that can also be used by\n             UserDatabaseRealm to authenticate users\n        --\x3e\n        <Resource name="UserDatabase" auth="Container"\n                  type="org.apache.catalina.UserDatabase"\n                  description="User database that can be updated and saved"\n                  factory="org.apache.catalina.users.MemoryUserDatabaseFactory"\n                  pathname="conf/tomcat-users.xml"/>\n    </GlobalNamingResources>\n\n    \x3c!-- A "Service" is a collection of one or more "Connectors" that share\n         a single "Container" Note:  A "Service" is not itself a "Container",\n         so you may not define subcomponents such as "Valves" at this level.\n         Documentation at /docs/config/service.html\n     --\x3e\n    <Service name="Catalina">\n\n        \x3c!--The connectors can use a shared executor, you can define one or more named thread pools--\x3e\n        \x3c!--\n        <Executor name="tomcatThreadPool" namePrefix="catalina-exec-"\n            maxThreads="150" minSpareThreads="4"/>\n        --\x3e\n\n\n        \x3c!-- A "Connector" represents an endpoint by which requests are received\n             and responses are returned. Documentation at :\n             Java HTTP Connector: /docs/config/http.html (blocking & non-blocking)\n             Java AJP  Connector: /docs/config/ajp.html\n             APR (HTTP/AJP) Connector: /docs/apr.html\n             Define a non-SSL/TLS HTTP/1.1 Connector on port 8080\n        --\x3e\n        <Connector port="8080" protocol="HTTP/1.1"\n                   connectionTimeout="20000"\n                   redirectPort="8443" URIEncoding="GBK"/>\n        \x3c!-- A "Connector" using the shared thread pool--\x3e\n        \x3c!--\n        <Connector executor="tomcatThreadPool"\n                   port="8080" protocol="HTTP/1.1"\n                   connectionTimeout="20000"\n                   redirectPort="8443" />\n        --\x3e\n        \x3c!-- Define a SSL/TLS HTTP/1.1 Connector on port 8443\n             This connector uses the NIO implementation that requires the JSSE\n             style configuration. When using the APR/native implementation, the\n             OpenSSL style configuration is required as described in the APR/native\n             documentation --\x3e\n        \x3c!--\n        <Connector port="8443" protocol="org.apache.coyote.http11.Http11NioProtocol"\n                   maxThreads="150" SSLEnabled="true" scheme="https" secure="true"\n                   clientAuth="false" sslProtocol="TLS" />\n        --\x3e\n\n        \x3c!-- Define an AJP 1.3 Connector on port 8009 --\x3e\n        <Connector port="8009" protocol="AJP/1.3" redirectPort="8443"/>\n\n\n        \x3c!-- An Engine represents the entry point (within Catalina) that processes\n             every request.  The Engine implementation for Tomcat stand alone\n             analyzes the HTTP headers included with the request, and passes them\n             on to the appropriate Host (virtual host).\n             Documentation at /docs/config/engine.html --\x3e\n\n        \x3c!-- You should set jvmRoute to support load-balancing via AJP ie :\n        <Engine name="Catalina" defaultHost="localhost" jvmRoute="jvm1">\n        --\x3e\n        <Engine name="Catalina" defaultHost="localhost">\n\n            \x3c!--For clustering, please take a look at documentation at:\n                /docs/cluster-howto.html  (simple how to)\n                /docs/config/cluster.html (reference documentation) --\x3e\n            \x3c!--\n            <Cluster className="org.apache.catalina.ha.tcp.SimpleTcpCluster"/>\n            --\x3e\n\n            \x3c!-- Use the LockOutRealm to prevent attempts to guess user passwords\n                 via a brute-force attack --\x3e\n            <Realm className="org.apache.catalina.realm.LockOutRealm">\n                \x3c!-- This Realm uses the UserDatabase configured in the global JNDI\n                     resources under the key "UserDatabase".  Any edits\n                     that are performed against this UserDatabase are immediately\n                     available for use by the Realm.  --\x3e\n                <Realm className="org.apache.catalina.realm.UserDatabaseRealm"\n                       resourceName="UserDatabase"/>\n            </Realm>\n\n            <Host name="localhost" appBase="webapps"\n                  unpackWARs="true" autoDeploy="true">\n\n                \x3c!-- SingleSignOn valve, share authentication between web applications\n                     Documentation at: /docs/config/valve.html --\x3e\n                \x3c!--\n                <Valve className="org.apache.catalina.authenticator.SingleSignOn" />\n                --\x3e\n\n                \x3c!-- Access log processes all example.\n                     Documentation at: /docs/config/valve.html\n                     Note: The pattern used is equivalent to using pattern="common" --\x3e\n                <Valve className="org.apache.catalina.valves.AccessLogValve" directory="logs"\n                       prefix="localhost_access_log" suffix=".txt"\n                       pattern="%h %l %u %t &quot;%r&quot; %s %b"/>\n\n            </Host>\n        </Engine>\n    </Service>\n</Server>\n\n\n----------------------------------------\n\n\n# docker composeå®è£tomcat\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-tomcat.yml\n\nversion: \'3.3\'\nservices:\n  tomcat:\n    image: tomcat\n    container_name: tomcat\n    ports:\n      - "8080:8080"\n    environment:\n      TZ: Asia/Shanghai\n    privileged: true\n    volumes:\n      - /home/docker/tomcat/webapps:/usr/local/tomcat/webapps/\n      - /home/docker/tomcat/conf/server.xml:/usr/local/tomcat/conf/server.xml\n      - /home/docker/tomcat/logs:/usr/local/tomcat/logs/\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-tomcat.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶',normalizedContent:'apache tomcat\n\n\n# dockerå®è£tomcat\n\n\n# 1.è·åéååè¡¨\n\ndocker search tomcat\n\n\n\n# 2.æåéå\n\ndocker pull tomcat\n\n\n\n# 3.è¿è¡\n\ndocker run -d --name tomcat -p 8080:8080 -v /home/docker/tomcat/webapps:/usr/local/tomcat/webapps/ -v /home/docker/tomcat/conf/server.xml:/usr/local/tomcat/conf/server.xml -v /home/docker/tomcat/logs:/usr/local/tomcat/logs/ tomcat:latest\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\nserver.xml\n\n<?xml version=\'1.0\' encoding=\'utf-8\'?>\n\x3c!--\n  licensed to the apache software foundation (asf) under one or more\n  contributor license agreements.  see the notice file distributed with\n  this work for additional information regarding copyright ownership.\n  the asf licenses this file to you under the apache license, version 2.0\n  (the "license"); you may not use this file except in compliance with\n  the license.  you may obtain a copy of the license at\n\n      http://www.apache.org/licenses/license-2.0\n\n  unless required by applicable law or agreed to in writing, software\n  distributed under the license is distributed on an "as is" basis,\n  without warranties or conditions of any kind, either express or implied.\n  see the license for the specific language governing permissions and\n  limitations under the license.\n--\x3e\n\x3c!-- note:  a "server" is not itself a "container", so you may not\n     define subcomponents such as "valves" at this level.\n     documentation at /docs/config/server.html\n --\x3e\n<server port="8005" shutdown="shutdown">\n    <listener classname="org.apache.catalina.startup.versionloggerlistener"/>\n    \x3c!-- security listener. documentation at /docs/config/listeners.html\n    <listener classname="org.apache.catalina.security.securitylistener" />\n    --\x3e\n    \x3c!--apr library loader. documentation at /docs/apr.html --\x3e\n    <listener classname="org.apache.catalina.core.aprlifecyclelistener" sslengine="on"/>\n    \x3c!-- prevent memory leaks due to use of particular java/javax apis--\x3e\n    <listener classname="org.apache.catalina.core.jrememoryleakpreventionlistener"/>\n    <listener classname="org.apache.catalina.mbeans.globalresourceslifecyclelistener"/>\n    <listener classname="org.apache.catalina.core.threadlocalleakpreventionlistener"/>\n\n    \x3c!-- global jndi resources\n         documentation at /docs/jndi-resources-howto.html\n    --\x3e\n    <globalnamingresources>\n        \x3c!-- editable user database that can also be used by\n             userdatabaserealm to authenticate users\n        --\x3e\n        <resource name="userdatabase" auth="container"\n                  type="org.apache.catalina.userdatabase"\n                  description="user database that can be updated and saved"\n                  factory="org.apache.catalina.users.memoryuserdatabasefactory"\n                  pathname="conf/tomcat-users.xml"/>\n    </globalnamingresources>\n\n    \x3c!-- a "service" is a collection of one or more "connectors" that share\n         a single "container" note:  a "service" is not itself a "container",\n         so you may not define subcomponents such as "valves" at this level.\n         documentation at /docs/config/service.html\n     --\x3e\n    <service name="catalina">\n\n        \x3c!--the connectors can use a shared executor, you can define one or more named thread pools--\x3e\n        \x3c!--\n        <executor name="tomcatthreadpool" nameprefix="catalina-exec-"\n            maxthreads="150" minsparethreads="4"/>\n        --\x3e\n\n\n        \x3c!-- a "connector" represents an endpoint by which requests are received\n             and responses are returned. documentation at :\n             java http connector: /docs/config/http.html (blocking & non-blocking)\n             java ajp  connector: /docs/config/ajp.html\n             apr (http/ajp) connector: /docs/apr.html\n             define a non-ssl/tls http/1.1 connector on port 8080\n        --\x3e\n        <connector port="8080" protocol="http/1.1"\n                   connectiontimeout="20000"\n                   redirectport="8443" uriencoding="gbk"/>\n        \x3c!-- a "connector" using the shared thread pool--\x3e\n        \x3c!--\n        <connector executor="tomcatthreadpool"\n                   port="8080" protocol="http/1.1"\n                   connectiontimeout="20000"\n                   redirectport="8443" />\n        --\x3e\n        \x3c!-- define a ssl/tls http/1.1 connector on port 8443\n             this connector uses the nio implementation that requires the jsse\n             style configuration. when using the apr/native implementation, the\n             openssl style configuration is required as described in the apr/native\n             documentation --\x3e\n        \x3c!--\n        <connector port="8443" protocol="org.apache.coyote.http11.http11nioprotocol"\n                   maxthreads="150" sslenabled="true" scheme="https" secure="true"\n                   clientauth="false" sslprotocol="tls" />\n        --\x3e\n\n        \x3c!-- define an ajp 1.3 connector on port 8009 --\x3e\n        <connector port="8009" protocol="ajp/1.3" redirectport="8443"/>\n\n\n        \x3c!-- an engine represents the entry point (within catalina) that processes\n             every request.  the engine implementation for tomcat stand alone\n             analyzes the http headers included with the request, and passes them\n             on to the appropriate host (virtual host).\n             documentation at /docs/config/engine.html --\x3e\n\n        \x3c!-- you should set jvmroute to support load-balancing via ajp ie :\n        <engine name="catalina" defaulthost="localhost" jvmroute="jvm1">\n        --\x3e\n        <engine name="catalina" defaulthost="localhost">\n\n            \x3c!--for clustering, please take a look at documentation at:\n                /docs/cluster-howto.html  (simple how to)\n                /docs/config/cluster.html (reference documentation) --\x3e\n            \x3c!--\n            <cluster classname="org.apache.catalina.ha.tcp.simpletcpcluster"/>\n            --\x3e\n\n            \x3c!-- use the lockoutrealm to prevent attempts to guess user passwords\n                 via a brute-force attack --\x3e\n            <realm classname="org.apache.catalina.realm.lockoutrealm">\n                \x3c!-- this realm uses the userdatabase configured in the global jndi\n                     resources under the key "userdatabase".  any edits\n                     that are performed against this userdatabase are immediately\n                     available for use by the realm.  --\x3e\n                <realm classname="org.apache.catalina.realm.userdatabaserealm"\n                       resourcename="userdatabase"/>\n            </realm>\n\n            <host name="localhost" appbase="webapps"\n                  unpackwars="true" autodeploy="true">\n\n                \x3c!-- singlesignon valve, share authentication between web applications\n                     documentation at: /docs/config/valve.html --\x3e\n                \x3c!--\n                <valve classname="org.apache.catalina.authenticator.singlesignon" />\n                --\x3e\n\n                \x3c!-- access log processes all example.\n                     documentation at: /docs/config/valve.html\n                     note: the pattern used is equivalent to using pattern="common" --\x3e\n                <valve classname="org.apache.catalina.valves.accesslogvalve" directory="logs"\n                       prefix="localhost_access_log" suffix=".txt"\n                       pattern="%h %l %u %t &quot;%r&quot; %s %b"/>\n\n            </host>\n        </engine>\n    </service>\n</server>\n\n\n----------------------------------------\n\n\n# docker composeå®è£tomcat\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-tomcat.yml\n\nversion: \'3.3\'\nservices:\n  tomcat:\n    image: tomcat\n    container_name: tomcat\n    ports:\n      - "8080:8080"\n    environment:\n      tz: asia/shanghai\n    privileged: true\n    volumes:\n      - /home/docker/tomcat/webapps:/usr/local/tomcat/webapps/\n      - /home/docker/tomcat/conf/server.xml:/usr/local/tomcat/conf/server.xml\n      - /home/docker/tomcat/logs:/usr/local/tomcat/logs/\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-tomcat.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶',charsets:{cjk:!0}},{title:"Dockerå®è£Gitlab",frontmatter:{title:"Dockerå®è£Gitlab",date:"2022-02-07T15:38:16.000Z",permalink:"/pages/8b837f/",categories:["å­¦ä¹ èµæ","centos7","dockerå®è£æå¡"],tags:["docker","gitlab"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/01.centos7/05.docker%E5%AE%89%E8%A3%85%E6%9C%8D%E5%8A%A1/04.Docker%E5%AE%89%E8%A3%85Gitlab.html",relativePath:"å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/04.Dockerå®è£Gitlab.md",key:"v-4a0974f9",path:"/pages/8b837f/",headers:[{level:2,title:"dockerå®è£gitlab",slug:"dockerå®è£gitlab",normalizedTitle:"dockerå®è£gitlab",charIndex:13},{level:3,title:"1.è·åéååè¡¨",slug:"_1-è·åéååè¡¨",normalizedTitle:"1.è·åéååè¡¨",charIndex:32},{level:3,title:"2.æåéå",slug:"_2-æåéå",normalizedTitle:"2.æåéå",charIndex:68},{level:3,title:"3.è¿è¡",slug:"_3-è¿è¡",normalizedTitle:"3.è¿è¡",charIndex:110},{level:2,title:"docker composeå®è£gitlab",slug:"docker-composeå®è£gitlab",normalizedTitle:"docker composeå®è£gitlab",charIndex:902},{level:3,title:"1.åå»ºymlæä»¶",slug:"_1-åå»ºymlæä»¶",normalizedTitle:"1.åå»ºymlæä»¶",charIndex:929},{level:3,title:"2.è¿è¡",slug:"_2-è¿è¡",normalizedTitle:"2.è¿è¡",charIndex:1392}],headersStr:"dockerå®è£gitlab 1.è·åéååè¡¨ 2.æåéå 3.è¿è¡ docker composeå®è£gitlab 1.åå»ºymlæä»¶ 2.è¿è¡",content:"Gitlabå®ç½\n\n\n# dockerå®è£gitlab\n\n\n# 1.è·åéååè¡¨\n\ndocker search gitlab\n\n\n\n# 2.æåéå\n\ndocker pull gitlab/gitlab-ce\n\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 443:443 -p 9980:80 -p 9922:22 --name gitlab --restart always -v /home/dokcer/gitlab/config:/etc/gitlab -v /home/docker/gitlab/logs:/var/log/gitlab -v /home/docker/gitlab/data:/var/opt/gitlab gitlab/gitlab-ce:latest\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n> --restart alwaysï¼èªå¨éå¯\n\ngitlab.rb\n\nexternal_url 'http://192.168.3.119:9980'\n\ngitlab_rails['gitlab_ssh_host'] = '192.168.3.119'\n\ngitlab_rails['gitlab_shell_ssh_port'] = 9922\n\ngitlab_rails['time_zone'] = 'Asia/Shanghai'\n\ngitlab_rails['gravatar_plain_url'] = 'http://www.gravatar.com/avatar/%{hash}?s=%{size}&d=identicon'\n\n# gitlab_rails['gravatar_ssl_url'] = 'https://secure.gravatar.com/avatar/%{hash}?s=%{size}&d=identicon'\n\n\n----------------------------------------\n\n\n# docker composeå®è£gitlab\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-gitlab.yml\n\nversion: '3.3'\nservices:\n  gitlab:\n    image: gitlab/gitlab-ce\n    container_name: gitlab\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n      - \"222:22\"\n    volumes:\n      - /home/docker/gitlab/config/gitlab.rb:/etc/gitlab/gitlab.rb\n      #- /home/docker/gitlab/config/gitlab-secrets.json:/etc/gitlab/gitlab-secrets.json\n      - /home/docker/gitlab/data/:/var/opt/gitlab\n      - /home/docker/gitlab/logs/:/var/log/gitlab\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-gitlab.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶",normalizedContent:"gitlabå®ç½\n\n\n# dockerå®è£gitlab\n\n\n# 1.è·åéååè¡¨\n\ndocker search gitlab\n\n\n\n# 2.æåéå\n\ndocker pull gitlab/gitlab-ce\n\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 443:443 -p 9980:80 -p 9922:22 --name gitlab --restart always -v /home/dokcer/gitlab/config:/etc/gitlab -v /home/docker/gitlab/logs:/var/log/gitlab -v /home/docker/gitlab/data:/var/opt/gitlab gitlab/gitlab-ce:latest\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n> --restart alwaysï¼èªå¨éå¯\n\ngitlab.rb\n\nexternal_url 'http://192.168.3.119:9980'\n\ngitlab_rails['gitlab_ssh_host'] = '192.168.3.119'\n\ngitlab_rails['gitlab_shell_ssh_port'] = 9922\n\ngitlab_rails['time_zone'] = 'asia/shanghai'\n\ngitlab_rails['gravatar_plain_url'] = 'http://www.gravatar.com/avatar/%{hash}?s=%{size}&d=identicon'\n\n# gitlab_rails['gravatar_ssl_url'] = 'https://secure.gravatar.com/avatar/%{hash}?s=%{size}&d=identicon'\n\n\n----------------------------------------\n\n\n# docker composeå®è£gitlab\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-gitlab.yml\n\nversion: '3.3'\nservices:\n  gitlab:\n    image: gitlab/gitlab-ce\n    container_name: gitlab\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n      - \"222:22\"\n    volumes:\n      - /home/docker/gitlab/config/gitlab.rb:/etc/gitlab/gitlab.rb\n      #- /home/docker/gitlab/config/gitlab-secrets.json:/etc/gitlab/gitlab-secrets.json\n      - /home/docker/gitlab/data/:/var/opt/gitlab\n      - /home/docker/gitlab/logs/:/var/log/gitlab\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-gitlab.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶",charsets:{cjk:!0}},{title:"Dockerå®è£Ftp",frontmatter:{title:"Dockerå®è£Ftp",date:"2022-02-07T16:44:30.000Z",permalink:"/pages/02a6d1/",categories:["å­¦ä¹ èµæ","centos7","dockerå®è£æå¡"],tags:["docker","ftp"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/01.centos7/05.docker%E5%AE%89%E8%A3%85%E6%9C%8D%E5%8A%A1/05.Docker%E5%AE%89%E8%A3%85Ftp.html",relativePath:"å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/05.Dockerå®è£Ftp.md",key:"v-035690b5",path:"/pages/02a6d1/",headers:[{level:2,title:"dockerå®è£ftp",slug:"dockerå®è£ftp",normalizedTitle:"dockerå®è£ftp",charIndex:2},{level:3,title:"1.è·åéååè¡¨",slug:"_1-è·åéååè¡¨",normalizedTitle:"1.è·åéååè¡¨",charIndex:18},{level:3,title:"2.æåéå",slug:"_2-æåéå",normalizedTitle:"2.æåéå",charIndex:54},{level:3,title:"3.è¿è¡",slug:"_3-è¿è¡",normalizedTitle:"3.è¿è¡",charIndex:93},{level:2,title:"docker composeå®è£ftp",slug:"docker-composeå®è£ftp",normalizedTitle:"docker composeå®è£ftp",charIndex:462},{level:3,title:"1.åå»ºymlæä»¶",slug:"_1-åå»ºymlæä»¶",normalizedTitle:"1.åå»ºymlæä»¶",charIndex:486},{level:3,title:"2.è¿è¡",slug:"_2-è¿è¡",normalizedTitle:"2.è¿è¡",charIndex:888}],headersStr:"dockerå®è£ftp 1.è·åéååè¡¨ 2.æåéå 3.è¿è¡ docker composeå®è£ftp 1.åå»ºymlæä»¶ 2.è¿è¡",content:'# dockerå®è£ftp\n\n\n# 1.è·åéååè¡¨\n\ndocker search vsftpd\n\n\n\n# 2.æåéå\n\ndocker pull fauria/vsftpd\n\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 20:20 -p 21:21 -p 21100-21110:21100-21110 --name ftp -e FTP_USER=ftp -e FTP_PASS=ftp -e PASV_ADDRESS=192.168.3.131 -e PASV_MIN_POST=21100 -e PASV_MAX_POST=21110 -v /home/docker/nginx/:/home/vsftpd fauria/vsftpd:latest\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\n----------------------------------------\n\n\n# docker composeå®è£ftp\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-ftp.yml\n\nversion: \'3.3\'\nservices:\n  ftp:\n    image: fauria/vsftpd\n    container_name: ftp\n    ports:\n      - "20:20"\n      - "21:21"\n      - "21100-21110:21100-21110"\n    volumes:\n      - /home/docker/nginx/:/home/vsftpd\n    environment:\n      - FTP_USER=ftp\n      - FTP_PASS=ftp\n      - PASV_ADDRESS=192.168.3.131\n      - PASV_MIN_POST=21100\n      - PASV_MAX_POST=21110\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-ftp.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶',normalizedContent:'# dockerå®è£ftp\n\n\n# 1.è·åéååè¡¨\n\ndocker search vsftpd\n\n\n\n# 2.æåéå\n\ndocker pull fauria/vsftpd\n\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 20:20 -p 21:21 -p 21100-21110:21100-21110 --name ftp -e ftp_user=ftp -e ftp_pass=ftp -e pasv_address=192.168.3.131 -e pasv_min_post=21100 -e pasv_max_post=21110 -v /home/docker/nginx/:/home/vsftpd fauria/vsftpd:latest\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\n----------------------------------------\n\n\n# docker composeå®è£ftp\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-ftp.yml\n\nversion: \'3.3\'\nservices:\n  ftp:\n    image: fauria/vsftpd\n    container_name: ftp\n    ports:\n      - "20:20"\n      - "21:21"\n      - "21100-21110:21100-21110"\n    volumes:\n      - /home/docker/nginx/:/home/vsftpd\n    environment:\n      - ftp_user=ftp\n      - ftp_pass=ftp\n      - pasv_address=192.168.3.131\n      - pasv_min_post=21100\n      - pasv_max_post=21110\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-ftp.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶',charsets:{cjk:!0}},{title:"Dockerå®è£Trojan",frontmatter:{title:"Dockerå®è£Trojan",date:"2022-02-08T10:32:32.000Z",permalink:"/pages/7b6292/",categories:["å­¦ä¹ èµæ","centos7","dockerå®è£æå¡"],tags:["docker","trojan"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/01.centos7/05.docker%E5%AE%89%E8%A3%85%E6%9C%8D%E5%8A%A1/06.Docker%E5%AE%89%E8%A3%85Trojan.html",relativePath:"å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/06.Dockerå®è£Trojan.md",key:"v-9a2f34ce",path:"/pages/7b6292/",headers:[{level:2,title:"dockerå®è£trojan",slug:"dockerå®è£trojan",normalizedTitle:"dockerå®è£trojan",charIndex:2},{level:3,title:"1.è·åéååè¡¨",slug:"_1-è·åéååè¡¨",normalizedTitle:"1.è·åéååè¡¨",charIndex:21},{level:3,title:"2.æåéå",slug:"_2-æåéå",normalizedTitle:"2.æåéå",charIndex:57},{level:3,title:"3.è¿è¡",slug:"_3-è¿è¡",normalizedTitle:"3.è¿è¡",charIndex:99},{level:2,title:"docker composeå®è£trojan",slug:"docker-composeå®è£trojan",normalizedTitle:"docker composeå®è£trojan",charIndex:1155},{level:3,title:"1.åå»ºymlæä»¶",slug:"_1-åå»ºymlæä»¶",normalizedTitle:"1.åå»ºymlæä»¶",charIndex:1182},{level:3,title:"2.è¿è¡",slug:"_2-è¿è¡",normalizedTitle:"2.è¿è¡",charIndex:1463}],headersStr:"dockerå®è£trojan 1.è·åéååè¡¨ 2.æåéå 3.è¿è¡ docker composeå®è£trojan 1.åå»ºymlæä»¶ 2.è¿è¡",content:'# dockerå®è£trojan\n\n\n# 1.è·åéååè¡¨\n\ndocker search trojan\n\n\n\n# 2.æåéå\n\ndocker pull trojangfw/trojan\n\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 1080:1080 --name trojan -v /home/docker/trojan/cert:/usr/local/etc/trojan/cert/ -v /home/docker/trojan/config:/config trojangfw/trojan:latest\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\nconfig.json\n\n{\n    "run_type": "client",\n    "local_addr": "trojan",\n    "local_port": 1080,\n    "remote_addr": "www.blackbodytest.com",\n    "remote_port": 443,\n    "password": [\n        "6842eb80"\n    ],\n    "log_level": 1,\n    "ssl": {\n        "verify": true,\n        "verify_hostname": true,\n        "cert": "/usr/local/etc/trojan/cert/fullchain.cer",\n        "cipher_tls13":"TLS_AES_128_GCM_SHA256:TLS_CHACHA20_POLY1305_SHA256:TLS_AES_256_GCM_SHA384",\n"sni": "",\n        "alpn": [\n            "h2",\n            "http/1.1"\n        ],\n        "reuse_session": true,\n        "session_ticket": false,\n        "curves": ""\n    },\n    "tcp": {\n        "no_delay": true,\n        "keep_alive": true,\n        "fast_open": false,\n        "fast_open_qlen": 20\n    }\n}\n\n\n----------------------------------------\n\n\n# docker composeå®è£trojan\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-trojan.yml\n\nversion: \'3.3\'\nservices:\n  trojan:\n    image: trojangfw/trojan\n    container_name: trojan\n    ports:\n      - "1080:1080"\n    volumes:\n      - /home/docker/trojan/cert:/usr/local/etc/trojan/cert/\n      - /home/docker/trojan/config:/config\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-trojan.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶',normalizedContent:'# dockerå®è£trojan\n\n\n# 1.è·åéååè¡¨\n\ndocker search trojan\n\n\n\n# 2.æåéå\n\ndocker pull trojangfw/trojan\n\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 1080:1080 --name trojan -v /home/docker/trojan/cert:/usr/local/etc/trojan/cert/ -v /home/docker/trojan/config:/config trojangfw/trojan:latest\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\nconfig.json\n\n{\n    "run_type": "client",\n    "local_addr": "trojan",\n    "local_port": 1080,\n    "remote_addr": "www.blackbodytest.com",\n    "remote_port": 443,\n    "password": [\n        "6842eb80"\n    ],\n    "log_level": 1,\n    "ssl": {\n        "verify": true,\n        "verify_hostname": true,\n        "cert": "/usr/local/etc/trojan/cert/fullchain.cer",\n        "cipher_tls13":"tls_aes_128_gcm_sha256:tls_chacha20_poly1305_sha256:tls_aes_256_gcm_sha384",\n"sni": "",\n        "alpn": [\n            "h2",\n            "http/1.1"\n        ],\n        "reuse_session": true,\n        "session_ticket": false,\n        "curves": ""\n    },\n    "tcp": {\n        "no_delay": true,\n        "keep_alive": true,\n        "fast_open": false,\n        "fast_open_qlen": 20\n    }\n}\n\n\n----------------------------------------\n\n\n# docker composeå®è£trojan\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-trojan.yml\n\nversion: \'3.3\'\nservices:\n  trojan:\n    image: trojangfw/trojan\n    container_name: trojan\n    ports:\n      - "1080:1080"\n    volumes:\n      - /home/docker/trojan/cert:/usr/local/etc/trojan/cert/\n      - /home/docker/trojan/config:/config\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-trojan.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶',charsets:{cjk:!0}},{title:"Dockerå®è£V2ray",frontmatter:{title:"Dockerå®è£V2ray",date:"2022-02-08T10:35:59.000Z",permalink:"/pages/a7c015/",categories:["å­¦ä¹ èµæ","centos7","dockerå®è£æå¡"],tags:["docker","v2ray"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/01.centos7/05.docker%E5%AE%89%E8%A3%85%E6%9C%8D%E5%8A%A1/07.Docker%E5%AE%89%E8%A3%85V2ray.html",relativePath:"å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/07.Dockerå®è£V2ray.md",key:"v-7e99b8ce",path:"/pages/a7c015/",headers:[{level:2,title:"dockerå®è£v2ray",slug:"dockerå®è£v2ray",normalizedTitle:"dockerå®è£v2ray",charIndex:2},{level:3,title:"1.è·åéååè¡¨",slug:"_1-è·åéååè¡¨",normalizedTitle:"1.è·åéååè¡¨",charIndex:20},{level:3,title:"2.æåéå",slug:"_2-æåéå",normalizedTitle:"2.æåéå",charIndex:55},{level:3,title:"3.è¿è¡",slug:"_3-è¿è¡",normalizedTitle:"3.è¿è¡",charIndex:95},{level:2,title:"docker composeå®è£v2ray",slug:"docker-composeå®è£v2ray",normalizedTitle:"docker composeå®è£v2ray",charIndex:2912},{level:3,title:"1.åå»ºymlæä»¶",slug:"_1-åå»ºymlæä»¶",normalizedTitle:"1.åå»ºymlæä»¶",charIndex:2938},{level:3,title:"2.è¿è¡",slug:"_2-è¿è¡",normalizedTitle:"2.è¿è¡",charIndex:3172}],headersStr:"dockerå®è£v2ray 1.è·åéååè¡¨ 2.æåéå 3.è¿è¡ docker composeå®è£v2ray 1.åå»ºymlæä»¶ 2.è¿è¡",content:'# dockerå®è£v2ray\n\n\n# 1.è·åéååè¡¨\n\ndocker search v2ray\n\n\n\n# 2.æåéå\n\ndocker pull v2ray/official\n\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 1081:1081 --name v2ray -v /home/docker/v2ray/config.json:/etc/v2ray/config.json v2ray/official:latest\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\nconfig.json\n\n{\n  "policy": {\n    "system": {\n      "statsInboundUplink": true,\n      "statsInboundDownlink": true\n    }\n  },\n  "log": {\n    "access": "",\n    "error": "",\n    "loglevel": "warning"\n  },\n  "inbounds": [\n    {\n      "tag": "proxy",\n      "port": "1081",\n      "listen": "0.0.0.0",\n      "protocol": "socks",\n      "sniffing": {\n        "enabled": true,\n        "destOverride": [\n          "http",\n          "tls"\n        ]\n      },\n      "settings": {\n        "auth": "noauth",\n        "udp": true,\n        "ip": null,\n        "address": null,\n        "clients": null\n      },\n      "streamSettings": null\n    },\n    {\n      "tag": "api",\n      "port": 53407,\n      "listen": "127.0.0.1",\n      "protocol": "dokodemo-door",\n      "sniffing": null,\n      "settings": {\n        "auth": null,\n        "udp": false,\n        "ip": null,\n        "address": "127.0.0.1",\n        "clients": null\n      },\n      "streamSettings": null\n    }\n  ],\n  "outbounds": [\n    {\n      "tag": "proxy",\n      "protocol": "socks",\n      "settings": {\n        "vnext": null,\n        "servers": [\n          {\n            "email": null,\n            "address": "trojan",\n            "method": null,\n            "ota": false,\n            "password": null,\n            "port": 1080,\n            "level": 1,\n            "users": null\n          }\n        ],\n        "response": null\n      },\n      "streamSettings": {\n        "network": "tcp",\n        "security": null,\n        "tlsSettings": null,\n        "tcpSettings": null,\n        "kcpSettings": null,\n        "wsSettings": null,\n        "httpSettings": null,\n        "quicSettings": null\n      },\n      "mux": {\n        "enabled": false,\n        "concurrency": -1\n      }\n    },\n    {\n      "tag": "direct",\n      "protocol": "freedom",\n      "settings": {\n        "vnext": null,\n        "servers": null,\n        "response": null\n      },\n      "streamSettings": null,\n      "mux": null\n    },\n    {\n      "tag": "block",\n      "protocol": "blackhole",\n      "settings": {\n        "vnext": null,\n        "servers": null,\n        "response": {\n          "type": "http"\n        }\n      },\n      "streamSettings": null,\n      "mux": null\n    }\n  ],\n  "stats": {},\n  "api": {\n    "tag": "api",\n    "services": [\n      "StatsService"\n    ]\n  },\n  "dns": null,\n  "routing": {\n    "domainStrategy": "IPIfNonMatch",\n    "rules": [\n      {\n        "type": "field",\n        "port": null,\n        "inboundTag": [\n          "api"\n        ],\n        "outboundTag": "api",\n        "ip": null,\n        "domain": null\n      }\n    ]\n  }\n}\n\n\n----------------------------------------\n\n\n# docker composeå®è£v2ray\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-v2ray.yml\n\nversion: \'3.3\'\nservices:\n  v2ray:\n    image: v2ray/official\n    container_name: v2ray\n    ports:\n      - "1081:1081"\n    volumes:\n      - /home/docker/v2ray/config.json:/etc/v2ray/config.json\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-v2ray.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶',normalizedContent:'# dockerå®è£v2ray\n\n\n# 1.è·åéååè¡¨\n\ndocker search v2ray\n\n\n\n# 2.æåéå\n\ndocker pull v2ray/official\n\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 1081:1081 --name v2ray -v /home/docker/v2ray/config.json:/etc/v2ray/config.json v2ray/official:latest\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\nconfig.json\n\n{\n  "policy": {\n    "system": {\n      "statsinbounduplink": true,\n      "statsinbounddownlink": true\n    }\n  },\n  "log": {\n    "access": "",\n    "error": "",\n    "loglevel": "warning"\n  },\n  "inbounds": [\n    {\n      "tag": "proxy",\n      "port": "1081",\n      "listen": "0.0.0.0",\n      "protocol": "socks",\n      "sniffing": {\n        "enabled": true,\n        "destoverride": [\n          "http",\n          "tls"\n        ]\n      },\n      "settings": {\n        "auth": "noauth",\n        "udp": true,\n        "ip": null,\n        "address": null,\n        "clients": null\n      },\n      "streamsettings": null\n    },\n    {\n      "tag": "api",\n      "port": 53407,\n      "listen": "127.0.0.1",\n      "protocol": "dokodemo-door",\n      "sniffing": null,\n      "settings": {\n        "auth": null,\n        "udp": false,\n        "ip": null,\n        "address": "127.0.0.1",\n        "clients": null\n      },\n      "streamsettings": null\n    }\n  ],\n  "outbounds": [\n    {\n      "tag": "proxy",\n      "protocol": "socks",\n      "settings": {\n        "vnext": null,\n        "servers": [\n          {\n            "email": null,\n            "address": "trojan",\n            "method": null,\n            "ota": false,\n            "password": null,\n            "port": 1080,\n            "level": 1,\n            "users": null\n          }\n        ],\n        "response": null\n      },\n      "streamsettings": {\n        "network": "tcp",\n        "security": null,\n        "tlssettings": null,\n        "tcpsettings": null,\n        "kcpsettings": null,\n        "wssettings": null,\n        "httpsettings": null,\n        "quicsettings": null\n      },\n      "mux": {\n        "enabled": false,\n        "concurrency": -1\n      }\n    },\n    {\n      "tag": "direct",\n      "protocol": "freedom",\n      "settings": {\n        "vnext": null,\n        "servers": null,\n        "response": null\n      },\n      "streamsettings": null,\n      "mux": null\n    },\n    {\n      "tag": "block",\n      "protocol": "blackhole",\n      "settings": {\n        "vnext": null,\n        "servers": null,\n        "response": {\n          "type": "http"\n        }\n      },\n      "streamsettings": null,\n      "mux": null\n    }\n  ],\n  "stats": {},\n  "api": {\n    "tag": "api",\n    "services": [\n      "statsservice"\n    ]\n  },\n  "dns": null,\n  "routing": {\n    "domainstrategy": "ipifnonmatch",\n    "rules": [\n      {\n        "type": "field",\n        "port": null,\n        "inboundtag": [\n          "api"\n        ],\n        "outboundtag": "api",\n        "ip": null,\n        "domain": null\n      }\n    ]\n  }\n}\n\n\n----------------------------------------\n\n\n# docker composeå®è£v2ray\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-v2ray.yml\n\nversion: \'3.3\'\nservices:\n  v2ray:\n    image: v2ray/official\n    container_name: v2ray\n    ports:\n      - "1081:1081"\n    volumes:\n      - /home/docker/v2ray/config.json:/etc/v2ray/config.json\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-v2ray.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶',charsets:{cjk:!0}},{title:"Dockerå®è£Frp",frontmatter:{title:"Dockerå®è£Frp",date:"2022-02-08T10:38:13.000Z",permalink:"/pages/c1ed84/",categories:["å­¦ä¹ èµæ","centos7","dockerå®è£æå¡"],tags:["docker","frp"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/01.centos7/05.docker%E5%AE%89%E8%A3%85%E6%9C%8D%E5%8A%A1/08.Docker%E5%AE%89%E8%A3%85Frp.html",relativePath:"å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/08.Dockerå®è£Frp.md",key:"v-f18c332a",path:"/pages/c1ed84/",headers:[{level:2,title:"dockerå®è£frp",slug:"dockerå®è£frp",normalizedTitle:"dockerå®è£frp",charIndex:10},{level:3,title:"æå¡ç«¯",slug:"æå¡ç«¯",normalizedTitle:"æå¡ç«¯",charIndex:26},{level:3,title:"å®¢æ·ç«¯",slug:"å®¢æ·ç«¯",normalizedTitle:"å®¢æ·ç«¯",charIndex:458},{level:2,title:"docker composeå®è£frp",slug:"docker-composeå®è£frp",normalizedTitle:"docker composeå®è£frp",charIndex:962},{level:3,title:"æå¡ç«¯",slug:"æå¡ç«¯-2",normalizedTitle:"æå¡ç«¯",charIndex:26},{level:3,title:"å®¢æ·ç«¯",slug:"å®¢æ·ç«¯-2",normalizedTitle:"å®¢æ·ç«¯",charIndex:458}],headersStr:"dockerå®è£frp æå¡ç«¯ å®¢æ·ç«¯ docker composeå®è£frp æå¡ç«¯ å®¢æ·ç«¯",content:"Frpå®ç½\n\n\n# dockerå®è£frp\n\n\n# æå¡ç«¯\n\n# 1.è·åéååè¡¨\n\ndocker search frp\n\n\n# 2.æåéå\n\ndocker pull snowdreamtech/frps\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 7000:7000 --name frps -v /home/docker/frp/frps.ini:/etc/frp/frps.ini snowdreamtech/frps:latest\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\nfrps.ini\n\n[common]\nbind_port = 7000\nvhost_http_port = 6001 \ntoken = token\ndashboard_port = 7272\ndashboard_user = admin\ndashboard_pwd = password\n\n\n\n# å®¢æ·ç«¯\n\n# 1.è·åéååè¡¨\n\ndocker search frp\n\n\n# 2.æåéå\n\ndocker pull snowdreamtech/frpc\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 6000:6000 --name frpc -v /home/docker/frp/frpc.ini:/etc/frp/frpc.ini snowdreamtech/frpc:latest\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\nfrpc.ini\n\n[common]\nserver_addr = 192.168.3.119 \nserver_port = 7000\ntoken = token\n\n[gitlab_admin]\ntype = http\nlocal_ip = gitlab\nlocal_port = 9980\ncustom_domains = xxx.xxx.com\n\n\n----------------------------------------\n\n\n# docker composeå®è£frp\n\n\n# æå¡ç«¯\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-frps.yml\n\nversion: '3.3'\nservices:\n  frp:\n    image: snowdreamtech/frps\n    container_name: frps\n    ports:\n      - \"7000:7000\"\n    volumes:\n      - /home/docker/frp/frps.ini:/etc/frp/frps.ini\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-frps.yml up -d\n\n\n\n# å®¢æ·ç«¯\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-frpc.yml\n\nversion: '3.3'\nservices:\n  frp:\n    image: snowdreamtech/frpc\n    container_name: frpc\n    ports:\n      - \"6000:6000\"\n    volumes:\n      - /home/docker/frp/frpc.ini:/etc/frp/frpc.ini\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-frpc.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶",normalizedContent:"frpå®ç½\n\n\n# dockerå®è£frp\n\n\n# æå¡ç«¯\n\n# 1.è·åéååè¡¨\n\ndocker search frp\n\n\n# 2.æåéå\n\ndocker pull snowdreamtech/frps\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 7000:7000 --name frps -v /home/docker/frp/frps.ini:/etc/frp/frps.ini snowdreamtech/frps:latest\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\nfrps.ini\n\n[common]\nbind_port = 7000\nvhost_http_port = 6001 \ntoken = token\ndashboard_port = 7272\ndashboard_user = admin\ndashboard_pwd = password\n\n\n\n# å®¢æ·ç«¯\n\n# 1.è·åéååè¡¨\n\ndocker search frp\n\n\n# 2.æåéå\n\ndocker pull snowdreamtech/frpc\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 6000:6000 --name frpc -v /home/docker/frp/frpc.ini:/etc/frp/frpc.ini snowdreamtech/frpc:latest\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\nfrpc.ini\n\n[common]\nserver_addr = 192.168.3.119 \nserver_port = 7000\ntoken = token\n\n[gitlab_admin]\ntype = http\nlocal_ip = gitlab\nlocal_port = 9980\ncustom_domains = xxx.xxx.com\n\n\n----------------------------------------\n\n\n# docker composeå®è£frp\n\n\n# æå¡ç«¯\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-frps.yml\n\nversion: '3.3'\nservices:\n  frp:\n    image: snowdreamtech/frps\n    container_name: frps\n    ports:\n      - \"7000:7000\"\n    volumes:\n      - /home/docker/frp/frps.ini:/etc/frp/frps.ini\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-frps.yml up -d\n\n\n\n# å®¢æ·ç«¯\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-frpc.yml\n\nversion: '3.3'\nservices:\n  frp:\n    image: snowdreamtech/frpc\n    container_name: frpc\n    ports:\n      - \"6000:6000\"\n    volumes:\n      - /home/docker/frp/frpc.ini:/etc/frp/frpc.ini\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-frpc.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶",charsets:{cjk:!0}},{title:"Dockerå®è£Redis",frontmatter:{title:"Dockerå®è£Redis",date:"2022-02-08T11:14:34.000Z",permalink:"/pages/0000a6/",categories:["å­¦ä¹ èµæ","centos7","dockerå®è£æå¡"],tags:["docker","redis"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/01.centos7/05.docker%E5%AE%89%E8%A3%85%E6%9C%8D%E5%8A%A1/09.Docker%E5%AE%89%E8%A3%85Redis.html",relativePath:"å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/09.Dockerå®è£Redis.md",key:"v-e80e330a",path:"/pages/0000a6/",headers:[{level:2,title:"dockerå®è£redis",slug:"dockerå®è£redis",normalizedTitle:"dockerå®è£redis",charIndex:12},{level:3,title:"1.è·åéååè¡¨",slug:"_1-è·åéååè¡¨",normalizedTitle:"1.è·åéååè¡¨",charIndex:30},{level:3,title:"2.æåéå",slug:"_2-æåéå",normalizedTitle:"2.æåéå",charIndex:65},{level:3,title:"3.è¿è¡",slug:"_3-è¿è¡",normalizedTitle:"3.è¿è¡",charIndex:96},{level:2,title:"docker composeå®è£redis",slug:"docker-composeå®è£redis",normalizedTitle:"docker composeå®è£redis",charIndex:353},{level:3,title:"1.åå»ºymlæä»¶",slug:"_1-åå»ºymlæä»¶",normalizedTitle:"1.åå»ºymlæä»¶",charIndex:379},{level:3,title:"2.è¿è¡",slug:"_2-è¿è¡",normalizedTitle:"2.è¿è¡",charIndex:682}],headersStr:"dockerå®è£redis 1.è·åéååè¡¨ 2.æåéå 3.è¿è¡ docker composeå®è£redis 1.åå»ºymlæä»¶ 2.è¿è¡",content:"Rediså®ç½\n\n\n# dockerå®è£redis\n\n\n# 1.è·åéååè¡¨\n\ndocker search redis\n\n\n\n# 2.æåéå\n\ndocker pull redis\n\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 6379:6379 --name redis -v /home/docker/redis/data:/data -v /home/docker/redis/conf:/etc/conf redis:latest\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\n----------------------------------------\n\n\n# docker composeå®è£redis\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-redis.yml\n\nversion: '3.3'\nservices:\n  redis:\n    image: redis\n    container_name: redis\n    ports:\n      - 6379:6379\n    command: /usr/local/bin/redis-server /etc/conf/redis.conf\n    volumes:\n      - /home/docker/redis/data:/data\n      - /home/docker/redis/conf:/etc/conf\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-redis.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶",normalizedContent:"rediså®ç½\n\n\n# dockerå®è£redis\n\n\n# 1.è·åéååè¡¨\n\ndocker search redis\n\n\n\n# 2.æåéå\n\ndocker pull redis\n\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 6379:6379 --name redis -v /home/docker/redis/data:/data -v /home/docker/redis/conf:/etc/conf redis:latest\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\n----------------------------------------\n\n\n# docker composeå®è£redis\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-redis.yml\n\nversion: '3.3'\nservices:\n  redis:\n    image: redis\n    container_name: redis\n    ports:\n      - 6379:6379\n    command: /usr/local/bin/redis-server /etc/conf/redis.conf\n    volumes:\n      - /home/docker/redis/data:/data\n      - /home/docker/redis/conf:/etc/conf\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-redis.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶",charsets:{cjk:!0}},{title:"Dockerå®è£Nacos",frontmatter:{title:"Dockerå®è£Nacos",date:"2022-02-08T11:17:54.000Z",permalink:"/pages/a45d98/",categories:["å­¦ä¹ èµæ","centos7","dockerå®è£æå¡"],tags:["docker","nacos"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/01.centos7/05.docker%E5%AE%89%E8%A3%85%E6%9C%8D%E5%8A%A1/10.Docker%E5%AE%89%E8%A3%85Nacos.html",relativePath:"å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/10.Dockerå®è£Nacos.md",key:"v-4fb836dd",path:"/pages/a45d98/",headers:[{level:2,title:"dockerå®è£nacos",slug:"dockerå®è£nacos",normalizedTitle:"dockerå®è£nacos",charIndex:12},{level:3,title:"1.è·åéååè¡¨",slug:"_1-è·åéååè¡¨",normalizedTitle:"1.è·åéååè¡¨",charIndex:30},{level:3,title:"2.æåéå",slug:"_2-æåéå",normalizedTitle:"2.æåéå",charIndex:65},{level:3,title:"3.è¿è¡",slug:"_3-è¿è¡",normalizedTitle:"3.è¿è¡",charIndex:109},{level:2,title:"docker composeå®è£nacos",slug:"docker-composeå®è£nacos",normalizedTitle:"docker composeå®è£nacos",charIndex:409},{level:3,title:"1.åå»ºymlæä»¶",slug:"_1-åå»ºymlæä»¶",normalizedTitle:"1.åå»ºymlæä»¶",charIndex:435},{level:3,title:"2.è¿è¡",slug:"_2-è¿è¡",normalizedTitle:"2.è¿è¡",charIndex:1391}],headersStr:"dockerå®è£nacos 1.è·åéååè¡¨ 2.æåéå 3.è¿è¡ docker composeå®è£nacos 1.åå»ºymlæä»¶ 2.è¿è¡",content:"Nacoså®ç½\n\n\n# dockerå®è£nacos\n\n\n# 1.è·åéååè¡¨\n\ndocker search nacos\n\n\n\n# 2.æåéå\n\ndocker pull nacos/nacos-server\n\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 8848:8848 --name nacos -v /home/docker/nacos/data/logs:/home/nacos/logs -v /home/docker/nacos/plugins/:/home/nacos/plugins nacos/nacos-server:latest\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\n----------------------------------------\n\n\n# docker composeå®è£nacos\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-nacos.yml\n\nversion: '3.3'\nservices:\n  nacos:\n    image: nacos/nacos-server                                    # éå`nacos/nacos-server:latest`\n    restart: always                                              # æå®å®¹å¨éåºåçéå¯ç­ç¥ä¸ºå§ç»éå¯\n    container_name: nacos                                        # å®¹å¨åä¸º'nacos'\n    volumes:                                                     # æ°æ®å·æè½½è·¯å¾è®¾ç½®,å°æ¬æºç®å½æ å°å°å®¹å¨ç®å½\n      - /home/docker/nacos/data/logs:/home/nacos/logs\n      - /home/docker/nacos/plugins/:/home/nacos/plugins\n    # - /home/docker/nacos/conf/:/home/nacos/conf/\n    environment:                        # è®¾ç½®ç¯å¢åé,ç¸å½äºdocker runå½ä»¤ä¸­ç-e\n      TZ: Asia/Shanghai\n      LANG: en_US.UTF-8\n      JVM_XMX: 1g     # è®¾å®ç¨åºè¿è¡æé´æå¤§å¯å ç¨çåå­å¤§å°\n      JVM_XMS: 1g     # è®¾å®ç¨åºå¯å¨æ¶å ç¨åå­å¤§å°\n      JVM_XMN: 512m    # æ°çä»£å¤§å°\n      #      PREFER_HOST_MODE: hostname\n      MODE: standalone # åæºæ¨¡å¼å¯å¨\n    ports:                              # æ å°ç«¯å£\n      - \"8848:8848\"\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-nacos.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶",normalizedContent:"nacoså®ç½\n\n\n# dockerå®è£nacos\n\n\n# 1.è·åéååè¡¨\n\ndocker search nacos\n\n\n\n# 2.æåéå\n\ndocker pull nacos/nacos-server\n\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 8848:8848 --name nacos -v /home/docker/nacos/data/logs:/home/nacos/logs -v /home/docker/nacos/plugins/:/home/nacos/plugins nacos/nacos-server:latest\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\n----------------------------------------\n\n\n# docker composeå®è£nacos\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-nacos.yml\n\nversion: '3.3'\nservices:\n  nacos:\n    image: nacos/nacos-server                                    # éå`nacos/nacos-server:latest`\n    restart: always                                              # æå®å®¹å¨éåºåçéå¯ç­ç¥ä¸ºå§ç»éå¯\n    container_name: nacos                                        # å®¹å¨åä¸º'nacos'\n    volumes:                                                     # æ°æ®å·æè½½è·¯å¾è®¾ç½®,å°æ¬æºç®å½æ å°å°å®¹å¨ç®å½\n      - /home/docker/nacos/data/logs:/home/nacos/logs\n      - /home/docker/nacos/plugins/:/home/nacos/plugins\n    # - /home/docker/nacos/conf/:/home/nacos/conf/\n    environment:                        # è®¾ç½®ç¯å¢åé,ç¸å½äºdocker runå½ä»¤ä¸­ç-e\n      tz: asia/shanghai\n      lang: en_us.utf-8\n      jvm_xmx: 1g     # è®¾å®ç¨åºè¿è¡æé´æå¤§å¯å ç¨çåå­å¤§å°\n      jvm_xms: 1g     # è®¾å®ç¨åºå¯å¨æ¶å ç¨åå­å¤§å°\n      jvm_xmn: 512m    # æ°çä»£å¤§å°\n      #      prefer_host_mode: hostname\n      mode: standalone # åæºæ¨¡å¼å¯å¨\n    ports:                              # æ å°ç«¯å£\n      - \"8848:8848\"\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-nacos.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶",charsets:{cjk:!0}},{title:"Dockerå®è£Rabbitmq",frontmatter:{title:"Dockerå®è£Rabbitmq",date:"2022-02-08T13:53:07.000Z",permalink:"/pages/c54468/",categories:["å­¦ä¹ èµæ","centos7","dockerå®è£æå¡"],tags:["docker","rabbitmq"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/01.centos7/05.docker%E5%AE%89%E8%A3%85%E6%9C%8D%E5%8A%A1/11.Docker%E5%AE%89%E8%A3%85Rabbitmq.html",relativePath:"å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/11.Dockerå®è£Rabbitmq.md",key:"v-4c310cce",path:"/pages/c54468/",headers:[{level:2,title:"dockerå®è£rabbitmq",slug:"dockerå®è£rabbitmq",normalizedTitle:"dockerå®è£rabbitmq",charIndex:15},{level:3,title:"1.è·åéååè¡¨",slug:"_1-è·åéååè¡¨",normalizedTitle:"1.è·åéååè¡¨",charIndex:36},{level:3,title:"2.æåéå",slug:"_2-æåéå",normalizedTitle:"2.æåéå",charIndex:74},{level:3,title:"3.è¿è¡",slug:"_3-è¿è¡",normalizedTitle:"3.è¿è¡",charIndex:119},{level:2,title:"docker composeå®è£rabbitmq",slug:"docker-composeå®è£rabbitmq",normalizedTitle:"docker composeå®è£rabbitmq",charIndex:379},{level:3,title:"1.åå»ºymlæä»¶",slug:"_1-åå»ºymlæä»¶",normalizedTitle:"1.åå»ºymlæä»¶",charIndex:408},{level:3,title:"2.è¿è¡",slug:"_2-è¿è¡",normalizedTitle:"2.è¿è¡",charIndex:669}],headersStr:"dockerå®è£rabbitmq 1.è·åéååè¡¨ 2.æåéå 3.è¿è¡ docker composeå®è£rabbitmq 1.åå»ºymlæä»¶ 2.è¿è¡",content:'Rabbitmqå®ç½\n\n\n# dockerå®è£rabbitmq\n\n\n# 1.è·åéååè¡¨\n\ndocker search rabbitmq\n\n\n\n# 2.æåéå\n\ndocker pull rabbitmq:management\n\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 5672:5672 -p 15672:15672 --name rabbitmq -v /home/docker/rabbitmq/data:/var/lib/rabbitmq rabbitmq:management\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\n----------------------------------------\n\n\n# docker composeå®è£rabbitmq\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-rabbitmq.yml\n\nversion: \'3.3\'\nservices:\n  rabbitmq:\n    image: rabbitmq:management\n    container_name: rabbitmq\n    ports:\n      - "15672:15672"\n      - "5672:5672"\n    volumes:\n      - /home/docker/rabbitmq/data:/var/lib/rabbitmq\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-rabbitmq.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶',normalizedContent:'rabbitmqå®ç½\n\n\n# dockerå®è£rabbitmq\n\n\n# 1.è·åéååè¡¨\n\ndocker search rabbitmq\n\n\n\n# 2.æåéå\n\ndocker pull rabbitmq:management\n\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 5672:5672 -p 15672:15672 --name rabbitmq -v /home/docker/rabbitmq/data:/var/lib/rabbitmq rabbitmq:management\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\n----------------------------------------\n\n\n# docker composeå®è£rabbitmq\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-rabbitmq.yml\n\nversion: \'3.3\'\nservices:\n  rabbitmq:\n    image: rabbitmq:management\n    container_name: rabbitmq\n    ports:\n      - "15672:15672"\n      - "5672:5672"\n    volumes:\n      - /home/docker/rabbitmq/data:/var/lib/rabbitmq\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-rabbitmq.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶',charsets:{cjk:!0}},{title:"Dockerå®è£Elasticsearch",frontmatter:{title:"Dockerå®è£Elasticsearch",date:"2022-02-08T14:01:40.000Z",permalink:"/pages/1e85fd/",categories:["å­¦ä¹ èµæ","centos7","dockerå®è£æå¡"],tags:["docker","elasticsearch"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/01.centos7/05.docker%E5%AE%89%E8%A3%85%E6%9C%8D%E5%8A%A1/12.Docker%E5%AE%89%E8%A3%85Elasticsearch.html",relativePath:"å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/12.Dockerå®è£Elasticsearch.md",key:"v-7b4d7bc7",path:"/pages/1e85fd/",headers:[{level:2,title:"dockerå®è£elasticsearch",slug:"dockerå®è£elasticsearch",normalizedTitle:"dockerå®è£elasticsearch",charIndex:20},{level:3,title:"1.è·åéååè¡¨",slug:"_1-è·åéååè¡¨",normalizedTitle:"1.è·åéååè¡¨",charIndex:46},{level:3,title:"2.æåéå",slug:"_2-æåéå",normalizedTitle:"2.æåéå",charIndex:89},{level:3,title:"3.è¿è¡",slug:"_3-è¿è¡",normalizedTitle:"3.è¿è¡",charIndex:134},{level:2,title:"docker composeå®è£elasticsearch",slug:"docker-composeå®è£elasticsearch",normalizedTitle:"docker composeå®è£elasticsearch",charIndex:677},{level:3,title:"1.åå»ºymlæä»¶",slug:"_1-åå»ºymlæä»¶",normalizedTitle:"1.åå»ºymlæä»¶",charIndex:711},{level:3,title:"2.è¿è¡",slug:"_2-è¿è¡",normalizedTitle:"2.è¿è¡",charIndex:1637}],headersStr:"dockerå®è£elasticsearch 1.è·åéååè¡¨ 2.æåéå 3.è¿è¡ docker composeå®è£elasticsearch 1.åå»ºymlæä»¶ 2.è¿è¡",content:"Elasticsearchå®ç½\n\n\n# dockerå®è£elasticsearch\n\n\n# 1.è·åéååè¡¨\n\ndocker search elasticsearch\n\n\n\n# 2.æåéå\n\ndocker pull elasticsearch:6.4.3\n\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 9200:9200 -p 9300:9300 --name elasticsearch -v /home/docker/elasticsearch/data:/usr/share/elasticsearch/data -v /home/docker/elasticsearch/plugins:/usr/share/elasticsearch/plugins -v /home/docker/elasticsearch/config/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml elasticsearch:6.4.3\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\nelasticsearch.yml\n\ncluster.name: elasticsearch\nnetwork.host: 0.0.0.0\nhttp.port: 9200\n\n\n----------------------------------------\n\n\n# docker composeå®è£elasticsearch\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-elasticsearch.yml\n\nversion: '3.3'\nservices:\n  elasticsearch:\n    image: elasticsearch:6.4.3\n    container_name: elasticsearch\n    privileged: true\n    environment:\n      - http.cors.enabled=true\n      - http.cors.allow-origin=*\n      - bootstrap.memory_lock=true\n      - transport.host=0.0.0.0\n      - transport.tcp.port=9300\n      - \"ES_JAVA_OPTS=-Xms512m -Xmx512m\"\n      - network.host=0.0.0.0\n      - node.name=elasticsearch\n      - discovery.type=single-node\n    ulimits:\n      memlock:\n        soft: -1\n        hard: -1\n      nofile:\n        soft: 65536\n        hard: 65536\n    volumes:\n      - /home/docker/elasticsearch/data:/usr/share/elasticsearch/data\n      - /home/docker/elasticsearch/plugins:/usr/share/elasticsearch/plugins\n      - /home/docker/elasticsearch/config/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml\n    ports:\n      - 9200:9200\n      - 9300:9300\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-elasticsearch.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶",normalizedContent:"elasticsearchå®ç½\n\n\n# dockerå®è£elasticsearch\n\n\n# 1.è·åéååè¡¨\n\ndocker search elasticsearch\n\n\n\n# 2.æåéå\n\ndocker pull elasticsearch:6.4.3\n\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 9200:9200 -p 9300:9300 --name elasticsearch -v /home/docker/elasticsearch/data:/usr/share/elasticsearch/data -v /home/docker/elasticsearch/plugins:/usr/share/elasticsearch/plugins -v /home/docker/elasticsearch/config/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml elasticsearch:6.4.3\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\nelasticsearch.yml\n\ncluster.name: elasticsearch\nnetwork.host: 0.0.0.0\nhttp.port: 9200\n\n\n----------------------------------------\n\n\n# docker composeå®è£elasticsearch\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-elasticsearch.yml\n\nversion: '3.3'\nservices:\n  elasticsearch:\n    image: elasticsearch:6.4.3\n    container_name: elasticsearch\n    privileged: true\n    environment:\n      - http.cors.enabled=true\n      - http.cors.allow-origin=*\n      - bootstrap.memory_lock=true\n      - transport.host=0.0.0.0\n      - transport.tcp.port=9300\n      - \"es_java_opts=-xms512m -xmx512m\"\n      - network.host=0.0.0.0\n      - node.name=elasticsearch\n      - discovery.type=single-node\n    ulimits:\n      memlock:\n        soft: -1\n        hard: -1\n      nofile:\n        soft: 65536\n        hard: 65536\n    volumes:\n      - /home/docker/elasticsearch/data:/usr/share/elasticsearch/data\n      - /home/docker/elasticsearch/plugins:/usr/share/elasticsearch/plugins\n      - /home/docker/elasticsearch/config/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml\n    ports:\n      - 9200:9200\n      - 9300:9300\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-elasticsearch.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶",charsets:{cjk:!0}},{title:"Dockerå®è£Logstash",frontmatter:{title:"Dockerå®è£Logstash",date:"2022-02-08T14:05:51.000Z",permalink:"/pages/8a8651/",categories:["å­¦ä¹ èµæ","centos7","dockerå®è£æå¡"],tags:["docker","logstash"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/01.centos7/05.docker%E5%AE%89%E8%A3%85%E6%9C%8D%E5%8A%A1/13.Docker%E5%AE%89%E8%A3%85Logstash.html",relativePath:"å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/13.Dockerå®è£Logstash.md",key:"v-525c82f9",path:"/pages/8a8651/",headers:[{level:2,title:"dockerå®è£logstash",slug:"dockerå®è£logstash",normalizedTitle:"dockerå®è£logstash",charIndex:15},{level:3,title:"1.è·åéååè¡¨",slug:"_1-è·åéååè¡¨",normalizedTitle:"1.è·åéååè¡¨",charIndex:36},{level:3,title:"2.æåéå",slug:"_2-æåéå",normalizedTitle:"2.æåéå",charIndex:74},{level:3,title:"3.è¿è¡",slug:"_3-è¿è¡",normalizedTitle:"3.è¿è¡",charIndex:114},{level:2,title:"docker composeå®è£logstash",slug:"docker-composeå®è£logstash",normalizedTitle:"docker composeå®è£logstash",charIndex:862},{level:3,title:"1.åå»ºymlæä»¶",slug:"_1-åå»ºymlæä»¶",normalizedTitle:"1.åå»ºymlæä»¶",charIndex:891},{level:3,title:"2.è¿è¡",slug:"_2-è¿è¡",normalizedTitle:"2.è¿è¡",charIndex:1226}],headersStr:"dockerå®è£logstash 1.è·åéååè¡¨ 2.æåéå 3.è¿è¡ docker composeå®è£logstash 1.åå»ºymlæä»¶ 2.è¿è¡",content:'Logstashå®ç½\n\n\n# dockerå®è£logstash\n\n\n# 1.è·åéååè¡¨\n\ndocker search logstash\n\n\n\n# 2.æåéå\n\ndocker pull logstash:6.4.3\n\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 5044:5044 --name logstash -v /home/docker/logstash/config/logstash.yml:/usr/share/logstash/config/logstash.yml -v /home/docker/logstash/conf.d/:/usr/share/logstash/conf.d logstash:6.4.3\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\nlogstash.yml\n\n#http.host: "0.0.0.0"\n#xpack.monitoring.elasticsearch.url: http://elasticsearch:9200\npath.config: /usr/share/logstash/conf.d/*.conf\npath.logs: /usr/share/logstash/logs\n\n\nsyslog.conf\n\ninput {\n    tcp {\n        port => 5044\n        codec => "json_lines"\n    }\n}\n\noutput {\n  elasticsearch { \n    action => "index"\n    hosts => "elasticsearch:9200"\n    index => "zksc-core-logs-%{+YYYY.MM.dd}"\n }\n}\n\n\n----------------------------------------\n\n\n# docker composeå®è£logstash\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-logstash.yml\n\nversion: \'3.3\'\nservices:\n  logstash:\n    images: logstash:6.4.3\n    container_name: logstash\n    ports:\n      - 5044:5044\n    volumes:\n      - /home/docker/logstash/config/logstash.yml:/usr/share/logstash/config/logstash.yml\n      - /home/docker/logstash/conf.d/:/usr/share/logstash/conf.d\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-logstash.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶',normalizedContent:'logstashå®ç½\n\n\n# dockerå®è£logstash\n\n\n# 1.è·åéååè¡¨\n\ndocker search logstash\n\n\n\n# 2.æåéå\n\ndocker pull logstash:6.4.3\n\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 5044:5044 --name logstash -v /home/docker/logstash/config/logstash.yml:/usr/share/logstash/config/logstash.yml -v /home/docker/logstash/conf.d/:/usr/share/logstash/conf.d logstash:6.4.3\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\nlogstash.yml\n\n#http.host: "0.0.0.0"\n#xpack.monitoring.elasticsearch.url: http://elasticsearch:9200\npath.config: /usr/share/logstash/conf.d/*.conf\npath.logs: /usr/share/logstash/logs\n\n\nsyslog.conf\n\ninput {\n    tcp {\n        port => 5044\n        codec => "json_lines"\n    }\n}\n\noutput {\n  elasticsearch { \n    action => "index"\n    hosts => "elasticsearch:9200"\n    index => "zksc-core-logs-%{+yyyy.mm.dd}"\n }\n}\n\n\n----------------------------------------\n\n\n# docker composeå®è£logstash\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-logstash.yml\n\nversion: \'3.3\'\nservices:\n  logstash:\n    images: logstash:6.4.3\n    container_name: logstash\n    ports:\n      - 5044:5044\n    volumes:\n      - /home/docker/logstash/config/logstash.yml:/usr/share/logstash/config/logstash.yml\n      - /home/docker/logstash/conf.d/:/usr/share/logstash/conf.d\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-logstash.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶',charsets:{cjk:!0}},{title:"Dockerå®è£Kibana",frontmatter:{title:"Dockerå®è£Kibana",date:"2022-02-08T14:08:29.000Z",permalink:"/pages/25aa1b/",categories:["å­¦ä¹ èµæ","centos7","dockerå®è£æå¡"],tags:["docker","kibana"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/01.centos7/05.docker%E5%AE%89%E8%A3%85%E6%9C%8D%E5%8A%A1/14.Docker%E5%AE%89%E8%A3%85Kibana.html",relativePath:"å­¦ä¹ èµæ/01.centos7/05.dockerå®è£æå¡/14.Dockerå®è£Kibana.md",key:"v-0f635eb9",path:"/pages/25aa1b/",headers:[{level:2,title:"dockerå®è£kibana",slug:"dockerå®è£kibana",normalizedTitle:"dockerå®è£kibana",charIndex:13},{level:3,title:"1.è·åéååè¡¨",slug:"_1-è·åéååè¡¨",normalizedTitle:"1.è·åéååè¡¨",charIndex:32},{level:3,title:"2.æåéå",slug:"_2-æåéå",normalizedTitle:"2.æåéå",charIndex:68},{level:3,title:"3.è¿è¡",slug:"_3-è¿è¡",normalizedTitle:"3.è¿è¡",charIndex:106},{level:2,title:"docker composeå®è£kinaba",slug:"docker-composeå®è£kinaba",normalizedTitle:"docker composeå®è£kinaba",charIndex:531},{level:3,title:"1.åå»ºymlæä»¶",slug:"_1-åå»ºymlæä»¶",normalizedTitle:"1.åå»ºymlæä»¶",charIndex:558},{level:3,title:"2.è¿è¡",slug:"_2-è¿è¡",normalizedTitle:"2.è¿è¡",charIndex:814}],headersStr:"dockerå®è£kibana 1.è·åéååè¡¨ 2.æåéå 3.è¿è¡ docker composeå®è£kinaba 1.åå»ºymlæä»¶ 2.è¿è¡",content:"Kibanaå®ç½\n\n\n# dockerå®è£kibana\n\n\n# 1.è·åéååè¡¨\n\ndocker search kinaba\n\n\n\n# 2.æåéå\n\ndocker pull kinaba:6.4.3\n\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 5601:5601 --name kibana -v /home/docker/kibana/config/kibana.yml:/usr/share/kibana/config/kibana.yml kibana:6.4.3\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\nkinaba.yml\n\nserver.name: kibana\nserver.host: \"0.0.0.0\"\nelasticsearch.url: http://elasticsearch:9200\nxpack.monitoring.ui.container.elasticsearch.enabled: true\n\n\n----------------------------------------\n\n\n# docker composeå®è£kinaba\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-kinaba.yml\n\nversion: '3.3'\nservices:\n  kibana:\n    image: kibana:6.4.3\n    container_name: kibana\n    ports:\n      - 5601:5601\n    volumes:\n      - /home/docker/kibana/config/kibana.yml:/usr/share/kibana/config/kibana.yml:rw\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-kinaba.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶",normalizedContent:"kibanaå®ç½\n\n\n# dockerå®è£kibana\n\n\n# 1.è·åéååè¡¨\n\ndocker search kinaba\n\n\n\n# 2.æåéå\n\ndocker pull kinaba:6.4.3\n\n\n\n# 3.è¿è¡\n\ndocker run -d  -p 5601:5601 --name kibana -v /home/docker/kibana/config/kibana.yml:/usr/share/kibana/config/kibana.yml kibana:6.4.3\n\n\n> -dï¼åå°è¿è¡\n> -pï¼å°å®¹å¨åé¨ç«¯å£åå¤æ å°\n> --nameï¼å½åå®¹å¨åç§°\n> -vï¼å°å®¹å¨åæ°æ®æä»¶å¤¹æèæ¥å¿ãéç½®ç­æä»¶å¤¹æè½½å°å®¿ä¸»æºæå®ç®å½\n\nkinaba.yml\n\nserver.name: kibana\nserver.host: \"0.0.0.0\"\nelasticsearch.url: http://elasticsearch:9200\nxpack.monitoring.ui.container.elasticsearch.enabled: true\n\n\n----------------------------------------\n\n\n# docker composeå®è£kinaba\n\n\n# 1.åå»ºymlæä»¶\n\ndocker-compose-kinaba.yml\n\nversion: '3.3'\nservices:\n  kibana:\n    image: kibana:6.4.3\n    container_name: kibana\n    ports:\n      - 5601:5601\n    volumes:\n      - /home/docker/kibana/config/kibana.yml:/usr/share/kibana/config/kibana.yml:rw\n\n\n\n# 2.è¿è¡\n\ndocker-compose -f ./docker-compose-kinaba.yml up -d\n\n\n> -dï¼åå°è¿è¡\n> -fï¼æå®ymlæä»¶",charsets:{cjk:!0}},{title:"Dockerå¸¸ç¨å½ä»¤",frontmatter:{title:"Dockerå¸¸ç¨å½ä»¤",date:"2022-01-17T16:35:43.000Z",permalink:"/pages/ab63d6/",categories:["å­¦ä¹ èµæ","å¸¸ç¨å½ä»¤"],tags:["docker"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/02.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/01.Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html",relativePath:"å­¦ä¹ èµæ/02.å¸¸ç¨å½ä»¤/01.Dockerå¸¸ç¨å½ä»¤.md",key:"v-51306d75",path:"/pages/ab63d6/",headers:[{level:2,title:"dockerå¸¸ç¨å½ä»¤",slug:"dockerå¸¸ç¨å½ä»¤",normalizedTitle:"dockerå¸¸ç¨å½ä»¤",charIndex:2},{level:3,title:"dockeråºç¡å½ä»¤",slug:"dockeråºç¡å½ä»¤",normalizedTitle:"dockeråºç¡å½ä»¤",charIndex:102},{level:3,title:"dockeré«çº§å½ä»¤",slug:"dockeré«çº§å½ä»¤",normalizedTitle:"dockeré«çº§å½ä»¤",charIndex:1155},{level:3,title:"dockeræç¨",slug:"dockeræç¨",normalizedTitle:"dockeræç¨",charIndex:2661}],headersStr:"dockerå¸¸ç¨å½ä»¤ dockeråºç¡å½ä»¤ dockeré«çº§å½ä»¤ dockeræç¨",content:'# dockerå¸¸ç¨å½ä»¤\n\næ¥å¸¸ç¨çæå¤çæ¯å½ä»¤æ¯\n\ndocker exec -it ${CONTAINER NAME/ID} /bin/bash                 #è¿å¥å®¹å¨å\n\n\n\n# dockeråºç¡å½ä»¤\n\ndocker pull ${CONTAINER NAME}                    #æåéå\ndocker images                                    #æ¥çæ¬å°ææéå\ndocker ps                                        #æ¥çæææ­£å¨è¿è¡çå®¹å¨ï¼å -qè¿åid\ndocker ps -a                                     #æ¥çææå®¹å¨ï¼å -qè¿åid\ndocker rmi ${IMAGE NAME/ID}                      #å é¤éå\ndocker rm ${CONTAINER NAME/ID}                   #å é¤å®¹å¨\ndocker save ${IMAGE NAME} > ${FILE NAME}.tar     #å°éåä¿å­ææä»¶\ndocker load < ${FILE NAME}.tar                   #ä»æä»¶å è½½éå\ndocker start ${CONTAINER NAME/ID}                #è¿è¡ä¸ä¸ªä»¥åè¿è¡è¿çå®¹å¨\ndocker stop ${CONTAINER NAME/ID}                 #åæ­¢ä¸ä¸ªæ­£å¨è¿è¡çå®¹å¨\ndocker logs ${CONTAINER NAME/ID}                 #æ¾ç¤ºè¿è¡å®¹å¨çæ¥å¿\ndocker run...                                    #è¿è¡ä¸ä¸ªå®¹å¨\n    --name ${container name}                          #è®¾ç½®å®¹å¨åç§°\n    -p ${host port}:${container port}                 #æ å°ä¸»æºåå®¹å¨åçç«¯å£\n    -e ${env name}=${env value}                       #æ·»å ç¯å¢åé\n    -d                                                #åå°è¿è¡\n    -v ${host folder path}:${container folder path}   #å°ä¸»æºç®å½æå¨å°å®¹å¨å\n\n\n\n# dockeré«çº§å½ä»¤\n\n# Advance use \ndocker ps -f "status=exited"                                   #æ¾ç¤ºææéåºçå®¹å¨\ndocker ps -a -q                                                #æ¾ç¤ºææå®¹å¨id\ndocker ps -f "status=exited" -q                                #æ¾ç¤ºææéåºå®¹å¨çid\ndocker restart $(docker ps -q)                                 #éå¯æææ­£å¨è¿è¡çå®¹å¨\ndocker stop $(docker ps -a -q)                                 #åæ­¢ææå®¹å¨\ndocker rm $(docker ps -a -q)                                   #å é¤ææå®¹å¨\ndocker rm $(docker ps -f "status=exited" -q)                   #å é¤ææéåºçå®¹å¨\ndocker rm $(docker stop $(docker ps -a -q))                    #åæ­¢å¹¶å é¤ææå®¹å¨\ndocker start $(docker ps -a -q)                                #å¯å¨ææå®¹å¨\ndocker rmi $(docker images -a -q)                              #å é¤ææéå\ndocker exec -it ${CONTAINER NAME/ID} /bin/bash                 #è¿å¥å®¹å¨å\ndocker exec -it ${CONTAINER NAME/ID} ping ${CONTAINER NAME/ID} #ä¸ä¸ªå®¹å¨pingå¦å¤ä¸ä¸ªå®¹å¨\ndocker top ${CONTAINER NAME/ID}                                #æ¾ç¤ºä¸ä¸ªå®¹å¨çtopä¿¡æ¯\ndocker stats                                                   #æ¾ç¤ºå®¹å¨ç»è®¡ä¿¡æ¯(æ­£å¨è¿è¡)\n    docker stats -a                                            #æ¾ç¤ºææå®¹å¨çç»è®¡ä¿¡æ¯(åæ¬æ²¡æè¿è¡ç)\n    docker stats -a --no-stream                                #æ¾ç¤ºææå®¹å¨çç»è®¡ä¿¡æ¯(åæ¬æ²¡æè¿è¡ç) ï¼åªæ¾ç¤ºä¸æ¬¡\n    docker stats --no-stream | sort -k8 -h                     #ç»è®¡å®¹å¨ä¿¡æ¯å¹¶ä»¥ä½¿ç¨æµéä½ä¸ºååº\ndocker system \n      docker system df           #æ¾ç¤ºç¡¬çå ç¨\n      docker system events       #æ¾ç¤ºå®¹å¨çå®æ¶äºä»¶\n      docker system info         #æ¾ç¤ºç³»ç»ä¿¡æ¯\n      docker system prune        #æ¸çæä»¶\n\n\n\n# dockeræç¨\n\nèé¸dockeræç¨\n\ndockerå®æ¹ææ¡£\n\nä½æ¯ï¼è®¸å¤äººå¹¶ä¸æ¸æ¥ Docker å°åºæ¯ä»ä¹ï¼è¦è§£å³ä»ä¹é®é¢ï¼å¥½å¤åå¨åªéï¼æ¬æå°±æ¥è¯¦ç»è§£éï¼å¸®å©å¤§å®¶çè§£å®ï¼è¿å¸¦æç®åææçå®ä¾ï¼æä½ å¦ä½å°å®ç¨äºæ¥å¸¸å¼åã\n\n\n\n# ä¸ãç¯å¢éç½®çé¾é¢\n\nè½¯ä»¶å¼åæå¤§çéº»ç¦äºä¹ä¸ï¼å°±æ¯ç¯å¢éç½®ãç¨æ·è®¡ç®æºçç¯å¢é½ä¸ç¸åï¼ä½ æä¹ç¥éèªå®¶çè½¯ä»¶ï¼è½å¨é£äºæºå¨è·èµ·æ¥ï¼\n\nç¨æ·å¿é¡»ä¿è¯ä¸¤ä»¶äºï¼æä½ç³»ç»çè®¾ç½®ï¼åç§åºåç»ä»¶çå®è£ãåªæå®ä»¬é½æ­£ç¡®ï¼è½¯ä»¶æè½è¿è¡ãä¸¾ä¾æ¥è¯´ï¼å®è£ä¸ä¸ª Python åºç¨ï¼è®¡ç®æºå¿é¡»æ Python å¼æï¼è¿å¿é¡»æåç§ä¾èµï¼å¯è½è¿è¦éç½®ç¯å¢åéã\n\nå¦ææäºèæ§çæ¨¡åä¸å½åç¯å¢ä¸å¼å®¹ï¼é£å°±éº»ç¦äºãå¼åèå¸¸å¸¸ä¼è¯´ï¼"å®å¨æçæºå¨å¯ä»¥è·äº"ï¼It works on my machineï¼ï¼è¨ä¸ä¹æå°±æ¯ï¼å¶ä»æºå¨å¾å¯è½è·ä¸äºã\n\nç¯å¢éç½®å¦æ­¤éº»ç¦ï¼æ¢ä¸å°æºå¨ï¼å°±è¦éæ¥ä¸æ¬¡ï¼æ·æ¥è´¹æ¶ãå¾å¤äººæ³å°ï¼è½ä¸è½ä»æ ¹æ¬ä¸è§£å³é®é¢ï¼è½¯ä»¶å¯ä»¥å¸¦ç¯å¢å®è£ï¼ä¹å°±æ¯è¯´ï¼å®è£çæ¶åï¼æåå§ç¯å¢ä¸æ¨¡ä¸æ ·å°å¤å¶è¿æ¥ã\n\n# äºãèææº\n\nèææºï¼virtual machineï¼å°±æ¯å¸¦ç¯å¢å®è£çä¸ç§è§£å³æ¹æ¡ãå®å¯ä»¥å¨ä¸ç§æä½ç³»ç»éé¢è¿è¡å¦ä¸ç§æä½ç³»ç»ï¼æ¯å¦å¨ Windows ç³»ç»éé¢è¿è¡ Linux ç³»ç»ãåºç¨ç¨åºå¯¹æ­¤æ¯«æ æç¥ï¼å ä¸ºèææºçä¸å»è·çå®ç³»ç»ä¸æ¨¡ä¸æ ·ï¼èå¯¹äºåºå±ç³»ç»æ¥è¯´ï¼èææºå°±æ¯ä¸ä¸ªæ®éæä»¶ï¼ä¸éè¦äºå°±å æï¼å¯¹å¶ä»é¨åæ¯«æ å½±åã\n\nè½ç¶ç¨æ·å¯ä»¥éè¿èææºè¿åè½¯ä»¶çåå§ç¯å¢ãä½æ¯ï¼è¿ä¸ªæ¹æ¡æå ä¸ªç¼ºç¹ã\n\nï¼1ï¼èµæºå ç¨å¤\n\nèææºä¼ç¬å ä¸é¨ååå­åç¡¬çç©ºé´ãå®è¿è¡çæ¶åï¼å¶ä»ç¨åºå°±ä¸è½ä½¿ç¨è¿äºèµæºäºãåªæèææºéé¢çåºç¨ç¨åºï¼çæ­£ä½¿ç¨çåå­åªæ 1MBï¼èææºä¾ç¶éè¦å ç¾ MB çåå­æè½è¿è¡ã\n\nï¼2ï¼åä½æ­¥éª¤å¤\n\nèææºæ¯å®æ´çæä½ç³»ç»ï¼ä¸äºç³»ç»çº§å«çæä½æ­¥éª¤ï¼å¾å¾æ æ³è·³è¿ï¼æ¯å¦ç¨æ·ç»å½ã\n\nï¼3ï¼å¯å¨æ¢\n\nå¯å¨æä½ç³»ç»éè¦å¤ä¹ï¼å¯å¨èææºå°±éè¦å¤ä¹ãå¯è½è¦ç­å åéï¼åºç¨ç¨åºæè½çæ­£è¿è¡ã\n\n# ä¸ãLinux å®¹å¨\n\nç±äºèææºå­å¨è¿äºç¼ºç¹ï¼Linux åå±åºäºå¦ä¸ç§èæåææ¯ï¼Linux å®¹å¨ï¼Linux Containersï¼ç¼©åä¸º LXCï¼ã\n\n**Linux å®¹å¨ä¸æ¯æ¨¡æä¸ä¸ªå®æ´çæä½ç³»ç»ï¼èæ¯å¯¹è¿ç¨è¿è¡éç¦»ã**æèè¯´ï¼å¨æ­£å¸¸è¿ç¨çå¤é¢å¥äºä¸ä¸ªä¿æ¤å±ãå¯¹äºå®¹å¨éé¢çè¿ç¨æ¥è¯´ï¼å®æ¥è§¦å°çåç§èµæºé½æ¯èæçï¼ä»èå®ç°ä¸åºå±ç³»ç»çéç¦»ã\n\nç±äºå®¹å¨æ¯è¿ç¨çº§å«çï¼ç¸æ¯èææºæå¾å¤ä¼å¿ã\n\nï¼1ï¼å¯å¨å¿«\n\nå®¹å¨éé¢çåºç¨ï¼ç´æ¥å°±æ¯åºå±ç³»ç»çä¸ä¸ªè¿ç¨ï¼èä¸æ¯èææºåé¨çè¿ç¨ãæä»¥ï¼å¯å¨å®¹å¨ç¸å½äºå¯å¨æ¬æºçä¸ä¸ªè¿ç¨ï¼èä¸æ¯å¯å¨ä¸ä¸ªæä½ç³»ç»ï¼éåº¦å°±å¿«å¾å¤ã\n\nï¼2ï¼èµæºå ç¨å°\n\nå®¹å¨åªå ç¨éè¦çèµæºï¼ä¸å ç¨é£äºæ²¡æç¨å°çèµæºï¼èææºç±äºæ¯å®æ´çæä½ç³»ç»ï¼ä¸å¯é¿åè¦å ç¨ææèµæºãå¦å¤ï¼å¤ä¸ªå®¹å¨å¯ä»¥å±äº«èµæºï¼èææºé½æ¯ç¬äº«èµæºã\n\nï¼3ï¼ä½ç§¯å°\n\nå®¹å¨åªè¦åå«ç¨å°çç»ä»¶å³å¯ï¼èèææºæ¯æ´ä¸ªæä½ç³»ç»çæåï¼æä»¥å®¹å¨æä»¶æ¯èææºæä»¶è¦å°å¾å¤ã\n\næ»ä¹ï¼å®¹å¨æç¹åè½»éçº§çèææºï¼è½å¤æä¾èæåçç¯å¢ï¼ä½æ¯ææ¬å¼éå°å¾å¤ã\n\n# åãDocker æ¯ä»ä¹ï¼\n\n**Docker å±äº Linux å®¹å¨çä¸ç§å°è£ï¼æä¾ç®åæç¨çå®¹å¨ä½¿ç¨æ¥å£ã**å®æ¯ç®åææµè¡ç Linux å®¹å¨è§£å³æ¹æ¡ã\n\nDocker å°åºç¨ç¨åºä¸è¯¥ç¨åºçä¾èµï¼æåå¨ä¸ä¸ªæä»¶éé¢ãè¿è¡è¿ä¸ªæä»¶ï¼å°±ä¼çæä¸ä¸ªèæå®¹å¨ãç¨åºå¨è¿ä¸ªèæå®¹å¨éè¿è¡ï¼å°±å¥½åå¨çå®çç©çæºä¸è¿è¡ä¸æ ·ãæäº Dockerï¼å°±ä¸ç¨æå¿ç¯å¢é®é¢ã\n\næ»ä½æ¥è¯´ï¼Docker çæ¥å£ç¸å½ç®åï¼ç¨æ·å¯ä»¥æ¹ä¾¿å°åå»ºåä½¿ç¨å®¹å¨ï¼æèªå·±çåºç¨æ¾å¥å®¹å¨ãå®¹å¨è¿å¯ä»¥è¿è¡çæ¬ç®¡çãå¤å¶ãåäº«ãä¿®æ¹ï¼å°±åç®¡çæ®éçä»£ç ä¸æ ·ã\n\n# äºãDocker çç¨é\n\nDocker çä¸»è¦ç¨éï¼ç®åæä¸å¤§ç±»ã\n\n**ï¼1ï¼æä¾ä¸æ¬¡æ§çç¯å¢ã**æ¯å¦ï¼æ¬å°æµè¯ä»äººçè½¯ä»¶ãæç»­éæçæ¶åæä¾ååæµè¯åæå»ºçç¯å¢ã\n\n**ï¼2ï¼æä¾å¼¹æ§çäºæå¡ã**å ä¸º Docker å®¹å¨å¯ä»¥éå¼éå³ï¼å¾éåå¨ææ©å®¹åç¼©å®¹ã\n\n**ï¼3ï¼ç»å»ºå¾®æå¡æ¶æã**éè¿å¤ä¸ªå®¹å¨ï¼ä¸å°æºå¨å¯ä»¥è·å¤ä¸ªæå¡ï¼å æ­¤å¨æ¬æºå°±å¯ä»¥æ¨¡æåºå¾®æå¡æ¶æã\n\n# å­ãDocker çå®è£\n\nDocker æ¯ä¸ä¸ªå¼æºçåä¸äº§åï¼æä¸¤ä¸ªçæ¬ï¼ç¤¾åºçï¼Community Editionï¼ç¼©åä¸º CEï¼åä¼ä¸çï¼Enterprise Editionï¼ç¼©åä¸º EEï¼ãä¼ä¸çåå«äºä¸äºæ¶è´¹æå¡ï¼ä¸ªäººå¼åèä¸è¬ç¨ä¸å°ãä¸é¢çä»ç»é½éå¯¹ç¤¾åºçã\n\nDocker CE çå®è£è¯·åèå®æ¹ææ¡£ã\n\n>  * Mac\n>  * Windows\n>  * Ubuntu\n>  * Debian\n>  * CentOS\n>  * Fedora\n>  * å¶ä» Linux åè¡ç\n\nå®è£å®æåï¼è¿è¡ä¸é¢çå½ä»¤ï¼éªè¯æ¯å¦å®è£æåã\n\n> $ docker version\n> # æè\n> $ docker info\n\nDocker éè¦ç¨æ·å·æ sudo æéï¼ä¸ºäºé¿åæ¯æ¬¡å½ä»¤é½è¾å¥sudoï¼å¯ä»¥æç¨æ·å å¥ Docker ç¨æ·ç»ï¼å®æ¹ææ¡£ï¼ã\n\n> $ sudo usermod -aG docker $USER\n\nDocker æ¯æå¡å¨----å®¢æ·ç«¯æ¶æãå½ä»¤è¡è¿è¡dockerå½ä»¤çæ¶åï¼éè¦æ¬æºæ Docker æå¡ãå¦æè¿é¡¹æå¡æ²¡æå¯å¨ï¼å¯ä»¥ç¨ä¸é¢çå½ä»¤å¯å¨ï¼å®æ¹ææ¡£ï¼ã\n\n> # service å½ä»¤çç¨æ³\n> $ sudo service docker start\n> \n> # systemctl å½ä»¤çç¨æ³\n> $ sudo systemctl start docker\n\n# å­ãimage æä»¶\n\n**Docker æåºç¨ç¨åºåå¶ä¾èµï¼æåå¨ image æä»¶éé¢ã**åªæéè¿è¿ä¸ªæä»¶ï¼æè½çæ Docker å®¹å¨ãimage æä»¶å¯ä»¥çä½æ¯å®¹å¨çæ¨¡æ¿ãDocker æ ¹æ® image æä»¶çæå®¹å¨çå®ä¾ãåä¸ä¸ª image æä»¶ï¼å¯ä»¥çæå¤ä¸ªåæ¶è¿è¡çå®¹å¨å®ä¾ã\n\nimage æ¯äºè¿å¶æä»¶ãå®éå¼åä¸­ï¼ä¸ä¸ª image æä»¶å¾å¾éè¿ç»§æ¿å¦ä¸ä¸ª image æä»¶ï¼å ä¸ä¸äºä¸ªæ§åè®¾ç½®èçæãä¸¾ä¾æ¥è¯´ï¼ä½ å¯ä»¥å¨ Ubuntu ç image åºç¡ä¸ï¼å¾éé¢å å¥ Apache æå¡å¨ï¼å½¢æä½ ç imageã\n\n> # ååºæ¬æºçææ image æä»¶ã\n> $ docker image ls\n> \n> # å é¤ image æä»¶\n> $ docker image rm [imageName]\n\nimage æä»¶æ¯éç¨çï¼ä¸å°æºå¨ç image æä»¶æ·è´å°å¦ä¸å°æºå¨ï¼ç§æ ·å¯ä»¥ä½¿ç¨ãä¸è¬æ¥è¯´ï¼ä¸ºäºèçæ¶é´ï¼æä»¬åºè¯¥å°½éä½¿ç¨å«äººå¶ä½å¥½ç image æä»¶ï¼èä¸æ¯èªå·±å¶ä½ãå³ä½¿è¦å®å¶ï¼ä¹åºè¯¥åºäºå«äººç image æä»¶è¿è¡å å·¥ï¼èä¸æ¯ä»é¶å¼å§å¶ä½ã\n\nä¸ºäºæ¹ä¾¿å±äº«ï¼image æä»¶å¶ä½å®æåï¼å¯ä»¥ä¸ä¼ å°ç½ä¸çä»åºãDocker çå®æ¹ä»åº Docker Hub æ¯æéè¦ãæå¸¸ç¨ç image ä»åºãæ­¤å¤ï¼åºå®èªå·±å¶ä½ç image æä»¶ä¹æ¯å¯ä»¥çã\n\n# ä¸ãå®ä¾ï¼hello world\n\nä¸é¢ï¼æä»¬éè¿æç®åç image æä»¶"hello world"ï¼æåä¸ä¸ Dockerã\n\néè¦è¯´æçæ¯ï¼å½åè¿æ¥ Docker çå®æ¹ä»åºå¾æ¢ï¼è¿ä¼æ­çº¿ï¼éè¦å°é»è®¤ä»åºæ¹æå½åçéåç½ç«ã\n\né¦åï¼è¿è¡ä¸é¢çå½ä»¤ï¼å° image æä»¶ä»ä»åºæåå°æ¬å°ã\n\n> $ docker image pull library/hello-world\n\nä¸é¢ä»£ç ä¸­ï¼docker image pullæ¯æå image æä»¶çå½ä»¤ãlibrary/hello-worldæ¯ image æä»¶å¨ä»åºéé¢çä½ç½®ï¼å¶ä¸­libraryæ¯ image æä»¶æå¨çç»ï¼hello-worldæ¯ image æä»¶çåå­ã\n\nç±äº Docker å®æ¹æä¾ç image æä»¶ï¼é½æ¾å¨libraryç»éé¢ï¼æä»¥å®çæ¯é»è®¤ç»ï¼å¯ä»¥çç¥ãå æ­¤ï¼ä¸é¢çå½ä»¤å¯ä»¥åæä¸é¢è¿æ ·ã\n\n> $ docker image pull hello-world\n\næåæåä»¥åï¼å°±å¯ä»¥å¨æ¬æºçå°è¿ä¸ª image æä»¶äºã\n\n> $ docker image ls\n\nç°å¨ï¼è¿è¡è¿ä¸ª image æä»¶ã\n\n> $ docker container run hello-world\n\ndocker container runå½ä»¤ä¼ä» image æä»¶ï¼çæä¸ä¸ªæ­£å¨è¿è¡çå®¹å¨å®ä¾ã\n\næ³¨æï¼docker container runå½ä»¤å·æèªå¨æå image æä»¶çåè½ãå¦æåç°æ¬å°æ²¡ææå®ç image æä»¶ï¼å°±ä¼ä»ä»åºèªå¨æåãå æ­¤ï¼åé¢çdocker image pullå½ä»¤å¹¶ä¸æ¯å¿éçæ­¥éª¤ã\n\nå¦æè¿è¡æåï¼ä½ ä¼å¨å±å¹ä¸è¯»å°ä¸é¢çè¾åºã\n\n> $ docker container run hello-world\n> \n> Hello from Docker!\n> This message shows that your installation appears to be working correctly.\n> \n> ... ...\n\nè¾åºè¿æ®µæç¤ºä»¥åï¼hello worldå°±ä¼åæ­¢è¿è¡ï¼å®¹å¨èªå¨ç»æ­¢ã\n\næäºå®¹å¨ä¸ä¼èªå¨ç»æ­¢ï¼å ä¸ºæä¾çæ¯æå¡ãæ¯å¦ï¼å®è£è¿è¡ Ubuntu ç imageï¼å°±å¯ä»¥å¨å½ä»¤è¡ä½éª Ubuntu ç³»ç»ã\n\n> $ docker container run -it ubuntu bash\n\nå¯¹äºé£äºä¸ä¼èªå¨ç»æ­¢çå®¹å¨ï¼å¿é¡»ä½¿ç¨docker container kill å½ä»¤æå¨ç»æ­¢ã\n\n> $ docker container kill [containID]\n\n# å«ãå®¹å¨æä»¶\n\n**image æä»¶çæçå®¹å¨å®ä¾ï¼æ¬èº«ä¹æ¯ä¸ä¸ªæä»¶ï¼ç§°ä¸ºå®¹å¨æä»¶ã**ä¹å°±æ¯è¯´ï¼ä¸æ¦å®¹å¨çæï¼å°±ä¼åæ¶å­å¨ä¸¤ä¸ªæä»¶ï¼ image æä»¶åå®¹å¨æä»¶ãèä¸å³é­å®¹å¨å¹¶ä¸ä¼å é¤å®¹å¨æä»¶ï¼åªæ¯å®¹å¨åæ­¢è¿è¡èå·²ã\n\n> # ååºæ¬æºæ­£å¨è¿è¡çå®¹å¨\n> $ docker container ls\n> \n> # ååºæ¬æºææå®¹å¨ï¼åæ¬ç»æ­¢è¿è¡çå®¹å¨\n> $ docker container ls --all\n\nä¸é¢å½ä»¤çè¾åºç»æä¹ä¸­ï¼åæ¬å®¹å¨ç IDãå¾å¤å°æ¹é½éè¦æä¾è¿ä¸ª IDï¼æ¯å¦ä¸ä¸èç»æ­¢å®¹å¨è¿è¡çdocker container killå½ä»¤ã\n\nç»æ­¢è¿è¡çå®¹å¨æä»¶ï¼ä¾ç¶ä¼å æ®ç¡¬çç©ºé´ï¼å¯ä»¥ä½¿ç¨docker container rmå½ä»¤å é¤ã\n\n> $ docker container rm [containerID]\n\nè¿è¡ä¸é¢çå½ä»¤ä¹åï¼åä½¿ç¨docker container ls --allå½ä»¤ï¼å°±ä¼åç°è¢«å é¤çå®¹å¨æä»¶å·²ç»æ¶å¤±äºã\n\n# ä¹ãå¶ä»æç¨çå½ä»¤\n\ndocker çä¸»è¦ç¨æ³å°±æ¯ä¸é¢è¿äºï¼æ­¤å¤è¿æå ä¸ªå½ä»¤ï¼ä¹éå¸¸æç¨ã\n\nï¼1ï¼docker container start\n\nåé¢çdocker container runå½ä»¤æ¯æ°å»ºå®¹å¨ï¼æ¯è¿è¡ä¸æ¬¡ï¼å°±ä¼æ°å»ºä¸ä¸ªå®¹å¨ãåæ ·çå½ä»¤è¿è¡ä¸¤æ¬¡ï¼å°±ä¼çæä¸¤ä¸ªä¸æ¨¡ä¸æ ·çå®¹å¨æä»¶ãå¦æå¸æéå¤ä½¿ç¨å®¹å¨ï¼å°±è¦ä½¿ç¨docker container startå½ä»¤ï¼å®ç¨æ¥å¯å¨å·²ç»çæãå·²ç»åæ­¢è¿è¡çå®¹å¨æä»¶ã\n\n> $ docker container start [containerID]\n\nï¼2ï¼docker container stop\n\nåé¢çdocker container killå½ä»¤ç»æ­¢å®¹å¨è¿è¡ï¼ç¸å½äºåå®¹å¨éé¢çä¸»è¿ç¨ååº SIGKILL ä¿¡å·ãèdocker container stopå½ä»¤ä¹æ¯ç¨æ¥ç»æ­¢å®¹å¨è¿è¡ï¼ç¸å½äºåå®¹å¨éé¢çä¸»è¿ç¨ååº SIGTERM ä¿¡å·ï¼ç¶åè¿ä¸æ®µæ¶é´åååº SIGKILL ä¿¡å·ã\n\n> $ docker container stop [containerID]\n\nè¿ä¸¤ä¸ªä¿¡å·çå·®å«æ¯ï¼åºç¨ç¨åºæ¶å° SIGTERM ä¿¡å·ä»¥åï¼å¯ä»¥èªè¡è¿è¡æ¶å°¾æ¸çå·¥ä½ï¼ä½ä¹å¯ä»¥ä¸çä¼è¿ä¸ªä¿¡å·ãå¦ææ¶å° SIGKILL ä¿¡å·ï¼å°±ä¼å¼ºè¡ç«å³ç»æ­¢ï¼é£äºæ­£å¨è¿è¡ä¸­çæä½ä¼å¨é¨ä¸¢å¤±ã\n\nï¼3ï¼docker container logs\n\ndocker container logså½ä»¤ç¨æ¥æ¥ç docker å®¹å¨çè¾åºï¼å³å®¹å¨éé¢ Shell çæ åè¾åºãå¦ædocker runå½ä»¤è¿è¡å®¹å¨çæ¶åï¼æ²¡æä½¿ç¨-itåæ°ï¼å°±è¦ç¨è¿ä¸ªå½ä»¤æ¥çè¾åºã\n\n> $ docker container logs [containerID]\n\nï¼4ï¼docker container exec\n\ndocker container execå½ä»¤ç¨äºè¿å¥ä¸ä¸ªæ­£å¨è¿è¡ç docker å®¹å¨ãå¦ædocker runå½ä»¤è¿è¡å®¹å¨çæ¶åï¼æ²¡æä½¿ç¨-itåæ°ï¼å°±è¦ç¨è¿ä¸ªå½ä»¤è¿å¥å®¹å¨ãä¸æ¦è¿å¥äºå®¹å¨ï¼å°±å¯ä»¥å¨å®¹å¨ç Shell æ§è¡å½ä»¤äºã\n\n> $ docker container exec -it [containerID] /bin/bash\n\nï¼5ï¼docker container cp\n\ndocker container cpå½ä»¤ç¨äºä»æ­£å¨è¿è¡ç Docker å®¹å¨éé¢ï¼å°æä»¶æ·è´å°æ¬æºãä¸é¢æ¯æ·è´å°å½åç®å½çåæ³ã\n\n> $ docker container cp [containID]:[/path/to/file] .',normalizedContent:'# dockerå¸¸ç¨å½ä»¤\n\næ¥å¸¸ç¨çæå¤çæ¯å½ä»¤æ¯\n\ndocker exec -it ${container name/id} /bin/bash                 #è¿å¥å®¹å¨å\n\n\n\n# dockeråºç¡å½ä»¤\n\ndocker pull ${container name}                    #æåéå\ndocker images                                    #æ¥çæ¬å°ææéå\ndocker ps                                        #æ¥çæææ­£å¨è¿è¡çå®¹å¨ï¼å -qè¿åid\ndocker ps -a                                     #æ¥çææå®¹å¨ï¼å -qè¿åid\ndocker rmi ${image name/id}                      #å é¤éå\ndocker rm ${container name/id}                   #å é¤å®¹å¨\ndocker save ${image name} > ${file name}.tar     #å°éåä¿å­ææä»¶\ndocker load < ${file name}.tar                   #ä»æä»¶å è½½éå\ndocker start ${container name/id}                #è¿è¡ä¸ä¸ªä»¥åè¿è¡è¿çå®¹å¨\ndocker stop ${container name/id}                 #åæ­¢ä¸ä¸ªæ­£å¨è¿è¡çå®¹å¨\ndocker logs ${container name/id}                 #æ¾ç¤ºè¿è¡å®¹å¨çæ¥å¿\ndocker run...                                    #è¿è¡ä¸ä¸ªå®¹å¨\n    --name ${container name}                          #è®¾ç½®å®¹å¨åç§°\n    -p ${host port}:${container port}                 #æ å°ä¸»æºåå®¹å¨åçç«¯å£\n    -e ${env name}=${env value}                       #æ·»å ç¯å¢åé\n    -d                                                #åå°è¿è¡\n    -v ${host folder path}:${container folder path}   #å°ä¸»æºç®å½æå¨å°å®¹å¨å\n\n\n\n# dockeré«çº§å½ä»¤\n\n# advance use \ndocker ps -f "status=exited"                                   #æ¾ç¤ºææéåºçå®¹å¨\ndocker ps -a -q                                                #æ¾ç¤ºææå®¹å¨id\ndocker ps -f "status=exited" -q                                #æ¾ç¤ºææéåºå®¹å¨çid\ndocker restart $(docker ps -q)                                 #éå¯æææ­£å¨è¿è¡çå®¹å¨\ndocker stop $(docker ps -a -q)                                 #åæ­¢ææå®¹å¨\ndocker rm $(docker ps -a -q)                                   #å é¤ææå®¹å¨\ndocker rm $(docker ps -f "status=exited" -q)                   #å é¤ææéåºçå®¹å¨\ndocker rm $(docker stop $(docker ps -a -q))                    #åæ­¢å¹¶å é¤ææå®¹å¨\ndocker start $(docker ps -a -q)                                #å¯å¨ææå®¹å¨\ndocker rmi $(docker images -a -q)                              #å é¤ææéå\ndocker exec -it ${container name/id} /bin/bash                 #è¿å¥å®¹å¨å\ndocker exec -it ${container name/id} ping ${container name/id} #ä¸ä¸ªå®¹å¨pingå¦å¤ä¸ä¸ªå®¹å¨\ndocker top ${container name/id}                                #æ¾ç¤ºä¸ä¸ªå®¹å¨çtopä¿¡æ¯\ndocker stats                                                   #æ¾ç¤ºå®¹å¨ç»è®¡ä¿¡æ¯(æ­£å¨è¿è¡)\n    docker stats -a                                            #æ¾ç¤ºææå®¹å¨çç»è®¡ä¿¡æ¯(åæ¬æ²¡æè¿è¡ç)\n    docker stats -a --no-stream                                #æ¾ç¤ºææå®¹å¨çç»è®¡ä¿¡æ¯(åæ¬æ²¡æè¿è¡ç) ï¼åªæ¾ç¤ºä¸æ¬¡\n    docker stats --no-stream | sort -k8 -h                     #ç»è®¡å®¹å¨ä¿¡æ¯å¹¶ä»¥ä½¿ç¨æµéä½ä¸ºååº\ndocker system \n      docker system df           #æ¾ç¤ºç¡¬çå ç¨\n      docker system events       #æ¾ç¤ºå®¹å¨çå®æ¶äºä»¶\n      docker system info         #æ¾ç¤ºç³»ç»ä¿¡æ¯\n      docker system prune        #æ¸çæä»¶\n\n\n\n# dockeræç¨\n\nèé¸dockeræç¨\n\ndockerå®æ¹ææ¡£\n\nä½æ¯ï¼è®¸å¤äººå¹¶ä¸æ¸æ¥ docker å°åºæ¯ä»ä¹ï¼è¦è§£å³ä»ä¹é®é¢ï¼å¥½å¤åå¨åªéï¼æ¬æå°±æ¥è¯¦ç»è§£éï¼å¸®å©å¤§å®¶çè§£å®ï¼è¿å¸¦æç®åææçå®ä¾ï¼æä½ å¦ä½å°å®ç¨äºæ¥å¸¸å¼åã\n\n\n\n# ä¸ãç¯å¢éç½®çé¾é¢\n\nè½¯ä»¶å¼åæå¤§çéº»ç¦äºä¹ä¸ï¼å°±æ¯ç¯å¢éç½®ãç¨æ·è®¡ç®æºçç¯å¢é½ä¸ç¸åï¼ä½ æä¹ç¥éèªå®¶çè½¯ä»¶ï¼è½å¨é£äºæºå¨è·èµ·æ¥ï¼\n\nç¨æ·å¿é¡»ä¿è¯ä¸¤ä»¶äºï¼æä½ç³»ç»çè®¾ç½®ï¼åç§åºåç»ä»¶çå®è£ãåªæå®ä»¬é½æ­£ç¡®ï¼è½¯ä»¶æè½è¿è¡ãä¸¾ä¾æ¥è¯´ï¼å®è£ä¸ä¸ª python åºç¨ï¼è®¡ç®æºå¿é¡»æ python å¼æï¼è¿å¿é¡»æåç§ä¾èµï¼å¯è½è¿è¦éç½®ç¯å¢åéã\n\nå¦ææäºèæ§çæ¨¡åä¸å½åç¯å¢ä¸å¼å®¹ï¼é£å°±éº»ç¦äºãå¼åèå¸¸å¸¸ä¼è¯´ï¼"å®å¨æçæºå¨å¯ä»¥è·äº"ï¼it works on my machineï¼ï¼è¨ä¸ä¹æå°±æ¯ï¼å¶ä»æºå¨å¾å¯è½è·ä¸äºã\n\nç¯å¢éç½®å¦æ­¤éº»ç¦ï¼æ¢ä¸å°æºå¨ï¼å°±è¦éæ¥ä¸æ¬¡ï¼æ·æ¥è´¹æ¶ãå¾å¤äººæ³å°ï¼è½ä¸è½ä»æ ¹æ¬ä¸è§£å³é®é¢ï¼è½¯ä»¶å¯ä»¥å¸¦ç¯å¢å®è£ï¼ä¹å°±æ¯è¯´ï¼å®è£çæ¶åï¼æåå§ç¯å¢ä¸æ¨¡ä¸æ ·å°å¤å¶è¿æ¥ã\n\n# äºãèææº\n\nèææºï¼virtual machineï¼å°±æ¯å¸¦ç¯å¢å®è£çä¸ç§è§£å³æ¹æ¡ãå®å¯ä»¥å¨ä¸ç§æä½ç³»ç»éé¢è¿è¡å¦ä¸ç§æä½ç³»ç»ï¼æ¯å¦å¨ windows ç³»ç»éé¢è¿è¡ linux ç³»ç»ãåºç¨ç¨åºå¯¹æ­¤æ¯«æ æç¥ï¼å ä¸ºèææºçä¸å»è·çå®ç³»ç»ä¸æ¨¡ä¸æ ·ï¼èå¯¹äºåºå±ç³»ç»æ¥è¯´ï¼èææºå°±æ¯ä¸ä¸ªæ®éæä»¶ï¼ä¸éè¦äºå°±å æï¼å¯¹å¶ä»é¨åæ¯«æ å½±åã\n\nè½ç¶ç¨æ·å¯ä»¥éè¿èææºè¿åè½¯ä»¶çåå§ç¯å¢ãä½æ¯ï¼è¿ä¸ªæ¹æ¡æå ä¸ªç¼ºç¹ã\n\nï¼1ï¼èµæºå ç¨å¤\n\nèææºä¼ç¬å ä¸é¨ååå­åç¡¬çç©ºé´ãå®è¿è¡çæ¶åï¼å¶ä»ç¨åºå°±ä¸è½ä½¿ç¨è¿äºèµæºäºãåªæèææºéé¢çåºç¨ç¨åºï¼çæ­£ä½¿ç¨çåå­åªæ 1mbï¼èææºä¾ç¶éè¦å ç¾ mb çåå­æè½è¿è¡ã\n\nï¼2ï¼åä½æ­¥éª¤å¤\n\nèææºæ¯å®æ´çæä½ç³»ç»ï¼ä¸äºç³»ç»çº§å«çæä½æ­¥éª¤ï¼å¾å¾æ æ³è·³è¿ï¼æ¯å¦ç¨æ·ç»å½ã\n\nï¼3ï¼å¯å¨æ¢\n\nå¯å¨æä½ç³»ç»éè¦å¤ä¹ï¼å¯å¨èææºå°±éè¦å¤ä¹ãå¯è½è¦ç­å åéï¼åºç¨ç¨åºæè½çæ­£è¿è¡ã\n\n# ä¸ãlinux å®¹å¨\n\nç±äºèææºå­å¨è¿äºç¼ºç¹ï¼linux åå±åºäºå¦ä¸ç§èæåææ¯ï¼linux å®¹å¨ï¼linux containersï¼ç¼©åä¸º lxcï¼ã\n\n**linux å®¹å¨ä¸æ¯æ¨¡æä¸ä¸ªå®æ´çæä½ç³»ç»ï¼èæ¯å¯¹è¿ç¨è¿è¡éç¦»ã**æèè¯´ï¼å¨æ­£å¸¸è¿ç¨çå¤é¢å¥äºä¸ä¸ªä¿æ¤å±ãå¯¹äºå®¹å¨éé¢çè¿ç¨æ¥è¯´ï¼å®æ¥è§¦å°çåç§èµæºé½æ¯èæçï¼ä»èå®ç°ä¸åºå±ç³»ç»çéç¦»ã\n\nç±äºå®¹å¨æ¯è¿ç¨çº§å«çï¼ç¸æ¯èææºæå¾å¤ä¼å¿ã\n\nï¼1ï¼å¯å¨å¿«\n\nå®¹å¨éé¢çåºç¨ï¼ç´æ¥å°±æ¯åºå±ç³»ç»çä¸ä¸ªè¿ç¨ï¼èä¸æ¯èææºåé¨çè¿ç¨ãæä»¥ï¼å¯å¨å®¹å¨ç¸å½äºå¯å¨æ¬æºçä¸ä¸ªè¿ç¨ï¼èä¸æ¯å¯å¨ä¸ä¸ªæä½ç³»ç»ï¼éåº¦å°±å¿«å¾å¤ã\n\nï¼2ï¼èµæºå ç¨å°\n\nå®¹å¨åªå ç¨éè¦çèµæºï¼ä¸å ç¨é£äºæ²¡æç¨å°çèµæºï¼èææºç±äºæ¯å®æ´çæä½ç³»ç»ï¼ä¸å¯é¿åè¦å ç¨ææèµæºãå¦å¤ï¼å¤ä¸ªå®¹å¨å¯ä»¥å±äº«èµæºï¼èææºé½æ¯ç¬äº«èµæºã\n\nï¼3ï¼ä½ç§¯å°\n\nå®¹å¨åªè¦åå«ç¨å°çç»ä»¶å³å¯ï¼èèææºæ¯æ´ä¸ªæä½ç³»ç»çæåï¼æä»¥å®¹å¨æä»¶æ¯èææºæä»¶è¦å°å¾å¤ã\n\næ»ä¹ï¼å®¹å¨æç¹åè½»éçº§çèææºï¼è½å¤æä¾èæåçç¯å¢ï¼ä½æ¯ææ¬å¼éå°å¾å¤ã\n\n# åãdocker æ¯ä»ä¹ï¼\n\n**docker å±äº linux å®¹å¨çä¸ç§å°è£ï¼æä¾ç®åæç¨çå®¹å¨ä½¿ç¨æ¥å£ã**å®æ¯ç®åææµè¡ç linux å®¹å¨è§£å³æ¹æ¡ã\n\ndocker å°åºç¨ç¨åºä¸è¯¥ç¨åºçä¾èµï¼æåå¨ä¸ä¸ªæä»¶éé¢ãè¿è¡è¿ä¸ªæä»¶ï¼å°±ä¼çæä¸ä¸ªèæå®¹å¨ãç¨åºå¨è¿ä¸ªèæå®¹å¨éè¿è¡ï¼å°±å¥½åå¨çå®çç©çæºä¸è¿è¡ä¸æ ·ãæäº dockerï¼å°±ä¸ç¨æå¿ç¯å¢é®é¢ã\n\næ»ä½æ¥è¯´ï¼docker çæ¥å£ç¸å½ç®åï¼ç¨æ·å¯ä»¥æ¹ä¾¿å°åå»ºåä½¿ç¨å®¹å¨ï¼æèªå·±çåºç¨æ¾å¥å®¹å¨ãå®¹å¨è¿å¯ä»¥è¿è¡çæ¬ç®¡çãå¤å¶ãåäº«ãä¿®æ¹ï¼å°±åç®¡çæ®éçä»£ç ä¸æ ·ã\n\n# äºãdocker çç¨é\n\ndocker çä¸»è¦ç¨éï¼ç®åæä¸å¤§ç±»ã\n\n**ï¼1ï¼æä¾ä¸æ¬¡æ§çç¯å¢ã**æ¯å¦ï¼æ¬å°æµè¯ä»äººçè½¯ä»¶ãæç»­éæçæ¶åæä¾ååæµè¯åæå»ºçç¯å¢ã\n\n**ï¼2ï¼æä¾å¼¹æ§çäºæå¡ã**å ä¸º docker å®¹å¨å¯ä»¥éå¼éå³ï¼å¾éåå¨ææ©å®¹åç¼©å®¹ã\n\n**ï¼3ï¼ç»å»ºå¾®æå¡æ¶æã**éè¿å¤ä¸ªå®¹å¨ï¼ä¸å°æºå¨å¯ä»¥è·å¤ä¸ªæå¡ï¼å æ­¤å¨æ¬æºå°±å¯ä»¥æ¨¡æåºå¾®æå¡æ¶æã\n\n# å­ãdocker çå®è£\n\ndocker æ¯ä¸ä¸ªå¼æºçåä¸äº§åï¼æä¸¤ä¸ªçæ¬ï¼ç¤¾åºçï¼community editionï¼ç¼©åä¸º ceï¼åä¼ä¸çï¼enterprise editionï¼ç¼©åä¸º eeï¼ãä¼ä¸çåå«äºä¸äºæ¶è´¹æå¡ï¼ä¸ªäººå¼åèä¸è¬ç¨ä¸å°ãä¸é¢çä»ç»é½éå¯¹ç¤¾åºçã\n\ndocker ce çå®è£è¯·åèå®æ¹ææ¡£ã\n\n>  * mac\n>  * windows\n>  * ubuntu\n>  * debian\n>  * centos\n>  * fedora\n>  * å¶ä» linux åè¡ç\n\nå®è£å®æåï¼è¿è¡ä¸é¢çå½ä»¤ï¼éªè¯æ¯å¦å®è£æåã\n\n> $ docker version\n> # æè\n> $ docker info\n\ndocker éè¦ç¨æ·å·æ sudo æéï¼ä¸ºäºé¿åæ¯æ¬¡å½ä»¤é½è¾å¥sudoï¼å¯ä»¥æç¨æ·å å¥ docker ç¨æ·ç»ï¼å®æ¹ææ¡£ï¼ã\n\n> $ sudo usermod -ag docker $user\n\ndocker æ¯æå¡å¨----å®¢æ·ç«¯æ¶æãå½ä»¤è¡è¿è¡dockerå½ä»¤çæ¶åï¼éè¦æ¬æºæ docker æå¡ãå¦æè¿é¡¹æå¡æ²¡æå¯å¨ï¼å¯ä»¥ç¨ä¸é¢çå½ä»¤å¯å¨ï¼å®æ¹ææ¡£ï¼ã\n\n> # service å½ä»¤çç¨æ³\n> $ sudo service docker start\n> \n> # systemctl å½ä»¤çç¨æ³\n> $ sudo systemctl start docker\n\n# å­ãimage æä»¶\n\n**docker æåºç¨ç¨åºåå¶ä¾èµï¼æåå¨ image æä»¶éé¢ã**åªæéè¿è¿ä¸ªæä»¶ï¼æè½çæ docker å®¹å¨ãimage æä»¶å¯ä»¥çä½æ¯å®¹å¨çæ¨¡æ¿ãdocker æ ¹æ® image æä»¶çæå®¹å¨çå®ä¾ãåä¸ä¸ª image æä»¶ï¼å¯ä»¥çæå¤ä¸ªåæ¶è¿è¡çå®¹å¨å®ä¾ã\n\nimage æ¯äºè¿å¶æä»¶ãå®éå¼åä¸­ï¼ä¸ä¸ª image æä»¶å¾å¾éè¿ç»§æ¿å¦ä¸ä¸ª image æä»¶ï¼å ä¸ä¸äºä¸ªæ§åè®¾ç½®èçæãä¸¾ä¾æ¥è¯´ï¼ä½ å¯ä»¥å¨ ubuntu ç image åºç¡ä¸ï¼å¾éé¢å å¥ apache æå¡å¨ï¼å½¢æä½ ç imageã\n\n> # ååºæ¬æºçææ image æä»¶ã\n> $ docker image ls\n> \n> # å é¤ image æä»¶\n> $ docker image rm [imagename]\n\nimage æä»¶æ¯éç¨çï¼ä¸å°æºå¨ç image æä»¶æ·è´å°å¦ä¸å°æºå¨ï¼ç§æ ·å¯ä»¥ä½¿ç¨ãä¸è¬æ¥è¯´ï¼ä¸ºäºèçæ¶é´ï¼æä»¬åºè¯¥å°½éä½¿ç¨å«äººå¶ä½å¥½ç image æä»¶ï¼èä¸æ¯èªå·±å¶ä½ãå³ä½¿è¦å®å¶ï¼ä¹åºè¯¥åºäºå«äººç image æä»¶è¿è¡å å·¥ï¼èä¸æ¯ä»é¶å¼å§å¶ä½ã\n\nä¸ºäºæ¹ä¾¿å±äº«ï¼image æä»¶å¶ä½å®æåï¼å¯ä»¥ä¸ä¼ å°ç½ä¸çä»åºãdocker çå®æ¹ä»åº docker hub æ¯æéè¦ãæå¸¸ç¨ç image ä»åºãæ­¤å¤ï¼åºå®èªå·±å¶ä½ç image æä»¶ä¹æ¯å¯ä»¥çã\n\n# ä¸ãå®ä¾ï¼hello world\n\nä¸é¢ï¼æä»¬éè¿æç®åç image æä»¶"hello world"ï¼æåä¸ä¸ dockerã\n\néè¦è¯´æçæ¯ï¼å½åè¿æ¥ docker çå®æ¹ä»åºå¾æ¢ï¼è¿ä¼æ­çº¿ï¼éè¦å°é»è®¤ä»åºæ¹æå½åçéåç½ç«ã\n\né¦åï¼è¿è¡ä¸é¢çå½ä»¤ï¼å° image æä»¶ä»ä»åºæåå°æ¬å°ã\n\n> $ docker image pull library/hello-world\n\nä¸é¢ä»£ç ä¸­ï¼docker image pullæ¯æå image æä»¶çå½ä»¤ãlibrary/hello-worldæ¯ image æä»¶å¨ä»åºéé¢çä½ç½®ï¼å¶ä¸­libraryæ¯ image æä»¶æå¨çç»ï¼hello-worldæ¯ image æä»¶çåå­ã\n\nç±äº docker å®æ¹æä¾ç image æä»¶ï¼é½æ¾å¨libraryç»éé¢ï¼æä»¥å®çæ¯é»è®¤ç»ï¼å¯ä»¥çç¥ãå æ­¤ï¼ä¸é¢çå½ä»¤å¯ä»¥åæä¸é¢è¿æ ·ã\n\n> $ docker image pull hello-world\n\næåæåä»¥åï¼å°±å¯ä»¥å¨æ¬æºçå°è¿ä¸ª image æä»¶äºã\n\n> $ docker image ls\n\nç°å¨ï¼è¿è¡è¿ä¸ª image æä»¶ã\n\n> $ docker container run hello-world\n\ndocker container runå½ä»¤ä¼ä» image æä»¶ï¼çæä¸ä¸ªæ­£å¨è¿è¡çå®¹å¨å®ä¾ã\n\næ³¨æï¼docker container runå½ä»¤å·æèªå¨æå image æä»¶çåè½ãå¦æåç°æ¬å°æ²¡ææå®ç image æä»¶ï¼å°±ä¼ä»ä»åºèªå¨æåãå æ­¤ï¼åé¢çdocker image pullå½ä»¤å¹¶ä¸æ¯å¿éçæ­¥éª¤ã\n\nå¦æè¿è¡æåï¼ä½ ä¼å¨å±å¹ä¸è¯»å°ä¸é¢çè¾åºã\n\n> $ docker container run hello-world\n> \n> hello from docker!\n> this message shows that your installation appears to be working correctly.\n> \n> ... ...\n\nè¾åºè¿æ®µæç¤ºä»¥åï¼hello worldå°±ä¼åæ­¢è¿è¡ï¼å®¹å¨èªå¨ç»æ­¢ã\n\næäºå®¹å¨ä¸ä¼èªå¨ç»æ­¢ï¼å ä¸ºæä¾çæ¯æå¡ãæ¯å¦ï¼å®è£è¿è¡ ubuntu ç imageï¼å°±å¯ä»¥å¨å½ä»¤è¡ä½éª ubuntu ç³»ç»ã\n\n> $ docker container run -it ubuntu bash\n\nå¯¹äºé£äºä¸ä¼èªå¨ç»æ­¢çå®¹å¨ï¼å¿é¡»ä½¿ç¨docker container kill å½ä»¤æå¨ç»æ­¢ã\n\n> $ docker container kill [containid]\n\n# å«ãå®¹å¨æä»¶\n\n**image æä»¶çæçå®¹å¨å®ä¾ï¼æ¬èº«ä¹æ¯ä¸ä¸ªæä»¶ï¼ç§°ä¸ºå®¹å¨æä»¶ã**ä¹å°±æ¯è¯´ï¼ä¸æ¦å®¹å¨çæï¼å°±ä¼åæ¶å­å¨ä¸¤ä¸ªæä»¶ï¼ image æä»¶åå®¹å¨æä»¶ãèä¸å³é­å®¹å¨å¹¶ä¸ä¼å é¤å®¹å¨æä»¶ï¼åªæ¯å®¹å¨åæ­¢è¿è¡èå·²ã\n\n> # ååºæ¬æºæ­£å¨è¿è¡çå®¹å¨\n> $ docker container ls\n> \n> # ååºæ¬æºææå®¹å¨ï¼åæ¬ç»æ­¢è¿è¡çå®¹å¨\n> $ docker container ls --all\n\nä¸é¢å½ä»¤çè¾åºç»æä¹ä¸­ï¼åæ¬å®¹å¨ç idãå¾å¤å°æ¹é½éè¦æä¾è¿ä¸ª idï¼æ¯å¦ä¸ä¸èç»æ­¢å®¹å¨è¿è¡çdocker container killå½ä»¤ã\n\nç»æ­¢è¿è¡çå®¹å¨æä»¶ï¼ä¾ç¶ä¼å æ®ç¡¬çç©ºé´ï¼å¯ä»¥ä½¿ç¨docker container rmå½ä»¤å é¤ã\n\n> $ docker container rm [containerid]\n\nè¿è¡ä¸é¢çå½ä»¤ä¹åï¼åä½¿ç¨docker container ls --allå½ä»¤ï¼å°±ä¼åç°è¢«å é¤çå®¹å¨æä»¶å·²ç»æ¶å¤±äºã\n\n# ä¹ãå¶ä»æç¨çå½ä»¤\n\ndocker çä¸»è¦ç¨æ³å°±æ¯ä¸é¢è¿äºï¼æ­¤å¤è¿æå ä¸ªå½ä»¤ï¼ä¹éå¸¸æç¨ã\n\nï¼1ï¼docker container start\n\nåé¢çdocker container runå½ä»¤æ¯æ°å»ºå®¹å¨ï¼æ¯è¿è¡ä¸æ¬¡ï¼å°±ä¼æ°å»ºä¸ä¸ªå®¹å¨ãåæ ·çå½ä»¤è¿è¡ä¸¤æ¬¡ï¼å°±ä¼çæä¸¤ä¸ªä¸æ¨¡ä¸æ ·çå®¹å¨æä»¶ãå¦æå¸æéå¤ä½¿ç¨å®¹å¨ï¼å°±è¦ä½¿ç¨docker container startå½ä»¤ï¼å®ç¨æ¥å¯å¨å·²ç»çæãå·²ç»åæ­¢è¿è¡çå®¹å¨æä»¶ã\n\n> $ docker container start [containerid]\n\nï¼2ï¼docker container stop\n\nåé¢çdocker container killå½ä»¤ç»æ­¢å®¹å¨è¿è¡ï¼ç¸å½äºåå®¹å¨éé¢çä¸»è¿ç¨ååº sigkill ä¿¡å·ãèdocker container stopå½ä»¤ä¹æ¯ç¨æ¥ç»æ­¢å®¹å¨è¿è¡ï¼ç¸å½äºåå®¹å¨éé¢çä¸»è¿ç¨ååº sigterm ä¿¡å·ï¼ç¶åè¿ä¸æ®µæ¶é´åååº sigkill ä¿¡å·ã\n\n> $ docker container stop [containerid]\n\nè¿ä¸¤ä¸ªä¿¡å·çå·®å«æ¯ï¼åºç¨ç¨åºæ¶å° sigterm ä¿¡å·ä»¥åï¼å¯ä»¥èªè¡è¿è¡æ¶å°¾æ¸çå·¥ä½ï¼ä½ä¹å¯ä»¥ä¸çä¼è¿ä¸ªä¿¡å·ãå¦ææ¶å° sigkill ä¿¡å·ï¼å°±ä¼å¼ºè¡ç«å³ç»æ­¢ï¼é£äºæ­£å¨è¿è¡ä¸­çæä½ä¼å¨é¨ä¸¢å¤±ã\n\nï¼3ï¼docker container logs\n\ndocker container logså½ä»¤ç¨æ¥æ¥ç docker å®¹å¨çè¾åºï¼å³å®¹å¨éé¢ shell çæ åè¾åºãå¦ædocker runå½ä»¤è¿è¡å®¹å¨çæ¶åï¼æ²¡æä½¿ç¨-itåæ°ï¼å°±è¦ç¨è¿ä¸ªå½ä»¤æ¥çè¾åºã\n\n> $ docker container logs [containerid]\n\nï¼4ï¼docker container exec\n\ndocker container execå½ä»¤ç¨äºè¿å¥ä¸ä¸ªæ­£å¨è¿è¡ç docker å®¹å¨ãå¦ædocker runå½ä»¤è¿è¡å®¹å¨çæ¶åï¼æ²¡æä½¿ç¨-itåæ°ï¼å°±è¦ç¨è¿ä¸ªå½ä»¤è¿å¥å®¹å¨ãä¸æ¦è¿å¥äºå®¹å¨ï¼å°±å¯ä»¥å¨å®¹å¨ç shell æ§è¡å½ä»¤äºã\n\n> $ docker container exec -it [containerid] /bin/bash\n\nï¼5ï¼docker container cp\n\ndocker container cpå½ä»¤ç¨äºä»æ­£å¨è¿è¡ç docker å®¹å¨éé¢ï¼å°æä»¶æ·è´å°æ¬æºãä¸é¢æ¯æ·è´å°å½åç®å½çåæ³ã\n\n> $ docker container cp [containid]:[/path/to/file] .',charsets:{cjk:!0}},{title:"Gitå¸¸ç¨å½ä»¤",frontmatter:{title:"Gitå¸¸ç¨å½ä»¤",date:"2022-01-17T16:35:43.000Z",permalink:"/pages/115b69/",categories:["å­¦ä¹ èµæ","å¸¸ç¨å½ä»¤"],tags:["git"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/02.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/02.Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html",relativePath:"å­¦ä¹ èµæ/02.å¸¸ç¨å½ä»¤/02.Gitå¸¸ç¨å½ä»¤.md",key:"v-333d5a73",path:"/pages/115b69/",headers:[{level:3,title:"1. æ°å»ºä»£ç åº",slug:"_1-æ°å»ºä»£ç åº",normalizedTitle:"1. æ°å»ºä»£ç åº",charIndex:124},{level:3,title:"2. éç½®",slug:"_2-éç½®",normalizedTitle:"2. éç½®",charIndex:254},{level:3,title:"3. å¢å /å é¤æä»¶",slug:"_3-å¢å -å é¤æä»¶",normalizedTitle:"3. å¢å /å é¤æä»¶",charIndex:450},{level:3,title:"4. ä»£ç æäº¤",slug:"_4-ä»£ç æäº¤",normalizedTitle:"4. ä»£ç æäº¤",charIndex:795},{level:3,title:"5. åæ¯",slug:"_5-åæ¯",normalizedTitle:"5. åæ¯",charIndex:1150},{level:3,title:"6.æ ç­¾",slug:"_6-æ ç­¾",normalizedTitle:"6.æ ç­¾",charIndex:1825},{level:3,title:"7.æ¥çä¿¡æ¯",slug:"_7-æ¥çä¿¡æ¯",normalizedTitle:"7.æ¥çä¿¡æ¯",charIndex:2171},{level:3,title:"8.è¿ç¨åæ­¥",slug:"_8-è¿ç¨åæ­¥",normalizedTitle:"8.è¿ç¨åæ­¥",charIndex:3107},{level:3,title:"9.æ¤é",slug:"_9-æ¤é",normalizedTitle:"9.æ¤é",charIndex:3467},{level:3,title:"10.å¶ä»",slug:"_10-å¶ä»",normalizedTitle:"10.å¶ä»",charIndex:4033}],headersStr:"1. æ°å»ºä»£ç åº 2. éç½® 3. å¢å /å é¤æä»¶ 4. ä»£ç æäº¤ 5. åæ¯ 6.æ ç­¾ 7.æ¥çä¿¡æ¯ 8.è¿ç¨åæ­¥ 9.æ¤é 10.å¶ä»",content:' * Workspaceï¼å·¥ä½åº\n * Index / Stageï¼æå­åº\n * Repositoryï¼ä»åºåºï¼ææ¬å°ä»åºï¼\n * Remoteï¼è¿ç¨ä»åº\n\n----------------------------------------\n\n\n# 1. æ°å»ºä»£ç åº\n\n# å¨å½åç®å½æ°å»ºä¸ä¸ªGitä»£ç åº\n$ git init\n\n# æ°å»ºä¸ä¸ªç®å½ï¼å°å¶åå§åä¸ºGitä»£ç åº\n$ git init [project-name]\n\n# ä¸è½½ä¸ä¸ªé¡¹ç®åå®çæ´ä¸ªä»£ç åå²\n$ git clone [url]\n\n\n\n# 2. éç½®\n\n#æ¾ç¤ºå½åçGitéç½®\n$ git config --list\n\n# ç¼è¾Gitéç½®æä»¶\n$ git config -e [--global]\n\n# è®¾ç½®æäº¤ä»£ç æ¶çç¨æ·ä¿¡æ¯\n$ git config [--global] user.name "[name]"\n$ git config [--global] user.email "[email address]"\n\n\n\n# 3. å¢å /å é¤æä»¶\n\n# æ·»å æå®æä»¶å°æå­åº\n$ git add [file1] [file2] ...\n\n# æ·»å æå®ç®å½å°æå­åºï¼åæ¬å­ç®å½\n$ git add [dir]\n\n# æ·»å å½åç®å½çæææä»¶å°æå­åº\n$ git add .\n\n# æ·»å æ¯ä¸ªåååï¼é½ä¼è¦æ±ç¡®è®¤\n# å¯¹äºåä¸ä¸ªæä»¶çå¤å¤ååï¼å¯ä»¥å®ç°åæ¬¡æäº¤\n$ git add -p\n\n# å é¤å·¥ä½åºæä»¶ï¼å¹¶ä¸å°è¿æ¬¡å é¤æ¾å¥æå­åº\n$ git rm [file1] [file2] ...\n\n# åæ­¢è¿½è¸ªæå®æä»¶ï¼ä½è¯¥æä»¶ä¼ä¿çå¨å·¥ä½åº\n$ git rm --cached [file]\n\n# æ¹åæä»¶ï¼å¹¶ä¸å°è¿ä¸ªæ¹åæ¾å¥æå­åº\n$ git mv [file-original] [file-renamed]\n\n\n\n# 4. ä»£ç æäº¤\n\n# æäº¤æå­åºå°ä»åºåº\n$ git commit -m [message]\n\n# æäº¤æå­åºçæå®æä»¶å°ä»åºåº\n$ git commit [file1] [file2] ... -m [message]\n\n# æäº¤å·¥ä½åºèªä¸æ¬¡commitä¹åçååï¼ç´æ¥å°ä»åºåº\n$ git commit -a\n\n# æäº¤æ¶æ¾ç¤ºæædiffä¿¡æ¯\n$ git commit -v\n\n# ä½¿ç¨ä¸æ¬¡æ°çcommitï¼æ¿ä»£ä¸ä¸æ¬¡æäº¤\n# å¦æä»£ç æ²¡æä»»ä½æ°ååï¼åç¨æ¥æ¹åä¸ä¸æ¬¡commitçæäº¤ä¿¡æ¯\n$ git commit --amend -m [message]\n\n# éåä¸ä¸æ¬¡commitï¼å¹¶åæ¬æå®æä»¶çæ°åå\n$ git commit --amend [file1] [file2] ...\n\n\n\n# 5. åæ¯\n\n# ååºæææ¬å°åæ¯\n$ git branch\n\n# ååºææè¿ç¨åæ¯\n$ git branch -r\n\n# ååºæææ¬å°åæ¯åè¿ç¨åæ¯\n$ git branch -a\n\n# æ°å»ºä¸ä¸ªåæ¯ï¼ä½ä¾ç¶åçå¨å½ååæ¯\n$ git branch [branch-name]\n\n# æ°å»ºä¸ä¸ªåæ¯ï¼å¹¶åæ¢å°è¯¥åæ¯\n$ git checkout -b [branch]\n\n# æ°å»ºä¸ä¸ªåæ¯ï¼æåæå®commit\n$ git branch [branch] [commit]\n\n# æ°å»ºä¸ä¸ªåæ¯ï¼ä¸æå®çè¿ç¨åæ¯å»ºç«è¿½è¸ªå³ç³»\n$ git branch --track [branch] [remote-branch]\n\n# åæ¢å°æå®åæ¯ï¼å¹¶æ´æ°å·¥ä½åº\n$ git checkout [branch-name]\n\n# åæ¢å°ä¸ä¸ä¸ªåæ¯\n$ git checkout -\n\n# å»ºç«è¿½è¸ªå³ç³»ï¼å¨ç°æåæ¯ä¸æå®çè¿ç¨åæ¯ä¹é´\n$ git branch --set-upstream [branch] [remote-branch]\n\n# åå¹¶æå®åæ¯å°å½ååæ¯\n$ git merge [branch]\n\n# éæ©ä¸ä¸ªcommitï¼åå¹¶è¿å½ååæ¯\n$ git cherry-pick [commit]\n\n# å é¤åæ¯\n$ git branch -d [branch-name]\n\n# å é¤è¿ç¨åæ¯\n$ git push origin --delete [branch-name]\n$ git branch -dr [remote/branch]\n\n\n\n# 6.æ ç­¾\n\n# ååºæætag\n$ git tag\n\n# æ°å»ºä¸ä¸ªtagå¨å½åcommit\n$ git tag [tag]\n\n# æ°å»ºä¸ä¸ªtagå¨æå®commit\n$ git tag [tag] [commit]\n\n# å é¤æ¬å°tag\n$ git tag -d [tag]\n\n# å é¤è¿ç¨tag\n$ git push origin :refs/tags/[tagName]\n\n# æ¥çtagä¿¡æ¯\n$ git show [tag]\n\n# æäº¤æå®tag\n$ git push [remote] [tag]\n\n# æäº¤æætag\n$ git push [remote] --tags\n\n# æ°å»ºä¸ä¸ªåæ¯ï¼æåæä¸ªtag\n$ git checkout -b [branch] [tag]\n\n\n\n# 7.æ¥çä¿¡æ¯\n\n# æ¾ç¤ºæåæ´çæä»¶\n$ git status\n\n# æ¾ç¤ºå½ååæ¯ççæ¬åå²\n$ git log\n\n# æ¾ç¤ºcommitåå²ï¼ä»¥åæ¯æ¬¡commitåçåæ´çæä»¶\n$ git log --stat\n\n# æç´¢æäº¤åå²ï¼æ ¹æ®å³é®è¯\n$ git log -S [keyword]\n\n# æ¾ç¤ºæä¸ªcommitä¹åçææåå¨ï¼æ¯ä¸ªcommitå æ®ä¸è¡\n$ git log [tag] HEAD --pretty=format:%s\n\n# æ¾ç¤ºæä¸ªcommitä¹åçææåå¨ï¼å¶"æäº¤è¯´æ"å¿é¡»ç¬¦åæç´¢æ¡ä»¶\n$ git log [tag] HEAD --grep feature\n\n# æ¾ç¤ºæä¸ªæä»¶ççæ¬åå²ï¼åæ¬æä»¶æ¹å\n$ git log --follow [file]\n$ git whatchanged [file]\n\n# æ¾ç¤ºæå®æä»¶ç¸å³çæ¯ä¸æ¬¡diff\n$ git log -p [file]\n\n# æ¾ç¤ºè¿å»5æ¬¡æäº¤\n$ git log -5 --pretty --oneline\n\n# æ¾ç¤ºæææäº¤è¿çç¨æ·ï¼ææäº¤æ¬¡æ°æåº\n$ git shortlog -sn\n\n# æ¾ç¤ºæå®æä»¶æ¯ä»ä¹äººå¨ä»ä¹æ¶é´ä¿®æ¹è¿\n$ git blame [file]\n\n# æ¾ç¤ºæå­åºåå·¥ä½åºçå·®å¼\n$ git diff\n\n# æ¾ç¤ºæå­åºåä¸ä¸ä¸ªcommitçå·®å¼\n$ git diff --cached [file]\n\n# æ¾ç¤ºå·¥ä½åºä¸å½ååæ¯ææ°commitä¹é´çå·®å¼\n$ git diff HEAD\n\n# æ¾ç¤ºä¸¤æ¬¡æäº¤ä¹é´çå·®å¼\n$ git diff [first-branch]...[second-branch]\n\n# æ¾ç¤ºä»å¤©ä½ åäºå¤å°è¡ä»£ç \n$ git diff --shortstat "@{0 day ago}"\n\n# æ¾ç¤ºææ¬¡æäº¤çåæ°æ®ååå®¹åå\n$ git show [commit]\n\n# æ¾ç¤ºææ¬¡æäº¤åçååçæä»¶\n$ git show --name-only [commit]\n\n# æ¾ç¤ºææ¬¡æäº¤æ¶ï¼æä¸ªæä»¶çåå®¹\n$ git show [commit]:[filename]\n\n# æ¾ç¤ºå½ååæ¯çæè¿å æ¬¡æäº¤\n$ git reflog\n\n\n\n# 8.è¿ç¨åæ­¥\n\n# ä¸è½½è¿ç¨ä»åºçææåå¨\n$ git fetch [remote]\n\n# æ¾ç¤ºææè¿ç¨ä»åº\n$ git remote -v\n\n# æ¾ç¤ºæä¸ªè¿ç¨ä»åºçä¿¡æ¯\n$ git remote show [remote]\n\n# å¢å ä¸ä¸ªæ°çè¿ç¨ä»åºï¼å¹¶å½å\n$ git remote add [shortname] [url]\n\n# ååè¿ç¨ä»åºçååï¼å¹¶ä¸æ¬å°åæ¯åå¹¶\n$ git pull [remote] [branch]\n\n# ä¸ä¼ æ¬å°æå®åæ¯å°è¿ç¨ä»åº\n$ git push [remote] [branch]\n\n# å¼ºè¡æ¨éå½ååæ¯å°è¿ç¨ä»åºï¼å³ä½¿æå²çª\n$ git push [remote] --force\n\n# æ¨éææåæ¯å°è¿ç¨ä»åº\n$ git push [remote] --all\n\n\n\n# 9.æ¤é\n\n# æ¢å¤æå­åºçæå®æä»¶å°å·¥ä½åº\n$ git checkout [file]\n\n# æ¢å¤æä¸ªcommitçæå®æä»¶å°æå­åºåå·¥ä½åº\n$ git checkout [commit] [file]\n\n# æ¢å¤æå­åºçæææä»¶å°å·¥ä½åº\n$ git checkout .\n\n# éç½®æå­åºçæå®æä»¶ï¼ä¸ä¸ä¸æ¬¡commitä¿æä¸è´ï¼ä½å·¥ä½åºä¸å\n$ git reset [file]\n\n# éç½®æå­åºä¸å·¥ä½åºï¼ä¸ä¸ä¸æ¬¡commitä¿æä¸è´\n$ git reset --hard\n\n# éç½®å½ååæ¯çæéä¸ºæå®commitï¼åæ¶éç½®æå­åºï¼ä½å·¥ä½åºä¸å\n$ git reset [commit]\n\n# éç½®å½ååæ¯çHEADä¸ºæå®commitï¼åæ¶éç½®æå­åºåå·¥ä½åºï¼ä¸æå®commitä¸è´\n$ git reset --hard [commit]\n\n# éç½®å½åHEADä¸ºæå®commitï¼ä½ä¿ææå­åºåå·¥ä½åºä¸å\n$ git reset --keep [commit]\n\n# æ°å»ºä¸ä¸ªcommitï¼ç¨æ¥æ¤éæå®commit\n# åèçææååé½å°è¢«åèæµæ¶ï¼å¹¶ä¸åºç¨å°å½ååæ¯\n$ git revert [commit]\n\n# ææ¶å°æªæäº¤çååç§»é¤ï¼ç¨ååç§»å¥\n$ git stash\n$ git stash pop\n\n\n\n# 10.å¶ä»\n\n# çæä¸ä¸ªå¯ä¾åå¸çåç¼©å\n$ git archive\n',normalizedContent:' * workspaceï¼å·¥ä½åº\n * index / stageï¼æå­åº\n * repositoryï¼ä»åºåºï¼ææ¬å°ä»åºï¼\n * remoteï¼è¿ç¨ä»åº\n\n----------------------------------------\n\n\n# 1. æ°å»ºä»£ç åº\n\n# å¨å½åç®å½æ°å»ºä¸ä¸ªgitä»£ç åº\n$ git init\n\n# æ°å»ºä¸ä¸ªç®å½ï¼å°å¶åå§åä¸ºgitä»£ç åº\n$ git init [project-name]\n\n# ä¸è½½ä¸ä¸ªé¡¹ç®åå®çæ´ä¸ªä»£ç åå²\n$ git clone [url]\n\n\n\n# 2. éç½®\n\n#æ¾ç¤ºå½åçgitéç½®\n$ git config --list\n\n# ç¼è¾gitéç½®æä»¶\n$ git config -e [--global]\n\n# è®¾ç½®æäº¤ä»£ç æ¶çç¨æ·ä¿¡æ¯\n$ git config [--global] user.name "[name]"\n$ git config [--global] user.email "[email address]"\n\n\n\n# 3. å¢å /å é¤æä»¶\n\n# æ·»å æå®æä»¶å°æå­åº\n$ git add [file1] [file2] ...\n\n# æ·»å æå®ç®å½å°æå­åºï¼åæ¬å­ç®å½\n$ git add [dir]\n\n# æ·»å å½åç®å½çæææä»¶å°æå­åº\n$ git add .\n\n# æ·»å æ¯ä¸ªåååï¼é½ä¼è¦æ±ç¡®è®¤\n# å¯¹äºåä¸ä¸ªæä»¶çå¤å¤ååï¼å¯ä»¥å®ç°åæ¬¡æäº¤\n$ git add -p\n\n# å é¤å·¥ä½åºæä»¶ï¼å¹¶ä¸å°è¿æ¬¡å é¤æ¾å¥æå­åº\n$ git rm [file1] [file2] ...\n\n# åæ­¢è¿½è¸ªæå®æä»¶ï¼ä½è¯¥æä»¶ä¼ä¿çå¨å·¥ä½åº\n$ git rm --cached [file]\n\n# æ¹åæä»¶ï¼å¹¶ä¸å°è¿ä¸ªæ¹åæ¾å¥æå­åº\n$ git mv [file-original] [file-renamed]\n\n\n\n# 4. ä»£ç æäº¤\n\n# æäº¤æå­åºå°ä»åºåº\n$ git commit -m [message]\n\n# æäº¤æå­åºçæå®æä»¶å°ä»åºåº\n$ git commit [file1] [file2] ... -m [message]\n\n# æäº¤å·¥ä½åºèªä¸æ¬¡commitä¹åçååï¼ç´æ¥å°ä»åºåº\n$ git commit -a\n\n# æäº¤æ¶æ¾ç¤ºæædiffä¿¡æ¯\n$ git commit -v\n\n# ä½¿ç¨ä¸æ¬¡æ°çcommitï¼æ¿ä»£ä¸ä¸æ¬¡æäº¤\n# å¦æä»£ç æ²¡æä»»ä½æ°ååï¼åç¨æ¥æ¹åä¸ä¸æ¬¡commitçæäº¤ä¿¡æ¯\n$ git commit --amend -m [message]\n\n# éåä¸ä¸æ¬¡commitï¼å¹¶åæ¬æå®æä»¶çæ°åå\n$ git commit --amend [file1] [file2] ...\n\n\n\n# 5. åæ¯\n\n# ååºæææ¬å°åæ¯\n$ git branch\n\n# ååºææè¿ç¨åæ¯\n$ git branch -r\n\n# ååºæææ¬å°åæ¯åè¿ç¨åæ¯\n$ git branch -a\n\n# æ°å»ºä¸ä¸ªåæ¯ï¼ä½ä¾ç¶åçå¨å½ååæ¯\n$ git branch [branch-name]\n\n# æ°å»ºä¸ä¸ªåæ¯ï¼å¹¶åæ¢å°è¯¥åæ¯\n$ git checkout -b [branch]\n\n# æ°å»ºä¸ä¸ªåæ¯ï¼æåæå®commit\n$ git branch [branch] [commit]\n\n# æ°å»ºä¸ä¸ªåæ¯ï¼ä¸æå®çè¿ç¨åæ¯å»ºç«è¿½è¸ªå³ç³»\n$ git branch --track [branch] [remote-branch]\n\n# åæ¢å°æå®åæ¯ï¼å¹¶æ´æ°å·¥ä½åº\n$ git checkout [branch-name]\n\n# åæ¢å°ä¸ä¸ä¸ªåæ¯\n$ git checkout -\n\n# å»ºç«è¿½è¸ªå³ç³»ï¼å¨ç°æåæ¯ä¸æå®çè¿ç¨åæ¯ä¹é´\n$ git branch --set-upstream [branch] [remote-branch]\n\n# åå¹¶æå®åæ¯å°å½ååæ¯\n$ git merge [branch]\n\n# éæ©ä¸ä¸ªcommitï¼åå¹¶è¿å½ååæ¯\n$ git cherry-pick [commit]\n\n# å é¤åæ¯\n$ git branch -d [branch-name]\n\n# å é¤è¿ç¨åæ¯\n$ git push origin --delete [branch-name]\n$ git branch -dr [remote/branch]\n\n\n\n# 6.æ ç­¾\n\n# ååºæætag\n$ git tag\n\n# æ°å»ºä¸ä¸ªtagå¨å½åcommit\n$ git tag [tag]\n\n# æ°å»ºä¸ä¸ªtagå¨æå®commit\n$ git tag [tag] [commit]\n\n# å é¤æ¬å°tag\n$ git tag -d [tag]\n\n# å é¤è¿ç¨tag\n$ git push origin :refs/tags/[tagname]\n\n# æ¥çtagä¿¡æ¯\n$ git show [tag]\n\n# æäº¤æå®tag\n$ git push [remote] [tag]\n\n# æäº¤æætag\n$ git push [remote] --tags\n\n# æ°å»ºä¸ä¸ªåæ¯ï¼æåæä¸ªtag\n$ git checkout -b [branch] [tag]\n\n\n\n# 7.æ¥çä¿¡æ¯\n\n# æ¾ç¤ºæåæ´çæä»¶\n$ git status\n\n# æ¾ç¤ºå½ååæ¯ççæ¬åå²\n$ git log\n\n# æ¾ç¤ºcommitåå²ï¼ä»¥åæ¯æ¬¡commitåçåæ´çæä»¶\n$ git log --stat\n\n# æç´¢æäº¤åå²ï¼æ ¹æ®å³é®è¯\n$ git log -s [keyword]\n\n# æ¾ç¤ºæä¸ªcommitä¹åçææåå¨ï¼æ¯ä¸ªcommitå æ®ä¸è¡\n$ git log [tag] head --pretty=format:%s\n\n# æ¾ç¤ºæä¸ªcommitä¹åçææåå¨ï¼å¶"æäº¤è¯´æ"å¿é¡»ç¬¦åæç´¢æ¡ä»¶\n$ git log [tag] head --grep feature\n\n# æ¾ç¤ºæä¸ªæä»¶ççæ¬åå²ï¼åæ¬æä»¶æ¹å\n$ git log --follow [file]\n$ git whatchanged [file]\n\n# æ¾ç¤ºæå®æä»¶ç¸å³çæ¯ä¸æ¬¡diff\n$ git log -p [file]\n\n# æ¾ç¤ºè¿å»5æ¬¡æäº¤\n$ git log -5 --pretty --oneline\n\n# æ¾ç¤ºæææäº¤è¿çç¨æ·ï¼ææäº¤æ¬¡æ°æåº\n$ git shortlog -sn\n\n# æ¾ç¤ºæå®æä»¶æ¯ä»ä¹äººå¨ä»ä¹æ¶é´ä¿®æ¹è¿\n$ git blame [file]\n\n# æ¾ç¤ºæå­åºåå·¥ä½åºçå·®å¼\n$ git diff\n\n# æ¾ç¤ºæå­åºåä¸ä¸ä¸ªcommitçå·®å¼\n$ git diff --cached [file]\n\n# æ¾ç¤ºå·¥ä½åºä¸å½ååæ¯ææ°commitä¹é´çå·®å¼\n$ git diff head\n\n# æ¾ç¤ºä¸¤æ¬¡æäº¤ä¹é´çå·®å¼\n$ git diff [first-branch]...[second-branch]\n\n# æ¾ç¤ºä»å¤©ä½ åäºå¤å°è¡ä»£ç \n$ git diff --shortstat "@{0 day ago}"\n\n# æ¾ç¤ºææ¬¡æäº¤çåæ°æ®ååå®¹åå\n$ git show [commit]\n\n# æ¾ç¤ºææ¬¡æäº¤åçååçæä»¶\n$ git show --name-only [commit]\n\n# æ¾ç¤ºææ¬¡æäº¤æ¶ï¼æä¸ªæä»¶çåå®¹\n$ git show [commit]:[filename]\n\n# æ¾ç¤ºå½ååæ¯çæè¿å æ¬¡æäº¤\n$ git reflog\n\n\n\n# 8.è¿ç¨åæ­¥\n\n# ä¸è½½è¿ç¨ä»åºçææåå¨\n$ git fetch [remote]\n\n# æ¾ç¤ºææè¿ç¨ä»åº\n$ git remote -v\n\n# æ¾ç¤ºæä¸ªè¿ç¨ä»åºçä¿¡æ¯\n$ git remote show [remote]\n\n# å¢å ä¸ä¸ªæ°çè¿ç¨ä»åºï¼å¹¶å½å\n$ git remote add [shortname] [url]\n\n# ååè¿ç¨ä»åºçååï¼å¹¶ä¸æ¬å°åæ¯åå¹¶\n$ git pull [remote] [branch]\n\n# ä¸ä¼ æ¬å°æå®åæ¯å°è¿ç¨ä»åº\n$ git push [remote] [branch]\n\n# å¼ºè¡æ¨éå½ååæ¯å°è¿ç¨ä»åºï¼å³ä½¿æå²çª\n$ git push [remote] --force\n\n# æ¨éææåæ¯å°è¿ç¨ä»åº\n$ git push [remote] --all\n\n\n\n# 9.æ¤é\n\n# æ¢å¤æå­åºçæå®æä»¶å°å·¥ä½åº\n$ git checkout [file]\n\n# æ¢å¤æä¸ªcommitçæå®æä»¶å°æå­åºåå·¥ä½åº\n$ git checkout [commit] [file]\n\n# æ¢å¤æå­åºçæææä»¶å°å·¥ä½åº\n$ git checkout .\n\n# éç½®æå­åºçæå®æä»¶ï¼ä¸ä¸ä¸æ¬¡commitä¿æä¸è´ï¼ä½å·¥ä½åºä¸å\n$ git reset [file]\n\n# éç½®æå­åºä¸å·¥ä½åºï¼ä¸ä¸ä¸æ¬¡commitä¿æä¸è´\n$ git reset --hard\n\n# éç½®å½ååæ¯çæéä¸ºæå®commitï¼åæ¶éç½®æå­åºï¼ä½å·¥ä½åºä¸å\n$ git reset [commit]\n\n# éç½®å½ååæ¯çheadä¸ºæå®commitï¼åæ¶éç½®æå­åºåå·¥ä½åºï¼ä¸æå®commitä¸è´\n$ git reset --hard [commit]\n\n# éç½®å½åheadä¸ºæå®commitï¼ä½ä¿ææå­åºåå·¥ä½åºä¸å\n$ git reset --keep [commit]\n\n# æ°å»ºä¸ä¸ªcommitï¼ç¨æ¥æ¤éæå®commit\n# åèçææååé½å°è¢«åèæµæ¶ï¼å¹¶ä¸åºç¨å°å½ååæ¯\n$ git revert [commit]\n\n# ææ¶å°æªæäº¤çååç§»é¤ï¼ç¨ååç§»å¥\n$ git stash\n$ git stash pop\n\n\n\n# 10.å¶ä»\n\n# çæä¸ä¸ªå¯ä¾åå¸çåç¼©å\n$ git archive\n',charsets:{cjk:!0}},{title:"Linuxå¸¸ç¨å½ä»¤",frontmatter:{title:"Linuxå¸¸ç¨å½ä»¤",date:"2022-01-17T16:35:43.000Z",permalink:"/pages/33ee6d/",categories:["å­¦ä¹ èµæ","å¸¸ç¨å½ä»¤"],tags:["linux"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/02.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/03.Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html",relativePath:"å­¦ä¹ èµæ/02.å¸¸ç¨å½ä»¤/03.Linuxå¸¸ç¨å½ä»¤.md",key:"v-33820a93",path:"/pages/33ee6d/",headers:[{level:2,title:"Linux å¸¸ç¨å½ä»¤",slug:"linux-å¸¸ç¨å½ä»¤",normalizedTitle:"linux å¸¸ç¨å½ä»¤",charIndex:2},{level:3,title:"å¯å¨jaråå½ä»¤",slug:"å¯å¨jaråå½ä»¤",normalizedTitle:"å¯å¨jaråå½ä»¤",charIndex:17},{level:3,title:"ä¸ãç®å½æä»¶ç¸å³",slug:"ä¸ãç®å½æä»¶ç¸å³",normalizedTitle:"ä¸ãç®å½æä»¶ç¸å³",charIndex:485},{level:3,title:"äºãæä»¶åå®¹ç¸å³",slug:"äºãæä»¶åå®¹ç¸å³",normalizedTitle:"äºãæä»¶åå®¹ç¸å³",charIndex:3893},{level:3,title:"ä¸ãæä»¶æ¥æ¾ç¸å³",slug:"ä¸ãæä»¶æ¥æ¾ç¸å³",normalizedTitle:"ä¸ãæä»¶æ¥æ¾ç¸å³",charIndex:7667},{level:3,title:"åãè¿ç¨ç³»ç»ç¸å³",slug:"åãè¿ç¨ç³»ç»ç¸å³",normalizedTitle:"åãè¿ç¨ç³»ç»ç¸å³",charIndex:11656},{level:3,title:"äºãæéç¸å³",slug:"äºãæéç¸å³",normalizedTitle:"äºãæéç¸å³",charIndex:15072},{level:3,title:"å­ãç£çç©ºé´",slug:"å­ãç£çç©ºé´",normalizedTitle:"å­ãç£çç©ºé´",charIndex:16275},{level:3,title:"ä¸ãæ¶é´æ¥æç¸å³",slug:"ä¸ãæ¶é´æ¥æç¸å³",normalizedTitle:"ä¸ãæ¶é´æ¥æç¸å³",charIndex:16982}],headersStr:"Linux å¸¸ç¨å½ä»¤ å¯å¨jaråå½ä»¤ ä¸ãç®å½æä»¶ç¸å³ äºãæä»¶åå®¹ç¸å³ ä¸ãæä»¶æ¥æ¾ç¸å³ åãè¿ç¨ç³»ç»ç¸å³ äºãæéç¸å³ å­ãç£çç©ºé´ ä¸ãæ¶é´æ¥æç¸å³",content:"# Linux å¸¸ç¨å½ä»¤\n\n\n# å¯å¨jaråå½ä»¤\n\nnohup java -jar XX.jar -Xms128M -Xmx1024M -server.port=9002 XX.jar > XX.out 2>&1 &\n\n#ç®åç\nnohup java -jar /home/test1.jar  >/home/log/test1.txt &\n\n\nnohupï¼å¿½ç¥SIGHUPä¿¡å·,å³é­shellåï¼è¿ç¨è¿æ¯å­å¨çã\njavaï¼å¯å¨ç¨åº\n-jarï¼å¯å¨ç±»å\n-Xms128M -Xmx1024Mï¼æå®åå­ï¼Xmsä¸è¬ä¸ºæå¤§åå­ç1/64,Xmxä¸è¬ä¸ºæå¤§åå­ç1/4\n-server.port=9002ï¼æå®ç«¯å£\nXX.jarï¼jaråè·¯å¾\n\n>ï¼æ¥å¿éå®åï¼ç¨>æ¶æ¸ç©ºæ¥å¿æä»¶ååé¢ä¼äº§çç©ºç½ï¼å¯ä»¥ç¨>>\nXX.outï¼è¾åºæ¥å¿è·¯å¾ï¼ä¸è¦æ¥å¿å¯ä»¥è¾åºå°/dev/null\n2>&1ï¼æ åè¾åºä¸éè¯¯è¾åº\n&ï¼åå°è¿è¡ï¼å³ä½¿ä½ ç¨ctrl C,ç§æ ·è¿è¡ï¼ä½æ¯è¦æ³¨æï¼å¦æä½ ç´æ¥å³æshellåï¼è¿ç¨åæ ·æ¶å¤±ãå¯è§ï¼&çåå°å¹¶ä¸ç¡¬ï¼å ä¸ºå¯¹SIGHUPä¿¡å·ä¸åç«ï¼ã\n\n\n\n# ä¸ãç®å½æä»¶ç¸å³\n\n# 1ãlså½ä»¤\n\nå°±æ¯ list çç¼©åï¼éè¿ ls å½ä»¤ä¸ä»å¯ä»¥æ¥ç linux æä»¶å¤¹åå«çæä»¶ï¼èä¸å¯ä»¥æ¥çæä»¶æé(åæ¬ç®å½ãæä»¶å¤¹ãæä»¶æé)åæ¥çç®å½ä¿¡æ¯ç­ç­ã\n\nå¸¸ç¨åæ°æ­éï¼\n\nls -a ååºç®å½æææä»¶ï¼åå«ä»¥.å¼å§çéèæä»¶\nls -A ååºé¤.å..çå¶å®æä»¶\nls -r ååºæå\nls -t ä»¥æä»¶ä¿®æ¹æ¶é´æåº\nls -S ä»¥æä»¶å¤§å°æåº\nls -h ä»¥æè¯»å¤§å°æ¾ç¤º\nls -l é¤äºæä»¶åä¹å¤ï¼è¿å°æä»¶çæéãææèãæä»¶å¤§å°ç­ä¿¡æ¯è¯¦ç»ååºæ¥\n\n\n# 2ãcd å½ä»¤\n\ncd(changeDirectory) å½ä»¤è¯­æ³ï¼\n\ncd [ç®å½å]\n\n\nå®ä¾ï¼\n\n#è¿å¥è¦ç®å½\ncd /\n\n#è¿å¥ \"home\" ç®å½\ncd ~\n\n#è¿å¥ä¸ä¸æ¬¡å·¥ä½è·¯å¾\ncd -\n\n\n# 3ãpwd å½ä»¤\n\npwd å½ä»¤ç¨äºæ¥çå½åå·¥ä½ç®å½è·¯å¾ã\n\nå®ä¾ï¼\n\n#æ¥çå½åè·¯å¾\npwd\n\n#æ¥çè½¯é¾æ¥çå®éè·¯å¾\npwd -P\n\n\n# 4ãmkdir å½ä»¤\n\nmkdir å½ä»¤ç¨äºåå»ºæä»¶å¤¹ã\n\nå¯ç¨éé¡¹ï¼\n\n * -m: å¯¹æ°å»ºç®å½è®¾ç½®å­åæéï¼ä¹å¯ä»¥ç¨ chmod å½ä»¤è®¾ç½®;\n * -p: å¯ä»¥æ¯ä¸ä¸ªè·¯å¾åç§°ãæ­¤æ¶è¥è·¯å¾ä¸­çæäºç®å½å°ä¸å­å¨,å ä¸æ­¤éé¡¹åï¼ç³»ç»å°èªå¨å»ºç«å¥½é£äºå°ä¸å¨çç®å½ï¼å³ä¸æ¬¡å¯ä»¥å»ºç«å¤ä¸ªç®å½ã\n\nå®ä¾ï¼\n\n#å½åå·¥ä½ç®å½ä¸åå»ºåä¸º tçæä»¶å¤¹\nmkdir t\n\n#å¨ tmp ç®å½ä¸åå»ºè·¯å¾ä¸º test/t1/t çç®å½ï¼è¥ä¸å­å¨ï¼ååå»º\nmkdir -p /tmp/test/t1/t\n\n\n# 5ãrm å½ä»¤\n\nå é¤ä¸ä¸ªç®å½ä¸­çä¸ä¸ªæå¤ä¸ªæä»¶æç®å½ï¼å¦ææ²¡æä½¿ç¨ -r éé¡¹ï¼å rm ä¸ä¼å é¤ç®å½ãå¦æä½¿ç¨ rm æ¥å é¤æä»¶ï¼éå¸¸ä»å¯ä»¥å°è¯¥æä»¶æ¢å¤åç¶ã\n\nrm [éé¡¹] æä»¶\n\n\nå®ä¾ï¼\n\n#å é¤ä»»ä½ .log æä»¶ï¼å é¤åéä¸è¯¢é®ç¡®è®¤\nrm -i *.log\n\n#å é¤ test å­ç®å½åå­ç®å½ä¸­æææ¡£æ¡å é¤ï¼å¹¶ä¸ä¸ç¨ä¸ä¸ç¡®è®¤\nrm -rf test\n\n#å é¤ä»¥ -f å¼å¤´çæä»¶\nrm -- -f*\n\n\n# 6ãrmdir å½ä»¤\n\nä»ä¸ä¸ªç®å½ä¸­å é¤ä¸ä¸ªæå¤ä¸ªå­ç®å½é¡¹ï¼å é¤æç®å½æ¶ä¹å¿é¡»å·æå¯¹å¶ç¶ç®å½çåæéã\n\næ³¨æï¼ä¸è½å é¤éç©ºç®å½\n\nå®ä¾ï¼\n\n#å½ parent å­ç®å½è¢«å é¤åä½¿å®ä¹æä¸ºç©ºç®å½çè¯ï¼åé¡ºä¾¿ä¸å¹¶å é¤\nrmdir -p parent/child/child11\n\n\n# 7ãmv å½ä»¤\n\nç§»å¨æä»¶æä¿®æ¹æä»¶åï¼æ ¹æ®ç¬¬äºåæ°ç±»åï¼å¦ç®å½ï¼åç§»å¨æä»¶ï¼å¦ä¸ºæä»¶åéå½ä»¤è¯¥æä»¶ï¼ã\n\nå½ç¬¬äºä¸ªåæ°ä¸ºç®å½æ¶ï¼ç¬¬ä¸ä¸ªåæ°å¯ä»¥æ¯å¤ä¸ªä»¥ç©ºæ ¼åéçæä»¶æç®å½ï¼ç¶åç§»å¨ç¬¬ä¸ä¸ªåæ°æå®çå¤ä¸ªæä»¶å°ç¬¬äºä¸ªåæ°æå®çç®å½ä¸­ã\n\nå®ä¾ï¼\n\n#å°æä»¶ test.log éå½åä¸º test1.txt\nmv test.log test1.txt\n\n#å°æä»¶ log1.txt,log2.txt,log3.txt ç§»å¨å°æ ¹ç test3 ç®å½ä¸­\nmv llog1.txt log2.txt log3.txt /test3\n\n#æä»¶ log1.txt æ¹åä¸º log2.txtï¼å¦æ log2.txt å·²ç»å­å¨ï¼åè¯¢é®æ¯å¦è¦ç\nmv -i log1.txt log2.txt\n\n#ç§»å¨å½åæä»¶å¤¹ä¸çæææä»¶å°ä¸ä¸çº§ç®å½\nmv * ../\n\n\n# 8ãcp å½ä»¤\n\nå°æºæä»¶å¤å¶è³ç®æ æä»¶ï¼æå°å¤ä¸ªæºæä»¶å¤å¶è³ç®æ ç®å½ã\n\næ³¨æï¼å½ä»¤è¡å¤å¶ï¼å¦æç®æ æä»¶å·²ç»å­å¨ä¼æç¤ºæ¯å¦è¦çï¼èå¨ shell èæ¬ä¸­ï¼å¦æä¸å  -i åæ°ï¼åä¸ä¼æç¤ºï¼èæ¯ç´æ¥è¦çï¼\n\n-i æç¤º\n-r å¤å¶ç®å½åç®å½åææé¡¹ç®\n-a å¤å¶çæä»¶ä¸åæä»¶æ¶é´ä¸æ ·\n\n\nå®ä¾ï¼\n\n#å¤å¶ a.txt å° test ç®å½ä¸ï¼ä¿æåæä»¶æ¶é´ï¼å¦æåæä»¶å­å¨æç¤ºæ¯å¦è¦çã\ncp -ai a.txt test\n\n#ä¸º a.txt å»ºç«ä¸ä¸ªé¾æ¥ï¼å¿«æ·æ¹å¼ï¼\ncp -s a.txt link_a.txt\n\n\n# 9ãln å½ä»¤\n\nåè½æ¯ä¸ºæä»¶å¨å¦å¤ä¸ä¸ªä½ç½®å»ºç«ä¸ä¸ªåæ­¥çé¾æ¥ï¼å½å¨ä¸åç®å½éè¦è¯¥é®é¢æ¶ï¼å°±ä¸éè¦ä¸ºæ¯ä¸ä¸ªç®å½åå»ºåæ ·çæä»¶ï¼éè¿ ln åå»ºçé¾æ¥ï¼linkï¼åå°ç£çå ç¨éã\n\né¾æ¥åç±»ï¼è½¯ä»¶é¾æ¥åç¡¬é¾æ¥\n\nè½¯é¾æ¥ï¼\n\n * 1.è½¯é¾æ¥ï¼ä»¥è·¯å¾çå½¢å¼å­å¨ãç±»ä¼¼äºWindowsæä½ç³»ç»ä¸­çå¿«æ·æ¹å¼\n * 2.è½¯é¾æ¥å¯ä»¥ è·¨æä»¶ç³»ç» ï¼ç¡¬é¾æ¥ä¸å¯ä»¥\n * 3.è½¯é¾æ¥å¯ä»¥å¯¹ä¸ä¸ªä¸å­å¨çæä»¶åè¿è¡é¾æ¥\n * 4.è½¯é¾æ¥å¯ä»¥å¯¹ç®å½è¿è¡é¾æ¥\n\nç¡¬é¾æ¥:\n\n * 1.ç¡¬é¾æ¥ï¼ä»¥æä»¶å¯æ¬çå½¢å¼å­å¨ãä½ä¸å ç¨å®éç©ºé´ã\n * 2.ä¸åè®¸ç»ç®å½åå»ºç¡¬é¾æ¥\n * 3.ç¡¬é¾æ¥åªæå¨åä¸ä¸ªæä»¶ç³»ç»ä¸­æè½åå»º\n\néè¦æ³¨æï¼\n\n * ç¬¬ä¸ï¼lnå½ä»¤ä¼ä¿ææ¯ä¸å¤é¾æ¥æä»¶çåæ­¥æ§ï¼ä¹å°±æ¯è¯´ï¼ä¸è®ºä½ æ¹å¨äºåªä¸å¤ï¼å¶å®çæä»¶é½ä¼åçç¸åçååï¼\n * ç¬¬äºï¼lnçé¾æ¥ååè½¯é¾æ¥åç¡¬é¾æ¥ä¸¤ç§ï¼è½¯é¾æ¥å°±æ¯ln âs æºæä»¶ ç®æ æä»¶ï¼å®åªä¼å¨ä½ éå®çä½ç½®ä¸çæä¸ä¸ªæä»¶çéåï¼ä¸ä¼å ç¨ç£çç©ºé´ï¼ç¡¬é¾æ¥ ln æºæä»¶ ç®æ æä»¶ï¼æ²¡æåæ°-sï¼ å®ä¼å¨ä½ éå®çä½ç½®ä¸çæä¸ä¸ªåæºæä»¶å¤§å°ç¸åçæä»¶ï¼æ è®ºæ¯è½¯é¾æ¥è¿æ¯ç¡¬é¾æ¥ï¼æä»¶é½ä¿æåæ­¥ååã\n * ç¬¬ä¸ï¼lnæä»¤ç¨å¨é¾æ¥æä»¶æç®å½ï¼å¦åæ¶æå®ä¸¤ä¸ªä»¥ä¸çæä»¶æç®å½ï¼ä¸æåçç®çå°æ¯ä¸ä¸ªå·²ç»å­å¨çç®å½ï¼åä¼æåé¢æå®çæææä»¶æç®å½å¤å¶å°è¯¥ç®å½ä¸­ãè¥åæ¶æå®å¤ä¸ªæä»¶æç®å½ï¼ä¸æåçç®çå°å¹¶éæ¯ä¸ä¸ªå·²å­å¨çç®å½ï¼åä¼åºç°éè¯¯ä¿¡æ¯ã\n\nå¸¸ç¨åæ°ï¼\n\n-b å é¤ï¼è¦çä»¥åå»ºç«çé¾æ¥\n-s è½¯é¾æ¥ï¼ç¬¦å·é¾æ¥ï¼\n-v æ¾ç¤ºè¯¦ç»å¤çè¿ç¨\n\n\nå®ä¾ï¼\n\n#ç»æä»¶åå»ºè½¯é¾æ¥ï¼å¹¶æ¾ç¤ºæä½ä¿¡æ¯\nln -sv source.log link.log\n\n#ç»æä»¶åå»ºç¡¬é¾æ¥ï¼å¹¶æ¾ç¤ºæä½ä¿¡æ¯\nln -v source.log link1.log\n\n#ç»ç®å½åå»ºè½¯é¾æ¥\nln -sv /opt/soft/test/test3 /opt/soft/test/test5\n\n\n# 10ãtar å½ä»¤\n\nç¨æ¥åç¼©åè§£åæä»¶ãtar æ¬èº«ä¸å·æåç¼©åè½ï¼åªå·ææååè½ï¼æå³åç¼©åè§£åæ¯è°ç¨å¶å®çåè½æ¥å®æã\n\nå¼æ¸ä¸¤ä¸ªæ¦å¿µï¼æåååç¼©ãæåæ¯æå°ä¸å¤§å æä»¶æç®å½åæä¸ä¸ªæ»çæä»¶ï¼åç¼©åæ¯å°ä¸ä¸ªå¤§çæä»¶éè¿ä¸äºåç¼©ç®æ³åæä¸ä¸ªå°æä»¶\n\nå¸¸ç¨åæ°ï¼\n\n-c å»ºç«æ°çåç¼©æä»¶\n-f æå®åç¼©æä»¶\n-r æ·»å æä»¶å°å·²ç»åç¼©æä»¶åä¸­\n-u æ·»å æ¹äºåç°æçæä»¶å°åç¼©åä¸­\n-x ä»åç¼©åä¸­æ½åæä»¶\n-t æ¾ç¤ºåç¼©æä»¶ä¸­çåå®¹\n-z æ¯ægzipåç¼©\n-j æ¯æbzip2åç¼©\n-Z æ¯æcompressè§£åæä»¶\n-v æ¾ç¤ºæä½è¿ç¨\n\n\næå³ gzip å bzip2 åç¼©:\n\ngzip å®ä¾ï¼åç¼© gzip fileName .tar.gz å.tgz  è§£åï¼gunzip filename.gz æ gzip -d filename.gz\n          å¯¹åºï¼tar zcvf filename.tar.gz     tar zxvf filename.tar.gz\n\nbz2å®ä¾ï¼åç¼© bzip2 -z filename .tar.bz2 è§£åï¼bunzip filename.bz2æbzip -d filename.bz2\n       å¯¹åºï¼tar jcvf filename.tar.gz         è§£åï¼tar jxvf filename.tar.bz2\n\n\nå®ä¾ï¼\n\nï¼1ï¼å°æä»¶å¨é¨æåæ tar å\n\ntar -cvf log.tar 1.log,2.log ætar -cvf log.*\n\n\nï¼2ï¼å° /etc ä¸çæææä»¶åç®å½æåå°æå®ç®å½ï¼å¹¶ä½¿ç¨ gz åç¼©\n\ntar -zcvf /tmp/etc.tar.gz /etc\n\n\nï¼3ï¼æ¥çåæåçæä»¶åå®¹ï¼ä¸å®å zï¼å ä¸ºæ¯ä½¿ç¨ gzip åç¼©çï¼\n\ntar -ztvf /tmp/etc.tar.gz\n\n\nï¼4ï¼è¦åç¼©æå /home, /etc ï¼ä½ä¸è¦ /home/dmtsai\n\ntar --exclude /home/dmtsai -zcvf myfile.tar.gz /home/* /etc\n\n\n\n# äºãæä»¶åå®¹ç¸å³\n\n# 1ãcat å½ä»¤\n\ncat ä¸»è¦æä¸å¤§åè½ï¼\n\n1.ä¸æ¬¡æ¾ç¤ºæ´ä¸ªæä»¶:\n\ncat filename\n\n\n2.åå»ºä¸ä¸ªæä»¶:\n\ncat > filename\n\n\nåªè½åå»ºæ°æä»¶ï¼ä¸è½ç¼è¾å·²ææä»¶ã\n\n3.å°å ä¸ªæä»¶åå¹¶ä¸ºä¸ä¸ªæä»¶:\n\ncat file1 file2 > file\n\n\n * -b å¯¹éç©ºè¾åºè¡å·\n * -n è¾åºææè¡å·\n\nå®ä¾ï¼\n\nï¼1ï¼æ log2012.log çæä»¶åå®¹å ä¸è¡å·åè¾å¥ log2013.log è¿ä¸ªæä»¶é\n\ncat -n log2012.log log2013.log\n\n\nï¼2ï¼æ log2012.log å log2013.log çæä»¶åå®¹å ä¸è¡å·ï¼ç©ºç½è¡ä¸å ï¼ä¹åå°åå®¹éå å° log.log é\n\ncat -b log2012.log log2013.log log.log\n\n\nï¼3ï¼ä½¿ç¨ here doc çææ°æä»¶\n\ncat >log.txt <<EOF\n>Hello\n>World\n>PWD=$(pwd)\n>EOF\nls -l log.txt\ncat log.txt\nHello\nWorld\nPWD=/opt/soft/test\n\n\nï¼4ï¼åååç¤º\n\ntac log.txt\nPWD=/opt/soft/test\nWorld\nHello\n\n\n# 2ãhead å½ä»¤\n\nhead ç¨æ¥æ¾ç¤ºæ¡£æ¡çå¼å¤´è³æ åè¾åºä¸­ï¼é»è®¤ head å½ä»¤æå°å¶ç¸åºæä»¶çå¼å¤´ 10 è¡ã\n\nå¸¸ç¨åæ°ï¼\n\n-n<è¡æ°> æ¾ç¤ºçè¡æ°ï¼è¡æ°ä¸ºå¤æ°è¡¨ç¤ºä»æåååæ°ï¼\n\n\nå®ä¾ï¼\n\nï¼1ï¼æ¾ç¤º 1.log æä»¶ä¸­å 20 è¡\n\nhead 1.log -n 20\n\n\nï¼2ï¼æ¾ç¤º 1.log æä»¶å 20 å­è\n\nhead -c 20 log2014.log\n\n\nï¼3ï¼æ¾ç¤º t.logæå 10 è¡\n\nhead -n -10 t.log\n\n\n# 3ãtail å½ä»¤\n\nç¨äºæ¾ç¤ºæå®æä»¶æ«å°¾åå®¹ï¼ä¸æå®æä»¶æ¶ï¼ä½ä¸ºè¾å¥ä¿¡æ¯è¿è¡å¤çãå¸¸ç¨æ¥çæ¥å¿æä»¶ã\n\nå¸¸ç¨åæ°ï¼\n\n-f å¾ªç¯è¯»åï¼å¸¸ç¨äºæ¥çéå¢çæ¥å¿æä»¶ï¼\n-n<è¡æ°> æ¾ç¤ºè¡æ°ï¼ä»åååï¼\n\n\nï¼1ï¼å¾ªç¯è¯»åéæ¸å¢å çæä»¶åå®¹\n\nping 127.0.0.1 > ping.log &\n\n\nåå°è¿è¡ï¼å¯ä½¿ç¨ jobs -l æ¥çï¼ä¹å¯ä½¿ç¨ fg å°å¶ç§»å°åå°è¿è¡ã\n\ntail -f ping.log\n\n\nï¼æ¥çæ¥å¿ï¼\n\n# 4ãmore å½ä»¤\n\nåè½ç±»ä¼¼äº cat, more ä¼ä»¥ä¸é¡µä¸é¡µçæ¾ç¤ºæ¹ä¾¿ä½¿ç¨èéé¡µéè¯»ï¼èæåºæ¬çæä»¤å°±æ¯æç©ºç½é®ï¼spaceï¼å°±å¾ä¸ä¸é¡µæ¾ç¤ºï¼æ b é®å°±ä¼å¾åï¼backï¼ä¸é¡µæ¾ç¤ºã\n\nå½ä»¤åæ°ï¼\n\n+n      ä»ç¬« n è¡å¼å§æ¾ç¤º\n-n       å®ä¹å±å¹å¤§å°ä¸ºnè¡\n+/pattern å¨æ¯ä¸ªæ¡£æ¡æ¾ç¤ºåæå¯»è¯¥å­ä¸²ï¼patternï¼ï¼ç¶åä»è¯¥å­ä¸²åä¸¤è¡ä¹åå¼å§æ¾ç¤º \n-c       ä»é¡¶é¨æ¸å±ï¼ç¶åæ¾ç¤º\n-d       æç¤ºâPress space to continueï¼âqâ to quitï¼æç©ºæ ¼é®ç»§ç»­ï¼æqé®éåºï¼âï¼ç¦ç¨åéåè½\n-l        å¿½ç¥Ctrl+lï¼æ¢é¡µï¼å­ç¬¦\n-p       éè¿æ¸é¤çªå£èä¸æ¯æ»å±æ¥å¯¹æä»¶è¿è¡æ¢é¡µï¼ä¸-céé¡¹ç¸ä¼¼\n-s       æè¿ç»­çå¤ä¸ªç©ºè¡æ¾ç¤ºä¸ºä¸è¡\n-u       ææä»¶åå®¹ä¸­çä¸ç»çº¿å»æ\n\n\nå¸¸ç¨æä½å½ä»¤ï¼\n\nEnter    åä¸ n è¡ï¼éè¦å®ä¹ãé»è®¤ä¸º 1 è¡\nCtrl+F   åä¸æ»å¨ä¸å±\nç©ºæ ¼é®  åä¸æ»å¨ä¸å±\nCtrl+B  è¿åä¸ä¸å±\n=       è¾åºå½åè¡çè¡å·\n:f     è¾åºæä»¶ååå½åè¡çè¡å·\nV      è°ç¨viç¼è¾å¨\n!å½ä»¤   è°ç¨Shellï¼å¹¶æ§è¡å½ä»¤\nq       éåºmore\n\n\nå®ä¾ï¼\n\nï¼1ï¼æ¾ç¤ºæä»¶ä¸­ä»ç¬¬3è¡èµ·çåå®¹\n\nmore +3 text.txt\n\n\nï¼2ï¼å¨æååºæä»¶ç®å½è¯¦ç»ä¿¡æ¯ï¼åå©ç®¡éä½¿æ¯æ¬¡æ¾ç¤º 5 è¡\n\nls -l | more -5\n\n\næç©ºæ ¼æ¾ç¤ºä¸ 5 è¡ã\n\n# 5ãless å½ä»¤\n\nless ä¸ more ç±»ä¼¼ï¼ä½ä½¿ç¨ less å¯ä»¥éææµè§æä»¶ï¼è more ä»è½ååç§»å¨ï¼å´ä¸è½ååç§»å¨ï¼èä¸ less å¨æ¥çä¹åä¸ä¼å è½½æ´ä¸ªæä»¶ã\n\nå¸¸ç¨å½ä»¤åæ°ï¼\n\n-i  å¿½ç¥æç´¢æ¶çå¤§å°å\n-N  æ¾ç¤ºæ¯è¡çè¡å·\n-o  <æä»¶å> å°less è¾åºçåå®¹å¨æå®æä»¶ä¸­ä¿å­èµ·æ¥\n-s  æ¾ç¤ºè¿ç»­ç©ºè¡ä¸ºä¸è¡\n/å­ç¬¦ä¸²ï¼åä¸æç´¢âå­ç¬¦ä¸²âçåè½\n?å­ç¬¦ä¸²ï¼åä¸æç´¢âå­ç¬¦ä¸²âçåè½\nnï¼éå¤åä¸ä¸ªæç´¢ï¼ä¸ / æ ? æå³ï¼\nNï¼ååéå¤åä¸ä¸ªæç´¢ï¼ä¸ / æ ? æå³ï¼\n-x <æ°å­> å°âtabâé®æ¾ç¤ºä¸ºè§å®çæ°å­ç©ºæ ¼\nb  ååç¿»ä¸é¡µ\nd  ååç¿»åé¡µ\nh  æ¾ç¤ºå¸®å©çé¢\nQ  éåºless å½ä»¤\nu  ååæ»å¨åé¡µ\ny  ååæ»å¨ä¸è¡\nç©ºæ ¼é® æ»å¨ä¸è¡\nåè½¦é® æ»å¨ä¸é¡µ\n[pagedown]ï¼ åä¸ç¿»å¨ä¸é¡µ\n[pageup]ï¼   åä¸ç¿»å¨ä¸é¡µ\n\n\nå®ä¾ï¼\n\nï¼1ï¼ps æ¥çè¿ç¨ä¿¡æ¯å¹¶éè¿ less åé¡µæ¾ç¤º\n\nps -aux | less -N\n\n\nï¼2ï¼æ¥çå¤ä¸ªæä»¶\n\nless 1.log 2.log\n\n\nå¯ä»¥ä½¿ç¨ n æ¥çä¸ä¸ä¸ªï¼ä½¿ç¨ p æ¥çåä¸ä¸ªã\n\n# 6ãwc å½ä»¤\n\nwc(word count)åè½ä¸ºç»è®¡æå®çæä»¶ä¸­å­èæ°ãå­æ°ãè¡æ°ï¼å¹¶å°ç»è®¡ç»æè¾åº\n\nå½ä»¤æ ¼å¼ï¼\n\nwc [option] file..\n\n\nå½ä»¤åæ°ï¼\n\n-c ç»è®¡å­èæ°\n-l ç»è®¡è¡æ°\n-m ç»è®¡å­ç¬¦æ°\n-w ç»è®¡è¯æ°ï¼ä¸ä¸ªå­è¢«å®ä¹ä¸ºç±ç©ºç½ãè·³æ ¼ææ¢è¡å­ç¬¦åéçå­ç¬¦ä¸²\n\n\nå®ä¾ï¼\n\n#æ¥æ¾æä»¶ç è¡æ° åè¯æ° å­èæ° æä»¶å\nwc text.txt\n\n#ç»è®¡è¾åºç»æçè¡æ°\ncat test.txt | wc -l\n\n\n# 7ãgrep å½ä»¤\n\nå¼ºå¤§çææ¬æç´¢å½ä»¤ï¼grep(Global Regular Expression Print) å¨å±æ­£åè¡¨è¾¾å¼æç´¢ã\n\ngrep çå·¥ä½æ¹å¼æ¯è¿æ ·çï¼å®å¨ä¸ä¸ªæå¤ä¸ªæä»¶ä¸­æç´¢å­ç¬¦ä¸²æ¨¡æ¿ãå¦ææ¨¡æ¿åæ¬ç©ºæ ¼ï¼åå¿é¡»è¢«å¼ç¨ï¼æ¨¡æ¿åçææå­ç¬¦ä¸²è¢«çä½æä»¶åãæç´¢çç»æè¢«éå°æ åè¾åºï¼ä¸å½±ååæä»¶åå®¹ã\n\nå½ä»¤æ ¼å¼ï¼\n\ngrep [option] pattern file|dir\n\n\nå¸¸ç¨åæ°ï¼\n\n-A n --after-contextæ¾ç¤ºå¹éå­ç¬¦ånè¡\n-B n --before-contextæ¾ç¤ºå¹éå­ç¬¦ånè¡\n-C n --context æ¾ç¤ºå¹éå­ç¬¦åånè¡\n-c --count è®¡ç®ç¬¦åæ ·å¼çåæ°\n-i å¿½ç¥å¤§å°å\n-l åªååºæä»¶åå®¹ç¬¦åæå®çæ ·å¼çæä»¶åç§°\n-f ä»æä»¶ä¸­è¯»åå³é®è¯\n-n æ¾ç¤ºå¹éåå®¹çæå¨æä»¶ä¸­è¡æ°\n-R éå½æ¥æ¾æä»¶å¤¹\n\n\ngrep çè§åè¡¨è¾¾å¼:\n\n^  #éå®è¡çå¼å§ å¦ï¼'^grep'å¹éææä»¥grepå¼å¤´çè¡ã \n$  #éå®è¡çç»æ å¦ï¼'grep$'å¹éææä»¥grepç»å°¾çè¡ã \n.  #å¹éä¸ä¸ªéæ¢è¡ç¬¦çå­ç¬¦ å¦ï¼'gr.p'å¹égråæ¥ä¸ä¸ªä»»æå­ç¬¦ï¼ç¶åæ¯pã  \n*  #å¹éé¶ä¸ªæå¤ä¸ªååå­ç¬¦ å¦ï¼'*grep'å¹éææä¸ä¸ªæå¤ä¸ªç©ºæ ¼åç´§è·grepçè¡ã\n.*   #ä¸èµ·ç¨ä»£è¡¨ä»»æå­ç¬¦ã  \n[]   #å¹éä¸ä¸ªæå®èå´åçå­ç¬¦ï¼å¦'[Gg]rep'å¹éGrepågrepã \n[^]  #å¹éä¸ä¸ªä¸å¨æå®èå´åçå­ç¬¦ï¼å¦ï¼'[^A-FH-Z]rep'å¹éä¸åå«A-RåT-Zçä¸ä¸ªå­æ¯å¼å¤´ï¼ç´§è·repçè¡ã  \n\\(..\\)  #æ è®°å¹éå­ç¬¦ï¼å¦'\\(love\\)'ï¼loveè¢«æ è®°ä¸º1ã   \n\\<      #éå®åè¯çå¼å§ï¼å¦:'\\<grep'å¹éåå«ä»¥grepå¼å¤´çåè¯çè¡ã\n\\>      #éå®åè¯çç»æï¼å¦'grep\\>'å¹éåå«ä»¥grepç»å°¾çåè¯çè¡ã\nx\\{m\\}  #éå¤å­ç¬¦xï¼mæ¬¡ï¼å¦ï¼'0\\{5\\}'å¹éåå«5ä¸ªoçè¡ã \nx\\{m,\\}  #éå¤å­ç¬¦x,è³å°mæ¬¡ï¼å¦ï¼'o\\{5,\\}'å¹éè³å°æ5ä¸ªoçè¡ã  \nx\\{m,n\\}  #éå¤å­ç¬¦xï¼è³å°mæ¬¡ï¼ä¸å¤äºnæ¬¡ï¼å¦ï¼'o\\{5,10\\}'å¹é5--10ä¸ªoçè¡ã  \n\\w    #å¹éæå­åæ°å­å­ç¬¦ï¼ä¹å°±æ¯[A-Za-z0-9]ï¼å¦ï¼'G\\w*p'å¹éä»¥Gåè·é¶ä¸ªæå¤ä¸ªæå­ææ°å­å­ç¬¦ï¼ç¶åæ¯pã  \n\\W    #\\wçåç½®å½¢å¼ï¼å¹éä¸ä¸ªæå¤ä¸ªéåè¯å­ç¬¦ï¼å¦ç¹å·å¥å·ç­ã  \n\\b    #åè¯éå®ç¬¦ï¼å¦: '\\bgrep\\b'åªå¹égrepã\n\n\nå®ä¾ï¼\n\n#æ¥æ¾æå®è¿ç¨\nps -ef | grep svn\n\n#æ¥æ¾æå®è¿ç¨ä¸ªæ°\nps -ef | grep svn -c\n\n#ä»æä»¶ä¸­è¯»åå³é®è¯\ncat test1.txt | grep -f key.log\n\n#ä»æä»¶å¤¹ä¸­éå½æ¥æ¾ä»¥grepå¼å¤´çè¡ï¼å¹¶åªååºæä»¶\ngrep -lR '^grep' /tmp\n\n#æ¥æ¾éxå¼å³çè¡åå®¹\ngrep '^[^x]' test.txt\n\n#æ¾ç¤ºåå« ed æè at å­ç¬¦çåå®¹è¡\ngrep -E 'ed|at' test.txt\n\n\n\n# ä¸ãæä»¶æ¥æ¾ç¸å³\n\n# 1ãwhich å½ä»¤\n\nå¨ linux è¦æ¥æ¾æä¸ªæä»¶ï¼ä½ä¸ç¥éæ¾å¨åªéäºï¼å¯ä»¥ä½¿ç¨ä¸é¢çä¸äºå½ä»¤æ¥æç´¢ï¼\n\nwhich     æ¥çå¯æ§è¡æä»¶çä½ç½®ã\nwhereis æ¥çæä»¶çä½ç½®ã\nlocate  éåæ°æ®åºæ¥çæä»¶ä½ç½®ã\nfind        å®éæå¯»ç¡¬çæ¥è¯¢æä»¶åç§°ã\n\n\nwhich æ¯å¨ PATH å°±æ¯æå®çè·¯å¾ä¸­ï¼æç´¢æä¸ªç³»ç»å½ä»¤çä½ç½®ï¼å¹¶è¿åç¬¬ä¸ä¸ªæç´¢ç»æãä½¿ç¨ which å½ä»¤ï¼å°±å¯ä»¥çå°æä¸ªç³»ç»å½ä»¤æ¯å¦å­å¨ï¼ä»¥åæ§è¡çå°åºæ¯åªä¸ä¸ªä½ç½®çå½ä»¤ã\n\nå¸¸ç¨åæ°ï¼\n\n-n ãæå®æä»¶åé¿åº¦ï¼æå®çé¿åº¦å¿é¡»å¤§äºæç­äºæææä»¶ä¸­æé¿çæä»¶åã\n\n\nå®ä¾ï¼\n\nï¼1ï¼æ¥ç ls å½ä»¤æ¯å¦å­å¨ï¼æ§è¡åªä¸ª\n\nwhich ls\n\n\nï¼2ï¼æ¥ç which\n\nwhich which\n\n\nï¼3ï¼æ¥ç cd\n\nwhich cdï¼æ¾ç¤ºä¸å­å¨ï¼å ä¸º cd æ¯åå»ºå½ä»¤ï¼è which æ¥æ¾æ¾ç¤ºæ¯ PATH ä¸­çå½ä»¤ï¼\n\n\næ¥çå½å PATH éç½®ï¼\n\necho $PATH\n\n\næä½¿ç¨ env æ¥çææç¯å¢åéåå¯¹åºå¼\n\n# 2ãwhereis å½ä»¤\n\nwhereis å½ä»¤åªè½ç¨äºç¨åºåçæç´¢ï¼èä¸åªæç´¢äºè¿å¶æä»¶ï¼åæ°-bï¼ãmanè¯´ææä»¶ï¼åæ°-mï¼åæºä»£ç æä»¶ï¼åæ°-sï¼ãå¦æçç¥åæ°ï¼åè¿åææä¿¡æ¯ãwhereis å locate é½æ¯åºäºç³»ç»åå»ºçæ°æ®åºè¿è¡æç´¢ï¼å æ­¤æçå¾é«ï¼èfindåæ¯éåç¡¬çæ¥æ¾æä»¶ã\n\nå¸¸ç¨åæ°ï¼\n\n-b   å®ä½å¯æ§è¡æä»¶ã\n-m   å®ä½å¸®å©æä»¶ã\n-s   å®ä½æºä»£ç æä»¶ã\n-u   æç´¢é»è®¤è·¯å¾ä¸é¤å¯æ§è¡æä»¶ãæºä»£ç æä»¶ãå¸®å©æä»¶ä»¥å¤çå¶å®æä»¶ã\n\n\nå®ä¾ï¼\n\nï¼1ï¼æ¥æ¾ locate ç¨åºç¸å³æä»¶\n\nwhereis locate\n\n\nï¼2ï¼æ¥æ¾ locate çæºç æä»¶\n\nwhereis -s locate\n\n\nï¼3ï¼æ¥æ¾ lcoate çå¸®å©æä»¶\n\nwhereis -m locate\n\n\n# 3ãlocate å½ä»¤\n\nlocate éè¿æå¯»ç³»ç»åå»ºææ¡£æ°æ®åºè¾¾å°å¿«éæ¾å°æ¡£æ¡ï¼æ°æ®åºç± updatedb ç¨åºæ¥æ´æ°ï¼updatedb æ¯ç± cron daemon å¨ææ§è°ç¨çãé»è®¤æåµä¸ locate å½ä»¤å¨æå¯»æ°æ®åºæ¶æ¯ç±æ´ä¸ªç±ç¡¬çèµææ¥æå¯»èµææ¥å¾å¿«ï¼ä½è¾å·®å²çæ¯ locate ææ¾å°çæ¡£æ¡è¥æ¯æè¿æå»ºç«æ åæ´åçï¼å¯è½ä¼æ¾ä¸å°ï¼å¨åå®å¼ä¸­ï¼updatedb æ¯å¤©ä¼è·ä¸æ¬¡ï¼å¯ä»¥ç±ä¿®æ¹ crontab æ¥æ´æ°è®¾å®å¼ (etc/crontab)ã\n\nlocate ä¸ find å½ä»¤ç¸ä¼¼ï¼å¯ä»¥ä½¿ç¨å¦ *ã? ç­è¿è¡æ­£åå¹éæ¥æ¾\n\nå¸¸ç¨åæ°ï¼\n\n-l numï¼è¦æ¾ç¤ºçè¡æ°ï¼\n-f   å°ç¹å®çæ¡£æ¡ç³»ç»æé¤å¨å¤ï¼å¦å°procæé¤å¨å¤\n-r   ä½¿ç¨æ­£åè¿ç®å¼åä¸ºå¯»æ¾æ¡ä»¶\n\n\nå®ä¾ï¼\n\nï¼1ï¼æ¥æ¾å pwd ç¸å³çæææä»¶(æä»¶åä¸­åå« pwdï¼\n\nlocate pwd\n\n\nï¼2ï¼æç´¢ etc ç®å½ä¸ææä»¥ sh å¼å¤´çæä»¶\n\nlocate /etc/sh\n\n\nï¼3ï¼æ¥æ¾ /var ç®å½ä¸ï¼ä»¥ reason ç»å°¾çæä»¶\n\nlocate -r '^/var.*reason$'ï¼å¶ä¸­.è¡¨ç¤ºä¸ä¸ªå­ç¬¦ï¼*è¡¨ç¤ºä»»å¡å¤ä¸ªï¼.*è¡¨ç¤ºä»»æå¤ä¸ªå­ç¬¦ï¼\n\n\n# 4ãfind å½ä»¤\n\nç¨äºå¨æä»¶æ ä¸­æ¥æ¾æä»¶ï¼å¹¶ä½åºç¸åºçå¤çã\n\nå½ä»¤æ ¼å¼ï¼\n\nfind pathname -options [-print -exec -ok ...]\n\n\nå½ä»¤åæ°ï¼\n\npathname: findå½ä»¤ææ¥æ¾çç®å½è·¯å¾ãä¾å¦ç¨.æ¥è¡¨ç¤ºå½åç®å½ï¼ç¨/æ¥è¡¨ç¤ºç³»ç»æ ¹ç®å½ã\n-printï¼ findå½ä»¤å°å¹éçæä»¶è¾åºå°æ åè¾åºã\n-execï¼ findå½ä»¤å¯¹å¹éçæä»¶æ§è¡è¯¥åæ°æç»åºçshellå½ä»¤ãç¸åºå½ä»¤çå½¢å¼ä¸º'command' {  } \\;ï¼æ³¨æ{   }å\\ï¼ä¹é´çç©ºæ ¼ã\n-okï¼ å-execçä½ç¨ç¸åï¼åªä¸è¿ä»¥ä¸ç§æ´ä¸ºå®å¨çæ¨¡å¼æ¥æ§è¡è¯¥åæ°æç»åºçshellå½ä»¤ï¼å¨æ§è¡æ¯ä¸ä¸ªå½ä»¤ä¹åï¼é½ä¼ç»åºæç¤ºï¼è®©ç¨æ·æ¥ç¡®å®æ¯å¦æ§è¡ã\n\n\nå½ä»¤éé¡¹ï¼\n\n-name æç§æä»¶åæ¥æ¾æä»¶\n-perm ææä»¶æéæ¥æ¾æä»¶\n-user ææä»¶å±ä¸»æ¥æ¾æä»¶\n-group  æç§æä»¶æå±çç»æ¥æ¥æ¾æä»¶ã\n-type  æ¥æ¾æä¸ç±»åçæä»¶ï¼è¯¸å¦ï¼\n   b - åè®¾å¤æä»¶\n   d - ç®å½\n   c - å­ç¬¦è®¾å¤æä»¶\n   l - ç¬¦å·é¾æ¥æä»¶\n   p - ç®¡éæä»¶\n   f - æ®éæä»¶\n\n-size n :[c] æ¥æ¾æä»¶é¿åº¦ä¸ºnåæä»¶ï¼å¸¦æcæ¶è¡¨æä»¶å­èå¤§å°\n-amin n   æ¥æ¾ç³»ç»ä¸­æåNåéè®¿é®çæä»¶\n-atime n  æ¥æ¾ç³»ç»ä¸­æån*24å°æ¶è®¿é®çæä»¶\n-cmin n   æ¥æ¾ç³»ç»ä¸­æåNåéè¢«æ¹åæä»¶ç¶æçæä»¶\n-ctime n  æ¥æ¾ç³»ç»ä¸­æån*24å°æ¶è¢«æ¹åæä»¶ç¶æçæä»¶\n-mmin n   æ¥æ¾ç³»ç»ä¸­æåNåéè¢«æ¹åæä»¶æ°æ®çæä»¶\n-mtime n  æ¥æ¾ç³»ç»ä¸­æån*24å°æ¶è¢«æ¹åæä»¶æ°æ®çæä»¶\n(ç¨åå·-æ¥éå®æ´æ¹æ¶é´å¨è·ä»næ¥ä»¥åçæä»¶ï¼èç¨å å·+æ¥éå®æ´æ¹æ¶é´å¨è·ä»næ¥ä»¥åçæä»¶ã )\n-maxdepth n æå¤§æ¥æ¾ç®å½æ·±åº¦\n-prune éé¡¹æ¥æåºéè¦å¿½ç¥çç®å½ãå¨ä½¿ç¨-pruneéé¡¹æ¶è¦å½å¿ï¼å ä¸ºå¦æä½ åæ¶ä½¿ç¨äº-depthéé¡¹ï¼é£ä¹-pruneéé¡¹å°±ä¼è¢«findå½ä»¤å¿½ç¥\n-newer å¦æå¸ææ¥æ¾æ´æ¹æ¶é´æ¯æä¸ªæä»¶æ°ä½æ¯å¦ä¸ä¸ªæä»¶æ§çæææä»¶ï¼å¯ä»¥ä½¿ç¨-neweréé¡¹\n\n\nå®ä¾ï¼\n\nï¼1ï¼æ¥æ¾ 48 å°æ¶åä¿®æ¹è¿çæä»¶\n\nfind -atime -2\n\n\nï¼2ï¼å¨å½åç®å½æ¥æ¾ ä»¥ .log ç»å°¾çæä»¶ã . ä»£è¡¨å½åç®å½\n\nfind ./ -name '*.log'\n\n\nï¼3ï¼æ¥æ¾ /opt ç®å½ä¸ æéä¸º 777 çæä»¶\n\nfind /opt -perm 777\n\n\nï¼4ï¼æ¥æ¾å¤§äº 1K çæä»¶\n\nfind -size +1000c\n\n\næ¥æ¾ç­äº 1000 å­ç¬¦çæä»¶\n\nfind -size 1000c \n\n\n-exec åæ°åé¢è·çæ¯ command å½ä»¤ï¼å®çç»æ­¢æ¯ä»¥ ; ä¸ºç»ææ å¿çï¼æä»¥è¿å¥å½ä»¤åé¢çåå·æ¯ä¸å¯ç¼ºå°çï¼èèå°åä¸ªç³»ç»ä¸­åå·ä¼æä¸åçæä¹ï¼æä»¥åé¢å åææ ã{} è±æ¬å·ä»£è¡¨åé¢findæ¥æ¾åºæ¥çæä»¶åã\n\nå®ä¾ï¼\n\nï¼5ï¼å¨å½åç®å½ä¸­æ¥æ¾æ´æ¹æ¶é´å¨10æ¥ä»¥åçæä»¶å¹¶å é¤å®ä»¬(æ æéï¼\n\nfind . -type f -mtime +10 -exec rm -f {} \\;\n\n\nï¼6ï¼å½åç®å½ä¸­æ¥æ¾æææä»¶åä»¥.logç»å°¾ãæ´æ¹æ¶é´å¨5æ¥ä»¥ä¸çæä»¶ï¼å¹¶å é¤å®ä»¬ï¼åªä¸è¿å¨å é¤ä¹ååç»åºæç¤ºã æyé®å é¤æä»¶ï¼æné®ä¸å é¤\n\nfind . -name '*.log' mtime +5 -ok -exec rm {} \\;\n\n\nï¼7ï¼å½åç®å½ä¸æ¥æ¾æä»¶åä»¥ passwd å¼å¤´ï¼åå®¹åå« \"pkg\" å­ç¬¦çæä»¶\n\nfind . -f -name 'passwd*' -exec grep \"pkg\" {} \\;\n\n\nï¼8ï¼ç¨ exec éé¡¹æ§è¡ cp å½ä»¤\n\nfind . -name '*.log' -exec cp {} test3 \\;\n\n\n-xargs find å½ä»¤æå¹éå°çæä»¶ä¼ éç» xargs å½ä»¤ï¼è xargs å½ä»¤æ¯æ¬¡åªè·åä¸é¨åæä»¶èä¸æ¯å¨é¨ï¼ä¸å -exec éé¡¹é£æ ·ãè¿æ ·å®å¯ä»¥åå¤çæåè·åçä¸é¨åæä»¶ï¼ç¶åæ¯ä¸ä¸æ¹ï¼å¹¶å¦æ­¤ç»§ç»­ä¸å»ã\n\nå®ä¾ï¼\n\nï¼9ï¼æ¥æ¾å½åç®å½ä¸æ¯ä¸ªæ®éæä»¶ï¼ç¶åä½¿ç¨ xargs æ¥å¤æ­æä»¶ç±»å\n\nfind . -type f -print | xargs file\n\n\nï¼10ï¼æ¥æ¾å½åç®å½ä¸ææä»¥ js ç»å°¾çå¹¶ä¸å¶ä¸­åå« 'editor' å­ç¬¦çæ®éæä»¶\n\nfind . -type f -name \"*.js\" -exec grep -lF 'ueditor' {} \\;\nfind -type f -name '*.js' | xargs grep -lF 'editor'\n\n\nï¼11ï¼å©ç¨ xargs æ§è¡ mv å½ä»¤\n\nfind . -name \"*.log\" | xargs -i mv {} test4\n\n\nï¼12ï¼ç¨ grep å½ä»¤å¨å½åç®å½ä¸çæææ®éæä»¶ä¸­æç´¢ hostnames è¿ä¸ªè¯ï¼å¹¶æ åºæå¨è¡ï¼\n\nfind . -name \\*(è½¬ä¹ï¼ -type f -print | xargs grep -n 'hostnames'\n\n\nï¼13ï¼æ¥æ¾å½åç®å½ä¸­ä»¥ä¸ä¸ªå°åå­æ¯å¼å¤´ï¼æåæ¯ 4 å° 9 å ä¸ .log ç»æçæä»¶ï¼\n\nfind . -name '[a-z]*[4-9].log' -print\n\n\nï¼14ï¼å¨ test ç®å½æ¥æ¾ä¸å¨ test4 å­ç®å½æ¥æ¾\n\nfind test -path 'test/test4' -prune -o -print\n\n\nï¼15ï¼å®ä¾1ï¼æ¥æ¾æ´æ¹æ¶é´æ¯æä»¶ log2012.logæ°ä½æ¯æä»¶ log2017.log æ§çæä»¶\n\nfind -newer log2012.log ! -newer log2017.log\n\n\nä½¿ç¨ depth éé¡¹ï¼\n\ndepth éé¡¹å¯ä»¥ä½¿ find å½ä»¤åç£å¸¦ä¸å¤ä»½æä»¶ç³»ç»æ¶ï¼å¸æé¦åå¤ä»½ææçæä»¶ï¼å¶æ¬¡åå¤ä»½å­ç®å½ä¸­çæä»¶ã\n\nå®ä¾ï¼find å½ä»¤ä»æä»¶ç³»ç»çæ ¹ç®å½å¼å§ï¼æ¥æ¾ä¸ä¸ªåä¸º CON.FILE çæä»¶ã å®å°é¦åå¹éææçæä»¶ç¶ååè¿å¥å­ç®å½ä¸­æ¥æ¾\n\nfind / -name \"CON.FILE\" -depth -print\n\n\n\n# åãè¿ç¨ç³»ç»ç¸å³\n\n# 1ãps å½ä»¤\n\nps(process status)ï¼ç¨æ¥æ¥çå½åè¿è¡çè¿ç¨ç¶æï¼ä¸æ¬¡æ§æ¥çï¼å¦æéè¦å¨æè¿ç»­ç»æä½¿ç¨ top\n\nlinuxä¸è¿ç¨æ5ç§ç¶æ:\n\n1-è¿è¡(æ­£å¨è¿è¡æå¨è¿è¡éåä¸­ç­å¾)\n\n2-ä¸­æ­(ä¼ç ä¸­, åé», å¨ç­å¾æä¸ªæ¡ä»¶çå½¢æææ¥åå°ä¿¡å·)\n\n3-ä¸å¯ä¸­æ­(æ¶å°ä¿¡å·ä¸å¤éåä¸å¯è¿è¡, è¿ç¨å¿é¡»ç­å¾ç´å°æä¸­æ­åç)\n\n4-åµæ­»(è¿ç¨å·²ç»æ­¢, ä½è¿ç¨æè¿°ç¬¦å­å¨, ç´å°ç¶è¿ç¨è°ç¨wait4()ç³»ç»è°ç¨åéæ¾)\n\n5-åæ­¢(è¿ç¨æ¶å°SIGSTOP, SIGSTP, SIGTIN, SIGTOUä¿¡å·ååæ­¢è¿è¡è¿è¡)\n\nps å·¥å·æ è¯è¿ç¨ç5ç§ç¶æç :\n\nD ä¸å¯ä¸­æ­ uninterruptible sleep (usually IO)\nR è¿è¡ runnable (on run queue)\nS ä¸­æ­ sleeping\nT åæ­¢ traced or stopped\nZ åµæ­» a defunct (âzombieâ) process\n\n\nå½ä»¤åæ°ï¼\n\n-A æ¾ç¤ºææè¿ç¨\na æ¾ç¤ºææè¿ç¨\n-a æ¾ç¤ºåä¸ç»ç«¯ä¸ææè¿ç¨\nc æ¾ç¤ºè¿ç¨çå®åç§°\ne æ¾ç¤ºç¯å¢åé\nf æ¾ç¤ºè¿ç¨é´çå³ç³»\nr æ¾ç¤ºå½åç»ç«¯è¿è¡çè¿ç¨\n-aux æ¾ç¤ºææåå«å¶å®ä½¿ç¨çè¿ç¨\n\n\nå®ä¾ï¼\n\n#æ¾ç¤ºå½åææè¿ç¨ç¯å¢åéåè¿ç¨é´å³ç³»\nps -ef\n\n#æ¾ç¤ºå½åææè¿ç¨\nps -A\n\n#ä¸grepèç¨æ¥æ¾æè¿ç¨\nps -aux | grep apache\n\n#æ¾åºä¸ cron ä¸ syslog è¿ä¸¤ä¸ªæå¡æå³ç PID å·ç \nps aux | grep '(cron|syslog)'\n\n\n# 2ãtop å½ä»¤\n\næ¾ç¤ºå½åç³»ç»æ­£å¨æ§è¡çè¿ç¨çç¸å³ä¿¡æ¯ï¼åæ¬è¿ç¨ IDãåå­å ç¨çãCPU å ç¨çç­\n\nå¸¸ç¨åæ°ï¼\n\n-c æ¾ç¤ºå®æ´çè¿ç¨å½ä»¤\n-s ä¿å¯æ¨¡å¼\n-p <è¿ç¨å·> æå®è¿ç¨æ¾ç¤º\n-n <æ¬¡æ°>å¾ªç¯æ¾ç¤ºæ¬¡æ°\n\n\nå®ä¾ï¼\n\ntop - 14:06:23 up 70 days, 16:44,  2 users,  load average: 1.25, 1.32, 1.35\nTasks: 206 total,   1 running, 205 sleeping,   0 stopped,   0 zombie\nCpu(s):  5.9%us,  3.4%sy,  0.0%ni, 90.4%id,  0.0%wa,  0.0%hi,  0.2%si,  0.0%st\nMem:  32949016k total, 14411180k used, 18537836k free,   169884k buffers\nSwap: 32764556k total,        0k used, 32764556k free,  3612636k cached\n\nPID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND  \n28894 root      22   0 1501m 405m  10m S 52.2  1.3   2534:16 java  \n\n\nåäºè¡æ¯å½åç³»ç»æåµæ´ä½çç»è®¡ä¿¡æ¯åºã\n\nç¬¬ä¸è¡ï¼ä»»å¡éåä¿¡æ¯ï¼å uptime å½ä»¤çæ§è¡ç»æï¼å·ä½åæ°è¯´ææåµå¦ä¸ï¼\n\n14:06:23 â å½åç³»ç»æ¶é´\n\nup 70 days, 16:44 â ç³»ç»å·²ç»è¿è¡äº70å¤©16å°æ¶44åéï¼å¨è¿æé´ç³»ç»æ²¡æéå¯è¿çåï¼ï¼\n\n2 users â å½åæ2ä¸ªç¨æ·ç»å½ç³»ç»\n\nload average: 1.15, 1.42, 1.44 â load averageåé¢çä¸ä¸ªæ°åå«æ¯1åéã5åéã15åéçè´è½½æåµã\n\nload averageæ°æ®æ¯æ¯é5ç§éæ£æ¥ä¸æ¬¡æ´»è·çè¿ç¨æ°ï¼ç¶åæç¹å®ç®æ³è®¡ç®åºçæ°å¼ãå¦æè¿ä¸ªæ°é¤ä»¥é»è¾CPUçæ°éï¼ç»æé«äº5çæ¶åå°±è¡¨æç³»ç»å¨è¶è´è·è¿è½¬äºã\n\nç¬¬äºè¡ï¼Tasks â ä»»å¡ï¼è¿ç¨ï¼ï¼å·ä½ä¿¡æ¯è¯´æå¦ä¸ï¼\n\nç³»ç»ç°å¨å±æ206ä¸ªè¿ç¨ï¼å¶ä¸­å¤äºè¿è¡ä¸­çæ1ä¸ªï¼205ä¸ªå¨ä¼ç ï¼sleepï¼ï¼stopedç¶æçæ0ä¸ªï¼zombieç¶æï¼åµå°¸ï¼çæ0ä¸ªã\n\nç¬¬ä¸è¡ï¼cpuç¶æä¿¡æ¯ï¼å·ä½å±æ§è¯´æå¦ä¸ï¼\n\n5.9%us â ç¨æ·ç©ºé´å ç¨CPUçç¾åæ¯ã\n3.4% sy â åæ ¸ç©ºé´å ç¨CPUçç¾åæ¯ã\n0.0% ni â æ¹åè¿ä¼åçº§çè¿ç¨å ç¨CPUçç¾åæ¯\n90.4% id â ç©ºé²CPUç¾åæ¯\n0.0% wa â IOç­å¾å ç¨CPUçç¾åæ¯\n0.0% hi â ç¡¬ä¸­æ­ï¼Hardware IRQï¼å ç¨CPUçç¾åæ¯\n0.2% si â è½¯ä¸­æ­ï¼Software Interruptsï¼å ç¨CPUçç¾åæ¯\n\n\n**å¤æ³¨ï¼**å¨è¿éCPUçä½¿ç¨æ¯çåwindowsæ¦å¿µä¸åï¼éè¦çè§£linuxç³»ç»ç¨æ·ç©ºé´ååæ ¸ç©ºé´çç¸å³ç¥è¯ï¼\n\nç¬¬åè¡ï¼åå­ç¶æï¼å·ä½ä¿¡æ¯å¦ä¸ï¼\n\n32949016k total â ç©çåå­æ»éï¼32GBï¼\n14411180k used â ä½¿ç¨ä¸­çåå­æ»éï¼14GBï¼\n18537836k free â ç©ºé²åå­æ»éï¼18GBï¼\n169884k buffers â ç¼å­çåå­é ï¼169Mï¼\n\n\nç¬¬äºè¡ï¼swapäº¤æ¢ååºä¿¡æ¯ï¼å·ä½ä¿¡æ¯è¯´æå¦ä¸ï¼\n\n32764556k total â äº¤æ¢åºæ»éï¼32GBï¼\n0k used â ä½¿ç¨çäº¤æ¢åºæ»éï¼0Kï¼\n32764556k free â ç©ºé²äº¤æ¢åºæ»éï¼32GBï¼\n3612636k cached â ç¼å²çäº¤æ¢åºæ»éï¼3.6GBï¼\n\n\nç¬¬å­è¡ï¼ç©ºè¡ã\n\nç¬¬ä¸è¡ä»¥ä¸ï¼åè¿ç¨ï¼ä»»å¡ï¼çç¶æçæ§ï¼é¡¹ç®åä¿¡æ¯è¯´æå¦ä¸ï¼\n\nPID â è¿ç¨id\nUSER â è¿ç¨ææè\nPR â è¿ç¨ä¼åçº§\nNI â niceå¼ãè´å¼è¡¨ç¤ºé«ä¼åçº§ï¼æ­£å¼è¡¨ç¤ºä½ä¼åçº§\nVIRT â è¿ç¨ä½¿ç¨çèæåå­æ»éï¼åä½kbãVIRT=SWAP+RES\nRES â è¿ç¨ä½¿ç¨çãæªè¢«æ¢åºçç©çåå­å¤§å°ï¼åä½kbãRES=CODE+DATA\nSHR â å±äº«åå­å¤§å°ï¼åä½kb\nS â è¿ç¨ç¶æãD=ä¸å¯ä¸­æ­çç¡ç ç¶æ R=è¿è¡ S=ç¡ç  T=è·è¸ª/åæ­¢ Z=åµå°¸è¿ç¨\n%CPU â ä¸æ¬¡æ´æ°å°ç°å¨çCPUæ¶é´å ç¨ç¾åæ¯\n%MEM â è¿ç¨ä½¿ç¨çç©çåå­ç¾åæ¯\nTIME+ â è¿ç¨ä½¿ç¨çCPUæ¶é´æ»è®¡ï¼åä½1/100ç§\nCOMMAND â è¿ç¨åç§°ï¼å½ä»¤å/å½ä»¤è¡ï¼\n\n\ntop äº¤äºå½ä»¤\n\nh æ¾ç¤ºtopäº¤äºå½ä»¤å¸®å©ä¿¡æ¯\nc åæ¢æ¾ç¤ºå½ä»¤åç§°åå®æ´å½ä»¤è¡\nm ä»¥åå­ä½¿ç¨çæåº\nP æ ¹æ®CPUä½¿ç¨ç¾åæ¯å¤§å°è¿è¡æåº\nT æ ¹æ®æ¶é´/ç´¯è®¡æ¶é´è¿è¡æåº\nW å°å½åè®¾ç½®åå¥~/.toprcæä»¶ä¸­\noæèO æ¹åæ¾ç¤ºé¡¹ç®çé¡ºåº\n\n\n# 3ãkill å½ä»¤\n\nåéæå®çä¿¡å·å°ç¸åºè¿ç¨ãä¸æå®åå·å°åéSIGTERMï¼15ï¼ç»æ­¢æå®è¿ç¨ãå¦æä»»æ æ³ç»æ­¢è¯¥ç¨åºå¯ç¨\"-KILL\" åæ°ï¼å¶åéçä¿¡å·ä¸ºSIGKILL(9) ï¼å°å¼ºå¶ç»æè¿ç¨ï¼ä½¿ç¨pså½ä»¤æèjobs å½ä»¤å¯ä»¥æ¥çè¿ç¨å·ãrootç¨æ·å°å½±åç¨æ·çè¿ç¨ï¼érootç¨æ·åªè½å½±åèªå·±çè¿ç¨ã\n\nå¸¸ç¨åæ°ï¼\n\n-l  ä¿¡å·ï¼è¥æä¸å ä¿¡å·çç¼å·åæ°ï¼åä½¿ç¨â-lâåæ°ä¼ååºå¨é¨çä¿¡å·åç§°\n-a  å½å¤çå½åè¿ç¨æ¶ï¼ä¸éå¶å½ä»¤ååè¿ç¨å·çå¯¹åºå³ç³»\n-p  æå®kill å½ä»¤åªæå°ç¸å³è¿ç¨çè¿ç¨å·ï¼èä¸åéä»»ä½ä¿¡å·\n-s  æå®åéä¿¡å·\n-u  æå®ç¨æ·\n\n\nå®ä¾ï¼\n\n#åä½¿ç¨psæ¥æ¾è¿ç¨pro1ï¼ç¶åç¨killææ\nkill -9 $(ps -ef | grep pro1)\n\n\n# 4ãfree å½ä»¤\n\næ¾ç¤ºç³»ç»åå­ä½¿ç¨æåµï¼åæ¬ç©çåå­ãäº¤äºåºåå­(swap)ååæ ¸ç¼å²åºåå­ã\n\nå½ä»¤åæ°ï¼\n\n-b ä»¥Byteæ¾ç¤ºåå­ä½¿ç¨æåµ\n-k ä»¥kbä¸ºåä½æ¾ç¤ºåå­ä½¿ç¨æåµ\n-m ä»¥mbä¸ºåä½æ¾ç¤ºåå­ä½¿ç¨æåµ\n-g ä»¥gbä¸ºåä½æ¾ç¤ºåå­ä½¿ç¨æåµ\n-s<é´éç§æ°> æç»­æ¾ç¤ºåå­\n-t æ¾ç¤ºåå­ä½¿ç¨æ»å\n\n\nå®ä¾ï¼\n\n#æ¾ç¤ºåå­ä½¿ç¨æåµ\nfree\nfree -k\nfree -m\n\n#ä»¥æ»åçå½¢å¼æ¾ç¤ºåå­çä½¿ç¨ä¿¡æ¯\nfree -t\n\n#å¨ææ§æ¥è¯¢åå­ä½¿ç¨æåµ\nfree -s 10\n\n\n\n# äºãæéç¸å³\n\n# 1ãchmod å½ä»¤\n\nç¨äºæ¹å linux ç³»ç»æä»¶æç®å½çè®¿é®æéãç¨å®æ§å¶æä»¶æç®å½çè®¿é®æéãè¯¥å½ä»¤æä¸¤ç§ç¨æ³ãä¸ç§æ¯åå«å­æ¯åæä½ç¬¦è¡¨è¾¾å¼çæå­è®¾å®æ³ï¼å¦ä¸ç§æ¯åå«æ°å­çæ°å­è®¾å®æ³ã\n\næ¯ä¸æä»¶æç®å½çè®¿é®æéé½æä¸ç»ï¼æ¯ç»ç¨ä¸ä½è¡¨ç¤ºï¼åå«ä¸ºæä»¶å±ä¸»çè¯»ãååæ§è¡æéï¼ä¸å±ä¸»åç»çç¨æ·çè¯»ãååæ§è¡æéï¼ç³»ç»ä¸­å¶ä»ç¨æ·çè¯»ãååæ§è¡æéãå¯ä½¿ç¨ ls -l test.txt æ¥æ¾ã\n\nä»¥æä»¶ log2012.log ä¸ºä¾ï¼\n\n-rw-r--r-- 1 root root 296K 11-13 06:03 log2012.log\n\n\nç¬¬ä¸åå±æ 10 ä¸ªä½ç½®ï¼ç¬¬ä¸ä¸ªå­ç¬¦æå®äºæä»¶ç±»åãå¨éå¸¸æä¹ä¸ï¼ä¸ä¸ªç®å½ä¹æ¯ä¸ä¸ªæä»¶ãå¦æç¬¬ä¸ä¸ªå­ç¬¦æ¯æ¨ªçº¿ï¼è¡¨ç¤ºæ¯ä¸ä¸ªéç®å½çæä»¶ãå¦ææ¯ dï¼è¡¨ç¤ºæ¯ä¸ä¸ªç®å½ãä»ç¬¬äºä¸ªå­ç¬¦å¼å§å°ç¬¬åä¸ª 9 ä¸ªå­ç¬¦ï¼3 ä¸ªå­ç¬¦ä¸ç»ï¼åå«è¡¨ç¤ºäº 3 ç»ç¨æ·å¯¹æä»¶æèç®å½çæéãæéå­ç¬¦ç¨æ¨ªçº¿ä»£è¡¨ç©ºè®¸å¯ï¼r ä»£è¡¨åªè¯»ï¼w ä»£è¡¨åï¼x ä»£è¡¨å¯æ§è¡ã\n\nå¸¸ç¨åæ°ï¼\n\n-c å½åçæ¹åæ¶ï¼æ¥åå¤çä¿¡æ¯\n-R å¤çæå®ç®å½ä»¥åå¶å­ç®å½ä¸æææä»¶\n\n\næéèå´ï¼\n\nu ï¼ç®å½æèæä»¶çå½åçç¨æ·\ng ï¼ç®å½æèæä»¶çå½åçç¾¤ç»\no ï¼é¤äºç®å½æèæä»¶çå½åç¨æ·æç¾¤ç»ä¹å¤çç¨æ·æèç¾¤ç»\na ï¼ææçç¨æ·åç¾¤ç»\n\n\næéä»£å·ï¼\n\nr ï¼è¯»æéï¼ç¨æ°å­4è¡¨ç¤º\nw ï¼åæéï¼ç¨æ°å­2è¡¨ç¤º\nx ï¼æ§è¡æéï¼ç¨æ°å­1è¡¨ç¤º\n- ï¼å é¤æéï¼ç¨æ°å­0è¡¨ç¤º\ns ï¼ç¹æ®æé\n\n\nå®ä¾ï¼\n\nï¼1ï¼å¢å æä»¶ t.log ææç¨æ·å¯æ§è¡æé\n\nchmod a+x t.log\n\n\nï¼2ï¼æ¤éåæ¥ææçæéï¼ç¶åä½¿æ¥æèå·æå¯è¯»æé,å¹¶è¾åºå¤çä¿¡æ¯\n\nchmod u=r t.log -c\n\n\nï¼3ï¼ç» file çå±ä¸»åéè¯»ãåãæ§è¡(7)çæéï¼ç»fileçæå¨ç»åéè¯»ãæ§è¡(5)çæéï¼ç»å¶ä»ç¨æ·åéæ§è¡(1)çæé\n\nchmod 751 t.log -cï¼æèï¼chmod u=rwx,g=rx,o=x t.log -c)\n\n\nï¼4ï¼å° test ç®å½åå¶å­ç®å½æææä»¶æ·»å å¯è¯»æé\n\nchmod u+r,g+r,o+r -R text/ -c\n\n\n# 2ãchown å½ä»¤\n\nchown å°æå®æä»¶çæ¥æèæ¹ä¸ºæå®çç¨æ·æç»ï¼ç¨æ·å¯ä»¥æ¯ç¨æ·åæèç¨æ· IDï¼ç»å¯ä»¥æ¯ç»åæèç» IDï¼æä»¶æ¯ä»¥ç©ºæ ¼åå¼çè¦æ¹åæéçæä»¶åè¡¨ï¼æ¯æééç¬¦ã\n\n-c æ¾ç¤ºæ´æ¹çé¨åçä¿¡æ¯\n-R å¤çæå®ç®å½åå­ç®å½\n\n\nå®ä¾ï¼\n\n#æ¹åæ¥æèåç¾¤ç» å¹¶æ¾ç¤ºæ¹åä¿¡æ¯\nchown -c mail:mail log2012.log\n\n#æ¹åæä»¶ç¾¤ç»\nchown -c :mail t.log\n\n#æ¹åæä»¶å¤¹åå­æä»¶ç®å½å±ä¸»åå±ç»ä¸º mail\nchown -cR mail: test/\n\n\n\n# å­ãç£çç©ºé´\n\n# 1ãdf å½ä»¤\n\næ¾ç¤ºç£çç©ºé´ä½¿ç¨æåµãè·åç¡¬çè¢«å ç¨äºå¤å°ç©ºé´ï¼ç®åè¿å©ä¸å¤å°ç©ºé´ç­ä¿¡æ¯ï¼å¦ææ²¡ææä»¶åè¢«æå®ï¼åææå½åè¢«æè½½çæä»¶ç³»ç»çå¯ç¨ç©ºé´å°è¢«æ¾ç¤ºãé»è®¤æåµä¸ï¼ç£çç©ºé´å°ä»¥ 1KB ä¸ºåä½è¿è¡æ¾ç¤ºï¼é¤éç¯å¢åé POSIXLY_CORRECT è¢«æå®ï¼é£æ ·å°ä»¥512å­èä¸ºåä½è¿è¡æ¾ç¤ºï¼\n\n-a å¨é¨æä»¶ç³»ç»åè¡¨\n-h ä»¥æ¹ä¾¿éè¯»çæ¹å¼æ¾ç¤ºä¿¡æ¯\n-i æ¾ç¤ºinodeä¿¡æ¯\n-k åºåä¸º1024å­è\n-l åªæ¾ç¤ºæ¬å°ç£ç\n-T ååºæä»¶ç³»ç»ç±»å\n\n\nå®ä¾ï¼\n\nï¼1ï¼æ¾ç¤ºç£çä½¿ç¨æåµ\n\n#æ¾ç¤ºç£çä½¿ç¨æåµ\ndf -l\n\n#ä»¥æè¯»æ¹å¼ååºæææä»¶ç³»ç»åå¶ç±»å\ndf -haT\n\n\n# 2ãdu å½ä»¤\n\ndu å½ä»¤ä¹æ¯æ¥çä½¿ç¨ç©ºé´çï¼ä½æ¯ä¸ df å½ä»¤ä¸åçæ¯ Linux du å½ä»¤æ¯å¯¹æä»¶åç®å½ç£çä½¿ç¨çç©ºé´çæ¥çï¼\n\nå½ä»¤æ ¼å¼ï¼\n\ndu [éé¡¹] [æä»¶]\n\n\nå¸¸ç¨åæ°ï¼\n\n-a æ¾ç¤ºç®å½ä¸­æææä»¶å¤§å°\n-k ä»¥KBä¸ºåä½æ¾ç¤ºæä»¶å¤§å°\n-m ä»¥MBä¸ºåä½æ¾ç¤ºæä»¶å¤§å°\n-g ä»¥GBä¸ºåä½æ¾ç¤ºæä»¶å¤§å°\n-h ä»¥æè¯»æ¹å¼æ¾ç¤ºæä»¶å¤§å°\n-s ä»æ¾ç¤ºæ»è®¡\n-cæ--total  é¤äºæ¾ç¤ºä¸ªå«ç®å½ææä»¶çå¤§å°å¤ï¼åæ¶ä¹æ¾ç¤ºææç®å½ææä»¶çæ»å\n\n\nå®ä¾ï¼\n\n#ä»¥æè¯»æ¹å¼æ¾ç¤ºæä»¶å¤¹ååå­æä»¶å¤¹å¤§å°\ndu -h scf/\n\n#ä»¥æè¯»æ¹å¼æ¾ç¤ºæä»¶å¤¹åæææä»¶å¤§å°\ndu -ah scf/\n\n#æ¾ç¤ºå ä¸ªæä»¶æç®å½åèªå ç¨ç£çç©ºé´çå¤§å°ï¼è¿ç»è®¡å®ä»¬çæ»å\ndu -hc test/ scf/\n\n#è¾åºå½åç®å½ä¸åä¸ªå­ç®å½æä½¿ç¨çç©ºé´\ndu -hc --max-depth=1 scf/\n\n\n\n# ä¸ãæ¶é´æ¥æç¸å³\n\n# 1ãdate å½ä»¤\n\næ¾ç¤ºæè®¾å®ç³»ç»çæ¥æä¸æ¶é´ã\n\nå½ä»¤åæ°ï¼\n\n-d<å­ç¬¦ä¸²> ãæ¾ç¤ºå­ç¬¦ä¸²ææçæ¥æä¸æ¶é´ãå­ç¬¦ä¸²ååå¿é¡»å ä¸åå¼å·ã\n-s<å­ç¬¦ä¸²> ãæ ¹æ®å­ç¬¦ä¸²æ¥è®¾ç½®æ¥æä¸æ¶é´ãå­ç¬¦ä¸²ååå¿é¡»å ä¸åå¼å·ã\n-u ãæ¾ç¤ºGMTã\n%H å°æ¶(00-23)\n%I å°æ¶(00-12)\n%M åé(ä»¥00-59æ¥è¡¨ç¤º)\n%s æ»ç§æ°ãèµ·ç®æ¶é´ä¸º1970-01-01 00:00:00 UTCã\n%S ç§(ä»¥æ¬å°çæ¯ç¨æ³æ¥è¡¨ç¤º)\n%a ææçç¼©åã\n%A ææçå®æ´åç§°ã\n%d æ¥æ(ä»¥01-31æ¥è¡¨ç¤º)ã\n%D æ¥æ(å«å¹´ææ¥)ã\n%m æä»½(ä»¥01-12æ¥è¡¨ç¤º)ã\n%y å¹´ä»½(ä»¥00-99æ¥è¡¨ç¤º)ã\n%Y å¹´ä»½(ä»¥åä½æ°æ¥è¡¨ç¤º)ã\n\n\nå®ä¾ï¼\n\ndate +%Y%m%d --date=\"+1 day\"  //æ¾ç¤ºä¸ä¸å¤©çæ¥æ\n\n#-dåæ°ä½¿ç¨\ndate -d \"nov 22\"  ä»å¹´ç 11 æ 22 æ¥æ¯ææä¸\ndate -d '2 weeks' 2å¨åçæ¥æ\ndate -d 'next monday' (ä¸å¨ä¸çæ¥æ)\ndate -d next-day +%Y%m%dï¼æå¤©çæ¥æï¼æèï¼date -d tomorrow +%Y%m%d\ndate -d last-day +%Y%m%d(æ¨å¤©çæ¥æ) æèï¼date -d yesterday +%Y%m%d\ndate -d last-month +%Y%m(ä¸ä¸ªææ¯å æ)\ndate -d next-month +%Y%m(ä¸ä¸ªææ¯å æ)\n\n\n# 2ãcal å½ä»¤\n\nå¯ä»¥ç¨æ·æ¾ç¤ºå¬åï¼é³åï¼æ¥åå¦åªæä¸ä¸ªåæ°ï¼åè¡¨ç¤ºå¹´ä»½(1-9999)ï¼å¦æä¸¤ä¸ªåæ°ï¼åè¡¨ç¤ºæä»½åå¹´ä»½ï¼\n\nå¸¸ç¨åæ°ï¼\n\n-3 æ¾ç¤ºåä¸æï¼å½åæï¼åä¸æä¸ä¸ªæçæ¥å\n-m æ¾ç¤ºææä¸ä¸ºç¬¬ä¸å\n-j æ¾ç¤ºå¨å½åå¹´ç¬¬å å¤©\n-y [year]æ¾ç¤ºå½åå¹´[year]ä»½çæ¥å\n\n\nå®ä¾ï¼\n\n#æ¾ç¤ºæå®å¹´ææ¥æ\ncal 9 2012\n\n#æ¾ç¤º2013å¹´æ¯ä¸ªææ¥å\ncal -y 2013\n\n#å°ææä¸åä¸ºç¬¬ä¸å,æ¾ç¤ºåä¸­åä¸æ\ncal -3m\n",normalizedContent:"# linux å¸¸ç¨å½ä»¤\n\n\n# å¯å¨jaråå½ä»¤\n\nnohup java -jar xx.jar -xms128m -xmx1024m -server.port=9002 xx.jar > xx.out 2>&1 &\n\n#ç®åç\nnohup java -jar /home/test1.jar  >/home/log/test1.txt &\n\n\nnohupï¼å¿½ç¥sighupä¿¡å·,å³é­shellåï¼è¿ç¨è¿æ¯å­å¨çã\njavaï¼å¯å¨ç¨åº\n-jarï¼å¯å¨ç±»å\n-xms128m -xmx1024mï¼æå®åå­ï¼xmsä¸è¬ä¸ºæå¤§åå­ç1/64,xmxä¸è¬ä¸ºæå¤§åå­ç1/4\n-server.port=9002ï¼æå®ç«¯å£\nxx.jarï¼jaråè·¯å¾\n\n>ï¼æ¥å¿éå®åï¼ç¨>æ¶æ¸ç©ºæ¥å¿æä»¶ååé¢ä¼äº§çç©ºç½ï¼å¯ä»¥ç¨>>\nxx.outï¼è¾åºæ¥å¿è·¯å¾ï¼ä¸è¦æ¥å¿å¯ä»¥è¾åºå°/dev/null\n2>&1ï¼æ åè¾åºä¸éè¯¯è¾åº\n&ï¼åå°è¿è¡ï¼å³ä½¿ä½ ç¨ctrl c,ç§æ ·è¿è¡ï¼ä½æ¯è¦æ³¨æï¼å¦æä½ ç´æ¥å³æshellåï¼è¿ç¨åæ ·æ¶å¤±ãå¯è§ï¼&çåå°å¹¶ä¸ç¡¬ï¼å ä¸ºå¯¹sighupä¿¡å·ä¸åç«ï¼ã\n\n\n\n# ä¸ãç®å½æä»¶ç¸å³\n\n# 1ãlså½ä»¤\n\nå°±æ¯ list çç¼©åï¼éè¿ ls å½ä»¤ä¸ä»å¯ä»¥æ¥ç linux æä»¶å¤¹åå«çæä»¶ï¼èä¸å¯ä»¥æ¥çæä»¶æé(åæ¬ç®å½ãæä»¶å¤¹ãæä»¶æé)åæ¥çç®å½ä¿¡æ¯ç­ç­ã\n\nå¸¸ç¨åæ°æ­éï¼\n\nls -a ååºç®å½æææä»¶ï¼åå«ä»¥.å¼å§çéèæä»¶\nls -a ååºé¤.å..çå¶å®æä»¶\nls -r ååºæå\nls -t ä»¥æä»¶ä¿®æ¹æ¶é´æåº\nls -s ä»¥æä»¶å¤§å°æåº\nls -h ä»¥æè¯»å¤§å°æ¾ç¤º\nls -l é¤äºæä»¶åä¹å¤ï¼è¿å°æä»¶çæéãææèãæä»¶å¤§å°ç­ä¿¡æ¯è¯¦ç»ååºæ¥\n\n\n# 2ãcd å½ä»¤\n\ncd(changedirectory) å½ä»¤è¯­æ³ï¼\n\ncd [ç®å½å]\n\n\nå®ä¾ï¼\n\n#è¿å¥è¦ç®å½\ncd /\n\n#è¿å¥ \"home\" ç®å½\ncd ~\n\n#è¿å¥ä¸ä¸æ¬¡å·¥ä½è·¯å¾\ncd -\n\n\n# 3ãpwd å½ä»¤\n\npwd å½ä»¤ç¨äºæ¥çå½åå·¥ä½ç®å½è·¯å¾ã\n\nå®ä¾ï¼\n\n#æ¥çå½åè·¯å¾\npwd\n\n#æ¥çè½¯é¾æ¥çå®éè·¯å¾\npwd -p\n\n\n# 4ãmkdir å½ä»¤\n\nmkdir å½ä»¤ç¨äºåå»ºæä»¶å¤¹ã\n\nå¯ç¨éé¡¹ï¼\n\n * -m: å¯¹æ°å»ºç®å½è®¾ç½®å­åæéï¼ä¹å¯ä»¥ç¨ chmod å½ä»¤è®¾ç½®;\n * -p: å¯ä»¥æ¯ä¸ä¸ªè·¯å¾åç§°ãæ­¤æ¶è¥è·¯å¾ä¸­çæäºç®å½å°ä¸å­å¨,å ä¸æ­¤éé¡¹åï¼ç³»ç»å°èªå¨å»ºç«å¥½é£äºå°ä¸å¨çç®å½ï¼å³ä¸æ¬¡å¯ä»¥å»ºç«å¤ä¸ªç®å½ã\n\nå®ä¾ï¼\n\n#å½åå·¥ä½ç®å½ä¸åå»ºåä¸º tçæä»¶å¤¹\nmkdir t\n\n#å¨ tmp ç®å½ä¸åå»ºè·¯å¾ä¸º test/t1/t çç®å½ï¼è¥ä¸å­å¨ï¼ååå»º\nmkdir -p /tmp/test/t1/t\n\n\n# 5ãrm å½ä»¤\n\nå é¤ä¸ä¸ªç®å½ä¸­çä¸ä¸ªæå¤ä¸ªæä»¶æç®å½ï¼å¦ææ²¡æä½¿ç¨ -r éé¡¹ï¼å rm ä¸ä¼å é¤ç®å½ãå¦æä½¿ç¨ rm æ¥å é¤æä»¶ï¼éå¸¸ä»å¯ä»¥å°è¯¥æä»¶æ¢å¤åç¶ã\n\nrm [éé¡¹] æä»¶\n\n\nå®ä¾ï¼\n\n#å é¤ä»»ä½ .log æä»¶ï¼å é¤åéä¸è¯¢é®ç¡®è®¤\nrm -i *.log\n\n#å é¤ test å­ç®å½åå­ç®å½ä¸­æææ¡£æ¡å é¤ï¼å¹¶ä¸ä¸ç¨ä¸ä¸ç¡®è®¤\nrm -rf test\n\n#å é¤ä»¥ -f å¼å¤´çæä»¶\nrm -- -f*\n\n\n# 6ãrmdir å½ä»¤\n\nä»ä¸ä¸ªç®å½ä¸­å é¤ä¸ä¸ªæå¤ä¸ªå­ç®å½é¡¹ï¼å é¤æç®å½æ¶ä¹å¿é¡»å·æå¯¹å¶ç¶ç®å½çåæéã\n\næ³¨æï¼ä¸è½å é¤éç©ºç®å½\n\nå®ä¾ï¼\n\n#å½ parent å­ç®å½è¢«å é¤åä½¿å®ä¹æä¸ºç©ºç®å½çè¯ï¼åé¡ºä¾¿ä¸å¹¶å é¤\nrmdir -p parent/child/child11\n\n\n# 7ãmv å½ä»¤\n\nç§»å¨æä»¶æä¿®æ¹æä»¶åï¼æ ¹æ®ç¬¬äºåæ°ç±»åï¼å¦ç®å½ï¼åç§»å¨æä»¶ï¼å¦ä¸ºæä»¶åéå½ä»¤è¯¥æä»¶ï¼ã\n\nå½ç¬¬äºä¸ªåæ°ä¸ºç®å½æ¶ï¼ç¬¬ä¸ä¸ªåæ°å¯ä»¥æ¯å¤ä¸ªä»¥ç©ºæ ¼åéçæä»¶æç®å½ï¼ç¶åç§»å¨ç¬¬ä¸ä¸ªåæ°æå®çå¤ä¸ªæä»¶å°ç¬¬äºä¸ªåæ°æå®çç®å½ä¸­ã\n\nå®ä¾ï¼\n\n#å°æä»¶ test.log éå½åä¸º test1.txt\nmv test.log test1.txt\n\n#å°æä»¶ log1.txt,log2.txt,log3.txt ç§»å¨å°æ ¹ç test3 ç®å½ä¸­\nmv llog1.txt log2.txt log3.txt /test3\n\n#æä»¶ log1.txt æ¹åä¸º log2.txtï¼å¦æ log2.txt å·²ç»å­å¨ï¼åè¯¢é®æ¯å¦è¦ç\nmv -i log1.txt log2.txt\n\n#ç§»å¨å½åæä»¶å¤¹ä¸çæææä»¶å°ä¸ä¸çº§ç®å½\nmv * ../\n\n\n# 8ãcp å½ä»¤\n\nå°æºæä»¶å¤å¶è³ç®æ æä»¶ï¼æå°å¤ä¸ªæºæä»¶å¤å¶è³ç®æ ç®å½ã\n\næ³¨æï¼å½ä»¤è¡å¤å¶ï¼å¦æç®æ æä»¶å·²ç»å­å¨ä¼æç¤ºæ¯å¦è¦çï¼èå¨ shell èæ¬ä¸­ï¼å¦æä¸å  -i åæ°ï¼åä¸ä¼æç¤ºï¼èæ¯ç´æ¥è¦çï¼\n\n-i æç¤º\n-r å¤å¶ç®å½åç®å½åææé¡¹ç®\n-a å¤å¶çæä»¶ä¸åæä»¶æ¶é´ä¸æ ·\n\n\nå®ä¾ï¼\n\n#å¤å¶ a.txt å° test ç®å½ä¸ï¼ä¿æåæä»¶æ¶é´ï¼å¦æåæä»¶å­å¨æç¤ºæ¯å¦è¦çã\ncp -ai a.txt test\n\n#ä¸º a.txt å»ºç«ä¸ä¸ªé¾æ¥ï¼å¿«æ·æ¹å¼ï¼\ncp -s a.txt link_a.txt\n\n\n# 9ãln å½ä»¤\n\nåè½æ¯ä¸ºæä»¶å¨å¦å¤ä¸ä¸ªä½ç½®å»ºç«ä¸ä¸ªåæ­¥çé¾æ¥ï¼å½å¨ä¸åç®å½éè¦è¯¥é®é¢æ¶ï¼å°±ä¸éè¦ä¸ºæ¯ä¸ä¸ªç®å½åå»ºåæ ·çæä»¶ï¼éè¿ ln åå»ºçé¾æ¥ï¼linkï¼åå°ç£çå ç¨éã\n\né¾æ¥åç±»ï¼è½¯ä»¶é¾æ¥åç¡¬é¾æ¥\n\nè½¯é¾æ¥ï¼\n\n * 1.è½¯é¾æ¥ï¼ä»¥è·¯å¾çå½¢å¼å­å¨ãç±»ä¼¼äºwindowsæä½ç³»ç»ä¸­çå¿«æ·æ¹å¼\n * 2.è½¯é¾æ¥å¯ä»¥ è·¨æä»¶ç³»ç» ï¼ç¡¬é¾æ¥ä¸å¯ä»¥\n * 3.è½¯é¾æ¥å¯ä»¥å¯¹ä¸ä¸ªä¸å­å¨çæä»¶åè¿è¡é¾æ¥\n * 4.è½¯é¾æ¥å¯ä»¥å¯¹ç®å½è¿è¡é¾æ¥\n\nç¡¬é¾æ¥:\n\n * 1.ç¡¬é¾æ¥ï¼ä»¥æä»¶å¯æ¬çå½¢å¼å­å¨ãä½ä¸å ç¨å®éç©ºé´ã\n * 2.ä¸åè®¸ç»ç®å½åå»ºç¡¬é¾æ¥\n * 3.ç¡¬é¾æ¥åªæå¨åä¸ä¸ªæä»¶ç³»ç»ä¸­æè½åå»º\n\néè¦æ³¨æï¼\n\n * ç¬¬ä¸ï¼lnå½ä»¤ä¼ä¿ææ¯ä¸å¤é¾æ¥æä»¶çåæ­¥æ§ï¼ä¹å°±æ¯è¯´ï¼ä¸è®ºä½ æ¹å¨äºåªä¸å¤ï¼å¶å®çæä»¶é½ä¼åçç¸åçååï¼\n * ç¬¬äºï¼lnçé¾æ¥ååè½¯é¾æ¥åç¡¬é¾æ¥ä¸¤ç§ï¼è½¯é¾æ¥å°±æ¯ln âs æºæä»¶ ç®æ æä»¶ï¼å®åªä¼å¨ä½ éå®çä½ç½®ä¸çæä¸ä¸ªæä»¶çéåï¼ä¸ä¼å ç¨ç£çç©ºé´ï¼ç¡¬é¾æ¥ ln æºæä»¶ ç®æ æä»¶ï¼æ²¡æåæ°-sï¼ å®ä¼å¨ä½ éå®çä½ç½®ä¸çæä¸ä¸ªåæºæä»¶å¤§å°ç¸åçæä»¶ï¼æ è®ºæ¯è½¯é¾æ¥è¿æ¯ç¡¬é¾æ¥ï¼æä»¶é½ä¿æåæ­¥ååã\n * ç¬¬ä¸ï¼lnæä»¤ç¨å¨é¾æ¥æä»¶æç®å½ï¼å¦åæ¶æå®ä¸¤ä¸ªä»¥ä¸çæä»¶æç®å½ï¼ä¸æåçç®çå°æ¯ä¸ä¸ªå·²ç»å­å¨çç®å½ï¼åä¼æåé¢æå®çæææä»¶æç®å½å¤å¶å°è¯¥ç®å½ä¸­ãè¥åæ¶æå®å¤ä¸ªæä»¶æç®å½ï¼ä¸æåçç®çå°å¹¶éæ¯ä¸ä¸ªå·²å­å¨çç®å½ï¼åä¼åºç°éè¯¯ä¿¡æ¯ã\n\nå¸¸ç¨åæ°ï¼\n\n-b å é¤ï¼è¦çä»¥åå»ºç«çé¾æ¥\n-s è½¯é¾æ¥ï¼ç¬¦å·é¾æ¥ï¼\n-v æ¾ç¤ºè¯¦ç»å¤çè¿ç¨\n\n\nå®ä¾ï¼\n\n#ç»æä»¶åå»ºè½¯é¾æ¥ï¼å¹¶æ¾ç¤ºæä½ä¿¡æ¯\nln -sv source.log link.log\n\n#ç»æä»¶åå»ºç¡¬é¾æ¥ï¼å¹¶æ¾ç¤ºæä½ä¿¡æ¯\nln -v source.log link1.log\n\n#ç»ç®å½åå»ºè½¯é¾æ¥\nln -sv /opt/soft/test/test3 /opt/soft/test/test5\n\n\n# 10ãtar å½ä»¤\n\nç¨æ¥åç¼©åè§£åæä»¶ãtar æ¬èº«ä¸å·æåç¼©åè½ï¼åªå·ææååè½ï¼æå³åç¼©åè§£åæ¯è°ç¨å¶å®çåè½æ¥å®æã\n\nå¼æ¸ä¸¤ä¸ªæ¦å¿µï¼æåååç¼©ãæåæ¯æå°ä¸å¤§å æä»¶æç®å½åæä¸ä¸ªæ»çæä»¶ï¼åç¼©åæ¯å°ä¸ä¸ªå¤§çæä»¶éè¿ä¸äºåç¼©ç®æ³åæä¸ä¸ªå°æä»¶\n\nå¸¸ç¨åæ°ï¼\n\n-c å»ºç«æ°çåç¼©æä»¶\n-f æå®åç¼©æä»¶\n-r æ·»å æä»¶å°å·²ç»åç¼©æä»¶åä¸­\n-u æ·»å æ¹äºåç°æçæä»¶å°åç¼©åä¸­\n-x ä»åç¼©åä¸­æ½åæä»¶\n-t æ¾ç¤ºåç¼©æä»¶ä¸­çåå®¹\n-z æ¯ægzipåç¼©\n-j æ¯æbzip2åç¼©\n-z æ¯æcompressè§£åæä»¶\n-v æ¾ç¤ºæä½è¿ç¨\n\n\næå³ gzip å bzip2 åç¼©:\n\ngzip å®ä¾ï¼åç¼© gzip filename .tar.gz å.tgz  è§£åï¼gunzip filename.gz æ gzip -d filename.gz\n          å¯¹åºï¼tar zcvf filename.tar.gz     tar zxvf filename.tar.gz\n\nbz2å®ä¾ï¼åç¼© bzip2 -z filename .tar.bz2 è§£åï¼bunzip filename.bz2æbzip -d filename.bz2\n       å¯¹åºï¼tar jcvf filename.tar.gz         è§£åï¼tar jxvf filename.tar.bz2\n\n\nå®ä¾ï¼\n\nï¼1ï¼å°æä»¶å¨é¨æåæ tar å\n\ntar -cvf log.tar 1.log,2.log ætar -cvf log.*\n\n\nï¼2ï¼å° /etc ä¸çæææä»¶åç®å½æåå°æå®ç®å½ï¼å¹¶ä½¿ç¨ gz åç¼©\n\ntar -zcvf /tmp/etc.tar.gz /etc\n\n\nï¼3ï¼æ¥çåæåçæä»¶åå®¹ï¼ä¸å®å zï¼å ä¸ºæ¯ä½¿ç¨ gzip åç¼©çï¼\n\ntar -ztvf /tmp/etc.tar.gz\n\n\nï¼4ï¼è¦åç¼©æå /home, /etc ï¼ä½ä¸è¦ /home/dmtsai\n\ntar --exclude /home/dmtsai -zcvf myfile.tar.gz /home/* /etc\n\n\n\n# äºãæä»¶åå®¹ç¸å³\n\n# 1ãcat å½ä»¤\n\ncat ä¸»è¦æä¸å¤§åè½ï¼\n\n1.ä¸æ¬¡æ¾ç¤ºæ´ä¸ªæä»¶:\n\ncat filename\n\n\n2.åå»ºä¸ä¸ªæä»¶:\n\ncat > filename\n\n\nåªè½åå»ºæ°æä»¶ï¼ä¸è½ç¼è¾å·²ææä»¶ã\n\n3.å°å ä¸ªæä»¶åå¹¶ä¸ºä¸ä¸ªæä»¶:\n\ncat file1 file2 > file\n\n\n * -b å¯¹éç©ºè¾åºè¡å·\n * -n è¾åºææè¡å·\n\nå®ä¾ï¼\n\nï¼1ï¼æ log2012.log çæä»¶åå®¹å ä¸è¡å·åè¾å¥ log2013.log è¿ä¸ªæä»¶é\n\ncat -n log2012.log log2013.log\n\n\nï¼2ï¼æ log2012.log å log2013.log çæä»¶åå®¹å ä¸è¡å·ï¼ç©ºç½è¡ä¸å ï¼ä¹åå°åå®¹éå å° log.log é\n\ncat -b log2012.log log2013.log log.log\n\n\nï¼3ï¼ä½¿ç¨ here doc çææ°æä»¶\n\ncat >log.txt <<eof\n>hello\n>world\n>pwd=$(pwd)\n>eof\nls -l log.txt\ncat log.txt\nhello\nworld\npwd=/opt/soft/test\n\n\nï¼4ï¼åååç¤º\n\ntac log.txt\npwd=/opt/soft/test\nworld\nhello\n\n\n# 2ãhead å½ä»¤\n\nhead ç¨æ¥æ¾ç¤ºæ¡£æ¡çå¼å¤´è³æ åè¾åºä¸­ï¼é»è®¤ head å½ä»¤æå°å¶ç¸åºæä»¶çå¼å¤´ 10 è¡ã\n\nå¸¸ç¨åæ°ï¼\n\n-n<è¡æ°> æ¾ç¤ºçè¡æ°ï¼è¡æ°ä¸ºå¤æ°è¡¨ç¤ºä»æåååæ°ï¼\n\n\nå®ä¾ï¼\n\nï¼1ï¼æ¾ç¤º 1.log æä»¶ä¸­å 20 è¡\n\nhead 1.log -n 20\n\n\nï¼2ï¼æ¾ç¤º 1.log æä»¶å 20 å­è\n\nhead -c 20 log2014.log\n\n\nï¼3ï¼æ¾ç¤º t.logæå 10 è¡\n\nhead -n -10 t.log\n\n\n# 3ãtail å½ä»¤\n\nç¨äºæ¾ç¤ºæå®æä»¶æ«å°¾åå®¹ï¼ä¸æå®æä»¶æ¶ï¼ä½ä¸ºè¾å¥ä¿¡æ¯è¿è¡å¤çãå¸¸ç¨æ¥çæ¥å¿æä»¶ã\n\nå¸¸ç¨åæ°ï¼\n\n-f å¾ªç¯è¯»åï¼å¸¸ç¨äºæ¥çéå¢çæ¥å¿æä»¶ï¼\n-n<è¡æ°> æ¾ç¤ºè¡æ°ï¼ä»åååï¼\n\n\nï¼1ï¼å¾ªç¯è¯»åéæ¸å¢å çæä»¶åå®¹\n\nping 127.0.0.1 > ping.log &\n\n\nåå°è¿è¡ï¼å¯ä½¿ç¨ jobs -l æ¥çï¼ä¹å¯ä½¿ç¨ fg å°å¶ç§»å°åå°è¿è¡ã\n\ntail -f ping.log\n\n\nï¼æ¥çæ¥å¿ï¼\n\n# 4ãmore å½ä»¤\n\nåè½ç±»ä¼¼äº cat, more ä¼ä»¥ä¸é¡µä¸é¡µçæ¾ç¤ºæ¹ä¾¿ä½¿ç¨èéé¡µéè¯»ï¼èæåºæ¬çæä»¤å°±æ¯æç©ºç½é®ï¼spaceï¼å°±å¾ä¸ä¸é¡µæ¾ç¤ºï¼æ b é®å°±ä¼å¾åï¼backï¼ä¸é¡µæ¾ç¤ºã\n\nå½ä»¤åæ°ï¼\n\n+n      ä»ç¬« n è¡å¼å§æ¾ç¤º\n-n       å®ä¹å±å¹å¤§å°ä¸ºnè¡\n+/pattern å¨æ¯ä¸ªæ¡£æ¡æ¾ç¤ºåæå¯»è¯¥å­ä¸²ï¼patternï¼ï¼ç¶åä»è¯¥å­ä¸²åä¸¤è¡ä¹åå¼å§æ¾ç¤º \n-c       ä»é¡¶é¨æ¸å±ï¼ç¶åæ¾ç¤º\n-d       æç¤ºâpress space to continueï¼âqâ to quitï¼æç©ºæ ¼é®ç»§ç»­ï¼æqé®éåºï¼âï¼ç¦ç¨åéåè½\n-l        å¿½ç¥ctrl+lï¼æ¢é¡µï¼å­ç¬¦\n-p       éè¿æ¸é¤çªå£èä¸æ¯æ»å±æ¥å¯¹æä»¶è¿è¡æ¢é¡µï¼ä¸-céé¡¹ç¸ä¼¼\n-s       æè¿ç»­çå¤ä¸ªç©ºè¡æ¾ç¤ºä¸ºä¸è¡\n-u       ææä»¶åå®¹ä¸­çä¸ç»çº¿å»æ\n\n\nå¸¸ç¨æä½å½ä»¤ï¼\n\nenter    åä¸ n è¡ï¼éè¦å®ä¹ãé»è®¤ä¸º 1 è¡\nctrl+f   åä¸æ»å¨ä¸å±\nç©ºæ ¼é®  åä¸æ»å¨ä¸å±\nctrl+b  è¿åä¸ä¸å±\n=       è¾åºå½åè¡çè¡å·\n:f     è¾åºæä»¶ååå½åè¡çè¡å·\nv      è°ç¨viç¼è¾å¨\n!å½ä»¤   è°ç¨shellï¼å¹¶æ§è¡å½ä»¤\nq       éåºmore\n\n\nå®ä¾ï¼\n\nï¼1ï¼æ¾ç¤ºæä»¶ä¸­ä»ç¬¬3è¡èµ·çåå®¹\n\nmore +3 text.txt\n\n\nï¼2ï¼å¨æååºæä»¶ç®å½è¯¦ç»ä¿¡æ¯ï¼åå©ç®¡éä½¿æ¯æ¬¡æ¾ç¤º 5 è¡\n\nls -l | more -5\n\n\næç©ºæ ¼æ¾ç¤ºä¸ 5 è¡ã\n\n# 5ãless å½ä»¤\n\nless ä¸ more ç±»ä¼¼ï¼ä½ä½¿ç¨ less å¯ä»¥éææµè§æä»¶ï¼è more ä»è½ååç§»å¨ï¼å´ä¸è½ååç§»å¨ï¼èä¸ less å¨æ¥çä¹åä¸ä¼å è½½æ´ä¸ªæä»¶ã\n\nå¸¸ç¨å½ä»¤åæ°ï¼\n\n-i  å¿½ç¥æç´¢æ¶çå¤§å°å\n-n  æ¾ç¤ºæ¯è¡çè¡å·\n-o  <æä»¶å> å°less è¾åºçåå®¹å¨æå®æä»¶ä¸­ä¿å­èµ·æ¥\n-s  æ¾ç¤ºè¿ç»­ç©ºè¡ä¸ºä¸è¡\n/å­ç¬¦ä¸²ï¼åä¸æç´¢âå­ç¬¦ä¸²âçåè½\n?å­ç¬¦ä¸²ï¼åä¸æç´¢âå­ç¬¦ä¸²âçåè½\nnï¼éå¤åä¸ä¸ªæç´¢ï¼ä¸ / æ ? æå³ï¼\nnï¼ååéå¤åä¸ä¸ªæç´¢ï¼ä¸ / æ ? æå³ï¼\n-x <æ°å­> å°âtabâé®æ¾ç¤ºä¸ºè§å®çæ°å­ç©ºæ ¼\nb  ååç¿»ä¸é¡µ\nd  ååç¿»åé¡µ\nh  æ¾ç¤ºå¸®å©çé¢\nq  éåºless å½ä»¤\nu  ååæ»å¨åé¡µ\ny  ååæ»å¨ä¸è¡\nç©ºæ ¼é® æ»å¨ä¸è¡\nåè½¦é® æ»å¨ä¸é¡µ\n[pagedown]ï¼ åä¸ç¿»å¨ä¸é¡µ\n[pageup]ï¼   åä¸ç¿»å¨ä¸é¡µ\n\n\nå®ä¾ï¼\n\nï¼1ï¼ps æ¥çè¿ç¨ä¿¡æ¯å¹¶éè¿ less åé¡µæ¾ç¤º\n\nps -aux | less -n\n\n\nï¼2ï¼æ¥çå¤ä¸ªæä»¶\n\nless 1.log 2.log\n\n\nå¯ä»¥ä½¿ç¨ n æ¥çä¸ä¸ä¸ªï¼ä½¿ç¨ p æ¥çåä¸ä¸ªã\n\n# 6ãwc å½ä»¤\n\nwc(word count)åè½ä¸ºç»è®¡æå®çæä»¶ä¸­å­èæ°ãå­æ°ãè¡æ°ï¼å¹¶å°ç»è®¡ç»æè¾åº\n\nå½ä»¤æ ¼å¼ï¼\n\nwc [option] file..\n\n\nå½ä»¤åæ°ï¼\n\n-c ç»è®¡å­èæ°\n-l ç»è®¡è¡æ°\n-m ç»è®¡å­ç¬¦æ°\n-w ç»è®¡è¯æ°ï¼ä¸ä¸ªå­è¢«å®ä¹ä¸ºç±ç©ºç½ãè·³æ ¼ææ¢è¡å­ç¬¦åéçå­ç¬¦ä¸²\n\n\nå®ä¾ï¼\n\n#æ¥æ¾æä»¶ç è¡æ° åè¯æ° å­èæ° æä»¶å\nwc text.txt\n\n#ç»è®¡è¾åºç»æçè¡æ°\ncat test.txt | wc -l\n\n\n# 7ãgrep å½ä»¤\n\nå¼ºå¤§çææ¬æç´¢å½ä»¤ï¼grep(global regular expression print) å¨å±æ­£åè¡¨è¾¾å¼æç´¢ã\n\ngrep çå·¥ä½æ¹å¼æ¯è¿æ ·çï¼å®å¨ä¸ä¸ªæå¤ä¸ªæä»¶ä¸­æç´¢å­ç¬¦ä¸²æ¨¡æ¿ãå¦ææ¨¡æ¿åæ¬ç©ºæ ¼ï¼åå¿é¡»è¢«å¼ç¨ï¼æ¨¡æ¿åçææå­ç¬¦ä¸²è¢«çä½æä»¶åãæç´¢çç»æè¢«éå°æ åè¾åºï¼ä¸å½±ååæä»¶åå®¹ã\n\nå½ä»¤æ ¼å¼ï¼\n\ngrep [option] pattern file|dir\n\n\nå¸¸ç¨åæ°ï¼\n\n-a n --after-contextæ¾ç¤ºå¹éå­ç¬¦ånè¡\n-b n --before-contextæ¾ç¤ºå¹éå­ç¬¦ånè¡\n-c n --context æ¾ç¤ºå¹éå­ç¬¦åånè¡\n-c --count è®¡ç®ç¬¦åæ ·å¼çåæ°\n-i å¿½ç¥å¤§å°å\n-l åªååºæä»¶åå®¹ç¬¦åæå®çæ ·å¼çæä»¶åç§°\n-f ä»æä»¶ä¸­è¯»åå³é®è¯\n-n æ¾ç¤ºå¹éåå®¹çæå¨æä»¶ä¸­è¡æ°\n-r éå½æ¥æ¾æä»¶å¤¹\n\n\ngrep çè§åè¡¨è¾¾å¼:\n\n^  #éå®è¡çå¼å§ å¦ï¼'^grep'å¹éææä»¥grepå¼å¤´çè¡ã \n$  #éå®è¡çç»æ å¦ï¼'grep$'å¹éææä»¥grepç»å°¾çè¡ã \n.  #å¹éä¸ä¸ªéæ¢è¡ç¬¦çå­ç¬¦ å¦ï¼'gr.p'å¹égråæ¥ä¸ä¸ªä»»æå­ç¬¦ï¼ç¶åæ¯pã  \n*  #å¹éé¶ä¸ªæå¤ä¸ªååå­ç¬¦ å¦ï¼'*grep'å¹éææä¸ä¸ªæå¤ä¸ªç©ºæ ¼åç´§è·grepçè¡ã\n.*   #ä¸èµ·ç¨ä»£è¡¨ä»»æå­ç¬¦ã  \n[]   #å¹éä¸ä¸ªæå®èå´åçå­ç¬¦ï¼å¦'[gg]rep'å¹égrepågrepã \n[^]  #å¹éä¸ä¸ªä¸å¨æå®èå´åçå­ç¬¦ï¼å¦ï¼'[^a-fh-z]rep'å¹éä¸åå«a-råt-zçä¸ä¸ªå­æ¯å¼å¤´ï¼ç´§è·repçè¡ã  \n\\(..\\)  #æ è®°å¹éå­ç¬¦ï¼å¦'\\(love\\)'ï¼loveè¢«æ è®°ä¸º1ã   \n\\<      #éå®åè¯çå¼å§ï¼å¦:'\\<grep'å¹éåå«ä»¥grepå¼å¤´çåè¯çè¡ã\n\\>      #éå®åè¯çç»æï¼å¦'grep\\>'å¹éåå«ä»¥grepç»å°¾çåè¯çè¡ã\nx\\{m\\}  #éå¤å­ç¬¦xï¼mæ¬¡ï¼å¦ï¼'0\\{5\\}'å¹éåå«5ä¸ªoçè¡ã \nx\\{m,\\}  #éå¤å­ç¬¦x,è³å°mæ¬¡ï¼å¦ï¼'o\\{5,\\}'å¹éè³å°æ5ä¸ªoçè¡ã  \nx\\{m,n\\}  #éå¤å­ç¬¦xï¼è³å°mæ¬¡ï¼ä¸å¤äºnæ¬¡ï¼å¦ï¼'o\\{5,10\\}'å¹é5--10ä¸ªoçè¡ã  \n\\w    #å¹éæå­åæ°å­å­ç¬¦ï¼ä¹å°±æ¯[a-za-z0-9]ï¼å¦ï¼'g\\w*p'å¹éä»¥gåè·é¶ä¸ªæå¤ä¸ªæå­ææ°å­å­ç¬¦ï¼ç¶åæ¯pã  \n\\w    #\\wçåç½®å½¢å¼ï¼å¹éä¸ä¸ªæå¤ä¸ªéåè¯å­ç¬¦ï¼å¦ç¹å·å¥å·ç­ã  \n\\b    #åè¯éå®ç¬¦ï¼å¦: '\\bgrep\\b'åªå¹égrepã\n\n\nå®ä¾ï¼\n\n#æ¥æ¾æå®è¿ç¨\nps -ef | grep svn\n\n#æ¥æ¾æå®è¿ç¨ä¸ªæ°\nps -ef | grep svn -c\n\n#ä»æä»¶ä¸­è¯»åå³é®è¯\ncat test1.txt | grep -f key.log\n\n#ä»æä»¶å¤¹ä¸­éå½æ¥æ¾ä»¥grepå¼å¤´çè¡ï¼å¹¶åªååºæä»¶\ngrep -lr '^grep' /tmp\n\n#æ¥æ¾éxå¼å³çè¡åå®¹\ngrep '^[^x]' test.txt\n\n#æ¾ç¤ºåå« ed æè at å­ç¬¦çåå®¹è¡\ngrep -e 'ed|at' test.txt\n\n\n\n# ä¸ãæä»¶æ¥æ¾ç¸å³\n\n# 1ãwhich å½ä»¤\n\nå¨ linux è¦æ¥æ¾æä¸ªæä»¶ï¼ä½ä¸ç¥éæ¾å¨åªéäºï¼å¯ä»¥ä½¿ç¨ä¸é¢çä¸äºå½ä»¤æ¥æç´¢ï¼\n\nwhich     æ¥çå¯æ§è¡æä»¶çä½ç½®ã\nwhereis æ¥çæä»¶çä½ç½®ã\nlocate  éåæ°æ®åºæ¥çæä»¶ä½ç½®ã\nfind        å®éæå¯»ç¡¬çæ¥è¯¢æä»¶åç§°ã\n\n\nwhich æ¯å¨ path å°±æ¯æå®çè·¯å¾ä¸­ï¼æç´¢æä¸ªç³»ç»å½ä»¤çä½ç½®ï¼å¹¶è¿åç¬¬ä¸ä¸ªæç´¢ç»æãä½¿ç¨ which å½ä»¤ï¼å°±å¯ä»¥çå°æä¸ªç³»ç»å½ä»¤æ¯å¦å­å¨ï¼ä»¥åæ§è¡çå°åºæ¯åªä¸ä¸ªä½ç½®çå½ä»¤ã\n\nå¸¸ç¨åæ°ï¼\n\n-n ãæå®æä»¶åé¿åº¦ï¼æå®çé¿åº¦å¿é¡»å¤§äºæç­äºæææä»¶ä¸­æé¿çæä»¶åã\n\n\nå®ä¾ï¼\n\nï¼1ï¼æ¥ç ls å½ä»¤æ¯å¦å­å¨ï¼æ§è¡åªä¸ª\n\nwhich ls\n\n\nï¼2ï¼æ¥ç which\n\nwhich which\n\n\nï¼3ï¼æ¥ç cd\n\nwhich cdï¼æ¾ç¤ºä¸å­å¨ï¼å ä¸º cd æ¯åå»ºå½ä»¤ï¼è which æ¥æ¾æ¾ç¤ºæ¯ path ä¸­çå½ä»¤ï¼\n\n\næ¥çå½å path éç½®ï¼\n\necho $path\n\n\næä½¿ç¨ env æ¥çææç¯å¢åéåå¯¹åºå¼\n\n# 2ãwhereis å½ä»¤\n\nwhereis å½ä»¤åªè½ç¨äºç¨åºåçæç´¢ï¼èä¸åªæç´¢äºè¿å¶æä»¶ï¼åæ°-bï¼ãmanè¯´ææä»¶ï¼åæ°-mï¼åæºä»£ç æä»¶ï¼åæ°-sï¼ãå¦æçç¥åæ°ï¼åè¿åææä¿¡æ¯ãwhereis å locate é½æ¯åºäºç³»ç»åå»ºçæ°æ®åºè¿è¡æç´¢ï¼å æ­¤æçå¾é«ï¼èfindåæ¯éåç¡¬çæ¥æ¾æä»¶ã\n\nå¸¸ç¨åæ°ï¼\n\n-b   å®ä½å¯æ§è¡æä»¶ã\n-m   å®ä½å¸®å©æä»¶ã\n-s   å®ä½æºä»£ç æä»¶ã\n-u   æç´¢é»è®¤è·¯å¾ä¸é¤å¯æ§è¡æä»¶ãæºä»£ç æä»¶ãå¸®å©æä»¶ä»¥å¤çå¶å®æä»¶ã\n\n\nå®ä¾ï¼\n\nï¼1ï¼æ¥æ¾ locate ç¨åºç¸å³æä»¶\n\nwhereis locate\n\n\nï¼2ï¼æ¥æ¾ locate çæºç æä»¶\n\nwhereis -s locate\n\n\nï¼3ï¼æ¥æ¾ lcoate çå¸®å©æä»¶\n\nwhereis -m locate\n\n\n# 3ãlocate å½ä»¤\n\nlocate éè¿æå¯»ç³»ç»åå»ºææ¡£æ°æ®åºè¾¾å°å¿«éæ¾å°æ¡£æ¡ï¼æ°æ®åºç± updatedb ç¨åºæ¥æ´æ°ï¼updatedb æ¯ç± cron daemon å¨ææ§è°ç¨çãé»è®¤æåµä¸ locate å½ä»¤å¨æå¯»æ°æ®åºæ¶æ¯ç±æ´ä¸ªç±ç¡¬çèµææ¥æå¯»èµææ¥å¾å¿«ï¼ä½è¾å·®å²çæ¯ locate ææ¾å°çæ¡£æ¡è¥æ¯æè¿æå»ºç«æ åæ´åçï¼å¯è½ä¼æ¾ä¸å°ï¼å¨åå®å¼ä¸­ï¼updatedb æ¯å¤©ä¼è·ä¸æ¬¡ï¼å¯ä»¥ç±ä¿®æ¹ crontab æ¥æ´æ°è®¾å®å¼ (etc/crontab)ã\n\nlocate ä¸ find å½ä»¤ç¸ä¼¼ï¼å¯ä»¥ä½¿ç¨å¦ *ã? ç­è¿è¡æ­£åå¹éæ¥æ¾\n\nå¸¸ç¨åæ°ï¼\n\n-l numï¼è¦æ¾ç¤ºçè¡æ°ï¼\n-f   å°ç¹å®çæ¡£æ¡ç³»ç»æé¤å¨å¤ï¼å¦å°procæé¤å¨å¤\n-r   ä½¿ç¨æ­£åè¿ç®å¼åä¸ºå¯»æ¾æ¡ä»¶\n\n\nå®ä¾ï¼\n\nï¼1ï¼æ¥æ¾å pwd ç¸å³çæææä»¶(æä»¶åä¸­åå« pwdï¼\n\nlocate pwd\n\n\nï¼2ï¼æç´¢ etc ç®å½ä¸ææä»¥ sh å¼å¤´çæä»¶\n\nlocate /etc/sh\n\n\nï¼3ï¼æ¥æ¾ /var ç®å½ä¸ï¼ä»¥ reason ç»å°¾çæä»¶\n\nlocate -r '^/var.*reason$'ï¼å¶ä¸­.è¡¨ç¤ºä¸ä¸ªå­ç¬¦ï¼*è¡¨ç¤ºä»»å¡å¤ä¸ªï¼.*è¡¨ç¤ºä»»æå¤ä¸ªå­ç¬¦ï¼\n\n\n# 4ãfind å½ä»¤\n\nç¨äºå¨æä»¶æ ä¸­æ¥æ¾æä»¶ï¼å¹¶ä½åºç¸åºçå¤çã\n\nå½ä»¤æ ¼å¼ï¼\n\nfind pathname -options [-print -exec -ok ...]\n\n\nå½ä»¤åæ°ï¼\n\npathname: findå½ä»¤ææ¥æ¾çç®å½è·¯å¾ãä¾å¦ç¨.æ¥è¡¨ç¤ºå½åç®å½ï¼ç¨/æ¥è¡¨ç¤ºç³»ç»æ ¹ç®å½ã\n-printï¼ findå½ä»¤å°å¹éçæä»¶è¾åºå°æ åè¾åºã\n-execï¼ findå½ä»¤å¯¹å¹éçæä»¶æ§è¡è¯¥åæ°æç»åºçshellå½ä»¤ãç¸åºå½ä»¤çå½¢å¼ä¸º'command' {  } \\;ï¼æ³¨æ{   }å\\ï¼ä¹é´çç©ºæ ¼ã\n-okï¼ å-execçä½ç¨ç¸åï¼åªä¸è¿ä»¥ä¸ç§æ´ä¸ºå®å¨çæ¨¡å¼æ¥æ§è¡è¯¥åæ°æç»åºçshellå½ä»¤ï¼å¨æ§è¡æ¯ä¸ä¸ªå½ä»¤ä¹åï¼é½ä¼ç»åºæç¤ºï¼è®©ç¨æ·æ¥ç¡®å®æ¯å¦æ§è¡ã\n\n\nå½ä»¤éé¡¹ï¼\n\n-name æç§æä»¶åæ¥æ¾æä»¶\n-perm ææä»¶æéæ¥æ¾æä»¶\n-user ææä»¶å±ä¸»æ¥æ¾æä»¶\n-group  æç§æä»¶æå±çç»æ¥æ¥æ¾æä»¶ã\n-type  æ¥æ¾æä¸ç±»åçæä»¶ï¼è¯¸å¦ï¼\n   b - åè®¾å¤æä»¶\n   d - ç®å½\n   c - å­ç¬¦è®¾å¤æä»¶\n   l - ç¬¦å·é¾æ¥æä»¶\n   p - ç®¡éæä»¶\n   f - æ®éæä»¶\n\n-size n :[c] æ¥æ¾æä»¶é¿åº¦ä¸ºnåæä»¶ï¼å¸¦æcæ¶è¡¨æä»¶å­èå¤§å°\n-amin n   æ¥æ¾ç³»ç»ä¸­æånåéè®¿é®çæä»¶\n-atime n  æ¥æ¾ç³»ç»ä¸­æån*24å°æ¶è®¿é®çæä»¶\n-cmin n   æ¥æ¾ç³»ç»ä¸­æånåéè¢«æ¹åæä»¶ç¶æçæä»¶\n-ctime n  æ¥æ¾ç³»ç»ä¸­æån*24å°æ¶è¢«æ¹åæä»¶ç¶æçæä»¶\n-mmin n   æ¥æ¾ç³»ç»ä¸­æånåéè¢«æ¹åæä»¶æ°æ®çæä»¶\n-mtime n  æ¥æ¾ç³»ç»ä¸­æån*24å°æ¶è¢«æ¹åæä»¶æ°æ®çæä»¶\n(ç¨åå·-æ¥éå®æ´æ¹æ¶é´å¨è·ä»næ¥ä»¥åçæä»¶ï¼èç¨å å·+æ¥éå®æ´æ¹æ¶é´å¨è·ä»næ¥ä»¥åçæä»¶ã )\n-maxdepth n æå¤§æ¥æ¾ç®å½æ·±åº¦\n-prune éé¡¹æ¥æåºéè¦å¿½ç¥çç®å½ãå¨ä½¿ç¨-pruneéé¡¹æ¶è¦å½å¿ï¼å ä¸ºå¦æä½ åæ¶ä½¿ç¨äº-depthéé¡¹ï¼é£ä¹-pruneéé¡¹å°±ä¼è¢«findå½ä»¤å¿½ç¥\n-newer å¦æå¸ææ¥æ¾æ´æ¹æ¶é´æ¯æä¸ªæä»¶æ°ä½æ¯å¦ä¸ä¸ªæä»¶æ§çæææä»¶ï¼å¯ä»¥ä½¿ç¨-neweréé¡¹\n\n\nå®ä¾ï¼\n\nï¼1ï¼æ¥æ¾ 48 å°æ¶åä¿®æ¹è¿çæä»¶\n\nfind -atime -2\n\n\nï¼2ï¼å¨å½åç®å½æ¥æ¾ ä»¥ .log ç»å°¾çæä»¶ã . ä»£è¡¨å½åç®å½\n\nfind ./ -name '*.log'\n\n\nï¼3ï¼æ¥æ¾ /opt ç®å½ä¸ æéä¸º 777 çæä»¶\n\nfind /opt -perm 777\n\n\nï¼4ï¼æ¥æ¾å¤§äº 1k çæä»¶\n\nfind -size +1000c\n\n\næ¥æ¾ç­äº 1000 å­ç¬¦çæä»¶\n\nfind -size 1000c \n\n\n-exec åæ°åé¢è·çæ¯ command å½ä»¤ï¼å®çç»æ­¢æ¯ä»¥ ; ä¸ºç»ææ å¿çï¼æä»¥è¿å¥å½ä»¤åé¢çåå·æ¯ä¸å¯ç¼ºå°çï¼èèå°åä¸ªç³»ç»ä¸­åå·ä¼æä¸åçæä¹ï¼æä»¥åé¢å åææ ã{} è±æ¬å·ä»£è¡¨åé¢findæ¥æ¾åºæ¥çæä»¶åã\n\nå®ä¾ï¼\n\nï¼5ï¼å¨å½åç®å½ä¸­æ¥æ¾æ´æ¹æ¶é´å¨10æ¥ä»¥åçæä»¶å¹¶å é¤å®ä»¬(æ æéï¼\n\nfind . -type f -mtime +10 -exec rm -f {} \\;\n\n\nï¼6ï¼å½åç®å½ä¸­æ¥æ¾æææä»¶åä»¥.logç»å°¾ãæ´æ¹æ¶é´å¨5æ¥ä»¥ä¸çæä»¶ï¼å¹¶å é¤å®ä»¬ï¼åªä¸è¿å¨å é¤ä¹ååç»åºæç¤ºã æyé®å é¤æä»¶ï¼æné®ä¸å é¤\n\nfind . -name '*.log' mtime +5 -ok -exec rm {} \\;\n\n\nï¼7ï¼å½åç®å½ä¸æ¥æ¾æä»¶åä»¥ passwd å¼å¤´ï¼åå®¹åå« \"pkg\" å­ç¬¦çæä»¶\n\nfind . -f -name 'passwd*' -exec grep \"pkg\" {} \\;\n\n\nï¼8ï¼ç¨ exec éé¡¹æ§è¡ cp å½ä»¤\n\nfind . -name '*.log' -exec cp {} test3 \\;\n\n\n-xargs find å½ä»¤æå¹éå°çæä»¶ä¼ éç» xargs å½ä»¤ï¼è xargs å½ä»¤æ¯æ¬¡åªè·åä¸é¨åæä»¶èä¸æ¯å¨é¨ï¼ä¸å -exec éé¡¹é£æ ·ãè¿æ ·å®å¯ä»¥åå¤çæåè·åçä¸é¨åæä»¶ï¼ç¶åæ¯ä¸ä¸æ¹ï¼å¹¶å¦æ­¤ç»§ç»­ä¸å»ã\n\nå®ä¾ï¼\n\nï¼9ï¼æ¥æ¾å½åç®å½ä¸æ¯ä¸ªæ®éæä»¶ï¼ç¶åä½¿ç¨ xargs æ¥å¤æ­æä»¶ç±»å\n\nfind . -type f -print | xargs file\n\n\nï¼10ï¼æ¥æ¾å½åç®å½ä¸ææä»¥ js ç»å°¾çå¹¶ä¸å¶ä¸­åå« 'editor' å­ç¬¦çæ®éæä»¶\n\nfind . -type f -name \"*.js\" -exec grep -lf 'ueditor' {} \\;\nfind -type f -name '*.js' | xargs grep -lf 'editor'\n\n\nï¼11ï¼å©ç¨ xargs æ§è¡ mv å½ä»¤\n\nfind . -name \"*.log\" | xargs -i mv {} test4\n\n\nï¼12ï¼ç¨ grep å½ä»¤å¨å½åç®å½ä¸çæææ®éæä»¶ä¸­æç´¢ hostnames è¿ä¸ªè¯ï¼å¹¶æ åºæå¨è¡ï¼\n\nfind . -name \\*(è½¬ä¹ï¼ -type f -print | xargs grep -n 'hostnames'\n\n\nï¼13ï¼æ¥æ¾å½åç®å½ä¸­ä»¥ä¸ä¸ªå°åå­æ¯å¼å¤´ï¼æåæ¯ 4 å° 9 å ä¸ .log ç»æçæä»¶ï¼\n\nfind . -name '[a-z]*[4-9].log' -print\n\n\nï¼14ï¼å¨ test ç®å½æ¥æ¾ä¸å¨ test4 å­ç®å½æ¥æ¾\n\nfind test -path 'test/test4' -prune -o -print\n\n\nï¼15ï¼å®ä¾1ï¼æ¥æ¾æ´æ¹æ¶é´æ¯æä»¶ log2012.logæ°ä½æ¯æä»¶ log2017.log æ§çæä»¶\n\nfind -newer log2012.log ! -newer log2017.log\n\n\nä½¿ç¨ depth éé¡¹ï¼\n\ndepth éé¡¹å¯ä»¥ä½¿ find å½ä»¤åç£å¸¦ä¸å¤ä»½æä»¶ç³»ç»æ¶ï¼å¸æé¦åå¤ä»½ææçæä»¶ï¼å¶æ¬¡åå¤ä»½å­ç®å½ä¸­çæä»¶ã\n\nå®ä¾ï¼find å½ä»¤ä»æä»¶ç³»ç»çæ ¹ç®å½å¼å§ï¼æ¥æ¾ä¸ä¸ªåä¸º con.file çæä»¶ã å®å°é¦åå¹éææçæä»¶ç¶ååè¿å¥å­ç®å½ä¸­æ¥æ¾\n\nfind / -name \"con.file\" -depth -print\n\n\n\n# åãè¿ç¨ç³»ç»ç¸å³\n\n# 1ãps å½ä»¤\n\nps(process status)ï¼ç¨æ¥æ¥çå½åè¿è¡çè¿ç¨ç¶æï¼ä¸æ¬¡æ§æ¥çï¼å¦æéè¦å¨æè¿ç»­ç»æä½¿ç¨ top\n\nlinuxä¸è¿ç¨æ5ç§ç¶æ:\n\n1-è¿è¡(æ­£å¨è¿è¡æå¨è¿è¡éåä¸­ç­å¾)\n\n2-ä¸­æ­(ä¼ç ä¸­, åé», å¨ç­å¾æä¸ªæ¡ä»¶çå½¢æææ¥åå°ä¿¡å·)\n\n3-ä¸å¯ä¸­æ­(æ¶å°ä¿¡å·ä¸å¤éåä¸å¯è¿è¡, è¿ç¨å¿é¡»ç­å¾ç´å°æä¸­æ­åç)\n\n4-åµæ­»(è¿ç¨å·²ç»æ­¢, ä½è¿ç¨æè¿°ç¬¦å­å¨, ç´å°ç¶è¿ç¨è°ç¨wait4()ç³»ç»è°ç¨åéæ¾)\n\n5-åæ­¢(è¿ç¨æ¶å°sigstop, sigstp, sigtin, sigtouä¿¡å·ååæ­¢è¿è¡è¿è¡)\n\nps å·¥å·æ è¯è¿ç¨ç5ç§ç¶æç :\n\nd ä¸å¯ä¸­æ­ uninterruptible sleep (usually io)\nr è¿è¡ runnable (on run queue)\ns ä¸­æ­ sleeping\nt åæ­¢ traced or stopped\nz åµæ­» a defunct (âzombieâ) process\n\n\nå½ä»¤åæ°ï¼\n\n-a æ¾ç¤ºææè¿ç¨\na æ¾ç¤ºææè¿ç¨\n-a æ¾ç¤ºåä¸ç»ç«¯ä¸ææè¿ç¨\nc æ¾ç¤ºè¿ç¨çå®åç§°\ne æ¾ç¤ºç¯å¢åé\nf æ¾ç¤ºè¿ç¨é´çå³ç³»\nr æ¾ç¤ºå½åç»ç«¯è¿è¡çè¿ç¨\n-aux æ¾ç¤ºææåå«å¶å®ä½¿ç¨çè¿ç¨\n\n\nå®ä¾ï¼\n\n#æ¾ç¤ºå½åææè¿ç¨ç¯å¢åéåè¿ç¨é´å³ç³»\nps -ef\n\n#æ¾ç¤ºå½åææè¿ç¨\nps -a\n\n#ä¸grepèç¨æ¥æ¾æè¿ç¨\nps -aux | grep apache\n\n#æ¾åºä¸ cron ä¸ syslog è¿ä¸¤ä¸ªæå¡æå³ç pid å·ç \nps aux | grep '(cron|syslog)'\n\n\n# 2ãtop å½ä»¤\n\næ¾ç¤ºå½åç³»ç»æ­£å¨æ§è¡çè¿ç¨çç¸å³ä¿¡æ¯ï¼åæ¬è¿ç¨ idãåå­å ç¨çãcpu å ç¨çç­\n\nå¸¸ç¨åæ°ï¼\n\n-c æ¾ç¤ºå®æ´çè¿ç¨å½ä»¤\n-s ä¿å¯æ¨¡å¼\n-p <è¿ç¨å·> æå®è¿ç¨æ¾ç¤º\n-n <æ¬¡æ°>å¾ªç¯æ¾ç¤ºæ¬¡æ°\n\n\nå®ä¾ï¼\n\ntop - 14:06:23 up 70 days, 16:44,  2 users,  load average: 1.25, 1.32, 1.35\ntasks: 206 total,   1 running, 205 sleeping,   0 stopped,   0 zombie\ncpu(s):  5.9%us,  3.4%sy,  0.0%ni, 90.4%id,  0.0%wa,  0.0%hi,  0.2%si,  0.0%st\nmem:  32949016k total, 14411180k used, 18537836k free,   169884k buffers\nswap: 32764556k total,        0k used, 32764556k free,  3612636k cached\n\npid user      pr  ni  virt  res  shr s %cpu %mem    time+  command  \n28894 root      22   0 1501m 405m  10m s 52.2  1.3   2534:16 java  \n\n\nåäºè¡æ¯å½åç³»ç»æåµæ´ä½çç»è®¡ä¿¡æ¯åºã\n\nç¬¬ä¸è¡ï¼ä»»å¡éåä¿¡æ¯ï¼å uptime å½ä»¤çæ§è¡ç»æï¼å·ä½åæ°è¯´ææåµå¦ä¸ï¼\n\n14:06:23 â å½åç³»ç»æ¶é´\n\nup 70 days, 16:44 â ç³»ç»å·²ç»è¿è¡äº70å¤©16å°æ¶44åéï¼å¨è¿æé´ç³»ç»æ²¡æéå¯è¿çåï¼ï¼\n\n2 users â å½åæ2ä¸ªç¨æ·ç»å½ç³»ç»\n\nload average: 1.15, 1.42, 1.44 â load averageåé¢çä¸ä¸ªæ°åå«æ¯1åéã5åéã15åéçè´è½½æåµã\n\nload averageæ°æ®æ¯æ¯é5ç§éæ£æ¥ä¸æ¬¡æ´»è·çè¿ç¨æ°ï¼ç¶åæç¹å®ç®æ³è®¡ç®åºçæ°å¼ãå¦æè¿ä¸ªæ°é¤ä»¥é»è¾cpuçæ°éï¼ç»æé«äº5çæ¶åå°±è¡¨æç³»ç»å¨è¶è´è·è¿è½¬äºã\n\nç¬¬äºè¡ï¼tasks â ä»»å¡ï¼è¿ç¨ï¼ï¼å·ä½ä¿¡æ¯è¯´æå¦ä¸ï¼\n\nç³»ç»ç°å¨å±æ206ä¸ªè¿ç¨ï¼å¶ä¸­å¤äºè¿è¡ä¸­çæ1ä¸ªï¼205ä¸ªå¨ä¼ç ï¼sleepï¼ï¼stopedç¶æçæ0ä¸ªï¼zombieç¶æï¼åµå°¸ï¼çæ0ä¸ªã\n\nç¬¬ä¸è¡ï¼cpuç¶æä¿¡æ¯ï¼å·ä½å±æ§è¯´æå¦ä¸ï¼\n\n5.9%us â ç¨æ·ç©ºé´å ç¨cpuçç¾åæ¯ã\n3.4% sy â åæ ¸ç©ºé´å ç¨cpuçç¾åæ¯ã\n0.0% ni â æ¹åè¿ä¼åçº§çè¿ç¨å ç¨cpuçç¾åæ¯\n90.4% id â ç©ºé²cpuç¾åæ¯\n0.0% wa â ioç­å¾å ç¨cpuçç¾åæ¯\n0.0% hi â ç¡¬ä¸­æ­ï¼hardware irqï¼å ç¨cpuçç¾åæ¯\n0.2% si â è½¯ä¸­æ­ï¼software interruptsï¼å ç¨cpuçç¾åæ¯\n\n\n**å¤æ³¨ï¼**å¨è¿écpuçä½¿ç¨æ¯çåwindowsæ¦å¿µä¸åï¼éè¦çè§£linuxç³»ç»ç¨æ·ç©ºé´ååæ ¸ç©ºé´çç¸å³ç¥è¯ï¼\n\nç¬¬åè¡ï¼åå­ç¶æï¼å·ä½ä¿¡æ¯å¦ä¸ï¼\n\n32949016k total â ç©çåå­æ»éï¼32gbï¼\n14411180k used â ä½¿ç¨ä¸­çåå­æ»éï¼14gbï¼\n18537836k free â ç©ºé²åå­æ»éï¼18gbï¼\n169884k buffers â ç¼å­çåå­é ï¼169mï¼\n\n\nç¬¬äºè¡ï¼swapäº¤æ¢ååºä¿¡æ¯ï¼å·ä½ä¿¡æ¯è¯´æå¦ä¸ï¼\n\n32764556k total â äº¤æ¢åºæ»éï¼32gbï¼\n0k used â ä½¿ç¨çäº¤æ¢åºæ»éï¼0kï¼\n32764556k free â ç©ºé²äº¤æ¢åºæ»éï¼32gbï¼\n3612636k cached â ç¼å²çäº¤æ¢åºæ»éï¼3.6gbï¼\n\n\nç¬¬å­è¡ï¼ç©ºè¡ã\n\nç¬¬ä¸è¡ä»¥ä¸ï¼åè¿ç¨ï¼ä»»å¡ï¼çç¶æçæ§ï¼é¡¹ç®åä¿¡æ¯è¯´æå¦ä¸ï¼\n\npid â è¿ç¨id\nuser â è¿ç¨ææè\npr â è¿ç¨ä¼åçº§\nni â niceå¼ãè´å¼è¡¨ç¤ºé«ä¼åçº§ï¼æ­£å¼è¡¨ç¤ºä½ä¼åçº§\nvirt â è¿ç¨ä½¿ç¨çèæåå­æ»éï¼åä½kbãvirt=swap+res\nres â è¿ç¨ä½¿ç¨çãæªè¢«æ¢åºçç©çåå­å¤§å°ï¼åä½kbãres=code+data\nshr â å±äº«åå­å¤§å°ï¼åä½kb\ns â è¿ç¨ç¶æãd=ä¸å¯ä¸­æ­çç¡ç ç¶æ r=è¿è¡ s=ç¡ç  t=è·è¸ª/åæ­¢ z=åµå°¸è¿ç¨\n%cpu â ä¸æ¬¡æ´æ°å°ç°å¨çcpuæ¶é´å ç¨ç¾åæ¯\n%mem â è¿ç¨ä½¿ç¨çç©çåå­ç¾åæ¯\ntime+ â è¿ç¨ä½¿ç¨çcpuæ¶é´æ»è®¡ï¼åä½1/100ç§\ncommand â è¿ç¨åç§°ï¼å½ä»¤å/å½ä»¤è¡ï¼\n\n\ntop äº¤äºå½ä»¤\n\nh æ¾ç¤ºtopäº¤äºå½ä»¤å¸®å©ä¿¡æ¯\nc åæ¢æ¾ç¤ºå½ä»¤åç§°åå®æ´å½ä»¤è¡\nm ä»¥åå­ä½¿ç¨çæåº\np æ ¹æ®cpuä½¿ç¨ç¾åæ¯å¤§å°è¿è¡æåº\nt æ ¹æ®æ¶é´/ç´¯è®¡æ¶é´è¿è¡æåº\nw å°å½åè®¾ç½®åå¥~/.toprcæä»¶ä¸­\noæèo æ¹åæ¾ç¤ºé¡¹ç®çé¡ºåº\n\n\n# 3ãkill å½ä»¤\n\nåéæå®çä¿¡å·å°ç¸åºè¿ç¨ãä¸æå®åå·å°åésigtermï¼15ï¼ç»æ­¢æå®è¿ç¨ãå¦æä»»æ æ³ç»æ­¢è¯¥ç¨åºå¯ç¨\"-kill\" åæ°ï¼å¶åéçä¿¡å·ä¸ºsigkill(9) ï¼å°å¼ºå¶ç»æè¿ç¨ï¼ä½¿ç¨pså½ä»¤æèjobs å½ä»¤å¯ä»¥æ¥çè¿ç¨å·ãrootç¨æ·å°å½±åç¨æ·çè¿ç¨ï¼érootç¨æ·åªè½å½±åèªå·±çè¿ç¨ã\n\nå¸¸ç¨åæ°ï¼\n\n-l  ä¿¡å·ï¼è¥æä¸å ä¿¡å·çç¼å·åæ°ï¼åä½¿ç¨â-lâåæ°ä¼ååºå¨é¨çä¿¡å·åç§°\n-a  å½å¤çå½åè¿ç¨æ¶ï¼ä¸éå¶å½ä»¤ååè¿ç¨å·çå¯¹åºå³ç³»\n-p  æå®kill å½ä»¤åªæå°ç¸å³è¿ç¨çè¿ç¨å·ï¼èä¸åéä»»ä½ä¿¡å·\n-s  æå®åéä¿¡å·\n-u  æå®ç¨æ·\n\n\nå®ä¾ï¼\n\n#åä½¿ç¨psæ¥æ¾è¿ç¨pro1ï¼ç¶åç¨killææ\nkill -9 $(ps -ef | grep pro1)\n\n\n# 4ãfree å½ä»¤\n\næ¾ç¤ºç³»ç»åå­ä½¿ç¨æåµï¼åæ¬ç©çåå­ãäº¤äºåºåå­(swap)ååæ ¸ç¼å²åºåå­ã\n\nå½ä»¤åæ°ï¼\n\n-b ä»¥byteæ¾ç¤ºåå­ä½¿ç¨æåµ\n-k ä»¥kbä¸ºåä½æ¾ç¤ºåå­ä½¿ç¨æåµ\n-m ä»¥mbä¸ºåä½æ¾ç¤ºåå­ä½¿ç¨æåµ\n-g ä»¥gbä¸ºåä½æ¾ç¤ºåå­ä½¿ç¨æåµ\n-s<é´éç§æ°> æç»­æ¾ç¤ºåå­\n-t æ¾ç¤ºåå­ä½¿ç¨æ»å\n\n\nå®ä¾ï¼\n\n#æ¾ç¤ºåå­ä½¿ç¨æåµ\nfree\nfree -k\nfree -m\n\n#ä»¥æ»åçå½¢å¼æ¾ç¤ºåå­çä½¿ç¨ä¿¡æ¯\nfree -t\n\n#å¨ææ§æ¥è¯¢åå­ä½¿ç¨æåµ\nfree -s 10\n\n\n\n# äºãæéç¸å³\n\n# 1ãchmod å½ä»¤\n\nç¨äºæ¹å linux ç³»ç»æä»¶æç®å½çè®¿é®æéãç¨å®æ§å¶æä»¶æç®å½çè®¿é®æéãè¯¥å½ä»¤æä¸¤ç§ç¨æ³ãä¸ç§æ¯åå«å­æ¯åæä½ç¬¦è¡¨è¾¾å¼çæå­è®¾å®æ³ï¼å¦ä¸ç§æ¯åå«æ°å­çæ°å­è®¾å®æ³ã\n\næ¯ä¸æä»¶æç®å½çè®¿é®æéé½æä¸ç»ï¼æ¯ç»ç¨ä¸ä½è¡¨ç¤ºï¼åå«ä¸ºæä»¶å±ä¸»çè¯»ãååæ§è¡æéï¼ä¸å±ä¸»åç»çç¨æ·çè¯»ãååæ§è¡æéï¼ç³»ç»ä¸­å¶ä»ç¨æ·çè¯»ãååæ§è¡æéãå¯ä½¿ç¨ ls -l test.txt æ¥æ¾ã\n\nä»¥æä»¶ log2012.log ä¸ºä¾ï¼\n\n-rw-r--r-- 1 root root 296k 11-13 06:03 log2012.log\n\n\nç¬¬ä¸åå±æ 10 ä¸ªä½ç½®ï¼ç¬¬ä¸ä¸ªå­ç¬¦æå®äºæä»¶ç±»åãå¨éå¸¸æä¹ä¸ï¼ä¸ä¸ªç®å½ä¹æ¯ä¸ä¸ªæä»¶ãå¦æç¬¬ä¸ä¸ªå­ç¬¦æ¯æ¨ªçº¿ï¼è¡¨ç¤ºæ¯ä¸ä¸ªéç®å½çæä»¶ãå¦ææ¯ dï¼è¡¨ç¤ºæ¯ä¸ä¸ªç®å½ãä»ç¬¬äºä¸ªå­ç¬¦å¼å§å°ç¬¬åä¸ª 9 ä¸ªå­ç¬¦ï¼3 ä¸ªå­ç¬¦ä¸ç»ï¼åå«è¡¨ç¤ºäº 3 ç»ç¨æ·å¯¹æä»¶æèç®å½çæéãæéå­ç¬¦ç¨æ¨ªçº¿ä»£è¡¨ç©ºè®¸å¯ï¼r ä»£è¡¨åªè¯»ï¼w ä»£è¡¨åï¼x ä»£è¡¨å¯æ§è¡ã\n\nå¸¸ç¨åæ°ï¼\n\n-c å½åçæ¹åæ¶ï¼æ¥åå¤çä¿¡æ¯\n-r å¤çæå®ç®å½ä»¥åå¶å­ç®å½ä¸æææä»¶\n\n\næéèå´ï¼\n\nu ï¼ç®å½æèæä»¶çå½åçç¨æ·\ng ï¼ç®å½æèæä»¶çå½åçç¾¤ç»\no ï¼é¤äºç®å½æèæä»¶çå½åç¨æ·æç¾¤ç»ä¹å¤çç¨æ·æèç¾¤ç»\na ï¼ææçç¨æ·åç¾¤ç»\n\n\næéä»£å·ï¼\n\nr ï¼è¯»æéï¼ç¨æ°å­4è¡¨ç¤º\nw ï¼åæéï¼ç¨æ°å­2è¡¨ç¤º\nx ï¼æ§è¡æéï¼ç¨æ°å­1è¡¨ç¤º\n- ï¼å é¤æéï¼ç¨æ°å­0è¡¨ç¤º\ns ï¼ç¹æ®æé\n\n\nå®ä¾ï¼\n\nï¼1ï¼å¢å æä»¶ t.log ææç¨æ·å¯æ§è¡æé\n\nchmod a+x t.log\n\n\nï¼2ï¼æ¤éåæ¥ææçæéï¼ç¶åä½¿æ¥æèå·æå¯è¯»æé,å¹¶è¾åºå¤çä¿¡æ¯\n\nchmod u=r t.log -c\n\n\nï¼3ï¼ç» file çå±ä¸»åéè¯»ãåãæ§è¡(7)çæéï¼ç»fileçæå¨ç»åéè¯»ãæ§è¡(5)çæéï¼ç»å¶ä»ç¨æ·åéæ§è¡(1)çæé\n\nchmod 751 t.log -cï¼æèï¼chmod u=rwx,g=rx,o=x t.log -c)\n\n\nï¼4ï¼å° test ç®å½åå¶å­ç®å½æææä»¶æ·»å å¯è¯»æé\n\nchmod u+r,g+r,o+r -r text/ -c\n\n\n# 2ãchown å½ä»¤\n\nchown å°æå®æä»¶çæ¥æèæ¹ä¸ºæå®çç¨æ·æç»ï¼ç¨æ·å¯ä»¥æ¯ç¨æ·åæèç¨æ· idï¼ç»å¯ä»¥æ¯ç»åæèç» idï¼æä»¶æ¯ä»¥ç©ºæ ¼åå¼çè¦æ¹åæéçæä»¶åè¡¨ï¼æ¯æééç¬¦ã\n\n-c æ¾ç¤ºæ´æ¹çé¨åçä¿¡æ¯\n-r å¤çæå®ç®å½åå­ç®å½\n\n\nå®ä¾ï¼\n\n#æ¹åæ¥æèåç¾¤ç» å¹¶æ¾ç¤ºæ¹åä¿¡æ¯\nchown -c mail:mail log2012.log\n\n#æ¹åæä»¶ç¾¤ç»\nchown -c :mail t.log\n\n#æ¹åæä»¶å¤¹åå­æä»¶ç®å½å±ä¸»åå±ç»ä¸º mail\nchown -cr mail: test/\n\n\n\n# å­ãç£çç©ºé´\n\n# 1ãdf å½ä»¤\n\næ¾ç¤ºç£çç©ºé´ä½¿ç¨æåµãè·åç¡¬çè¢«å ç¨äºå¤å°ç©ºé´ï¼ç®åè¿å©ä¸å¤å°ç©ºé´ç­ä¿¡æ¯ï¼å¦ææ²¡ææä»¶åè¢«æå®ï¼åææå½åè¢«æè½½çæä»¶ç³»ç»çå¯ç¨ç©ºé´å°è¢«æ¾ç¤ºãé»è®¤æåµä¸ï¼ç£çç©ºé´å°ä»¥ 1kb ä¸ºåä½è¿è¡æ¾ç¤ºï¼é¤éç¯å¢åé posixly_correct è¢«æå®ï¼é£æ ·å°ä»¥512å­èä¸ºåä½è¿è¡æ¾ç¤ºï¼\n\n-a å¨é¨æä»¶ç³»ç»åè¡¨\n-h ä»¥æ¹ä¾¿éè¯»çæ¹å¼æ¾ç¤ºä¿¡æ¯\n-i æ¾ç¤ºinodeä¿¡æ¯\n-k åºåä¸º1024å­è\n-l åªæ¾ç¤ºæ¬å°ç£ç\n-t ååºæä»¶ç³»ç»ç±»å\n\n\nå®ä¾ï¼\n\nï¼1ï¼æ¾ç¤ºç£çä½¿ç¨æåµ\n\n#æ¾ç¤ºç£çä½¿ç¨æåµ\ndf -l\n\n#ä»¥æè¯»æ¹å¼ååºæææä»¶ç³»ç»åå¶ç±»å\ndf -hat\n\n\n# 2ãdu å½ä»¤\n\ndu å½ä»¤ä¹æ¯æ¥çä½¿ç¨ç©ºé´çï¼ä½æ¯ä¸ df å½ä»¤ä¸åçæ¯ linux du å½ä»¤æ¯å¯¹æä»¶åç®å½ç£çä½¿ç¨çç©ºé´çæ¥çï¼\n\nå½ä»¤æ ¼å¼ï¼\n\ndu [éé¡¹] [æä»¶]\n\n\nå¸¸ç¨åæ°ï¼\n\n-a æ¾ç¤ºç®å½ä¸­æææä»¶å¤§å°\n-k ä»¥kbä¸ºåä½æ¾ç¤ºæä»¶å¤§å°\n-m ä»¥mbä¸ºåä½æ¾ç¤ºæä»¶å¤§å°\n-g ä»¥gbä¸ºåä½æ¾ç¤ºæä»¶å¤§å°\n-h ä»¥æè¯»æ¹å¼æ¾ç¤ºæä»¶å¤§å°\n-s ä»æ¾ç¤ºæ»è®¡\n-cæ--total  é¤äºæ¾ç¤ºä¸ªå«ç®å½ææä»¶çå¤§å°å¤ï¼åæ¶ä¹æ¾ç¤ºææç®å½ææä»¶çæ»å\n\n\nå®ä¾ï¼\n\n#ä»¥æè¯»æ¹å¼æ¾ç¤ºæä»¶å¤¹ååå­æä»¶å¤¹å¤§å°\ndu -h scf/\n\n#ä»¥æè¯»æ¹å¼æ¾ç¤ºæä»¶å¤¹åæææä»¶å¤§å°\ndu -ah scf/\n\n#æ¾ç¤ºå ä¸ªæä»¶æç®å½åèªå ç¨ç£çç©ºé´çå¤§å°ï¼è¿ç»è®¡å®ä»¬çæ»å\ndu -hc test/ scf/\n\n#è¾åºå½åç®å½ä¸åä¸ªå­ç®å½æä½¿ç¨çç©ºé´\ndu -hc --max-depth=1 scf/\n\n\n\n# ä¸ãæ¶é´æ¥æç¸å³\n\n# 1ãdate å½ä»¤\n\næ¾ç¤ºæè®¾å®ç³»ç»çæ¥æä¸æ¶é´ã\n\nå½ä»¤åæ°ï¼\n\n-d<å­ç¬¦ä¸²> ãæ¾ç¤ºå­ç¬¦ä¸²ææçæ¥æä¸æ¶é´ãå­ç¬¦ä¸²ååå¿é¡»å ä¸åå¼å·ã\n-s<å­ç¬¦ä¸²> ãæ ¹æ®å­ç¬¦ä¸²æ¥è®¾ç½®æ¥æä¸æ¶é´ãå­ç¬¦ä¸²ååå¿é¡»å ä¸åå¼å·ã\n-u ãæ¾ç¤ºgmtã\n%h å°æ¶(00-23)\n%i å°æ¶(00-12)\n%m åé(ä»¥00-59æ¥è¡¨ç¤º)\n%s æ»ç§æ°ãèµ·ç®æ¶é´ä¸º1970-01-01 00:00:00 utcã\n%s ç§(ä»¥æ¬å°çæ¯ç¨æ³æ¥è¡¨ç¤º)\n%a ææçç¼©åã\n%a ææçå®æ´åç§°ã\n%d æ¥æ(ä»¥01-31æ¥è¡¨ç¤º)ã\n%d æ¥æ(å«å¹´ææ¥)ã\n%m æä»½(ä»¥01-12æ¥è¡¨ç¤º)ã\n%y å¹´ä»½(ä»¥00-99æ¥è¡¨ç¤º)ã\n%y å¹´ä»½(ä»¥åä½æ°æ¥è¡¨ç¤º)ã\n\n\nå®ä¾ï¼\n\ndate +%y%m%d --date=\"+1 day\"  //æ¾ç¤ºä¸ä¸å¤©çæ¥æ\n\n#-dåæ°ä½¿ç¨\ndate -d \"nov 22\"  ä»å¹´ç 11 æ 22 æ¥æ¯ææä¸\ndate -d '2 weeks' 2å¨åçæ¥æ\ndate -d 'next monday' (ä¸å¨ä¸çæ¥æ)\ndate -d next-day +%y%m%dï¼æå¤©çæ¥æï¼æèï¼date -d tomorrow +%y%m%d\ndate -d last-day +%y%m%d(æ¨å¤©çæ¥æ) æèï¼date -d yesterday +%y%m%d\ndate -d last-month +%y%m(ä¸ä¸ªææ¯å æ)\ndate -d next-month +%y%m(ä¸ä¸ªææ¯å æ)\n\n\n# 2ãcal å½ä»¤\n\nå¯ä»¥ç¨æ·æ¾ç¤ºå¬åï¼é³åï¼æ¥åå¦åªæä¸ä¸ªåæ°ï¼åè¡¨ç¤ºå¹´ä»½(1-9999)ï¼å¦æä¸¤ä¸ªåæ°ï¼åè¡¨ç¤ºæä»½åå¹´ä»½ï¼\n\nå¸¸ç¨åæ°ï¼\n\n-3 æ¾ç¤ºåä¸æï¼å½åæï¼åä¸æä¸ä¸ªæçæ¥å\n-m æ¾ç¤ºææä¸ä¸ºç¬¬ä¸å\n-j æ¾ç¤ºå¨å½åå¹´ç¬¬å å¤©\n-y [year]æ¾ç¤ºå½åå¹´[year]ä»½çæ¥å\n\n\nå®ä¾ï¼\n\n#æ¾ç¤ºæå®å¹´ææ¥æ\ncal 9 2012\n\n#æ¾ç¤º2013å¹´æ¯ä¸ªææ¥å\ncal -y 2013\n\n#å°ææä¸åä¸ºç¬¬ä¸å,æ¾ç¤ºåä¸­åä¸æ\ncal -3m\n",charsets:{cjk:!0}},{title:"MySQLå¸¸ç¨å½ä»¤",frontmatter:{title:"MySQLå¸¸ç¨å½ä»¤",date:"2022-01-17T16:35:43.000Z",permalink:"/pages/3c4d4a/",categories:["å­¦ä¹ èµæ","å¸¸ç¨å½ä»¤"],tags:["mysql"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/02.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/04.MySQL%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html",relativePath:"å­¦ä¹ èµæ/02.å¸¸ç¨å½ä»¤/04.MySQLå¸¸ç¨å½ä»¤.md",key:"v-680b3833",path:"/pages/3c4d4a/",headers:[{level:2,title:"MySQLå¸¸ç¨å½ä»¤",slug:"mysqlå¸¸ç¨å½ä»¤",normalizedTitle:"mysqlå¸¸ç¨å½ä»¤",charIndex:2},{level:3,title:"æ°æ®åºç®¡çå½ä»¤",slug:"æ°æ®åºç®¡çå½ä»¤",normalizedTitle:"æ°æ®åºç®¡çå½ä»¤",charIndex:261},{level:3,title:"æ°æ®åºæä½SQLè¯­å¥",slug:"æ°æ®åºæä½sqlè¯­å¥",normalizedTitle:"æ°æ®åºæä½sqlè¯­å¥",charIndex:3098}],headersStr:"MySQLå¸¸ç¨å½ä»¤ æ°æ®åºç®¡çå½ä»¤ æ°æ®åºæä½SQLè¯­å¥",content:"# MySQLå¸¸ç¨å½ä»¤\n\nå°å¸¸ç¨å°çMySQLçä¸äºå½ä»¤å¨è¿éåä¸ªè®°å½ï¼ä¾¿äºæ¥è¯¢åæ´æ°ã\n\nmysqlå®è£å®æä¹åï¼å¨/var/log/mysqld.logæä»¶ä¸­ç»rootçæäºä¸ä¸ªé»è®¤å¯ç ï¼è¿æ¶åç¬¬ä¸æ¬¡ç»å½mysqlæ°æ®åºæ¶éè¦ä¿®æ¹è¿ä¸ªçæçé»è®¤å¯ç ã\n\nsystemctl start mysqld.service å¯å¨\nsystemctl stop mysqld.service åæ­¢\nsystemctl restart mysqld.service éå¯\n\n#mysqléç½®æä»¶\netc/my.cnf \n\n\n\n# æ°æ®åºç®¡çå½ä»¤\n\n# 1ãç»å¥æ°æ®åºç¸å³\n\nç»å½æ°æ®åº\n\n#ç»å½æ°æ®åº\nmysql -h localhost -u root -p dbName\n\n#æ¬å°\nmysql -u root -p\n>è¾å¥å¯ç \n\n\n#æ¥çæ°æ®åºä¿¡æ¯\nselect version();   #æ¥çMySQLå½åççæ¬\nshow databases;     #æ¥çæåªäºæ°æ®åº\nuse testdb;         #åæ¢æ°æ®åº\nshow tables;        #æ¥çè¡¨\nshow engines;       #æ¥çå­å¨å¼æ\n\n\n# 2ãç¨æ·ç¸å³\n\nselect user,host,password from mysql.user; #æ¥è¯¢mysqlæ°æ®åºç¨æ·\n\nCREATE USER 'test@%' IDENTIFIED BY \"123456\";                #åå»ºç¨æ·\nCREATE USER 'username'@'localhost' IDENTIFIED BY 'password';#åå»ºç¨æ·\n\n\n#æä¸ªç¨æ·ä»æå°æºå¨è®¿é®æ¬å°mysqlæå¡å¨\nGRANT ALL ON dbname.tablename to user1@192.168.67.1;        #ç¨æ·ææ\n#mysql8ææï¼\nGRANT SELECT, INSERT ON db.* TO 'username'@'%';             #ç¨æ·ææ\nGRANT ALL PRIVILEGES ON db.* TO 'username'@'localhost';     #ç¨æ·ææ\n\nshow grants for user_name@localhost;                #æ¥çç¨æ·æé\n\n\nALTER USER 'root'@'localhost' IDENTIFIED BY 'password';     #ä¿®æ¹ç¨æ·å¯ç \n\n#ä¸é¢æ°å»ºç¨æ·ï¼ä¿®æ¹ç¨æ·å¯ç ï¼ç»ç¨æ·ææåä½¿ç¨\nflush privileges;                                   #å·æ°æé\n\n\n# 3ãæ°æ®åºéç½®ç¸å³\n\n#åå»ºæ°æ®åº\n#utf8_bin åºåå¤§å°åï¼utf8_general_ci ä¸åºåå¤§å°å\nCREATE DATABASE IF NOT EXISTS test DEFAULT CHARSET utf8 COLLATE utf8_bin; \n\n#æ¥ç MySQL å è½½éç½®æä»¶çé¡ºåº\n#åé¢çéç½®ä¼è¦çåé¢ç¸åçéç½®é¡¹\nmysqld --help --verbose | grep -A 1 'Default options'\n\n#æ¥çMySQLçä¸äºéç½®\n#æ¯å¦æ¥çMySQLçæ°æ®åºæä»¶å­æ¾å¨é£ä¸ªç®å½å°±å¯ä»¥ç¨ä¸é¢çå½ä»¤\nshow variables where Variable_name ='datadir'; \n\n#å³é­æ´æ°æ¶çå®å¨æ¨¡å¼\nSET SQL_SAFE_UPDATES=0;\n\n#å³é­èªå¨æäº¤\nSET AUTOCOMMIT=0; # åªå¯¹å½åä¼è¯çæ\n\n#è®¾ç½®èªå¢ä» 10000 å¼å§\nALTER TABLE tableName AUTO_INCREMENT=10000; \n\n#å³é­å¤é® çº¦æ\nSELECT @@FOREIGN_KEY_CHECKS; \nSET FOREIGN_KEY_CHECKS=1; // å¼å¯å¤é®çº¦æ \nSET FOREIGN_KEY_CHECKS=0; // å³é­å¤é®çº¦æ \n\n#æ¥çå¤§å°åæ¯å¦ææ\n#mysqlä¸­æ§å¶æ°æ®åºååè¡¨åçå¤§å°åææç±åæ°lower_case_table_namesæ§å¶ï¼ä¸º0æ¶è¡¨ç¤ºåºåå¤§å°åï¼ä¸º1æ¶ï¼è¡¨ç¤ºå°åå­è½¬åä¸ºå°ååå­å¨ï¼ä¸åºåå¤§å°åå¹¶ä¸ä»¥_ciï¼å¤§å°åä¸ææï¼ã_csï¼å¤§å°åææï¼æ_bin å¤§å°åææ\nSHOW VARIABLES LIKE '%case%'; \n\n# æ¥çå®è£çplugin\nshow plugins; \n\n\n# 4ãæ¥å¿ç¸å³\n\n#æ¥çåæ°å¼\nshow variables like \"%log%\"; \n\n#æ¥çéè¯¯æ¥å¿çå­æ¾ä½ç½®\nshow variables like '%log_error%';\n\n#å·æ°binlog\n# å¨mysqlä¸­flush logsæä½ä¼çæä¸ä¸ªæ°çbinlogæä»¶ \nflush logs;\n\n#æ¥çæåä¸ä¸ªbinæ¥å¿\nshow master status; \n\n#æ¸ç©ºæææ¥å¿\nreset master; \n\n\n# 5ãæ°æ®åºç©ºé´æ¥ç\n\n#æ¥çæ°æ®åºå ç¨ç©ºé´\nSELECT \n    table_schema,\n    SUM(data_length + index_length) / 1024 / 1024 AS total_mb,\n    SUM(data_length) / 1024 / 1024 AS data_mb,\n    SUM(index_length) / 1024 / 1024 AS index_mb,\n    COUNT(*) AS tables,\n    CURDATE() AS today\nFROM\n    information_schema.tables\nGROUP BY table_schema\nORDER BY 2 DESC; \n\n#æ¥çæä¸ªæ°æ®åºè¡¨ä¸­çæåµ\nSELECT \n    table_name,\n    (data_length / 1024 / 1024) AS data_mb,\n    (index_length / 1024 / 1024) AS index_mb,\n    ((data_length + index_length) / 1024 / 1024) AS all_mb,\n    table_rows\nFROM\n    information_schema.tables\nWHERE\n    table_schema = 'db_name'; \n\n#æ¥çæä¸ªåºçå·ä½æåµ\nshow table status from db_name;\n\n#æ¥çæ°æ®åºä¸­è¡¨ç¢ççæåµ\nSELECT TABLE_SCHEMA\n      ,TABLE_NAME \n      ,ENGINE\n      ,ROUND(((DATA_LENGTH + INDEX_LENGTH) / 1024 / 1024), 2) AS SIZE_MB\n      ,ROUND(DATA_FREE/1024/1024,2) AS FREE_SIZ_MB\nFROM information_schema.TABLES \nWHERE DATA_FREE >=100*1024*1024\nORDER BY FREE_SIZ_MB DESC;\n\n\n\n# æ°æ®åºæä½SQLè¯­å¥\n\n# 1ãè¡¨æä½\n\n#æ¥çåå»ºè¡¨çsqlè¯­å¥\nshow create table t1; \n\n#è¡¨å é¤\ntruncate table1;        #å é¤ä¸å¼ è¡¨éææçæ°æ®\ndrop table table1;      #å é¤ä¸å¼ è¡¨\n\n#è¡¨å¤å¶\ncreate table bs_test2 like bs_test1 # å¤å¶è¡¨ç»æ \nINSERT INTO bs_test1 SELECT * FROM bs_test2; #å¤å¶è¡¨ä¸­çæ°æ® \n\n#ç»è¡¨æ·»å æ³¨é\nALTER TABLE è¡¨å COMMENT 'æ³¨éçåå®¹'\n#æ¥çæä¸ªè¡¨çæ³¨é\nSELECT table_name,table_comment FROM information_schema.tables where table_name='è¡¨å' \n\n#æ¥è¯¢åº æ°æ®åº ä¸­ææç è¡¨ä¿¡æ¯\nselect table_name from information_schema.tables where table_schema='æ°æ®åºå' and table_type='base table'; select * from information_schema.tables where table_schema='æ°æ®åºå' and table_type='base table'; \n\n#æ¥çä¸å¼ è¡¨ æ ä¸æ¡sqlè¯­å¥çæ§è¡æåµ\n(DESC æ EXPLAIN) DESC SELECT * FROM bs_member DESC bs_member\n\n\n#åå»º json åï¼åå»ºèæå user_nameï¼address\nCREATE TABLE `test` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `info` json NOT NULL,\n  `user_name` varchar(128) GENERATED ALWAYS AS (json_extract(`info`,'$.name')) VIRTUAL,\n  `address` varchar(128) GENERATED ALWAYS AS (json_extract(`info`,'$.address')) STORED,\n  PRIMARY KEY (`id`),\n  KEY `user_name_index` (`user_name`)\n) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8\n\n\n# 2ãè¡¨æ¥è¯¢\n\n#æåº\nSELECT * FROM `tableName` ORDER BY colName desc, colName asc \n#å°å­ç¬¦åç æ°å­ï¼ID_ï¼è½¬ææ°å­æ¥æåº +0 æ *1\nSELECT * FROM `tableName` order by ID_+0 asc; \n\n#åç»\nSELECT `colName `,count(*) as total FROM `tableName` GROUP BY colName \n\n#æ¥è¯¢ æå 10 æ¡æ°æ®ï¼id èªå¢ï¼\nselect * from wy_user order by id desc limit 10;\n\n#ææä¸åçå¼çé¿åº¦æ¥æ¾ï¼UTF8 ç¼ç ä¸­æé¿åº¦ä¸º 3\nSELECT * FROM `bs_member` WHERE city like '%åäº¬%' and length(city) > 7\n\n\n#æ¥è¯¢éå¤è®°å½\nSELECT\n    id,email\nFROM\n    wy_user2\nWHERE\n    id IN (\n        SELECT\n            id\n        FROM\n            wy_user2\n        GROUP BY\n            email\n        HAVING\n            count(email) > 1\n    )\n    \n    \n#å é¤éå¤è®°å½ï¼å¹¶ä¿çidæå°çè®°å½\ndelete from wy_user2 where id not in (select minid from (select min(id) as minid from wy_user2 group by email) b);\n\n\n# 3ãç´¢å¼ç¸å³\n\n#æ·»å ä¸»é®ç´¢å¼\n#å® æ¯ä¸ç§ç¹æ®çå¯ä¸ç´¢å¼ï¼ä¸åè®¸æç©ºå¼\nALTER TABLE `table_name` ADD PRIMARY KEY ( `column` ) \n\n#æ·»å å¯ä¸ç´¢å¼\n#ä¸\"æ®éç´¢å¼\"ç±»ä¼¼ï¼ä¸åçå°±æ¯ï¼ç´¢å¼åçå¼å¿é¡»å¯ä¸ï¼ä½åè®¸æç©ºå¼ã\nALTER TABLE `table_name` ADD UNIQUE ( `column` ) \n\n#æ·»å æ®éç´¢å¼\nALTER TABLE `table_name` ADD INDEX index_name ( `column` ) \nALTER TABLE `table_name` ADD INDEX index_name ( `column1`, `column2`, `column3` ) \n\n#æ·»å å¨æç´¢å¼\n#ä»å¯ç¨äº MyISAM è¡¨ï¼éå¯¹è¾å¤§çæ°æ®ï¼çæå¨æç´¢å¼å¾èæ¶å¥½ç©ºé´ (éç¨äºï¼å¤§åæ°æ®ï¼å¦æç« åå®¹)\nALTER TABLE `table_name` ADD FULLTEXT ( `column`) \n\n#æ¥çè¡¨çç´¢å¼ä¿¡æ¯\nshow index from table1\n\n#å é¤ç´¢å¼\nDROP INDEX index_name ON table_name \n\n#æ¥è¯¢æ¶ç¦æ­¢ä½¿ç¨ä¸»é®ç´¢å¼\nselect * from tableName ignore index(PRI)\n\n#æ¥è¯¢æ¶ç¦æ­¢ä½¿ç¨æäºç´¢å¼\nselect * from tableName ignore index(PRI, indexName) \n\n#æ¥è¯¢æ¶å¼ºå¶ä½¿ç¨ä¸»é®ç´¢å¼\nselect * from tableName force index(PRI)\n\n#æ¥è¯¢æ¶å¼ºå¶ä½¿ç¨æäºç´¢å¼\nselect * from tableName force index(PRI, indexName)\n\n\n\n# 4ãæ°æ®å¤ä»½ä¸å¯¼å¥\n\n#æ°æ®åºå¤ä»½\n/usr/local/mysql/bin/mysqldump -u root -p lemon > lemon.sql /usr/local/mysql/bin/mysqldump -u root -p dbName tableName --where=\"...\" > table.sql \n\n#å° CSV æä»¶å¯¼å¥ Mysql ä¸­\nLOAD DATA LOCAL INFILE '/home/db-friend/aff11.csv' into table user1 FIELDS TERMINATED BY ',' lines terminated by '\\n' ignore 1 lines (pwsid,email,country,sex,birthday,state,zip,ip); \n",normalizedContent:"# mysqlå¸¸ç¨å½ä»¤\n\nå°å¸¸ç¨å°çmysqlçä¸äºå½ä»¤å¨è¿éåä¸ªè®°å½ï¼ä¾¿äºæ¥è¯¢åæ´æ°ã\n\nmysqlå®è£å®æä¹åï¼å¨/var/log/mysqld.logæä»¶ä¸­ç»rootçæäºä¸ä¸ªé»è®¤å¯ç ï¼è¿æ¶åç¬¬ä¸æ¬¡ç»å½mysqlæ°æ®åºæ¶éè¦ä¿®æ¹è¿ä¸ªçæçé»è®¤å¯ç ã\n\nsystemctl start mysqld.service å¯å¨\nsystemctl stop mysqld.service åæ­¢\nsystemctl restart mysqld.service éå¯\n\n#mysqléç½®æä»¶\netc/my.cnf \n\n\n\n# æ°æ®åºç®¡çå½ä»¤\n\n# 1ãç»å¥æ°æ®åºç¸å³\n\nç»å½æ°æ®åº\n\n#ç»å½æ°æ®åº\nmysql -h localhost -u root -p dbname\n\n#æ¬å°\nmysql -u root -p\n>è¾å¥å¯ç \n\n\n#æ¥çæ°æ®åºä¿¡æ¯\nselect version();   #æ¥çmysqlå½åççæ¬\nshow databases;     #æ¥çæåªäºæ°æ®åº\nuse testdb;         #åæ¢æ°æ®åº\nshow tables;        #æ¥çè¡¨\nshow engines;       #æ¥çå­å¨å¼æ\n\n\n# 2ãç¨æ·ç¸å³\n\nselect user,host,password from mysql.user; #æ¥è¯¢mysqlæ°æ®åºç¨æ·\n\ncreate user 'test@%' identified by \"123456\";                #åå»ºç¨æ·\ncreate user 'username'@'localhost' identified by 'password';#åå»ºç¨æ·\n\n\n#æä¸ªç¨æ·ä»æå°æºå¨è®¿é®æ¬å°mysqlæå¡å¨\ngrant all on dbname.tablename to user1@192.168.67.1;        #ç¨æ·ææ\n#mysql8ææï¼\ngrant select, insert on db.* to 'username'@'%';             #ç¨æ·ææ\ngrant all privileges on db.* to 'username'@'localhost';     #ç¨æ·ææ\n\nshow grants for user_name@localhost;                #æ¥çç¨æ·æé\n\n\nalter user 'root'@'localhost' identified by 'password';     #ä¿®æ¹ç¨æ·å¯ç \n\n#ä¸é¢æ°å»ºç¨æ·ï¼ä¿®æ¹ç¨æ·å¯ç ï¼ç»ç¨æ·ææåä½¿ç¨\nflush privileges;                                   #å·æ°æé\n\n\n# 3ãæ°æ®åºéç½®ç¸å³\n\n#åå»ºæ°æ®åº\n#utf8_bin åºåå¤§å°åï¼utf8_general_ci ä¸åºåå¤§å°å\ncreate database if not exists test default charset utf8 collate utf8_bin; \n\n#æ¥ç mysql å è½½éç½®æä»¶çé¡ºåº\n#åé¢çéç½®ä¼è¦çåé¢ç¸åçéç½®é¡¹\nmysqld --help --verbose | grep -a 1 'default options'\n\n#æ¥çmysqlçä¸äºéç½®\n#æ¯å¦æ¥çmysqlçæ°æ®åºæä»¶å­æ¾å¨é£ä¸ªç®å½å°±å¯ä»¥ç¨ä¸é¢çå½ä»¤\nshow variables where variable_name ='datadir'; \n\n#å³é­æ´æ°æ¶çå®å¨æ¨¡å¼\nset sql_safe_updates=0;\n\n#å³é­èªå¨æäº¤\nset autocommit=0; # åªå¯¹å½åä¼è¯çæ\n\n#è®¾ç½®èªå¢ä» 10000 å¼å§\nalter table tablename auto_increment=10000; \n\n#å³é­å¤é® çº¦æ\nselect @@foreign_key_checks; \nset foreign_key_checks=1; // å¼å¯å¤é®çº¦æ \nset foreign_key_checks=0; // å³é­å¤é®çº¦æ \n\n#æ¥çå¤§å°åæ¯å¦ææ\n#mysqlä¸­æ§å¶æ°æ®åºååè¡¨åçå¤§å°åææç±åæ°lower_case_table_namesæ§å¶ï¼ä¸º0æ¶è¡¨ç¤ºåºåå¤§å°åï¼ä¸º1æ¶ï¼è¡¨ç¤ºå°åå­è½¬åä¸ºå°ååå­å¨ï¼ä¸åºåå¤§å°åå¹¶ä¸ä»¥_ciï¼å¤§å°åä¸ææï¼ã_csï¼å¤§å°åææï¼æ_bin å¤§å°åææ\nshow variables like '%case%'; \n\n# æ¥çå®è£çplugin\nshow plugins; \n\n\n# 4ãæ¥å¿ç¸å³\n\n#æ¥çåæ°å¼\nshow variables like \"%log%\"; \n\n#æ¥çéè¯¯æ¥å¿çå­æ¾ä½ç½®\nshow variables like '%log_error%';\n\n#å·æ°binlog\n# å¨mysqlä¸­flush logsæä½ä¼çæä¸ä¸ªæ°çbinlogæä»¶ \nflush logs;\n\n#æ¥çæåä¸ä¸ªbinæ¥å¿\nshow master status; \n\n#æ¸ç©ºæææ¥å¿\nreset master; \n\n\n# 5ãæ°æ®åºç©ºé´æ¥ç\n\n#æ¥çæ°æ®åºå ç¨ç©ºé´\nselect \n    table_schema,\n    sum(data_length + index_length) / 1024 / 1024 as total_mb,\n    sum(data_length) / 1024 / 1024 as data_mb,\n    sum(index_length) / 1024 / 1024 as index_mb,\n    count(*) as tables,\n    curdate() as today\nfrom\n    information_schema.tables\ngroup by table_schema\norder by 2 desc; \n\n#æ¥çæä¸ªæ°æ®åºè¡¨ä¸­çæåµ\nselect \n    table_name,\n    (data_length / 1024 / 1024) as data_mb,\n    (index_length / 1024 / 1024) as index_mb,\n    ((data_length + index_length) / 1024 / 1024) as all_mb,\n    table_rows\nfrom\n    information_schema.tables\nwhere\n    table_schema = 'db_name'; \n\n#æ¥çæä¸ªåºçå·ä½æåµ\nshow table status from db_name;\n\n#æ¥çæ°æ®åºä¸­è¡¨ç¢ççæåµ\nselect table_schema\n      ,table_name \n      ,engine\n      ,round(((data_length + index_length) / 1024 / 1024), 2) as size_mb\n      ,round(data_free/1024/1024,2) as free_siz_mb\nfrom information_schema.tables \nwhere data_free >=100*1024*1024\norder by free_siz_mb desc;\n\n\n\n# æ°æ®åºæä½sqlè¯­å¥\n\n# 1ãè¡¨æä½\n\n#æ¥çåå»ºè¡¨çsqlè¯­å¥\nshow create table t1; \n\n#è¡¨å é¤\ntruncate table1;        #å é¤ä¸å¼ è¡¨éææçæ°æ®\ndrop table table1;      #å é¤ä¸å¼ è¡¨\n\n#è¡¨å¤å¶\ncreate table bs_test2 like bs_test1 # å¤å¶è¡¨ç»æ \ninsert into bs_test1 select * from bs_test2; #å¤å¶è¡¨ä¸­çæ°æ® \n\n#ç»è¡¨æ·»å æ³¨é\nalter table è¡¨å comment 'æ³¨éçåå®¹'\n#æ¥çæä¸ªè¡¨çæ³¨é\nselect table_name,table_comment from information_schema.tables where table_name='è¡¨å' \n\n#æ¥è¯¢åº æ°æ®åº ä¸­ææç è¡¨ä¿¡æ¯\nselect table_name from information_schema.tables where table_schema='æ°æ®åºå' and table_type='base table'; select * from information_schema.tables where table_schema='æ°æ®åºå' and table_type='base table'; \n\n#æ¥çä¸å¼ è¡¨ æ ä¸æ¡sqlè¯­å¥çæ§è¡æåµ\n(desc æ explain) desc select * from bs_member desc bs_member\n\n\n#åå»º json åï¼åå»ºèæå user_nameï¼address\ncreate table `test` (\n  `id` int(11) not null auto_increment,\n  `info` json not null,\n  `user_name` varchar(128) generated always as (json_extract(`info`,'$.name')) virtual,\n  `address` varchar(128) generated always as (json_extract(`info`,'$.address')) stored,\n  primary key (`id`),\n  key `user_name_index` (`user_name`)\n) engine=innodb auto_increment=4 default charset=utf8\n\n\n# 2ãè¡¨æ¥è¯¢\n\n#æåº\nselect * from `tablename` order by colname desc, colname asc \n#å°å­ç¬¦åç æ°å­ï¼id_ï¼è½¬ææ°å­æ¥æåº +0 æ *1\nselect * from `tablename` order by id_+0 asc; \n\n#åç»\nselect `colname `,count(*) as total from `tablename` group by colname \n\n#æ¥è¯¢ æå 10 æ¡æ°æ®ï¼id èªå¢ï¼\nselect * from wy_user order by id desc limit 10;\n\n#ææä¸åçå¼çé¿åº¦æ¥æ¾ï¼utf8 ç¼ç ä¸­æé¿åº¦ä¸º 3\nselect * from `bs_member` where city like '%åäº¬%' and length(city) > 7\n\n\n#æ¥è¯¢éå¤è®°å½\nselect\n    id,email\nfrom\n    wy_user2\nwhere\n    id in (\n        select\n            id\n        from\n            wy_user2\n        group by\n            email\n        having\n            count(email) > 1\n    )\n    \n    \n#å é¤éå¤è®°å½ï¼å¹¶ä¿çidæå°çè®°å½\ndelete from wy_user2 where id not in (select minid from (select min(id) as minid from wy_user2 group by email) b);\n\n\n# 3ãç´¢å¼ç¸å³\n\n#æ·»å ä¸»é®ç´¢å¼\n#å® æ¯ä¸ç§ç¹æ®çå¯ä¸ç´¢å¼ï¼ä¸åè®¸æç©ºå¼\nalter table `table_name` add primary key ( `column` ) \n\n#æ·»å å¯ä¸ç´¢å¼\n#ä¸\"æ®éç´¢å¼\"ç±»ä¼¼ï¼ä¸åçå°±æ¯ï¼ç´¢å¼åçå¼å¿é¡»å¯ä¸ï¼ä½åè®¸æç©ºå¼ã\nalter table `table_name` add unique ( `column` ) \n\n#æ·»å æ®éç´¢å¼\nalter table `table_name` add index index_name ( `column` ) \nalter table `table_name` add index index_name ( `column1`, `column2`, `column3` ) \n\n#æ·»å å¨æç´¢å¼\n#ä»å¯ç¨äº myisam è¡¨ï¼éå¯¹è¾å¤§çæ°æ®ï¼çæå¨æç´¢å¼å¾èæ¶å¥½ç©ºé´ (éç¨äºï¼å¤§åæ°æ®ï¼å¦æç« åå®¹)\nalter table `table_name` add fulltext ( `column`) \n\n#æ¥çè¡¨çç´¢å¼ä¿¡æ¯\nshow index from table1\n\n#å é¤ç´¢å¼\ndrop index index_name on table_name \n\n#æ¥è¯¢æ¶ç¦æ­¢ä½¿ç¨ä¸»é®ç´¢å¼\nselect * from tablename ignore index(pri)\n\n#æ¥è¯¢æ¶ç¦æ­¢ä½¿ç¨æäºç´¢å¼\nselect * from tablename ignore index(pri, indexname) \n\n#æ¥è¯¢æ¶å¼ºå¶ä½¿ç¨ä¸»é®ç´¢å¼\nselect * from tablename force index(pri)\n\n#æ¥è¯¢æ¶å¼ºå¶ä½¿ç¨æäºç´¢å¼\nselect * from tablename force index(pri, indexname)\n\n\n\n# 4ãæ°æ®å¤ä»½ä¸å¯¼å¥\n\n#æ°æ®åºå¤ä»½\n/usr/local/mysql/bin/mysqldump -u root -p lemon > lemon.sql /usr/local/mysql/bin/mysqldump -u root -p dbname tablename --where=\"...\" > table.sql \n\n#å° csv æä»¶å¯¼å¥ mysql ä¸­\nload data local infile '/home/db-friend/aff11.csv' into table user1 fields terminated by ',' lines terminated by '\\n' ignore 1 lines (pwsid,email,country,sex,birthday,state,zip,ip); \n",charsets:{cjk:!0}},{title:"Nginxå¸¸ç¨å½ä»¤",frontmatter:{title:"Nginxå¸¸ç¨å½ä»¤",date:"2022-01-17T16:35:43.000Z",permalink:"/pages/a1ed3d/",categories:["å­¦ä¹ èµæ","å¸¸ç¨å½ä»¤"],tags:["nginx"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/02.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/05.Nginx%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html",relativePath:"å­¦ä¹ èµæ/02.å¸¸ç¨å½ä»¤/05.Nginxå¸¸ç¨å½ä»¤.md",key:"v-097f0cda",path:"/pages/a1ed3d/",headers:[{level:2,title:"nginxå¸¸ç¨å½ä»¤",slug:"nginxå¸¸ç¨å½ä»¤",normalizedTitle:"nginxå¸¸ç¨å½ä»¤",charIndex:2},{level:3,title:"å¸¸ç¨å½ä»¤",slug:"å¸¸ç¨å½ä»¤",normalizedTitle:"å¸¸ç¨å½ä»¤",charIndex:7},{level:3,title:"å®è£éç½®æç¨",slug:"å®è£éç½®æç¨",normalizedTitle:"å®è£éç½®æç¨",charIndex:403},{level:3,title:"nginxå¯è§åéç½®é¡¹ç®",slug:"nginxå¯è§åéç½®é¡¹ç®",normalizedTitle:"nginxå¯è§åéç½®é¡¹ç®",charIndex:496}],headersStr:"nginxå¸¸ç¨å½ä»¤ å¸¸ç¨å½ä»¤ å®è£éç½®æç¨ nginxå¯è§åéç½®é¡¹ç®",content:"# nginxå¸¸ç¨å½ä»¤\n\n\n# å¸¸ç¨å½ä»¤\n\næ¥ç Nginx å¯å¨ç¶æ\n\nps -ef | grep nginx\n\n\næ£æ¥éç½®æä»¶nginx.confçæ­£ç¡®æ§å½ä»¤\n\n/usr/local/webserver/nginx/sbin/nginx -t\n\n\nå¯å¨ Nginx\n\n/usr/local/webserver/nginx/sbin/nginx\n\n\nNginx å¶ä»å½ä»¤\n\n/usr/local/webserver/nginx/sbin/nginx -s reload            # éæ°è½½å¥éç½®æä»¶\n/usr/local/webserver/nginx/sbin/nginx -s reopen            # éå¯ Nginx\n/usr/local/webserver/nginx/sbin/nginx -s stop              # åæ­¢ Nginx\n\n\n\n# å®è£éç½®æç¨\n\nnginxå®æ¹ç½ç«\n\nèé¸ngnixå®è£æç¨\n\nnginx githubç«ç¹ https://github.com/nginx/nginx\n\nnginxä¸­æææ¡£\n\n\n# nginxå¯è§åéç½®é¡¹ç®\n\nnginxconfig.io\n\nnginxWebUI",normalizedContent:"# nginxå¸¸ç¨å½ä»¤\n\n\n# å¸¸ç¨å½ä»¤\n\næ¥ç nginx å¯å¨ç¶æ\n\nps -ef | grep nginx\n\n\næ£æ¥éç½®æä»¶nginx.confçæ­£ç¡®æ§å½ä»¤\n\n/usr/local/webserver/nginx/sbin/nginx -t\n\n\nå¯å¨ nginx\n\n/usr/local/webserver/nginx/sbin/nginx\n\n\nnginx å¶ä»å½ä»¤\n\n/usr/local/webserver/nginx/sbin/nginx -s reload            # éæ°è½½å¥éç½®æä»¶\n/usr/local/webserver/nginx/sbin/nginx -s reopen            # éå¯ nginx\n/usr/local/webserver/nginx/sbin/nginx -s stop              # åæ­¢ nginx\n\n\n\n# å®è£éç½®æç¨\n\nnginxå®æ¹ç½ç«\n\nèé¸ngnixå®è£æç¨\n\nnginx githubç«ç¹ https://github.com/nginx/nginx\n\nnginxä¸­æææ¡£\n\n\n# nginxå¯è§åéç½®é¡¹ç®\n\nnginxconfig.io\n\nnginxwebui",charsets:{cjk:!0}},{title:"åºç¡ç¥è¯",frontmatter:{title:"åºç¡ç¥è¯",date:"2022-04-13T15:40:42.000Z",permalink:"/pages/07cc6a/",categories:["å­¦ä¹ èµæ","Java","Javaåºç¡"],tags:[null]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/01.Java%E5%9F%BA%E7%A1%80/01.%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html",relativePath:"å­¦ä¹ èµæ/03.Java/01.Javaåºç¡/01.åºç¡ç¥è¯.md",key:"v-0967cebd",path:"/pages/07cc6a/",headers:[{level:2,title:"ç±»åå¯¹è±¡",slug:"ç±»åå¯¹è±¡",normalizedTitle:"ç±»åå¯¹è±¡",charIndex:2},{level:3,title:"ç±»",slug:"ç±»",normalizedTitle:"ç±»",charIndex:2},{level:3,title:"å¯¹è±¡",slug:"å¯¹è±¡",normalizedTitle:"å¯¹è±¡",charIndex:4},{level:2,title:"æ½è±¡ç±»ä¸æ¥å£",slug:"æ½è±¡ç±»ä¸æ¥å£",normalizedTitle:"æ½è±¡ç±»ä¸æ¥å£",charIndex:1293},{level:3,title:"æ½è±¡ç±»",slug:"æ½è±¡ç±»",normalizedTitle:"æ½è±¡ç±»",charIndex:1293},{level:3,title:"æ¥å£",slug:"æ¥å£",normalizedTitle:"æ¥å£",charIndex:1297},{level:3,title:"æ¥å£åæ½è±¡ç±»çåºå«",slug:"æ¥å£åæ½è±¡ç±»çåºå«",normalizedTitle:"æ¥å£åæ½è±¡ç±»çåºå«",charIndex:2961},{level:2,title:"æéå£°æ",slug:"æéå£°æ",normalizedTitle:"æéå£°æ",charIndex:3071},{level:2,title:"å³é®å­",slug:"å³é®å­",normalizedTitle:"å³é®å­",charIndex:1330},{level:3,title:"Java å³é®å­",slug:"java-å³é®å­",normalizedTitle:"java å³é®å­",charIndex:3590},{level:3,title:"static",slug:"static",normalizedTitle:"static",charIndex:141},{level:3,title:"final",slug:"final",normalizedTitle:"final",charIndex:3869},{level:2,title:"éè½½ä¸éå",slug:"éè½½ä¸éå",normalizedTitle:"éè½½ä¸éå",charIndex:5605},{level:3,title:"éè½½ï¼Overloadï¼",slug:"éè½½-overload",normalizedTitle:"éè½½ï¼overloadï¼",charIndex:5615},{level:3,title:"éåï¼Overrideï¼",slug:"éå-override",normalizedTitle:"éåï¼overrideï¼",charIndex:5708},{level:2,title:"åæ°ä¼ é",slug:"åæ°ä¼ é",normalizedTitle:"åæ°ä¼ é",charIndex:5882}],headersStr:"ç±»åå¯¹è±¡ ç±» å¯¹è±¡ æ½è±¡ç±»ä¸æ¥å£ æ½è±¡ç±» æ¥å£ æ¥å£åæ½è±¡ç±»çåºå« æéå£°æ å³é®å­ Java å³é®å­ static final éè½½ä¸éå éè½½ï¼Overloadï¼ éåï¼Overrideï¼ åæ°ä¼ é",content:'# ç±»åå¯¹è±¡\n\n\n# ç±»\n\nå¯¹è±¡çç±»åï¼å®ä¹å¯¹è±¡å«æçåéåæ¹æ³ã\n\npublic class Car {     \n    // åé\n    String brand;\n    String description = "this is a car";\n    \n    // static åé \n    static int number_of_car;  \n    \n    // æé æ¹æ³\n    public car(String brand){        \n        this.brand = brand;\n    } \n    \n    // æ¹æ³  \n    public void go(String loc){\n        System.out.print("go to" + loc);\n    }   \n    \n    // static æ¹æ³\n    void static showNum(){            \n        System.out.print(number_of_car);\n    }\n    \n    // åå§åå\n    {       \n        number_of_car;                                      \n    }\n    \n    // static åå§åå\n    static{                                                              \n        number_of_car = 0;\n    }\n    \n    // åé¨ç±»\n    public class Warranty{\n        public void repair(){\n            System.out.print("repair");\n        }    \n    }\n}\n\n\n * åé\n\nå¯¹è±¡ä¸­å­å¨çæ°æ®ã\n\n * æ¹æ³\n\nè°ç¨æ¶æ§è¡çä»£ç ã\n\n * åå§åå\n\nåå»ºå¯¹è±¡åèªå¨æ§è¡çä»£ç ã\n\n * åé¨ç±»\n\nå®ä¹å¨ç±»ä¸­çç±»ã\n\n * æé æ¹æ³\n\nå¨åå»ºå¯¹è±¡æ¶èªå¨æ§è¡ï¼ä¸è¿åä»»ä½åæ°ï¼åæ§è¡åå§ååï¼åæ§è¡æé æ¹æ³ï¼ã\n\næªå®ä¹ä»»ä½æé æ¹æ³æ¶ï¼ç³»ç»ä¼èªå¨æ·»å æ åæé æ¹æ³ã\n\n\n# å¯¹è±¡\n\njava æ¯é¢åå¯¹è±¡çè¯­è¨ï¼å¯¹è±¡åå«äºç¶æåè¡ä¸ºï¼ç¨æ·éè¿è°ç¨å¯¹è±¡çæ¹æ³ãæ¹åå¯¹è±¡çå±æ§æ¥å®ç° java ç¨åºçåè½ã\n\nCar myCar = new Car("BMW");                             // åå»ºå¯¹è±¡       \nmyCar.brand = "Benz";                                   // ä¿®æ¹å¯¹è±¡åé                   \nmyCar.go("London");                                     // è°ç¨å¯¹è±¡æ¹æ³\n\n\n\n# æ½è±¡ç±»ä¸æ¥å£\n\n\n# æ½è±¡ç±»\n\næ½è±¡ç±»åæ½è±¡æ¹æ³é½ä½¿ç¨ abstract å³é®å­è¿è¡å£°æãæ½è±¡ç±»ä¸è¬ä¼åå«æ½è±¡æ¹æ³ï¼æ½è±¡æ¹æ³ä¸å®ä½äºæ½è±¡ç±»ä¸­ã\næ½è±¡ç±»åæ®éç±»æå¤§çåºå«æ¯ï¼æ½è±¡ç±»ä¸è½è¢«å®ä¾åï¼éè¦ç»§æ¿æ½è±¡ç±»æè½å®ä¾åå¶å­ç±»ã\n\npublic class Test {\n\n    public static void main(String[] args) {\n        AbstractClassExample ac2 = new AbstractExtendClassExample();\n        ac2.func1();\n    }\n\n    public static abstract class AbstractClassExample {\n\n        protected int x;\n        private int y;\n\n        public abstract void func1();\n\n        public void func2() {\n            System.out.println("func2");\n        }\n    }\n\n    public static class AbstractExtendClassExample extends AbstractClassExample {\n        @Override\n        public void func1() {\n            System.out.println("func1");\n        }\n    }\n}\n\n\n\n# æ¥å£\n\nJDK 1.8 ä»¥åï¼æ¥å£ä¸­æ½è±¡æ¹æ³å¿é¡»ä¸é»è®¤ä¸º publicï¼ä¸åè®¸å®ç°ä»»ä½æ¹æ³ã\nJDK 1.8 å¼å§ï¼æ¥å£ä¸­æ½è±¡æ¹æ³å¯ä»¥ä¸é»è®¤ä¸º defaultï¼ä¸åè®¸å®ç° static å default æ¹æ³ã\nJDK 1.9 å¼å§ï¼æ¥å£ä¸­æ½è±¡æ¹æ³å¯ä»¥æ¯ privateã\n\npublic class Test {\n\n    public static void main(String[] args) {\n        InterfaceExample ie2 = new InterfaceImplementExample();\n        ie2.func1();\n        System.out.println(InterfaceExample.x);\n\n    }\n\n    public interface InterfaceExample {\n        void func1();\n\n        default void func2(){\n            System.out.println("func2");\n        }\n\n        int x = 123;\n        // int y;               // \'y\' æ²¡æåå§å\n        public int z = 0;       // å¨æ¥å£ç§ public æ¯å¤ä½ç\n        // private int k = 0;   // å¨æ¥å£ç§ä¸æ¯æ private\n        // protected int l = 0; // å¨æ¥å£ç§ä¸æ¯æ protected\n        // private void fun3(); // å¨æ¥å£ç§ä¸æ¯æ private\n    }\n\n    public static class InterfaceImplementExample implements InterfaceExample {\n        @Override\n        public void func1() {\n            System.out.println("func1");\n        }\n    }\n\n}\n\n\n\n# æ¥å£åæ½è±¡ç±»çåºå«\n\n 1. æ¥å£ä¸è½å®ç°æ®éæ¹æ³ï¼æ½è±¡ç±»å¯ä»¥å®ç°å·ä½çæ¹æ³ãä¹å¯ä»¥ä¸å®ç°ã\n 2. æ¥å£åªè½å®ä¹éæå¸¸éï¼æ½è±¡ç±»å¯ä»¥å®ä¹ééæåéã\n 3. ä¸ä¸ªå®ä½ç±»å¯ä»¥å®ç°å¤ä¸ªæ¥å£ï¼ä½åªè½ç»§æ¿ä¸ä¸ªæ½è±¡ç±»ã\n\n\n# æéå£°æ\n\nJavaä¸­ï¼å¯ä»¥ä½¿ç¨è®¿é®æ§å¶ç¬¦æ¥ä¿æ¤å¯¹ç±»ãåéãæ¹æ³åæé æ¹æ³çè®¿é®ãJava æ¯æ 4 ç§ä¸åçè®¿é®æéã\n\n * default (å³é»è®¤ï¼ä»ä¹ä¹ä¸åï¼: å¨åä¸ååå¯è§ï¼ä¸ä½¿ç¨ä»»ä½ä¿®é¥°ç¬¦ãä½¿ç¨å¯¹è±¡ï¼ç±»ãæ¥å£ãåéãæ¹æ³ã\n * private : å¨åä¸ç±»åå¯è§ãä½¿ç¨å¯¹è±¡ï¼åéãæ¹æ³ã æ³¨æï¼ä¸è½ä¿®é¥°ç±»ï¼å¤é¨ç±»ï¼\n * public : å¯¹ææç±»å¯è§ãä½¿ç¨å¯¹è±¡ï¼ç±»ãæ¥å£ãåéãæ¹æ³\n * protected : å¯¹åä¸ååçç±»åææå­ç±»å¯è§ãä½¿ç¨å¯¹è±¡ï¼åéãæ¹æ³ã æ³¨æï¼ä¸è½ä¿®é¥°ç±»ï¼å¤é¨ç±»ï¼ã\n\nä¿®é¥°ç¬¦         å½åç±»   åä¸åå   å­å­ç±»(åä¸å)   å­å­ç±»(ä¸åå)   å¶ä»å\npublic      Y     Y      Y          Y          Y\nprotected   Y     Y      Y          Y/N        N\ndefault     Y     Y      Y          N          N\nprivate     Y     N      N          N          N\n\n\n# å³é®å­\n\n\n# Java å³é®å­\n\nç±»å«           å³é®å­            è¯´æ\nè®¿é®æ§å¶         private        ç§æç\n             protected      åä¿æ¤ç\n             public         å¬å±ç\n             default        é»è®¤\nç±»ãæ¹æ³ååéä¿®é¥°ç¬¦   abstract       å£°ææ½è±¡\n             class          ç±»\n             extends        æ©å,ç»§æ¿\n             final          æç»å¼,ä¸å¯æ¹åç\n             implements     å®ç°ï¼æ¥å£ï¼\n             interface      æ¥å£\n             native         æ¬å°ï¼åçæ¹æ³ï¼é Java å®ç°ï¼\n             new            æ°,åå»º\n             static         éæ\n             strictfp       ä¸¥æ ¼,ç²¾å\n             synchronized   çº¿ç¨,åæ­¥\n             transient      ç­æ\n             volatile       æå¤±\nç¨åºæ§å¶è¯­å¥       break          è·³åºå¾ªç¯\n             case           å®ä¹ä¸ä¸ªå¼ä»¥ä¾ switch éæ©\n             continue       ç»§ç»­\n             default        é»è®¤\n             do             è¿è¡\n             else           å¦å\n             for            å¾ªç¯\n             if             å¦æ\n             instanceof     å®ä¾\n             return         è¿å\n             switch         æ ¹æ®å¼éæ©æ§è¡\n             while          å¾ªç¯\néè¯¯å¤ç         assert         æ­è¨è¡¨è¾¾å¼æ¯å¦ä¸ºç\n             catch          ææå¼å¸¸\n             finally        ææ²¡æå¼å¸¸é½æ§è¡\n             throw          æåºä¸ä¸ªå¼å¸¸å¯¹è±¡\n             throws         å£°æä¸ä¸ªå¼å¸¸å¯è½è¢«æåº\n             try            æè·å¼å¸¸\nåç¸å³          import         å¼å¥\n             package        å\nåºæ¬ç±»å         boolean        å¸å°å\n             byte           å­èå\n             char           å­ç¬¦å\n             double         åç²¾åº¦æµ®ç¹\n             float          åç²¾åº¦æµ®ç¹\n             int            æ´å\n             long           é¿æ´å\n             short          ç­æ´å\nåéå¼ç¨         super          ç¶ç±»,è¶ç±»\n             this           æ¬ç±»\n             void           æ è¿åå¼\nä¿çå³é®å­        goto           æ¯å³é®å­ï¼ä½ä¸è½ä½¿ç¨\n             const          æ¯å³é®å­ï¼ä½ä¸è½ä½¿ç¨\n\n\n# static\n\n * static åéï¼è¯¥åéç±è¯¥ç±»çææå¯¹è±¡å±äº«ï¼ä¸éè¦åå»ºå¯¹è±¡ä¹å¯ä½¿ç¨ã\n * static æ¹æ³ï¼åè®¸ç´æ¥è®¿é®ï¼ä¸éè¦åå»ºå¯¹è±¡ä¹å¯è¢«è°ç¨ãå¦ main æ¹æ³ã\n * static åå§ååï¼å¨åå»ºç±»çç¬¬ä¸ä¸ªå¯¹è±¡åèªå¨æ§è¡ï¼åæ§è¡éæåå§ååï¼åæ§è¡åå§ååï¼ã\n * static åé¨ç±»ï¼å¤é¨ç±»å¯¹è±¡å±äº«ï¼åªè½è®¿é®å¤é¨ç±»çéææåã\n\n\n# final\n\n * final å¸¸éï¼ åªè½èµå¼ä¸æ¬¡ï¼ä¸å¯æ´æ¹ã\n * final ç±»ï¼ ä¸å¯è¢«ç»§æ¿ã\n * final æ¹æ³ï¼ï¼å¼ç¨ï¼ä¸å¯è¢«ç»§æ¿ãç°å¨ææç private æ¹æ³é½éå¼å°æå®ä¸º finalã\n\n\n# éè½½ä¸éå\n\n\n# éè½½ï¼Overloadï¼\n\nå­å¨äºåä¸ä¸ªç±»ä¸­ï¼æä¸ä¸ªæ¹æ³ä¸å·²ç»å­å¨çæ¹æ³åç§°ä¸ç¸åï¼ä½æ¯åæ°ç±»åãä¸ªæ°ãé¡ºåºè³å°æä¸ä¸ªä¸åã\n\nåºè¯¥æ³¨æçæ¯ï¼è¿åå¼ä¸åï¼å¶å®é½ç¸åä¸ç®æ¯éè½½ã\n\n\n# éåï¼Overrideï¼\n\nå­å¨äºç»§æ¿ä½ç³»ä¸­ï¼æå­ç±»å®ç°äºä¸ä¸ªä¸ç¶ç±»å¨æ¹æ³å£°æä¸å®å¨ç¸åçä¸ä¸ªæ¹æ³ã\nä¸ºäºæ»¡è¶³éå¼æ¿æ¢ååï¼éåæä»¥ä¸ä¸¤ä¸ªéå¶:\n\n * å­ç±»æ¹æ³çè®¿é®æéå¿é¡»å¤§äºç­äºç¶ç±»æ¹æ³ï¼\n * å­ç±»æ¹æ³çè¿åç±»åå¿é¡»æ¯ç¶ç±»æ¹æ³è¿åç±»åæä¸ºå¶å­ç±»åã ä½¿ç¨ @Override æ³¨è§£ï¼å¯ä»¥è®©ç¼è¯å¨å¸®å¿æ£æ¥æ¯å¦æ»¡è¶³ä¸é¢çä¸¤ä¸ªéå¶æ¡ä»¶ã\n\n\n# åæ°ä¼ é\n\nå¼ä¼ éï¼å¨ Java æ¹æ³ä¸­ä¼ éåæ°ï¼å½¢åæ¬è´¨æ¯å®åçå¯æ¬ã\n\n 1. åæ°æ¯åºç¡æ°æ®ç±»åï¼å¯¹å½¢åçæ¹åä¸ä¼å½±åå®åã\n\n 2. åæ°æ¯æåå¯¹è±¡çå¼ç¨ï¼åæ¬æ°ç»ãå­ç¬¦ä¸²ï¼ï¼å¯¹å¯¹è±¡æ°æ®è¿è¡æ´æ¹ä¼å½±åå®åï¼ä½æ¹åå¼ç¨æåçå¯¹è±¡ä¸ä¼å½±åå®åã\n\npublic class Test{\n    public static void main(){\n        int i = 0;\n        int[] arr = {0};\n        test(i, arr);\n        System.out.println(i);            // è¾åºä¸º 0\n        System.out.println(arr[0]);       // è¾åºä¸º 1\n    }\n\n    public static void test(int i, int[] arr){\n        i++;                            // å®åä¸æ¹å\n        arr[0]++;                       // å®åæåçå¯¹è±¡æ¹å\n        arr = new int[]{2};             // å®åä¸æ¹å\n    }\n}\n',normalizedContent:'# ç±»åå¯¹è±¡\n\n\n# ç±»\n\nå¯¹è±¡çç±»åï¼å®ä¹å¯¹è±¡å«æçåéåæ¹æ³ã\n\npublic class car {     \n    // åé\n    string brand;\n    string description = "this is a car";\n    \n    // static åé \n    static int number_of_car;  \n    \n    // æé æ¹æ³\n    public car(string brand){        \n        this.brand = brand;\n    } \n    \n    // æ¹æ³  \n    public void go(string loc){\n        system.out.print("go to" + loc);\n    }   \n    \n    // static æ¹æ³\n    void static shownum(){            \n        system.out.print(number_of_car);\n    }\n    \n    // åå§åå\n    {       \n        number_of_car;                                      \n    }\n    \n    // static åå§åå\n    static{                                                              \n        number_of_car = 0;\n    }\n    \n    // åé¨ç±»\n    public class warranty{\n        public void repair(){\n            system.out.print("repair");\n        }    \n    }\n}\n\n\n * åé\n\nå¯¹è±¡ä¸­å­å¨çæ°æ®ã\n\n * æ¹æ³\n\nè°ç¨æ¶æ§è¡çä»£ç ã\n\n * åå§åå\n\nåå»ºå¯¹è±¡åèªå¨æ§è¡çä»£ç ã\n\n * åé¨ç±»\n\nå®ä¹å¨ç±»ä¸­çç±»ã\n\n * æé æ¹æ³\n\nå¨åå»ºå¯¹è±¡æ¶èªå¨æ§è¡ï¼ä¸è¿åä»»ä½åæ°ï¼åæ§è¡åå§ååï¼åæ§è¡æé æ¹æ³ï¼ã\n\næªå®ä¹ä»»ä½æé æ¹æ³æ¶ï¼ç³»ç»ä¼èªå¨æ·»å æ åæé æ¹æ³ã\n\n\n# å¯¹è±¡\n\njava æ¯é¢åå¯¹è±¡çè¯­è¨ï¼å¯¹è±¡åå«äºç¶æåè¡ä¸ºï¼ç¨æ·éè¿è°ç¨å¯¹è±¡çæ¹æ³ãæ¹åå¯¹è±¡çå±æ§æ¥å®ç° java ç¨åºçåè½ã\n\ncar mycar = new car("bmw");                             // åå»ºå¯¹è±¡       \nmycar.brand = "benz";                                   // ä¿®æ¹å¯¹è±¡åé                   \nmycar.go("london");                                     // è°ç¨å¯¹è±¡æ¹æ³\n\n\n\n# æ½è±¡ç±»ä¸æ¥å£\n\n\n# æ½è±¡ç±»\n\næ½è±¡ç±»åæ½è±¡æ¹æ³é½ä½¿ç¨ abstract å³é®å­è¿è¡å£°æãæ½è±¡ç±»ä¸è¬ä¼åå«æ½è±¡æ¹æ³ï¼æ½è±¡æ¹æ³ä¸å®ä½äºæ½è±¡ç±»ä¸­ã\næ½è±¡ç±»åæ®éç±»æå¤§çåºå«æ¯ï¼æ½è±¡ç±»ä¸è½è¢«å®ä¾åï¼éè¦ç»§æ¿æ½è±¡ç±»æè½å®ä¾åå¶å­ç±»ã\n\npublic class test {\n\n    public static void main(string[] args) {\n        abstractclassexample ac2 = new abstractextendclassexample();\n        ac2.func1();\n    }\n\n    public static abstract class abstractclassexample {\n\n        protected int x;\n        private int y;\n\n        public abstract void func1();\n\n        public void func2() {\n            system.out.println("func2");\n        }\n    }\n\n    public static class abstractextendclassexample extends abstractclassexample {\n        @override\n        public void func1() {\n            system.out.println("func1");\n        }\n    }\n}\n\n\n\n# æ¥å£\n\njdk 1.8 ä»¥åï¼æ¥å£ä¸­æ½è±¡æ¹æ³å¿é¡»ä¸é»è®¤ä¸º publicï¼ä¸åè®¸å®ç°ä»»ä½æ¹æ³ã\njdk 1.8 å¼å§ï¼æ¥å£ä¸­æ½è±¡æ¹æ³å¯ä»¥ä¸é»è®¤ä¸º defaultï¼ä¸åè®¸å®ç° static å default æ¹æ³ã\njdk 1.9 å¼å§ï¼æ¥å£ä¸­æ½è±¡æ¹æ³å¯ä»¥æ¯ privateã\n\npublic class test {\n\n    public static void main(string[] args) {\n        interfaceexample ie2 = new interfaceimplementexample();\n        ie2.func1();\n        system.out.println(interfaceexample.x);\n\n    }\n\n    public interface interfaceexample {\n        void func1();\n\n        default void func2(){\n            system.out.println("func2");\n        }\n\n        int x = 123;\n        // int y;               // \'y\' æ²¡æåå§å\n        public int z = 0;       // å¨æ¥å£ç§ public æ¯å¤ä½ç\n        // private int k = 0;   // å¨æ¥å£ç§ä¸æ¯æ private\n        // protected int l = 0; // å¨æ¥å£ç§ä¸æ¯æ protected\n        // private void fun3(); // å¨æ¥å£ç§ä¸æ¯æ private\n    }\n\n    public static class interfaceimplementexample implements interfaceexample {\n        @override\n        public void func1() {\n            system.out.println("func1");\n        }\n    }\n\n}\n\n\n\n# æ¥å£åæ½è±¡ç±»çåºå«\n\n 1. æ¥å£ä¸è½å®ç°æ®éæ¹æ³ï¼æ½è±¡ç±»å¯ä»¥å®ç°å·ä½çæ¹æ³ãä¹å¯ä»¥ä¸å®ç°ã\n 2. æ¥å£åªè½å®ä¹éæå¸¸éï¼æ½è±¡ç±»å¯ä»¥å®ä¹ééæåéã\n 3. ä¸ä¸ªå®ä½ç±»å¯ä»¥å®ç°å¤ä¸ªæ¥å£ï¼ä½åªè½ç»§æ¿ä¸ä¸ªæ½è±¡ç±»ã\n\n\n# æéå£°æ\n\njavaä¸­ï¼å¯ä»¥ä½¿ç¨è®¿é®æ§å¶ç¬¦æ¥ä¿æ¤å¯¹ç±»ãåéãæ¹æ³åæé æ¹æ³çè®¿é®ãjava æ¯æ 4 ç§ä¸åçè®¿é®æéã\n\n * default (å³é»è®¤ï¼ä»ä¹ä¹ä¸åï¼: å¨åä¸ååå¯è§ï¼ä¸ä½¿ç¨ä»»ä½ä¿®é¥°ç¬¦ãä½¿ç¨å¯¹è±¡ï¼ç±»ãæ¥å£ãåéãæ¹æ³ã\n * private : å¨åä¸ç±»åå¯è§ãä½¿ç¨å¯¹è±¡ï¼åéãæ¹æ³ã æ³¨æï¼ä¸è½ä¿®é¥°ç±»ï¼å¤é¨ç±»ï¼\n * public : å¯¹ææç±»å¯è§ãä½¿ç¨å¯¹è±¡ï¼ç±»ãæ¥å£ãåéãæ¹æ³\n * protected : å¯¹åä¸ååçç±»åææå­ç±»å¯è§ãä½¿ç¨å¯¹è±¡ï¼åéãæ¹æ³ã æ³¨æï¼ä¸è½ä¿®é¥°ç±»ï¼å¤é¨ç±»ï¼ã\n\nä¿®é¥°ç¬¦         å½åç±»   åä¸åå   å­å­ç±»(åä¸å)   å­å­ç±»(ä¸åå)   å¶ä»å\npublic      y     y      y          y          y\nprotected   y     y      y          y/n        n\ndefault     y     y      y          n          n\nprivate     y     n      n          n          n\n\n\n# å³é®å­\n\n\n# java å³é®å­\n\nç±»å«           å³é®å­            è¯´æ\nè®¿é®æ§å¶         private        ç§æç\n             protected      åä¿æ¤ç\n             public         å¬å±ç\n             default        é»è®¤\nç±»ãæ¹æ³ååéä¿®é¥°ç¬¦   abstract       å£°ææ½è±¡\n             class          ç±»\n             extends        æ©å,ç»§æ¿\n             final          æç»å¼,ä¸å¯æ¹åç\n             implements     å®ç°ï¼æ¥å£ï¼\n             interface      æ¥å£\n             native         æ¬å°ï¼åçæ¹æ³ï¼é java å®ç°ï¼\n             new            æ°,åå»º\n             static         éæ\n             strictfp       ä¸¥æ ¼,ç²¾å\n             synchronized   çº¿ç¨,åæ­¥\n             transient      ç­æ\n             volatile       æå¤±\nç¨åºæ§å¶è¯­å¥       break          è·³åºå¾ªç¯\n             case           å®ä¹ä¸ä¸ªå¼ä»¥ä¾ switch éæ©\n             continue       ç»§ç»­\n             default        é»è®¤\n             do             è¿è¡\n             else           å¦å\n             for            å¾ªç¯\n             if             å¦æ\n             instanceof     å®ä¾\n             return         è¿å\n             switch         æ ¹æ®å¼éæ©æ§è¡\n             while          å¾ªç¯\néè¯¯å¤ç         assert         æ­è¨è¡¨è¾¾å¼æ¯å¦ä¸ºç\n             catch          ææå¼å¸¸\n             finally        ææ²¡æå¼å¸¸é½æ§è¡\n             throw          æåºä¸ä¸ªå¼å¸¸å¯¹è±¡\n             throws         å£°æä¸ä¸ªå¼å¸¸å¯è½è¢«æåº\n             try            æè·å¼å¸¸\nåç¸å³          import         å¼å¥\n             package        å\nåºæ¬ç±»å         boolean        å¸å°å\n             byte           å­èå\n             char           å­ç¬¦å\n             double         åç²¾åº¦æµ®ç¹\n             float          åç²¾åº¦æµ®ç¹\n             int            æ´å\n             long           é¿æ´å\n             short          ç­æ´å\nåéå¼ç¨         super          ç¶ç±»,è¶ç±»\n             this           æ¬ç±»\n             void           æ è¿åå¼\nä¿çå³é®å­        goto           æ¯å³é®å­ï¼ä½ä¸è½ä½¿ç¨\n             const          æ¯å³é®å­ï¼ä½ä¸è½ä½¿ç¨\n\n\n# static\n\n * static åéï¼è¯¥åéç±è¯¥ç±»çææå¯¹è±¡å±äº«ï¼ä¸éè¦åå»ºå¯¹è±¡ä¹å¯ä½¿ç¨ã\n * static æ¹æ³ï¼åè®¸ç´æ¥è®¿é®ï¼ä¸éè¦åå»ºå¯¹è±¡ä¹å¯è¢«è°ç¨ãå¦ main æ¹æ³ã\n * static åå§ååï¼å¨åå»ºç±»çç¬¬ä¸ä¸ªå¯¹è±¡åèªå¨æ§è¡ï¼åæ§è¡éæåå§ååï¼åæ§è¡åå§ååï¼ã\n * static åé¨ç±»ï¼å¤é¨ç±»å¯¹è±¡å±äº«ï¼åªè½è®¿é®å¤é¨ç±»çéææåã\n\n\n# final\n\n * final å¸¸éï¼ åªè½èµå¼ä¸æ¬¡ï¼ä¸å¯æ´æ¹ã\n * final ç±»ï¼ ä¸å¯è¢«ç»§æ¿ã\n * final æ¹æ³ï¼ï¼å¼ç¨ï¼ä¸å¯è¢«ç»§æ¿ãç°å¨ææç private æ¹æ³é½éå¼å°æå®ä¸º finalã\n\n\n# éè½½ä¸éå\n\n\n# éè½½ï¼overloadï¼\n\nå­å¨äºåä¸ä¸ªç±»ä¸­ï¼æä¸ä¸ªæ¹æ³ä¸å·²ç»å­å¨çæ¹æ³åç§°ä¸ç¸åï¼ä½æ¯åæ°ç±»åãä¸ªæ°ãé¡ºåºè³å°æä¸ä¸ªä¸åã\n\nåºè¯¥æ³¨æçæ¯ï¼è¿åå¼ä¸åï¼å¶å®é½ç¸åä¸ç®æ¯éè½½ã\n\n\n# éåï¼overrideï¼\n\nå­å¨äºç»§æ¿ä½ç³»ä¸­ï¼æå­ç±»å®ç°äºä¸ä¸ªä¸ç¶ç±»å¨æ¹æ³å£°æä¸å®å¨ç¸åçä¸ä¸ªæ¹æ³ã\nä¸ºäºæ»¡è¶³éå¼æ¿æ¢ååï¼éåæä»¥ä¸ä¸¤ä¸ªéå¶:\n\n * å­ç±»æ¹æ³çè®¿é®æéå¿é¡»å¤§äºç­äºç¶ç±»æ¹æ³ï¼\n * å­ç±»æ¹æ³çè¿åç±»åå¿é¡»æ¯ç¶ç±»æ¹æ³è¿åç±»åæä¸ºå¶å­ç±»åã ä½¿ç¨ @override æ³¨è§£ï¼å¯ä»¥è®©ç¼è¯å¨å¸®å¿æ£æ¥æ¯å¦æ»¡è¶³ä¸é¢çä¸¤ä¸ªéå¶æ¡ä»¶ã\n\n\n# åæ°ä¼ é\n\nå¼ä¼ éï¼å¨ java æ¹æ³ä¸­ä¼ éåæ°ï¼å½¢åæ¬è´¨æ¯å®åçå¯æ¬ã\n\n 1. åæ°æ¯åºç¡æ°æ®ç±»åï¼å¯¹å½¢åçæ¹åä¸ä¼å½±åå®åã\n\n 2. åæ°æ¯æåå¯¹è±¡çå¼ç¨ï¼åæ¬æ°ç»ãå­ç¬¦ä¸²ï¼ï¼å¯¹å¯¹è±¡æ°æ®è¿è¡æ´æ¹ä¼å½±åå®åï¼ä½æ¹åå¼ç¨æåçå¯¹è±¡ä¸ä¼å½±åå®åã\n\npublic class test{\n    public static void main(){\n        int i = 0;\n        int[] arr = {0};\n        test(i, arr);\n        system.out.println(i);            // è¾åºä¸º 0\n        system.out.println(arr[0]);       // è¾åºä¸º 1\n    }\n\n    public static void test(int i, int[] arr){\n        i++;                            // å®åä¸æ¹å\n        arr[0]++;                       // å®åæåçå¯¹è±¡æ¹å\n        arr = new int[]{2};             // å®åä¸æ¹å\n    }\n}\n',charsets:{cjk:!0}},{title:"æ°æ®ç±»å",frontmatter:{title:"æ°æ®ç±»å",date:"2022-04-08T16:43:34.000Z",permalink:"/pages/118174/",categories:["å­¦ä¹ èµæ","Java","Javaåºç¡"],tags:[null]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/01.Java%E5%9F%BA%E7%A1%80/03.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html",relativePath:"å­¦ä¹ èµæ/03.Java/01.Javaåºç¡/03.æ°æ®ç±»å.md",key:"v-6903b558",path:"/pages/118174/",headers:[{level:2,title:"åºæ¬ç±»å",slug:"åºæ¬ç±»å",normalizedTitle:"åºæ¬ç±»å",charIndex:2},{level:3,title:"å«å¤§åºæ¬ç±»å",slug:"å«å¤§åºæ¬ç±»å",normalizedTitle:"å«å¤§åºæ¬ç±»å",charIndex:11},{level:3,title:"åè£ç±»å",slug:"åè£ç±»å",normalizedTitle:"åè£ç±»å",charIndex:416},{level:3,title:"è½¬æ¢ç±»å",slug:"è½¬æ¢ç±»å",normalizedTitle:"è½¬æ¢ç±»å",charIndex:635},{level:2,title:"æ°ç»",slug:"æ°ç»",normalizedTitle:"æ°ç»",charIndex:892},{level:3,title:"Array ç±»",slug:"array-ç±»",normalizedTitle:"array ç±»",charIndex:899},{level:3,title:"Arrays ç±»",slug:"arrays-ç±»",normalizedTitle:"arrays ç±»",charIndex:1248},{level:2,title:"å­ç¬¦ä¸²",slug:"å­ç¬¦ä¸²",normalizedTitle:"å­ç¬¦ä¸²",charIndex:2026},{level:3,title:"Stringç±»",slug:"stringç±»",normalizedTitle:"stringç±»",charIndex:2034},{level:3,title:"StringBuilder / StringBuffer ç±»",slug:"stringbuilder-stringbuffer-ç±»",normalizedTitle:"stringbuilder / stringbuffer ç±»",charIndex:3906},{level:2,title:"å¤§æ°",slug:"å¤§æ°",normalizedTitle:"å¤§æ°",charIndex:4754},{level:3,title:"BigInteger ç±»",slug:"biginteger-ç±»",normalizedTitle:"biginteger ç±»",charIndex:4870},{level:3,title:"BigDecimal ç±»",slug:"bigdecimal-ç±»",normalizedTitle:"bigdecimal ç±»",charIndex:4830},{level:2,title:"æä¸¾",slug:"æä¸¾",normalizedTitle:"æä¸¾",charIndex:5840},{level:3,title:"æä¸¾å®ä¹",slug:"æä¸¾å®ä¹",normalizedTitle:"æä¸¾å®ä¹",charIndex:5916},{level:3,title:"æä¸¾ä½¿ç¨",slug:"æä¸¾ä½¿ç¨",normalizedTitle:"æä¸¾ä½¿ç¨",charIndex:6173},{level:2,title:"æ¶é´",slug:"æ¶é´",normalizedTitle:"æ¶é´",charIndex:6463},{level:3,title:"Dateç±»",slug:"dateç±»",normalizedTitle:"dateç±»",charIndex:6470},{level:3,title:"Calendarç±»",slug:"calendarç±»",normalizedTitle:"calendarç±»",charIndex:7552},{level:2,title:"æ³å",slug:"æ³å",normalizedTitle:"æ³å",charIndex:9436},{level:3,title:"æ³åå®ä¹",slug:"æ³åå®ä¹",normalizedTitle:"æ³åå®ä¹",charIndex:9443},{level:3,title:"æ³åä½¿ç¨",slug:"æ³åä½¿ç¨",normalizedTitle:"æ³åä½¿ç¨",charIndex:9572}],headersStr:"åºæ¬ç±»å å«å¤§åºæ¬ç±»å åè£ç±»å è½¬æ¢ç±»å æ°ç» Array ç±» Arrays ç±» å­ç¬¦ä¸² Stringç±» StringBuilder / StringBuffer ç±» å¤§æ° BigInteger ç±» BigDecimal ç±» æä¸¾ æä¸¾å®ä¹ æä¸¾ä½¿ç¨ æ¶é´ Dateç±» Calendarç±» æ³å æ³åå®ä¹ æ³åä½¿ç¨",content:'# åºæ¬ç±»å\n\n\n# å«å¤§åºæ¬ç±»å\n\nJava è¯­è¨æä¾äºå«ç§åºæ¬ç±»åï¼ç¨æ·æ éå®ä¹ä¹å¯ä»¥ç´æ¥ä½¿ç¨ãå¶æ°æ®ä¿å­å¨ç¸åºçæ¹æ³æ ä¸­ã\n\nåºæ¬æ°æ®ç±»å    å­èæ°   é»è®¤å¼     åè£æ°æ®ç±»å      å¤æ³¨\nbyte      1     0       Byte        \nshort     2     0       Short       \nint       4     0       Integer     \nlong      8     0       Long        \nfloat     4     0.0f    Float       æ°å­åå f\ndouble    8     0.0     Double      \nchar      2     null    Character   å¿é¡»ç¨åå¼å·\nboolean   1     false   Boolean     \n\n\n# åè£ç±»å\n\nåç»§æ¿èª Number æ½è±¡ç±»ï¼æåºæ¬ç±»åæ°æ®å°è£æå¯¹è±¡ãåºæ¬ç±»åé½æå¯¹åºçåè£ç±»åï¼åºæ¬ç±»åååè£ç±»åä¹é´ä¼èªå¨è¿è¡è½¬åï¼è£ç®±ä¸æç®±ï¼\n\n * åºæ¬ç±»åï¼å¦intï¼ï¼æ¯ä¸ä¸ªå¼ãåè®¸ä¸èµåå¼ï¼ç³»ç»èªå¨æ·»å é»è®¤å¼ã\n * åè£ç±»åï¼å¦Integerï¼ï¼æ¯ä¸ä¸ªå¯¹è±¡ãå®ä¾åå¿é¡»èµåå¼ï¼ä¸èµå¼åä¸è½æ¹å(final)ã\n\nInteger x = 2;     // è£ç®±\nint y = x;         // æç®±\n\n\n\n# è½¬æ¢ç±»å\n\n\n\n * æä¸å¾é¡ºåºå¯ä»¥èªå¨è¿è¡ç±»åè½¬æ¢ãä½æ´åè½¬åä¸ºæµ®ç¹åæ¶ï¼å¦ææ°æ®è¿å¤§å¯è½ä¼å¯¼è´æ°æ®ä¸¢å¤±ç²¾åº¦ã\n\n * åä¹åå¿é¡»è¿è¡å¼ºå¶ç±»åè½¬æ¢ãä½å¡å¿å°å¿ï¼è¶åºèå´å¯è½ä¼äº§çææ³ä¸å°çéè¯¯ã\n\nint i = \'x\';                  // èªå¨è½¬æ¢\nchar c = (char)60;            // å¼ºå¶è½¬æ¢\n\n\nä½æ¯åè£ç±»åä¹é´çè½¬æ¢ï¼éè¦ä½¿ç¨ç¹æ®çæ¹æ³ã\n\nInteger i = l.intValue();\nLong l = i.longValue();\n\n\n\n# æ°ç»\n\n\n# Array ç±»\n\næ°æ®çéåãæ¬è´¨æ¯ä¸ä¸ªå¯¹è±¡ï¼æ°æ®å­å¨å¨å åºï¼ç±å¼ç¨æåæ°ç»é¦ä¸ªåç´ çå°åã\n\n# åå»ºæ°ç»\n\nåå»ºæ°ç»æ¶ï¼å¿é¡»ç¡®å®æ°ç»é¿åº¦åç±»åãä½å¦æå¨å­çæ¯åºæ¬ç±»åï¼åè®¸ä¸èµåå¼ï¼ä½¿ç¨é»è®¤å¼ï¼ã\n\nint[] arr = new int[4];                    // æ¹æ³ä¸\nint[] arr = {1,2,3,4};                     // æ¹æ³äº\nint[] arr = new int[]{1,2,3,4};            // æ¹æ³ä¸\n\n\næ°ç»é¿åº¦ï¼å¨æ°ç»å¯¹è±¡ä¸­ï¼å®ä¹äº length å±æ§è®°å½äºæ°ç»é¿åº¦ã\n\nint len = arr.length;                      // è¿åæ°ç»é¿åº¦  \n\n\n\n# Arrays ç±»\n\nå¯¹æ°ç»è¿è¡æä½çè¾å©ç±»ï¼å®ç°äºå¯¹æ°ç»çå¸¸ç¨æä½ã\n\n# æ°ç»æåº\n\nsort æ¹æ³ï¼å¯ä»¥å¯¹æ°ç»æåºï¼é»è®¤æ°ç»æ°å¼ä»å°å°å¤§æåï¼ç¨æ·å¯ä»¥èªå®ä¹æåé¡ºåºï¼\n\nArrays.sort(arr);                                     // æ°ç»æåº\n\n\n# æ°ç»å¤å¶\n\ncopyOf/copyOfRange æ¹æ³ï¼å¤å¶æ°ç»ãåºå±è°ç¨ System.arrayCopy çæ¬å°æ¹æ³å®ç°ï¼å¸¸ç¨äºæ°ç»æ©å®¹ã\n\nint[] arr1 = Arrays.copyOf(arr, 10);                  // å¤å¶æ°ç»ï¼å 10 ä¸ªåä½\nint[] arr2 = Arrays.copyOf(arr, 0, arr.length);       // å¤å¶æ°ç»ï¼ä» 0 å° arr.length - 1\n\n\n# æ°ç»è½¬å\n\nasList æ¹æ³ï¼å°æ°ç»è½¬åä¸ºåè¡¨ï¼List ç±»ï¼ï¼ä½æ°ç»æ°æ®å¿é¡»æ¯åè£ç±»åã\n\nè°ç¨è¯¥æ¹æ³å°æ°ç»è½¬æ¢ä¸ºåè¡¨åï¼å¨åå­ä¸­å®éè¿æ¯ä»¥æ°ç»å½¢å¼å­å¨ãè¿å¯è½ä¼å¯¼è´ä»¥ä¸ä¸¤ä¸ªé®é¢ï¼\n\n 1. è°ç¨ List ç±»ç add æ¹æ³ååè¡¨ä¸­æå¥æ°æ®ï¼ä¼å¯¼è´å¼å¸¸ï¼\n 2. å¯¹åæ°ç»è¿è¡æ´æ¹ï¼ä¹ä¼å¯¼è´åè¡¨ä¸­çæ°æ®åçååã\n\narr[] = new Integer[]{1, 2, 3, 4};                    // æ°ç»å¿é¡»æ¯åè£æ°æ®ç±»å\n\nList list = Arrays.asList(arr);                       // å°æ°ç»è½¬æ¢ä¸ºéåï¼æé®é¢ï¼               \nList list = new ArrayList<>(Arrays.asList(arr));      // å°æ°ç»è½¬æ¢ä¸ºéåï¼æ¨èï¼  \n\n\n\n# å­ç¬¦ä¸²\n\n\n# Stringç±»\n\nString ç±»æ¬è´¨æ¯ä¸ä¸ª final å¯¹è±¡ï¼ç±å¼ç¨æåå­å¨å­ç¬¦ä¸²å¯¹è±¡çå°åãå¼ç¨è½ç¶å¯åï¼ä½åå­æ°æ®ä¸è½è¢«æ´æ¹ã\n\n# åå»ºå­ç¬¦ä¸²\n\nString å¯¹è±¡åå»ºåä¸ç»èµå¼ä¸åæ¹åï¼æä»¥ä¸ä¸¤ç§åå»ºæ¹å¼ï¼\n\n 1. ç´æ¥èµå¼ï¼å¦æå¸¸éæ± æ²¡æï¼åå¨å¸¸éæ± æ°å»ºå¯¹è±¡ãå¦åç´æ¥ä½¿ç¨å¸¸éæ± ä¸­å·²æå¯¹è±¡ï¼å¼ç¨æåå¸¸éæ± ã\n 2. æé æ¹æ³ï¼å¦æå¸¸éæ± æ²¡æï¼åå¨å¸¸éæ± æ°å»ºå¯¹è±¡ãæ è®ºå¦ä½ä¸å®ä¼å¨å åºåå»ºå¯¹è±¡ï¼å¼ç¨æåå åºã\n\nString str1 = "string";                       // å¼ç¨æåå¸¸éæ± \nString str2 = "str" + "ing";                  // å¼ç¨æåå¸¸éæ± ï¼æå str1 çå­ç¬¦ä¸²å¯¹è±¡ï¼\nSystem.out.println(str1==str2);               // true\n\nString str3 = new String("string");           // å¼ç¨æåå åºï¼å¨å åºæ°å»ºå­ç¬¦ä¸²å¯¹è±¡ï¼\nString str4 = new String("string");           // å¼ç¨æåå åºï¼å¨å åºæ°å»ºå­ç¬¦ä¸²å¯¹è±¡ï¼\nSystem.out.println(str1==str3);               // false\nSystem.out.println(str3==str4);               // false\n\nString str5 = str1 + str2;                    // å¼ç¨æåå åº\n\nString str6 = str1.intern();           // String.intern()å¯ä»¥ä¿è¯ç¸ååå®¹çå­ç¬¦ä¸²åéå¼ç¨åä¸çåå­å¯¹è±¡ã\nSystem.out.println(str1==str6);        // true\n\nString newStr = new String(str1.getBytes("ISO-8859-1"), "GBK");    // è·åæå®ç±»åç¼ç å¯¹è±¡ï¼ææå®ç±»åç¼ç \n\n\n# å¸¸ç¨æ¹æ³\n\nint len = str.length();                   // è¿åå­ç¬¦ä¸²é¿åº¦\n\nString[] strs = str.split(",");           // æåéç¬¦åè§£å­ç¬¦ä¸²\n\nboolean c = str.contains(str2);           // å¤æ­æ¯å¦å­å¨å­å­ç¬¦ä¸²\nint index = str.indexOf(str2);            // æ¥æ¾å­å­ç¬¦ä¸²åºç°çç¬¬ä¸ä¸ªä½ç½®ï¼æ²¡æè¿å-1\nint index = str.lastIndexOf(str2);        // æ¥æ¾å­å­ç¬¦ä¸²åºç°çæåä¸ä¸ªä½ç½®ï¼æ²¡æè¿å-1\n\nString str3 = str1.concat(str2);          // è¿æ¥ä¸¤ä¸ªå­ç¬¦ä¸²\n\nString str2 = str.trim();                 // å»é¤å­ç¬¦ä¸²å·¦å³ç©ºæ ¼ãã\nString str2 = str.substring(0,3);         // æªåæå®ä½ç½®ï¼0-2ï¼çå­å­ç¬¦ä¸²\nString str2 = str.replace("a", "b");      // æ°å­ç¬¦ a æ¿æ¢æ§å­ç¬¦ b\n\n\n# ç±»åè½¬æ¢\n\n// Number > String\n\nString s1 = data.toString();              // data å¿é¡»ä¸ºåè£æ°æ®ç±»å\nString s2 = Integer.toString(data);       // data å¯ä»¥ä¸ºåºç¡æ°æ®ç±»åï¼åæ¬å­ç¬¦æ°ç» char[]\nString s3 = String.valueOf(data);         // data å¯ä»¥ä¸ºåºç¡æ°æ®ç±»åï¼åæ¬å­ç¬¦æ°ç» char[]\n\n// String > char\n\nchar c = str.charAt(0);\nchar[] ch = str.toCharArray();\n\n// String > int\n\nint n1 = Integer.parseInt(str);          \nint n2 = Integer.valueOf(str);\n\n\n\n# StringBuilder / StringBuffer ç±»\n\nç±äº String ç±»ä¸å¯åæ§ï¼å¯¹å¶é¢ç¹æ´æ¹å¾å¾ä¼äº§çè¾å¤ä¸´æ¶åéç±»ï¼å ç¨å¤§éåå­ãå¯¹æ­¤æä»¬éå¸¸ä½¿ç¨ StringBuilder/StringBuffer æ¥é¿åï¼è¿ä¸¤ä¸ªç±»åè®¸å¨åæåå­å°åå¯¹å­ç¬¦ä¸²è¿è¡æä½\n\n * String ä¸å¯åï¼å æ­¤æ¯çº¿ç¨å®å¨ç\n * StringBuilder ä¸æ¯çº¿ç¨å®å¨ç\n * StringBuffer æ¯çº¿ç¨å®å¨çï¼åé¨ä½¿ç¨ synchronized è¿è¡åæ­¥\n\n# åå»ºå­ç¬¦ä¸²\n\nå¿é¡»éè¿æé æ¹æ³åå»ºï¼ä¸å¯ä»¥ç´æ¥èµå¼çå½¢å¼åå»ºï¼StringBuffer str = "hello";ã\n\nå­ç¬¦ä¸²é»è®¤é¿åº¦ä¸º16ï¼è¶åºåä¼è¿è¡èªå¨æ©å®¹ã\n\nStringBuffer str1 = new StringBuffer("hello");\nStringBuilder str2 = new StringBuilder("hello");\n\n\nå° StringBuilder / StringBuffer ç±»è½¬åä¸º String ç±»ã\n\nString str1 = str.toString();    \n\n\n# ä¸ç¨æ¹æ³\n\nStringBuilder / StringBuffer ç±»å¯ä»¥ä½¿ç¨ String ç±»çå¨é¨æ¹æ³ï¼è¿æ°å¢äºä»¥ä¸æ¹æ³ç´æ¥å¯¹å­ç¬¦ä¸²è¿è¡ä¿®æ¹ã\n\nstr.append("add");                 // æ«å°¾æ·»å å­ç¬¦ä¸²ï¼ä¹å¯ä»¥æ¯å¶ä»åºç¡ç±»å\nstr.insert(0,"insert");            // æå®ä½ç½®æå¥å­ç¬¦ä¸²ï¼ä¹å¯ä»¥æ¯å¶ä»åºç¡ç±»å\nstr.deleteCharAt(6);               // å é¤æå®ä½ç½®ï¼6ï¼çå­ç¬¦\nstr.delete(6,8);                   // å é¤æå®ä½ç½®ï¼6å7ï¼çå­ç¬¦ä¸²\nstr.reverse(str2);                 // ç¿»è½¬å­ç¬¦ä¸²\n\n\n\n# å¤§æ°\n\nå¨ Java ç¨åºä¸­ï¼æä»¬å¯è½ä¼ç¨å°ä¸äºæ°å¼ç¹å«å·¨å¤§ãæèå°æ°ç¹å«ç²¾ç¡®çæ°å¼ï¼è¿äºæ°å¼æ æ³ç¨åºç¡ç±»åè¡¨ç¤ºãå æ­¤æä»¬å®ä¹äº BigInteger/BigDecimal ç±»æ¥ä¿å­è¿ç±»æ°æ®ï¼å®éæ¯ä»¥å­ç¬¦ä¸²å½¢å¼å¨å åºå­å¨ã\n\n\n# BigInteger ç±»\n\nä¸»è¦ç¨æ¥æä½æ¯ long ç±»åæ´å¤§çæ´åæ°å­ã\n\n\n# BigDecimal ç±»\n\nåºäº BigInteger ç±»å®ç°ãç±äºåºæ¬æµ®ç¹æ°ç±»å(float/double) ä¼äº§çç²¾åº¦ä¸¢å¤±é®é¢ï¼å æ­¤å¸¸ä½¿ç¨ BigDecimal ç±»ä»£æ¿ãæ¶åéé¢å¿é¡»ä½¿ç¨è¯¥ç±»ã\n\nfloat x = 1.0f;                           \nfloat a = 1.0f - 0.9f;\nfloat b = 0.9f - 0.8f;                    // çº¦ç­äº 0.1\nSystem.out.println(a == b);               // false\n\nBigDecimal a = new BigDecimal("1.0");     \nBigDecimal b = new BigDecimal("0.9");\nBigDecimal c = new BigDecimal("0.8");     \nBigDecimal x = a.subtract(b);\nBigDecimal y = b.subtract(c);             // ç­äº 0.1\nSystem.out.println(x.equals(y));          // true\n\n\n# BigInteger å BigDecimal ç±»å¸¸ç¨æ¹æ³\n\nBigDecimal x = a.add(b);                  // å \nBigDecimal x = a.subtract(b);             // å\nBigDecimal x = a.multiply(b);             // ä¹\nBigDecimal x = a.divide(b);               // é¤\nBigDecimal x = a.abs();                   // ç»å¯¹å¼\na.compareTo(b);                           // æ¯è¾å¤§å°\n\n// BigDecimal ç±»ä¸ç¨\nBigDecimal x = y.setScale(3, rules);      // è®¾ç½®ç²¾åº¦åä¿çè§å\n\n\n\n# æä¸¾\n\nJava æä¸¾æ¯ä¸ä¸ªç¹æ®çç±»ï¼ä¸è¬è¡¨ç¤ºä¸ç»å¸¸éï¼æ¯å¦ä¸å¹´ç 4 ä¸ªå­£èï¼ä¸ä¸ªå¹´ç 12 ä¸ªæä»½ï¼ä¸ä¸ªææç 7 å¤©ï¼æ¹åæä¸åè¥¿åç­ã\n\n\n# æä¸¾å®ä¹\n\n// å®ä¹æä¸¾ç±»\npublic enum Day {\n    MONDAY, TUESDAY, WEDNESDAY,\n    THURSDAY, FRIDAY, SATURDAY, SUNDAY\n}\n\n// ä½¿ç¨æä¸¾ç±»\npublic class Demo {\n    public boolean test(Day today){\n        if(today == Day.MONDAY) return true;\n        else teturn false;\n    }\n}\n\n\n\n# æä¸¾ä½¿ç¨\n\n * values(); // è¿åæä¸¾ç±»ä¸­ææçå¼ã\n * ordinal(); // æ¹æ³å¯ä»¥æ¾å°æ¯ä¸ªæä¸¾å¸¸éçç´¢å¼ï¼å°±åæ°ç»ç´¢å¼ä¸æ ·ã\n * valueOf(); // æ¹æ³è¿åæå®å­ç¬¦ä¸²å¼çæä¸¾å¸¸éã\n\nDay[] arr = Day.values();       \nfor(Day day: arr){\n    System.out.println(day + " at index " + day.ordinal());     // æ¥çå¼åç´¢å¼\n}\nSystem.out.println(Color.valueOf("MONDAY"));\n\n\n\n# æ¶é´\n\n\n# Dateç±»\n\njava.util åæä¾äº Date ç±»æ¥å°è£å½åçæ¥æåæ¶é´ã Date ç±»æä¾ä¸¤ä¸ªæé å½æ°æ¥å®ä¾å Date å¯¹è±¡ã\n\nDate()                      // ç¬¬ä¸ä¸ªæé å½æ°ä½¿ç¨å½åæ¥æåæ¶é´æ¥åå§åå¯¹è±¡ã\nDate(long millisec)         // ç¬¬äºä¸ªæé å½æ°æ¥æ¶ä¸ä¸ªåæ°ï¼è¯¥åæ°æ¯ä» 1970 å¹´ 1 æ 1 æ¥èµ·çæ¯«ç§æ°ã\n\n\n# æ¥ææ ¼å¼åï¼Stringï¼\n\nSimpleDateFormat æ¯ä¸ä¸ªä»¥è¯­è¨ç¯å¢ææçæ¹å¼æ¥æ ¼å¼åååææ¥æçç±»ãSimpleDateFormat åè®¸ä½ éæ©ä»»ä½ç¨æ·èªå®ä¹æ¥ææ¶é´æ ¼å¼æ¥è¿è¡ã\n\nDate date = new Date( );\nSimpleDateFormat dateFormat = new SimpleDateFormat ("yyyy-MM-dd hh:mm:ss");\nSystem.out.println("å½åæ¶é´ä¸º: " + dateFormat.format(date));\n\n\n# æ¥ææ ¼å¼åï¼Longï¼\n\nå¨æ¥å¸¸ Java å¼åä¸­ï¼æä»¬æå¸¸ä½¿ç¨ Long ç±»åï¼èä¸æ¯ Date/Timestamp ç±»åè¡¨ç¤ºæ¶é´ã\n\nLong timestamp1 = System.currentTimeMillis();                 // 13 ä½ ç²¾ç¡®å° ms\nLong timestamp2 = (System.currentTimeMillis()) / 1000;        // 10 ä½ ç²¾ç¡®å° s\n\n\n# å¸¸ç¨æ¹æ³\n\nlong time = date.getTime();                         // è·åæ¶é´æ³\nboolean before = date1.before(date2);               // date1 å¨ date2 æ¶é´åå°±è¿åtrue\nboolean after = date1.after(date2);                 // date1 å¨ date2 æ¶é´åå°±è¿åtrue\nboolean equals = date1.equals(date2);               // date1 å date2 åæ¶é´å°±è¿åtrue\nint i = date1.compareTo(date2);                     // è¿å -1ï¼0ï¼1 åå«è¡¨ç¤º å¨è¿ä¹åï¼ç¸åï¼å¨è¿ä¹å\n\n\n\n# Calendarç±»\n\nCalendarç±»çåè½è¦æ¯Dateç±»å¼ºå¤§å¾å¤ï¼èä¸å¨å®ç°æ¹å¼ä¸ä¹æ¯Dateç±»è¦å¤æä¸äºã\n\nCalendarç±»æ¯ä¸ä¸ªæ½è±¡ç±»ï¼å¨å®éä½¿ç¨æ¶å®ç°ç¹å®çå­ç±»çå¯¹è±¡ï¼åå»ºå¯¹è±¡çè¿ç¨å¯¹ç¨åºåæ¥è¯´æ¯éæçï¼åªéè¦ä½¿ç¨getInstanceæ¹æ³åå»ºå³å¯ã\n\nCalendar calendar = Calendar.getInstance();                // é»è®¤æ¯å½åæ¥æ\n\n\n# Calendarç±»å¯¹è±¡å­æ®µç±»å\n\nå¸¸é                      æè¿°\nCalendar.YEAR           å¹´ä»½\nCalendar.MONTH          æä»½\nCalendar.DATE           æ¥æ\nCalendar.DAY_OF_MONTH   æ¥æï¼åä¸é¢çå­æ®µæä¹å®å¨ç¸å\nCalendar.HOUR           12å°æ¶å¶çå°æ¶\nCalendar.HOUR_OF_DAY    24å°æ¶å¶çå°æ¶\nCalendar.MINUTE         åé\nCalendar.SECOND         ç§\nCalendar.DAY_OF_WEEK    ææå \n\n# å¸¸ç¨æ¹æ³\n\n * public int get(int field) è¿åçæ¯ä¸ä¸ªæ¥åçå­æ®µå¼\n\nint year = calendar.get(calendar.YEAR);                 // è·åå¹´ä»½\n\nint month = calendar.get(Calendar.MONTH) + 1;           // è·åæä»½  è¥¿æ¹çæ¥å æä»½ï¼0--11  ä¸æ¹1--12\n\nint date = calendar.get(Calendar.DATE);                 // è·åæ¥æ\n\nint hour = calendar.get(Calendar.HOUR);                 // è·åæ¶\n\nint hours = calendar.get(Calendar.HOUR_OF_DAY);         // è·åæ¶ç24å°æ¶å¶\n\nint minute = calendar.get(Calendar.MINUTE);             // è·åå\n\nint second = calendar.get(Calendar.SECOND);             // è·åç§\n\n\n * public int getActualMaximum(int field) è¿åå­æ®µçæå¤§å¼\n\nint max = calendar.getActualMaximum(Calendar.MONTH);          // è·åæå®å­æ®µå·å¤æå¤§å¼,è·å¾æå¤§æä»½\n\nint days = calendar.getActualMaximum(Calendar.DAY_OF_MONTH);  //è·åå½åæ¥åæè¡¨ç¤ºæä»½çæå¤§å¤©æ°\n\n\n * public void set(int field,int value) è®²ç»å®çæ¥åå­æ®µè®¾ç½®ä¸ºç»å®çå¼\n\ncalendar.set(Calendar.YEAR, 2022);                      // è®¾ç½®å¹´ä»½\n\ncalendar.set(Calendar.MONTH, 3);                        // è®¾ç½®æä»½   è¿éæ¯4æ\n\ncalendar.set(Calendar.DAY_OF_MONTH, 1);                 // è®¾ç½®æ¥æ\n\n\n * public abstract void add(int field,int amount) æ ¹æ®æ¥åè§åï¼ä¸ºç»å®çæ¥åå­æ®µæ·»å æèæ¯åå»æå®çæ¶é´éå¼\n\ncalendar.add(Calendar.YEAR, 1);                         // æä»½å ä¸\n\ncalendar.add(Calendar.YEAR, -1);                        // æä»½åä¸\n\n\n * public Date getTime() è¿åçæ¯ä¸ä¸ªè¡¨ç¤ºCalendaræ¶é´å¼(ä»ååå°ç°å¨çæ¯«ç§åç§»é)çDateå¯¹è±¡\n\nDate time = calendar.getTime();                         // è·åæ¶é´\n\n\n\n# æ³å\n\n\n# æ³åå®ä¹\n\nå®ä¹ç±»æ¶å¹¶ä¸åºå®æ°æ®ç±»åï¼ç­å°åå»ºå¯¹è±¡æè°ç¨æ¹æ³æ¶åæç¡®æ°æ®ç±»åã\n\nç¼è¯è¿ç¨ä¸­ï¼ç±ç¼è¯å¨æ£æ¥ç±»åå®å¨ï¼èªå¨éæ§å°å¯¹ç±»çæ°æ®ç±»åè¿è¡å¼ºå¶è½¬æ¢ï¼Object -> æå®æ°æ®ç±»åï¼ãç¼è¯åçæç å­èç æä»¶(.class) å°ä¸åå«ææ³åã\n\n\n# æ³åä½¿ç¨\n\nå¯ä½¿ç¨ A-Z ä¹é´çä»»ä½ä¸ä¸ªå­æ¯ï¼å¸¸ç¨ï¼\n\n * T (type)ï¼ è¡¨ç¤ºå·ä½çä¸ä¸ª java ç±»å\n * K V (key value)ï¼ åå«ä»£è¡¨ java é®å¼ä¸­ç Key Value\n * E (element)ï¼ ä»£è¡¨ java éåæ¡æ¶åç´ \n * ï¼ï¼è¡¨ç¤ºä¸ç¡®å®ç java ç±»\n\n// å®ä¹æ¶ä½¿ç¨æ³å\npublic class Box<T> {\n    private T t;\n    public void set(T t) {\n        this.t = t;\n    }\n    public T get() {\n        return t;\n    }\n} \n\n// è°ç¨æ¶æç¡®ç±»å\nclass Test{\n    static void main(String[] args){\n        Box<Integer> myBox = new Box<>();\n        myBox.set(3);\n        System.out.print(myBox.get());\n    }\n}\n',normalizedContent:'# åºæ¬ç±»å\n\n\n# å«å¤§åºæ¬ç±»å\n\njava è¯­è¨æä¾äºå«ç§åºæ¬ç±»åï¼ç¨æ·æ éå®ä¹ä¹å¯ä»¥ç´æ¥ä½¿ç¨ãå¶æ°æ®ä¿å­å¨ç¸åºçæ¹æ³æ ä¸­ã\n\nåºæ¬æ°æ®ç±»å    å­èæ°   é»è®¤å¼     åè£æ°æ®ç±»å      å¤æ³¨\nbyte      1     0       byte        \nshort     2     0       short       \nint       4     0       integer     \nlong      8     0       long        \nfloat     4     0.0f    float       æ°å­åå f\ndouble    8     0.0     double      \nchar      2     null    character   å¿é¡»ç¨åå¼å·\nboolean   1     false   boolean     \n\n\n# åè£ç±»å\n\nåç»§æ¿èª number æ½è±¡ç±»ï¼æåºæ¬ç±»åæ°æ®å°è£æå¯¹è±¡ãåºæ¬ç±»åé½æå¯¹åºçåè£ç±»åï¼åºæ¬ç±»åååè£ç±»åä¹é´ä¼èªå¨è¿è¡è½¬åï¼è£ç®±ä¸æç®±ï¼\n\n * åºæ¬ç±»åï¼å¦intï¼ï¼æ¯ä¸ä¸ªå¼ãåè®¸ä¸èµåå¼ï¼ç³»ç»èªå¨æ·»å é»è®¤å¼ã\n * åè£ç±»åï¼å¦integerï¼ï¼æ¯ä¸ä¸ªå¯¹è±¡ãå®ä¾åå¿é¡»èµåå¼ï¼ä¸èµå¼åä¸è½æ¹å(final)ã\n\ninteger x = 2;     // è£ç®±\nint y = x;         // æç®±\n\n\n\n# è½¬æ¢ç±»å\n\n\n\n * æä¸å¾é¡ºåºå¯ä»¥èªå¨è¿è¡ç±»åè½¬æ¢ãä½æ´åè½¬åä¸ºæµ®ç¹åæ¶ï¼å¦ææ°æ®è¿å¤§å¯è½ä¼å¯¼è´æ°æ®ä¸¢å¤±ç²¾åº¦ã\n\n * åä¹åå¿é¡»è¿è¡å¼ºå¶ç±»åè½¬æ¢ãä½å¡å¿å°å¿ï¼è¶åºèå´å¯è½ä¼äº§çææ³ä¸å°çéè¯¯ã\n\nint i = \'x\';                  // èªå¨è½¬æ¢\nchar c = (char)60;            // å¼ºå¶è½¬æ¢\n\n\nä½æ¯åè£ç±»åä¹é´çè½¬æ¢ï¼éè¦ä½¿ç¨ç¹æ®çæ¹æ³ã\n\ninteger i = l.intvalue();\nlong l = i.longvalue();\n\n\n\n# æ°ç»\n\n\n# array ç±»\n\næ°æ®çéåãæ¬è´¨æ¯ä¸ä¸ªå¯¹è±¡ï¼æ°æ®å­å¨å¨å åºï¼ç±å¼ç¨æåæ°ç»é¦ä¸ªåç´ çå°åã\n\n# åå»ºæ°ç»\n\nåå»ºæ°ç»æ¶ï¼å¿é¡»ç¡®å®æ°ç»é¿åº¦åç±»åãä½å¦æå¨å­çæ¯åºæ¬ç±»åï¼åè®¸ä¸èµåå¼ï¼ä½¿ç¨é»è®¤å¼ï¼ã\n\nint[] arr = new int[4];                    // æ¹æ³ä¸\nint[] arr = {1,2,3,4};                     // æ¹æ³äº\nint[] arr = new int[]{1,2,3,4};            // æ¹æ³ä¸\n\n\næ°ç»é¿åº¦ï¼å¨æ°ç»å¯¹è±¡ä¸­ï¼å®ä¹äº length å±æ§è®°å½äºæ°ç»é¿åº¦ã\n\nint len = arr.length;                      // è¿åæ°ç»é¿åº¦  \n\n\n\n# arrays ç±»\n\nå¯¹æ°ç»è¿è¡æä½çè¾å©ç±»ï¼å®ç°äºå¯¹æ°ç»çå¸¸ç¨æä½ã\n\n# æ°ç»æåº\n\nsort æ¹æ³ï¼å¯ä»¥å¯¹æ°ç»æåºï¼é»è®¤æ°ç»æ°å¼ä»å°å°å¤§æåï¼ç¨æ·å¯ä»¥èªå®ä¹æåé¡ºåºï¼\n\narrays.sort(arr);                                     // æ°ç»æåº\n\n\n# æ°ç»å¤å¶\n\ncopyof/copyofrange æ¹æ³ï¼å¤å¶æ°ç»ãåºå±è°ç¨ system.arraycopy çæ¬å°æ¹æ³å®ç°ï¼å¸¸ç¨äºæ°ç»æ©å®¹ã\n\nint[] arr1 = arrays.copyof(arr, 10);                  // å¤å¶æ°ç»ï¼å 10 ä¸ªåä½\nint[] arr2 = arrays.copyof(arr, 0, arr.length);       // å¤å¶æ°ç»ï¼ä» 0 å° arr.length - 1\n\n\n# æ°ç»è½¬å\n\naslist æ¹æ³ï¼å°æ°ç»è½¬åä¸ºåè¡¨ï¼list ç±»ï¼ï¼ä½æ°ç»æ°æ®å¿é¡»æ¯åè£ç±»åã\n\nè°ç¨è¯¥æ¹æ³å°æ°ç»è½¬æ¢ä¸ºåè¡¨åï¼å¨åå­ä¸­å®éè¿æ¯ä»¥æ°ç»å½¢å¼å­å¨ãè¿å¯è½ä¼å¯¼è´ä»¥ä¸ä¸¤ä¸ªé®é¢ï¼\n\n 1. è°ç¨ list ç±»ç add æ¹æ³ååè¡¨ä¸­æå¥æ°æ®ï¼ä¼å¯¼è´å¼å¸¸ï¼\n 2. å¯¹åæ°ç»è¿è¡æ´æ¹ï¼ä¹ä¼å¯¼è´åè¡¨ä¸­çæ°æ®åçååã\n\narr[] = new integer[]{1, 2, 3, 4};                    // æ°ç»å¿é¡»æ¯åè£æ°æ®ç±»å\n\nlist list = arrays.aslist(arr);                       // å°æ°ç»è½¬æ¢ä¸ºéåï¼æé®é¢ï¼               \nlist list = new arraylist<>(arrays.aslist(arr));      // å°æ°ç»è½¬æ¢ä¸ºéåï¼æ¨èï¼  \n\n\n\n# å­ç¬¦ä¸²\n\n\n# stringç±»\n\nstring ç±»æ¬è´¨æ¯ä¸ä¸ª final å¯¹è±¡ï¼ç±å¼ç¨æåå­å¨å­ç¬¦ä¸²å¯¹è±¡çå°åãå¼ç¨è½ç¶å¯åï¼ä½åå­æ°æ®ä¸è½è¢«æ´æ¹ã\n\n# åå»ºå­ç¬¦ä¸²\n\nstring å¯¹è±¡åå»ºåä¸ç»èµå¼ä¸åæ¹åï¼æä»¥ä¸ä¸¤ç§åå»ºæ¹å¼ï¼\n\n 1. ç´æ¥èµå¼ï¼å¦æå¸¸éæ± æ²¡æï¼åå¨å¸¸éæ± æ°å»ºå¯¹è±¡ãå¦åç´æ¥ä½¿ç¨å¸¸éæ± ä¸­å·²æå¯¹è±¡ï¼å¼ç¨æåå¸¸éæ± ã\n 2. æé æ¹æ³ï¼å¦æå¸¸éæ± æ²¡æï¼åå¨å¸¸éæ± æ°å»ºå¯¹è±¡ãæ è®ºå¦ä½ä¸å®ä¼å¨å åºåå»ºå¯¹è±¡ï¼å¼ç¨æåå åºã\n\nstring str1 = "string";                       // å¼ç¨æåå¸¸éæ± \nstring str2 = "str" + "ing";                  // å¼ç¨æåå¸¸éæ± ï¼æå str1 çå­ç¬¦ä¸²å¯¹è±¡ï¼\nsystem.out.println(str1==str2);               // true\n\nstring str3 = new string("string");           // å¼ç¨æåå åºï¼å¨å åºæ°å»ºå­ç¬¦ä¸²å¯¹è±¡ï¼\nstring str4 = new string("string");           // å¼ç¨æåå åºï¼å¨å åºæ°å»ºå­ç¬¦ä¸²å¯¹è±¡ï¼\nsystem.out.println(str1==str3);               // false\nsystem.out.println(str3==str4);               // false\n\nstring str5 = str1 + str2;                    // å¼ç¨æåå åº\n\nstring str6 = str1.intern();           // string.intern()å¯ä»¥ä¿è¯ç¸ååå®¹çå­ç¬¦ä¸²åéå¼ç¨åä¸çåå­å¯¹è±¡ã\nsystem.out.println(str1==str6);        // true\n\nstring newstr = new string(str1.getbytes("iso-8859-1"), "gbk");    // è·åæå®ç±»åç¼ç å¯¹è±¡ï¼ææå®ç±»åç¼ç \n\n\n# å¸¸ç¨æ¹æ³\n\nint len = str.length();                   // è¿åå­ç¬¦ä¸²é¿åº¦\n\nstring[] strs = str.split(",");           // æåéç¬¦åè§£å­ç¬¦ä¸²\n\nboolean c = str.contains(str2);           // å¤æ­æ¯å¦å­å¨å­å­ç¬¦ä¸²\nint index = str.indexof(str2);            // æ¥æ¾å­å­ç¬¦ä¸²åºç°çç¬¬ä¸ä¸ªä½ç½®ï¼æ²¡æè¿å-1\nint index = str.lastindexof(str2);        // æ¥æ¾å­å­ç¬¦ä¸²åºç°çæåä¸ä¸ªä½ç½®ï¼æ²¡æè¿å-1\n\nstring str3 = str1.concat(str2);          // è¿æ¥ä¸¤ä¸ªå­ç¬¦ä¸²\n\nstring str2 = str.trim();                 // å»é¤å­ç¬¦ä¸²å·¦å³ç©ºæ ¼ãã\nstring str2 = str.substring(0,3);         // æªåæå®ä½ç½®ï¼0-2ï¼çå­å­ç¬¦ä¸²\nstring str2 = str.replace("a", "b");      // æ°å­ç¬¦ a æ¿æ¢æ§å­ç¬¦ b\n\n\n# ç±»åè½¬æ¢\n\n// number > string\n\nstring s1 = data.tostring();              // data å¿é¡»ä¸ºåè£æ°æ®ç±»å\nstring s2 = integer.tostring(data);       // data å¯ä»¥ä¸ºåºç¡æ°æ®ç±»åï¼åæ¬å­ç¬¦æ°ç» char[]\nstring s3 = string.valueof(data);         // data å¯ä»¥ä¸ºåºç¡æ°æ®ç±»åï¼åæ¬å­ç¬¦æ°ç» char[]\n\n// string > char\n\nchar c = str.charat(0);\nchar[] ch = str.tochararray();\n\n// string > int\n\nint n1 = integer.parseint(str);          \nint n2 = integer.valueof(str);\n\n\n\n# stringbuilder / stringbuffer ç±»\n\nç±äº string ç±»ä¸å¯åæ§ï¼å¯¹å¶é¢ç¹æ´æ¹å¾å¾ä¼äº§çè¾å¤ä¸´æ¶åéç±»ï¼å ç¨å¤§éåå­ãå¯¹æ­¤æä»¬éå¸¸ä½¿ç¨ stringbuilder/stringbuffer æ¥é¿åï¼è¿ä¸¤ä¸ªç±»åè®¸å¨åæåå­å°åå¯¹å­ç¬¦ä¸²è¿è¡æä½\n\n * string ä¸å¯åï¼å æ­¤æ¯çº¿ç¨å®å¨ç\n * stringbuilder ä¸æ¯çº¿ç¨å®å¨ç\n * stringbuffer æ¯çº¿ç¨å®å¨çï¼åé¨ä½¿ç¨ synchronized è¿è¡åæ­¥\n\n# åå»ºå­ç¬¦ä¸²\n\nå¿é¡»éè¿æé æ¹æ³åå»ºï¼ä¸å¯ä»¥ç´æ¥èµå¼çå½¢å¼åå»ºï¼stringbuffer str = "hello";ã\n\nå­ç¬¦ä¸²é»è®¤é¿åº¦ä¸º16ï¼è¶åºåä¼è¿è¡èªå¨æ©å®¹ã\n\nstringbuffer str1 = new stringbuffer("hello");\nstringbuilder str2 = new stringbuilder("hello");\n\n\nå° stringbuilder / stringbuffer ç±»è½¬åä¸º string ç±»ã\n\nstring str1 = str.tostring();    \n\n\n# ä¸ç¨æ¹æ³\n\nstringbuilder / stringbuffer ç±»å¯ä»¥ä½¿ç¨ string ç±»çå¨é¨æ¹æ³ï¼è¿æ°å¢äºä»¥ä¸æ¹æ³ç´æ¥å¯¹å­ç¬¦ä¸²è¿è¡ä¿®æ¹ã\n\nstr.append("add");                 // æ«å°¾æ·»å å­ç¬¦ä¸²ï¼ä¹å¯ä»¥æ¯å¶ä»åºç¡ç±»å\nstr.insert(0,"insert");            // æå®ä½ç½®æå¥å­ç¬¦ä¸²ï¼ä¹å¯ä»¥æ¯å¶ä»åºç¡ç±»å\nstr.deletecharat(6);               // å é¤æå®ä½ç½®ï¼6ï¼çå­ç¬¦\nstr.delete(6,8);                   // å é¤æå®ä½ç½®ï¼6å7ï¼çå­ç¬¦ä¸²\nstr.reverse(str2);                 // ç¿»è½¬å­ç¬¦ä¸²\n\n\n\n# å¤§æ°\n\nå¨ java ç¨åºä¸­ï¼æä»¬å¯è½ä¼ç¨å°ä¸äºæ°å¼ç¹å«å·¨å¤§ãæèå°æ°ç¹å«ç²¾ç¡®çæ°å¼ï¼è¿äºæ°å¼æ æ³ç¨åºç¡ç±»åè¡¨ç¤ºãå æ­¤æä»¬å®ä¹äº biginteger/bigdecimal ç±»æ¥ä¿å­è¿ç±»æ°æ®ï¼å®éæ¯ä»¥å­ç¬¦ä¸²å½¢å¼å¨å åºå­å¨ã\n\n\n# biginteger ç±»\n\nä¸»è¦ç¨æ¥æä½æ¯ long ç±»åæ´å¤§çæ´åæ°å­ã\n\n\n# bigdecimal ç±»\n\nåºäº biginteger ç±»å®ç°ãç±äºåºæ¬æµ®ç¹æ°ç±»å(float/double) ä¼äº§çç²¾åº¦ä¸¢å¤±é®é¢ï¼å æ­¤å¸¸ä½¿ç¨ bigdecimal ç±»ä»£æ¿ãæ¶åéé¢å¿é¡»ä½¿ç¨è¯¥ç±»ã\n\nfloat x = 1.0f;                           \nfloat a = 1.0f - 0.9f;\nfloat b = 0.9f - 0.8f;                    // çº¦ç­äº 0.1\nsystem.out.println(a == b);               // false\n\nbigdecimal a = new bigdecimal("1.0");     \nbigdecimal b = new bigdecimal("0.9");\nbigdecimal c = new bigdecimal("0.8");     \nbigdecimal x = a.subtract(b);\nbigdecimal y = b.subtract(c);             // ç­äº 0.1\nsystem.out.println(x.equals(y));          // true\n\n\n# biginteger å bigdecimal ç±»å¸¸ç¨æ¹æ³\n\nbigdecimal x = a.add(b);                  // å \nbigdecimal x = a.subtract(b);             // å\nbigdecimal x = a.multiply(b);             // ä¹\nbigdecimal x = a.divide(b);               // é¤\nbigdecimal x = a.abs();                   // ç»å¯¹å¼\na.compareto(b);                           // æ¯è¾å¤§å°\n\n// bigdecimal ç±»ä¸ç¨\nbigdecimal x = y.setscale(3, rules);      // è®¾ç½®ç²¾åº¦åä¿çè§å\n\n\n\n# æä¸¾\n\njava æä¸¾æ¯ä¸ä¸ªç¹æ®çç±»ï¼ä¸è¬è¡¨ç¤ºä¸ç»å¸¸éï¼æ¯å¦ä¸å¹´ç 4 ä¸ªå­£èï¼ä¸ä¸ªå¹´ç 12 ä¸ªæä»½ï¼ä¸ä¸ªææç 7 å¤©ï¼æ¹åæä¸åè¥¿åç­ã\n\n\n# æä¸¾å®ä¹\n\n// å®ä¹æä¸¾ç±»\npublic enum day {\n    monday, tuesday, wednesday,\n    thursday, friday, saturday, sunday\n}\n\n// ä½¿ç¨æä¸¾ç±»\npublic class demo {\n    public boolean test(day today){\n        if(today == day.monday) return true;\n        else teturn false;\n    }\n}\n\n\n\n# æä¸¾ä½¿ç¨\n\n * values(); // è¿åæä¸¾ç±»ä¸­ææçå¼ã\n * ordinal(); // æ¹æ³å¯ä»¥æ¾å°æ¯ä¸ªæä¸¾å¸¸éçç´¢å¼ï¼å°±åæ°ç»ç´¢å¼ä¸æ ·ã\n * valueof(); // æ¹æ³è¿åæå®å­ç¬¦ä¸²å¼çæä¸¾å¸¸éã\n\nday[] arr = day.values();       \nfor(day day: arr){\n    system.out.println(day + " at index " + day.ordinal());     // æ¥çå¼åç´¢å¼\n}\nsystem.out.println(color.valueof("monday"));\n\n\n\n# æ¶é´\n\n\n# dateç±»\n\njava.util åæä¾äº date ç±»æ¥å°è£å½åçæ¥æåæ¶é´ã date ç±»æä¾ä¸¤ä¸ªæé å½æ°æ¥å®ä¾å date å¯¹è±¡ã\n\ndate()                      // ç¬¬ä¸ä¸ªæé å½æ°ä½¿ç¨å½åæ¥æåæ¶é´æ¥åå§åå¯¹è±¡ã\ndate(long millisec)         // ç¬¬äºä¸ªæé å½æ°æ¥æ¶ä¸ä¸ªåæ°ï¼è¯¥åæ°æ¯ä» 1970 å¹´ 1 æ 1 æ¥èµ·çæ¯«ç§æ°ã\n\n\n# æ¥ææ ¼å¼åï¼stringï¼\n\nsimpledateformat æ¯ä¸ä¸ªä»¥è¯­è¨ç¯å¢ææçæ¹å¼æ¥æ ¼å¼åååææ¥æçç±»ãsimpledateformat åè®¸ä½ éæ©ä»»ä½ç¨æ·èªå®ä¹æ¥ææ¶é´æ ¼å¼æ¥è¿è¡ã\n\ndate date = new date( );\nsimpledateformat dateformat = new simpledateformat ("yyyy-mm-dd hh:mm:ss");\nsystem.out.println("å½åæ¶é´ä¸º: " + dateformat.format(date));\n\n\n# æ¥ææ ¼å¼åï¼longï¼\n\nå¨æ¥å¸¸ java å¼åä¸­ï¼æä»¬æå¸¸ä½¿ç¨ long ç±»åï¼èä¸æ¯ date/timestamp ç±»åè¡¨ç¤ºæ¶é´ã\n\nlong timestamp1 = system.currenttimemillis();                 // 13 ä½ ç²¾ç¡®å° ms\nlong timestamp2 = (system.currenttimemillis()) / 1000;        // 10 ä½ ç²¾ç¡®å° s\n\n\n# å¸¸ç¨æ¹æ³\n\nlong time = date.gettime();                         // è·åæ¶é´æ³\nboolean before = date1.before(date2);               // date1 å¨ date2 æ¶é´åå°±è¿åtrue\nboolean after = date1.after(date2);                 // date1 å¨ date2 æ¶é´åå°±è¿åtrue\nboolean equals = date1.equals(date2);               // date1 å date2 åæ¶é´å°±è¿åtrue\nint i = date1.compareto(date2);                     // è¿å -1ï¼0ï¼1 åå«è¡¨ç¤º å¨è¿ä¹åï¼ç¸åï¼å¨è¿ä¹å\n\n\n\n# calendarç±»\n\ncalendarç±»çåè½è¦æ¯dateç±»å¼ºå¤§å¾å¤ï¼èä¸å¨å®ç°æ¹å¼ä¸ä¹æ¯dateç±»è¦å¤æä¸äºã\n\ncalendarç±»æ¯ä¸ä¸ªæ½è±¡ç±»ï¼å¨å®éä½¿ç¨æ¶å®ç°ç¹å®çå­ç±»çå¯¹è±¡ï¼åå»ºå¯¹è±¡çè¿ç¨å¯¹ç¨åºåæ¥è¯´æ¯éæçï¼åªéè¦ä½¿ç¨getinstanceæ¹æ³åå»ºå³å¯ã\n\ncalendar calendar = calendar.getinstance();                // é»è®¤æ¯å½åæ¥æ\n\n\n# calendarç±»å¯¹è±¡å­æ®µç±»å\n\nå¸¸é                      æè¿°\ncalendar.year           å¹´ä»½\ncalendar.month          æä»½\ncalendar.date           æ¥æ\ncalendar.day_of_month   æ¥æï¼åä¸é¢çå­æ®µæä¹å®å¨ç¸å\ncalendar.hour           12å°æ¶å¶çå°æ¶\ncalendar.hour_of_day    24å°æ¶å¶çå°æ¶\ncalendar.minute         åé\ncalendar.second         ç§\ncalendar.day_of_week    ææå \n\n# å¸¸ç¨æ¹æ³\n\n * public int get(int field) è¿åçæ¯ä¸ä¸ªæ¥åçå­æ®µå¼\n\nint year = calendar.get(calendar.year);                 // è·åå¹´ä»½\n\nint month = calendar.get(calendar.month) + 1;           // è·åæä»½  è¥¿æ¹çæ¥å æä»½ï¼0--11  ä¸æ¹1--12\n\nint date = calendar.get(calendar.date);                 // è·åæ¥æ\n\nint hour = calendar.get(calendar.hour);                 // è·åæ¶\n\nint hours = calendar.get(calendar.hour_of_day);         // è·åæ¶ç24å°æ¶å¶\n\nint minute = calendar.get(calendar.minute);             // è·åå\n\nint second = calendar.get(calendar.second);             // è·åç§\n\n\n * public int getactualmaximum(int field) è¿åå­æ®µçæå¤§å¼\n\nint max = calendar.getactualmaximum(calendar.month);          // è·åæå®å­æ®µå·å¤æå¤§å¼,è·å¾æå¤§æä»½\n\nint days = calendar.getactualmaximum(calendar.day_of_month);  //è·åå½åæ¥åæè¡¨ç¤ºæä»½çæå¤§å¤©æ°\n\n\n * public void set(int field,int value) è®²ç»å®çæ¥åå­æ®µè®¾ç½®ä¸ºç»å®çå¼\n\ncalendar.set(calendar.year, 2022);                      // è®¾ç½®å¹´ä»½\n\ncalendar.set(calendar.month, 3);                        // è®¾ç½®æä»½   è¿éæ¯4æ\n\ncalendar.set(calendar.day_of_month, 1);                 // è®¾ç½®æ¥æ\n\n\n * public abstract void add(int field,int amount) æ ¹æ®æ¥åè§åï¼ä¸ºç»å®çæ¥åå­æ®µæ·»å æèæ¯åå»æå®çæ¶é´éå¼\n\ncalendar.add(calendar.year, 1);                         // æä»½å ä¸\n\ncalendar.add(calendar.year, -1);                        // æä»½åä¸\n\n\n * public date gettime() è¿åçæ¯ä¸ä¸ªè¡¨ç¤ºcalendaræ¶é´å¼(ä»ååå°ç°å¨çæ¯«ç§åç§»é)çdateå¯¹è±¡\n\ndate time = calendar.gettime();                         // è·åæ¶é´\n\n\n\n# æ³å\n\n\n# æ³åå®ä¹\n\nå®ä¹ç±»æ¶å¹¶ä¸åºå®æ°æ®ç±»åï¼ç­å°åå»ºå¯¹è±¡æè°ç¨æ¹æ³æ¶åæç¡®æ°æ®ç±»åã\n\nç¼è¯è¿ç¨ä¸­ï¼ç±ç¼è¯å¨æ£æ¥ç±»åå®å¨ï¼èªå¨éæ§å°å¯¹ç±»çæ°æ®ç±»åè¿è¡å¼ºå¶è½¬æ¢ï¼object -> æå®æ°æ®ç±»åï¼ãç¼è¯åçæç å­èç æä»¶(.class) å°ä¸åå«ææ³åã\n\n\n# æ³åä½¿ç¨\n\nå¯ä½¿ç¨ a-z ä¹é´çä»»ä½ä¸ä¸ªå­æ¯ï¼å¸¸ç¨ï¼\n\n * t (type)ï¼ è¡¨ç¤ºå·ä½çä¸ä¸ª java ç±»å\n * k v (key value)ï¼ åå«ä»£è¡¨ java é®å¼ä¸­ç key value\n * e (element)ï¼ ä»£è¡¨ java éåæ¡æ¶åç´ \n * ï¼ï¼è¡¨ç¤ºä¸ç¡®å®ç java ç±»\n\n// å®ä¹æ¶ä½¿ç¨æ³å\npublic class box<t> {\n    private t t;\n    public void set(t t) {\n        this.t = t;\n    }\n    public t get() {\n        return t;\n    }\n} \n\n// è°ç¨æ¶æç¡®ç±»å\nclass test{\n    static void main(string[] args){\n        box<integer> mybox = new box<>();\n        mybox.set(3);\n        system.out.print(mybox.get());\n    }\n}\n',charsets:{cjk:!0}},{title:"é¢åå¯¹è±¡",frontmatter:{title:"é¢åå¯¹è±¡",date:"2022-04-11T14:36:09.000Z",permalink:"/pages/15942a/",categories:["å­¦ä¹ èµæ","Java","Javaåºç¡"],tags:[null]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/01.Java%E5%9F%BA%E7%A1%80/05.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html",relativePath:"å­¦ä¹ èµæ/03.Java/01.Javaåºç¡/05.é¢åå¯¹è±¡.md",key:"v-a0ce0a92",path:"/pages/15942a/",headers:[{level:2,title:"ä»ä¹æ¯é¢åå¯¹è±¡",slug:"ä»ä¹æ¯é¢åå¯¹è±¡",normalizedTitle:"ä»ä¹æ¯é¢åå¯¹è±¡",charIndex:2},{level:2,title:"å°è£",slug:"å°è£",normalizedTitle:"å°è£",charIndex:100},{level:2,title:"ç»§æ¿",slug:"ç»§æ¿",normalizedTitle:"ç»§æ¿",charIndex:103},{level:3,title:"ç±»çç»§æ¿",slug:"ç±»çç»§æ¿",normalizedTitle:"ç±»çç»§æ¿",charIndex:1025},{level:3,title:"æ¥å£ç»§æ¿",slug:"æ¥å£ç»§æ¿",normalizedTitle:"æ¥å£ç»§æ¿",charIndex:2215},{level:2,title:"å¤æ",slug:"å¤æ",normalizedTitle:"å¤æ",charIndex:106},{level:3,title:"ç»§æ¿å¤æ",slug:"ç»§æ¿å¤æ",normalizedTitle:"ç»§æ¿å¤æ",charIndex:2840},{level:3,title:"æ¹æ³å¤æ",slug:"æ¹æ³å¤æ",normalizedTitle:"æ¹æ³å¤æ",charIndex:3053},{level:3,title:"ä»£ç ç¤ºä¾",slug:"ä»£ç ç¤ºä¾",normalizedTitle:"ä»£ç ç¤ºä¾",charIndex:3268}],headersStr:"ä»ä¹æ¯é¢åå¯¹è±¡ å°è£ ç»§æ¿ ç±»çç»§æ¿ æ¥å£ç»§æ¿ å¤æ ç»§æ¿å¤æ æ¹æ³å¤æ ä»£ç ç¤ºä¾",content:'# ä»ä¹æ¯é¢åå¯¹è±¡\n\n * é¢åè¿ç¨ï¼æ ¹æ®è§£å³é®é¢çè¿ç¨ï¼ç´æ¥è®¾è®¡ç³»ç»ãå¦ C è¯­è¨ã\n\n * é¢åå¯¹è±¡ï¼å°é®é¢åè§£æå¤ä¸ªå¯¹è±¡ï¼è®¾è®¡æ¨¡ååãä½è¦åçç³»ç»ãå¦ java è¯­è¨ã\n   \n   * ç¹æ§ï¼å°è£ãç»§æ¿ãå¤æã\n   \n   * ä¼ç¹ï¼ä½¿ç³»ç»æ´å çµæ´»ï¼æç»´æ¤ãæå¤ç¨ãææ©å±ã\n\n\n# å°è£\n\nå°è£æ¯ææå¯¹è±¡çå±æ§åæä½ï¼ææå¡ï¼ç»åä¸ºä¸ä¸ªç¬ç«çæ´ä½ï¼å¹¶å°½å¯è½éèå¯¹è±¡çåé¨å®ç°ç»è\n\nä¼ç¹\n\n * è¯å¥½çå°è£è½å¤åå°è¦åã\n * ç±»åé¨çç»æå¯ä»¥èªç±ä¿®æ¹ã\n * å¯ä»¥å¯¹æååéè¿è¡æ´ç²¾ç¡®çæ§å¶ã\n * éèä¿¡æ¯ï¼å®ç°ç»èã\n\nä»¥ä¸ Person ç±»å°è£ nameãgenderãage ç­å±æ§ï¼å¤çåªè½éè¿ get() æ¹æ³è·åä¸ä¸ª Person å¯¹è±¡ç name å±æ§å gender å±æ§ï¼èæ æ³è·å age å±æ§ï¼ä½æ¯ age å±æ§å¯ä»¥ä¾ work() æ¹æ³ä½¿ç¨ã\nè gender å±æ§ä½¿ç¨ int æ°æ®ç±»åè¿è¡å­å¨ï¼å°è£ä½¿å¾ç¨æ·æ³¨æä¸å°è¿ç§å®ç°ç»èãå¹¶ä¸å¨éè¦ä¿®æ¹ gender å±æ§ä½¿ç¨çæ°æ®ç±»åæ¶ï¼ä¹å¯ä»¥å¨ä¸å½±åå®¢æ·ç«¯ä»£ç çæåµä¸è¿è¡ã\n\npublic class Person {\n\n    private String name;\n    private int gender;\n    private int age;\n\n    public String getName() {\n        return name;\n    }\n\n    public String getGender() {\n        return gender == 0 ? "man" : "woman";\n    }\n\n    public void work() {\n        if (18 <= age && age <= 50) {\n            System.out.println(name + " is working very hard!");\n        } else {\n            System.out.println(name + " can\'t work any more!");\n        }\n    }\n}\n\n\n\n# ç»§æ¿\n\nç»§æ¿å°±æ¯å­ç±»ç»§æ¿ç¶ç±»çç¹å¾åè¡ä¸ºï¼ä½¿å¾å­ç±»å¯¹è±¡ï¼å®ä¾ï¼å·æç¶ç±»çå®ä¾ååæ¹æ³ï¼æå­ç±»ä»ç¶ç±»ç»§æ¿æ¹æ³ï¼ä½¿å¾å­ç±»å·æç¶ç±»ç¸åçè¡ä¸ºã\n\n\n# ç±»çç»§æ¿\n\nç¹æ§\n\n * å­ç±»æ¥æç¶ç±»é private çå±æ§ãæ¹æ³ã\n * å­ç±»å¯ä»¥æ¥æèªå·±çå±æ§åæ¹æ³ï¼å³å­ç±»å¯ä»¥å¯¹ç¶ç±»è¿è¡æ©å±ã\n * å­ç±»å¯ä»¥ç¨èªå·±çæ¹å¼å®ç°ç¶ç±»çæ¹æ³ã\n * ç¶ç±»ç static æ¹æ³ä¸ä¼è¢«å­ç±»ç»§æ¿ï¼å­ç±»ç static æ¹æ³ä¼éèç¶ç±»çåå static æ¹æ³ã\n * ç¶ç±»çæé æ¹æ³ä¸ä¼è¢«å­ç±»ç»§æ¿ï¼å­ç±»å¿é¡»å¨æé æ¹æ³é¦è¡è°ç¨ç¶ç±»æé æ¹æ³ï¼åæé ç¶ç±»ï¼åæé å­ç±»ï¼\n * æé«äºç±»ä¹é´çè¦åæ§ï¼ç»§æ¿çç¼ºç¹ï¼è¦ååº¦é«å°±ä¼é æä»£ç ä¹é´çèç³»è¶ç´§å¯ï¼ä»£ç ç¬ç«æ§è¶å·®ï¼ã\n * Java çç»§æ¿æ¯åç»§æ¿ï¼ä½æ¯å¯ä»¥å¤éç»§æ¿ï¼åç»§æ¿å°±æ¯ä¸ä¸ªå­ç±»åªè½ç»§æ¿ä¸ä¸ªç¶ç±»ï¼å¤éç»§æ¿å°±æ¯ï¼ä¾å¦ B ç±»ç»§æ¿ A ç±»ï¼C ç±»ç»§æ¿ B ç±»ï¼æä»¥æç§å³ç³»å°±æ¯ B ç±»æ¯ C ç±»çç¶ç±»ï¼A ç±»æ¯ B ç±»çç¶ç±»ï¼è¿æ¯ Java ç»§æ¿åºå«äº C++ ç»§æ¿çä¸ä¸ªç¹æ§ã\n\npublic class Animal {\n\n    // public å¯ä»¥ç»§æ¿\n    public String name;\n\n    //private ä¸å¯ä»¥ç»§æ¿\n    private int id;\n\n    // ç¶ç±»æé æ¹æ³\n    public Animal(String name){\n        this.name = name;\n    }\n\n    public void eat() {\n        //åä¸è¥¿æ¹æ³çå·ä½å®ç°\n        System.out.println("animal : eat");\n    }\n    \n    public static void sleep() {\n        //ç¡è§æ¹æ³çå·ä½å®ç°}\n        System.out.println("animal ï¼sleep");\n    }\n}\n\npublic class Dog extends Animal {\n\n    // æ©å±å±æ§\n    private int age;\n\n    // æ©å±æ¹æ³\n    public void go(){\n\n    }\n\n    // å­ç±»æé æ¹æ³\n    public Dog(String name){\n        super(name);\n        this.name = name;\n    }\n\n    // éåæ¹æ³\n    @Override\n    public void eat(){\n        System.out.println("dog : eat");\n    }\n}\n\n\n> Object ç±»æ¯ä¸å java ç±»çç¶ç±»ãå¯¹äºæ®éç java ç±»,å³ä¾¿ä¸å£°æä¹é»è®¤ç»§æ¿äº Object ç±»ã\n\n----------------------------------------\n\n\n# æ¥å£ç»§æ¿\n\nåç±»çç»§æ¿ç±»ä¼¼ãä½ Java ç±»åªè½åç»§æ¿ï¼è Java æ¥å£å¯ä»¥å¤ç»§æ¿ã\n\npublic interface A {\n    public void eat();\n    public void sleep();\n}\n\npublic interface B {\n    public void show();\n}\n\npublic class C implements A,B {\n    @Override\n    public void eat() {\n        \n    }\n\n    @Override\n    public void sleep() {\n\n    }\n\n    @Override\n    public void show() {\n\n    }\n}\n\n\n\n# å¤æ\n\nå¤ææ¯åä¸ä¸ªè¡ä¸ºå·æå¤ä¸ªä¸åè¡¨ç°å½¢å¼æå½¢æçè½åã\nå¤æå°±æ¯åä¸ä¸ªæ¥å£ï¼ä½¿ç¨ä¸åçå®ä¾èæ§è¡ä¸åæä½ã\n\nä¼ç¹\n\n * æ¶é¤ç±»åç´æ¥çè¦åå³ç³»\n * æ¶é¤ç±»åä¹é´çè¦åå³ç³»\n * å¯æ¿æ¢æ§\n * å¯æ©åæ§\n * æ¥å£æ§\n * çµæ´»æ§\n * ç®åæ§\n\nä¸ä¸ªå¿è¦æ¡ä»¶\n\n * ç»§æ¿\n * éå\n * ç¶ç±»å¼ç¨æåå­ç±»å¯¹è±¡: Animal animal = new Dog();\n\n * éè½½(overload)ï¼å®ä¹å¤ç§ååæ¹æ³ï¼è°ç¨æ¶æ ¹æ®ä¼ å¥åæ°å¤å®è°ç¨åªç§æ¹æ³ã\n * éå(override)ï¼å­ç±»å®ä¹å®å¨ç¸åçæ¹æ³è¦çç¶ç±»ã\n\n\n# ç»§æ¿å¤æ\n\néåæ¯å¤æçåæï¼å¶åè®¸ç¶ç±»å¼ç¨æåå­ç±»å¯¹è±¡ï¼å¼ç¨ç±»åä¸ºç¶ç±»ï¼æåçå®éå¯¹è±¡ç±»åä¸ºå­ç±»ï¼ã\n\nAnimal animal = new Dog();\n\nä½ä¸åè®¸å­ç±»å¼ç¨æåç¶ç±»å¯¹è±¡ã\n\nDog dog = new Animal();\n\nå¦æä¸¤ä¸ªç±»ä¹é´å­å¨ç»§æ¿å³ç³»ï¼å¯ä»¥è¿è¡å¼ºå¶ç±»åè½¬æ¢ãå¼ºå¶ç±»åè½¬æ¢åªè½æ¹åå¼ç¨ç±»åï¼å®éæåå¯¹è±¡ç±»åä¸ä¼åçååã\n\nAnimal animal = (Animal)dog;\n\n\n# æ¹æ³å¤æ\n\n * è°ç¨æ®éæ¹æ³\n   \n   å­ç±»ååæ¹æ³ä¼è¦çç¶ç±»ãæ§è¡æ¹æ³æ ¹æ®å®éå¯¹è±¡ç±»åæ¥å¤å®ï¼å³æ§è¡å­ç±»éåçæ¹æ³ã\n\n * è°ç¨ static / private / final ä»¥åæé æ¹æ³\n   \n   ç¹æ®æ¹æ³ä¸è½è¢«è¦çï¼ä¸å­å¨å¤æãæ§è¡æ¹æ³ä¼æ ¹æ®å¼ç¨ç±»åæ¥å¤å®ï¼å³æ§è¡ç¶ç±»æ¹æ³ã\n\n * è°ç¨æååé\n   \n   ç¶ç±»å±æ§å¼ä¸ä¼è¢«å­ç±»ç»§æ¿ï¼ä¸å­å¨å¤æãè°ç¨åéä¼æ ¹æ®å¼ç¨ç±»åæ¥å¤å®ï¼å³å¾å°ç¶ç±»å±æ§å¼ã\n\n\n# ä»£ç ç¤ºä¾\n\npublic class Test {\n    public static void main(String[] args) {\n      show(new Cat());  // ä»¥ Cat å¯¹è±¡è°ç¨ show æ¹æ³\n      show(new Dog());  // ä»¥ Dog å¯¹è±¡è°ç¨ show æ¹æ³\n                \n      Animal a = new Cat();  // åä¸è½¬å  \n      a.eat();               // è°ç¨çæ¯ Cat ç eat\n      Cat c = (Cat)a;        // åä¸è½¬å  \n      c.work();        // è°ç¨çæ¯ Cat ç work\n  }  \n            \n    public static void show(Animal a)  {\n      a.eat();  \n        // ç±»åå¤æ­\n        if (a instanceof Cat)  {  // ç«åçäºæ \n            Cat c = (Cat)a;  \n            c.work();  \n        } else if (a instanceof Dog) { // çåçäºæ \n            Dog c = (Dog)a;  \n            c.work();  \n        }  \n    }  \n}\n \nabstract class Animal {\n    abstract void eat();  \n}  \n  \nclass Cat extends Animal {  \n    public void eat() {  \n        System.out.println("åé±¼");  \n    }  \n    public void work() {  \n        System.out.println("æèé¼ ");  \n    }  \n}  \n  \nclass Dog extends Animal {  \n    public void eat() {  \n        System.out.println("åéª¨å¤´");  \n    }  \n    public void work() {  \n        System.out.println("çå®¶");  \n    }  \n}\n',normalizedContent:'# ä»ä¹æ¯é¢åå¯¹è±¡\n\n * é¢åè¿ç¨ï¼æ ¹æ®è§£å³é®é¢çè¿ç¨ï¼ç´æ¥è®¾è®¡ç³»ç»ãå¦ c è¯­è¨ã\n\n * é¢åå¯¹è±¡ï¼å°é®é¢åè§£æå¤ä¸ªå¯¹è±¡ï¼è®¾è®¡æ¨¡ååãä½è¦åçç³»ç»ãå¦ java è¯­è¨ã\n   \n   * ç¹æ§ï¼å°è£ãç»§æ¿ãå¤æã\n   \n   * ä¼ç¹ï¼ä½¿ç³»ç»æ´å çµæ´»ï¼æç»´æ¤ãæå¤ç¨ãææ©å±ã\n\n\n# å°è£\n\nå°è£æ¯ææå¯¹è±¡çå±æ§åæä½ï¼ææå¡ï¼ç»åä¸ºä¸ä¸ªç¬ç«çæ´ä½ï¼å¹¶å°½å¯è½éèå¯¹è±¡çåé¨å®ç°ç»è\n\nä¼ç¹\n\n * è¯å¥½çå°è£è½å¤åå°è¦åã\n * ç±»åé¨çç»æå¯ä»¥èªç±ä¿®æ¹ã\n * å¯ä»¥å¯¹æååéè¿è¡æ´ç²¾ç¡®çæ§å¶ã\n * éèä¿¡æ¯ï¼å®ç°ç»èã\n\nä»¥ä¸ person ç±»å°è£ nameãgenderãage ç­å±æ§ï¼å¤çåªè½éè¿ get() æ¹æ³è·åä¸ä¸ª person å¯¹è±¡ç name å±æ§å gender å±æ§ï¼èæ æ³è·å age å±æ§ï¼ä½æ¯ age å±æ§å¯ä»¥ä¾ work() æ¹æ³ä½¿ç¨ã\nè gender å±æ§ä½¿ç¨ int æ°æ®ç±»åè¿è¡å­å¨ï¼å°è£ä½¿å¾ç¨æ·æ³¨æä¸å°è¿ç§å®ç°ç»èãå¹¶ä¸å¨éè¦ä¿®æ¹ gender å±æ§ä½¿ç¨çæ°æ®ç±»åæ¶ï¼ä¹å¯ä»¥å¨ä¸å½±åå®¢æ·ç«¯ä»£ç çæåµä¸è¿è¡ã\n\npublic class person {\n\n    private string name;\n    private int gender;\n    private int age;\n\n    public string getname() {\n        return name;\n    }\n\n    public string getgender() {\n        return gender == 0 ? "man" : "woman";\n    }\n\n    public void work() {\n        if (18 <= age && age <= 50) {\n            system.out.println(name + " is working very hard!");\n        } else {\n            system.out.println(name + " can\'t work any more!");\n        }\n    }\n}\n\n\n\n# ç»§æ¿\n\nç»§æ¿å°±æ¯å­ç±»ç»§æ¿ç¶ç±»çç¹å¾åè¡ä¸ºï¼ä½¿å¾å­ç±»å¯¹è±¡ï¼å®ä¾ï¼å·æç¶ç±»çå®ä¾ååæ¹æ³ï¼æå­ç±»ä»ç¶ç±»ç»§æ¿æ¹æ³ï¼ä½¿å¾å­ç±»å·æç¶ç±»ç¸åçè¡ä¸ºã\n\n\n# ç±»çç»§æ¿\n\nç¹æ§\n\n * å­ç±»æ¥æç¶ç±»é private çå±æ§ãæ¹æ³ã\n * å­ç±»å¯ä»¥æ¥æèªå·±çå±æ§åæ¹æ³ï¼å³å­ç±»å¯ä»¥å¯¹ç¶ç±»è¿è¡æ©å±ã\n * å­ç±»å¯ä»¥ç¨èªå·±çæ¹å¼å®ç°ç¶ç±»çæ¹æ³ã\n * ç¶ç±»ç static æ¹æ³ä¸ä¼è¢«å­ç±»ç»§æ¿ï¼å­ç±»ç static æ¹æ³ä¼éèç¶ç±»çåå static æ¹æ³ã\n * ç¶ç±»çæé æ¹æ³ä¸ä¼è¢«å­ç±»ç»§æ¿ï¼å­ç±»å¿é¡»å¨æé æ¹æ³é¦è¡è°ç¨ç¶ç±»æé æ¹æ³ï¼åæé ç¶ç±»ï¼åæé å­ç±»ï¼\n * æé«äºç±»ä¹é´çè¦åæ§ï¼ç»§æ¿çç¼ºç¹ï¼è¦ååº¦é«å°±ä¼é æä»£ç ä¹é´çèç³»è¶ç´§å¯ï¼ä»£ç ç¬ç«æ§è¶å·®ï¼ã\n * java çç»§æ¿æ¯åç»§æ¿ï¼ä½æ¯å¯ä»¥å¤éç»§æ¿ï¼åç»§æ¿å°±æ¯ä¸ä¸ªå­ç±»åªè½ç»§æ¿ä¸ä¸ªç¶ç±»ï¼å¤éç»§æ¿å°±æ¯ï¼ä¾å¦ b ç±»ç»§æ¿ a ç±»ï¼c ç±»ç»§æ¿ b ç±»ï¼æä»¥æç§å³ç³»å°±æ¯ b ç±»æ¯ c ç±»çç¶ç±»ï¼a ç±»æ¯ b ç±»çç¶ç±»ï¼è¿æ¯ java ç»§æ¿åºå«äº c++ ç»§æ¿çä¸ä¸ªç¹æ§ã\n\npublic class animal {\n\n    // public å¯ä»¥ç»§æ¿\n    public string name;\n\n    //private ä¸å¯ä»¥ç»§æ¿\n    private int id;\n\n    // ç¶ç±»æé æ¹æ³\n    public animal(string name){\n        this.name = name;\n    }\n\n    public void eat() {\n        //åä¸è¥¿æ¹æ³çå·ä½å®ç°\n        system.out.println("animal : eat");\n    }\n    \n    public static void sleep() {\n        //ç¡è§æ¹æ³çå·ä½å®ç°}\n        system.out.println("animal ï¼sleep");\n    }\n}\n\npublic class dog extends animal {\n\n    // æ©å±å±æ§\n    private int age;\n\n    // æ©å±æ¹æ³\n    public void go(){\n\n    }\n\n    // å­ç±»æé æ¹æ³\n    public dog(string name){\n        super(name);\n        this.name = name;\n    }\n\n    // éåæ¹æ³\n    @override\n    public void eat(){\n        system.out.println("dog : eat");\n    }\n}\n\n\n> object ç±»æ¯ä¸å java ç±»çç¶ç±»ãå¯¹äºæ®éç java ç±»,å³ä¾¿ä¸å£°æä¹é»è®¤ç»§æ¿äº object ç±»ã\n\n----------------------------------------\n\n\n# æ¥å£ç»§æ¿\n\nåç±»çç»§æ¿ç±»ä¼¼ãä½ java ç±»åªè½åç»§æ¿ï¼è java æ¥å£å¯ä»¥å¤ç»§æ¿ã\n\npublic interface a {\n    public void eat();\n    public void sleep();\n}\n\npublic interface b {\n    public void show();\n}\n\npublic class c implements a,b {\n    @override\n    public void eat() {\n        \n    }\n\n    @override\n    public void sleep() {\n\n    }\n\n    @override\n    public void show() {\n\n    }\n}\n\n\n\n# å¤æ\n\nå¤ææ¯åä¸ä¸ªè¡ä¸ºå·æå¤ä¸ªä¸åè¡¨ç°å½¢å¼æå½¢æçè½åã\nå¤æå°±æ¯åä¸ä¸ªæ¥å£ï¼ä½¿ç¨ä¸åçå®ä¾èæ§è¡ä¸åæä½ã\n\nä¼ç¹\n\n * æ¶é¤ç±»åç´æ¥çè¦åå³ç³»\n * æ¶é¤ç±»åä¹é´çè¦åå³ç³»\n * å¯æ¿æ¢æ§\n * å¯æ©åæ§\n * æ¥å£æ§\n * çµæ´»æ§\n * ç®åæ§\n\nä¸ä¸ªå¿è¦æ¡ä»¶\n\n * ç»§æ¿\n * éå\n * ç¶ç±»å¼ç¨æåå­ç±»å¯¹è±¡: animal animal = new dog();\n\n * éè½½(overload)ï¼å®ä¹å¤ç§ååæ¹æ³ï¼è°ç¨æ¶æ ¹æ®ä¼ å¥åæ°å¤å®è°ç¨åªç§æ¹æ³ã\n * éå(override)ï¼å­ç±»å®ä¹å®å¨ç¸åçæ¹æ³è¦çç¶ç±»ã\n\n\n# ç»§æ¿å¤æ\n\néåæ¯å¤æçåæï¼å¶åè®¸ç¶ç±»å¼ç¨æåå­ç±»å¯¹è±¡ï¼å¼ç¨ç±»åä¸ºç¶ç±»ï¼æåçå®éå¯¹è±¡ç±»åä¸ºå­ç±»ï¼ã\n\nanimal animal = new dog();\n\nä½ä¸åè®¸å­ç±»å¼ç¨æåç¶ç±»å¯¹è±¡ã\n\ndog dog = new animal();\n\nå¦æä¸¤ä¸ªç±»ä¹é´å­å¨ç»§æ¿å³ç³»ï¼å¯ä»¥è¿è¡å¼ºå¶ç±»åè½¬æ¢ãå¼ºå¶ç±»åè½¬æ¢åªè½æ¹åå¼ç¨ç±»åï¼å®éæåå¯¹è±¡ç±»åä¸ä¼åçååã\n\nanimal animal = (animal)dog;\n\n\n# æ¹æ³å¤æ\n\n * è°ç¨æ®éæ¹æ³\n   \n   å­ç±»ååæ¹æ³ä¼è¦çç¶ç±»ãæ§è¡æ¹æ³æ ¹æ®å®éå¯¹è±¡ç±»åæ¥å¤å®ï¼å³æ§è¡å­ç±»éåçæ¹æ³ã\n\n * è°ç¨ static / private / final ä»¥åæé æ¹æ³\n   \n   ç¹æ®æ¹æ³ä¸è½è¢«è¦çï¼ä¸å­å¨å¤æãæ§è¡æ¹æ³ä¼æ ¹æ®å¼ç¨ç±»åæ¥å¤å®ï¼å³æ§è¡ç¶ç±»æ¹æ³ã\n\n * è°ç¨æååé\n   \n   ç¶ç±»å±æ§å¼ä¸ä¼è¢«å­ç±»ç»§æ¿ï¼ä¸å­å¨å¤æãè°ç¨åéä¼æ ¹æ®å¼ç¨ç±»åæ¥å¤å®ï¼å³å¾å°ç¶ç±»å±æ§å¼ã\n\n\n# ä»£ç ç¤ºä¾\n\npublic class test {\n    public static void main(string[] args) {\n      show(new cat());  // ä»¥ cat å¯¹è±¡è°ç¨ show æ¹æ³\n      show(new dog());  // ä»¥ dog å¯¹è±¡è°ç¨ show æ¹æ³\n                \n      animal a = new cat();  // åä¸è½¬å  \n      a.eat();               // è°ç¨çæ¯ cat ç eat\n      cat c = (cat)a;        // åä¸è½¬å  \n      c.work();        // è°ç¨çæ¯ cat ç work\n  }  \n            \n    public static void show(animal a)  {\n      a.eat();  \n        // ç±»åå¤æ­\n        if (a instanceof cat)  {  // ç«åçäºæ \n            cat c = (cat)a;  \n            c.work();  \n        } else if (a instanceof dog) { // çåçäºæ \n            dog c = (dog)a;  \n            c.work();  \n        }  \n    }  \n}\n \nabstract class animal {\n    abstract void eat();  \n}  \n  \nclass cat extends animal {  \n    public void eat() {  \n        system.out.println("åé±¼");  \n    }  \n    public void work() {  \n        system.out.println("æèé¼ ");  \n    }  \n}  \n  \nclass dog extends animal {  \n    public void eat() {  \n        system.out.println("åéª¨å¤´");  \n    }  \n    public void work() {  \n        system.out.println("çå®¶");  \n    }  \n}\n',charsets:{cjk:!0}},{title:"å¼å¸¸å¤ç",frontmatter:{title:"å¼å¸¸å¤ç",date:"2022-04-15T17:03:25.000Z",permalink:"/pages/b5379c/",categories:["å­¦ä¹ èµæ","Java","Javaåºç¡"],tags:[null]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/01.Java%E5%9F%BA%E7%A1%80/07.%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86.html",relativePath:"å­¦ä¹ èµæ/03.Java/01.Javaåºç¡/07.å¼å¸¸å¤ç.md",key:"v-4174c5c8",path:"/pages/b5379c/",headers:[{level:2,title:"ä»ä¹æ¯å¼å¸¸",slug:"ä»ä¹æ¯å¼å¸¸",normalizedTitle:"ä»ä¹æ¯å¼å¸¸",charIndex:2},{level:2,title:"Throwableç±»",slug:"throwableç±»",normalizedTitle:"throwableç±»",charIndex:73},{level:2,title:"æè·å¼å¸¸",slug:"æè·å¼å¸¸",normalizedTitle:"æè·å¼å¸¸",charIndex:289},{level:3,title:"æåºå¼å¸¸ throw",slug:"æåºå¼å¸¸-throw",normalizedTitle:"æåºå¼å¸¸ throw",charIndex:298},{level:3,title:"æè·å¼å¸¸ try/catch",slug:"æè·å¼å¸¸-try-catch",normalizedTitle:"æè·å¼å¸¸ try/catch",charIndex:1072}],headersStr:"ä»ä¹æ¯å¼å¸¸ Throwableç±» æè·å¼å¸¸ æåºå¼å¸¸ throw æè·å¼å¸¸ try/catch",content:'# ä»ä¹æ¯å¼å¸¸\n\nå¼å¸¸æ¯æç¨åºå¨è¿è¡è¿ç¨ä¸­åçç±äºç¡¬ä»¶ãè®¾å¤é®é¢ãè½¯ä»¶è®¾è®¡éè¯¯ç­å ç´ å¯¼è´çç¨åºå¼å¸¸äºä»¶ï¼å¼å¸¸çåçå¾å¾ä¼ä¸­æ­ç¨åºçè¿è¡ã\n\n\n# Throwableç±»\n\njava ç¨åºä¸­ææçå¼å¸¸é½ç»§æ¿èª Throwable ç±»ï¼Throwable ç±»æä¸¤ä¸ªå­ç±» Error ç±»å Exception ç±»ï¼\n\n * Error ç±»ï¼ãéè¯¯ãè¡¨ç¤º java ç¨åºå¨è¿è¡æ¶äº§ççæ æ³å¤ççæéï¼å¦å æ æº¢åºï¼ï¼éè¯¯åºç°æ¶ä¼å¯¼è´ç¨åºæ æ³æ­£å¸¸æ§è¡å¹¶å¼ºå¶éåºã\n * Exception ç±»ï¼ãå¼å¸¸ãè¡¨ç¤º java ç¨åºä¸­äº§ççå¯ä»¥è¢«å¤ççæéï¼å¼å¸¸åºç°æ¶å¯ä»¥ç±ç¨åºè¿è¡å¤çã\n\n\n\n\n# æè·å¼å¸¸\n\n\n# æåºå¼å¸¸ throw\n\nå½æ¹æ³æ§è¡åºç°é®é¢æ¶ï¼æ¹æ³å°±ä¼åå»ºå¼å¸¸å¯¹è±¡å¹¶æåºãå¼åèå¯ä»¥å¨ç¨åºä¸­èªè¡æåºå¼å¸¸ï¼JVM å¨æ§è¡ç¨åºæ¶åç°é®é¢ä¹ä¼èªå¨æåºå¼å¸¸ã\n\n * throw è¯­å¥ï¼å¼åèèªè¡åå»ºå¼å¸¸å¯¹è±¡å¹¶æåºï¼ç­å¾ç¨åºè¿è¡å¼å¸¸å¤çã\n\n * throws è¯­å¥ï¼å£°ææ¹æ³å¯è½æåºæç§å¼å¸¸ä¸æªç»å¤çï¼è°ç¨è¯¥æ¹æ³çä¸çº§éè¦è¿è¡å¼å¸¸å¤çã\n\n\nclass TestException{       \n    // ææ¹æ³ä¸­çæåºå¼å¸¸äº¤ç»ä¸å±å¤ç     \n    public void writeList(int size) throws IndexOutOfBoundsException, IOException{\n        PrintWriter out = null;\n        // ç¨æ·èªå®ä¹å¼å¸¸å¹¶æåº\n        if(size < 1) {\n             throw new IndexOutOfBoundsException("è³å°è¦è¾åº1ä¸ªå­ç¬¦");\n        }\n        try{\n            // èææºèªå¨åç°å¼å¸¸ä¹ä¼æåºï¼å¿é¡»åºç°å¨ try ä»£ç åä¸­\n            out = new PrintWriter(new FileWriter(txt));\n            for (int i = 0; i < size; i++)\n                System.out.println("Value at: " + i + " = " + list.get(i));\n        }finally{\n            if (out != null) out.close();\n        }\n     }\n}\n\n\n\n# æè·å¼å¸¸ try/catch\n\nå½æ¹æ³æ§è¡æåºå¼å¸¸æ¶ï¼å¿é¡»ç±ä¸é¨çä»£ç åå¯¹å¼å¸¸è¿è¡å¤çã\n\n * try è¯­å¥ï¼å¯è½åºç°å¼å¸¸çä»£ç åã\n\n * catch è¯­å¥ï¼æè·ç¸åºå¼å¸¸ååæ­¢æ§è¡ try ä»£ç ï¼è½¬èæ§è¡å¯¹åº catch ä»£ç ãå¦ææ²¡æå¼å¸¸ catch ä»£ç ä¸ä¼æ§è¡ã\n\n * finally è¯­å¥ï¼æ è®ºæ¯å¦åçå¼å¸¸ï¼finally ä»£ç æ»ä¼è¢«æ§è¡ãä¸è¬ç¨äºéæ¾èµæºã\n\næ³¨æäºé¡¹\n\n 1. å¦æ try è¯­å¥ä¸­åºç°çå¼å¸¸æªè¢« catchï¼é»è®¤å°å¼å¸¸ throw ç»ä¸å±è°ç¨èå¤çãä½å¿é¡»å¨æ¹æ³ä¸­å£°æ throwsã\n\n 2. try/catch ä»£ç ä¸­ç return è¯­å¥ä¼å¨æ§è¡å® finally ååè¿åï¼ä½ finally ä¸­å¯¹è¿ååéçæ¹åä¸ä¼å½±åæç»çè¿åç»æã\n\n 3. finally ä»£ç ä¸­åºé¿åå«æ return è¯­å¥ææåºå¼å¸¸ï¼å¦ååªä¼æ§è¡ finally ä¸­ç return è¯­å¥ï¼ä¸ä¸ä¼åä¸çº§æåºå¼å¸¸ã\n\nJava 7 åå¨ try è¯­å¥ä¸­æå¼ IO æµï¼ä¼å¨è·³åºåèªå¨å³é­æµãä¸å¿åç¨ finally è¯­å¥å³é­ã\n\nclass TestException{               \n    public void writeList(int size) {\n        PrintWriter out = null;\n        try {\n            if(size < 1) throw new IndexOutOfBoundsException("è³å°è¦è¾åº1ä¸ªå­ç¬¦");\n            out = new PrintWriter(new FileWriter("OutFile.txt"));\n            for (int i = 0; i < size; i++)\n                System.out.println("Value at: " + i + " = " + list.get(i));\n        } catch (IndexOutOfBoundsException e) {\n            System.err.println("Caught IndexOutOfBoundsException: " + e.getMessage());\n        } catch (IOException e) {\n            System.err.println("Caught IOException: " + e.getMessage());\n        } finally {\n            if (out != null) out.close();\n        }\n    }\n}\n',normalizedContent:'# ä»ä¹æ¯å¼å¸¸\n\nå¼å¸¸æ¯æç¨åºå¨è¿è¡è¿ç¨ä¸­åçç±äºç¡¬ä»¶ãè®¾å¤é®é¢ãè½¯ä»¶è®¾è®¡éè¯¯ç­å ç´ å¯¼è´çç¨åºå¼å¸¸äºä»¶ï¼å¼å¸¸çåçå¾å¾ä¼ä¸­æ­ç¨åºçè¿è¡ã\n\n\n# throwableç±»\n\njava ç¨åºä¸­ææçå¼å¸¸é½ç»§æ¿èª throwable ç±»ï¼throwable ç±»æä¸¤ä¸ªå­ç±» error ç±»å exception ç±»ï¼\n\n * error ç±»ï¼ãéè¯¯ãè¡¨ç¤º java ç¨åºå¨è¿è¡æ¶äº§ççæ æ³å¤ççæéï¼å¦å æ æº¢åºï¼ï¼éè¯¯åºç°æ¶ä¼å¯¼è´ç¨åºæ æ³æ­£å¸¸æ§è¡å¹¶å¼ºå¶éåºã\n * exception ç±»ï¼ãå¼å¸¸ãè¡¨ç¤º java ç¨åºä¸­äº§ççå¯ä»¥è¢«å¤ççæéï¼å¼å¸¸åºç°æ¶å¯ä»¥ç±ç¨åºè¿è¡å¤çã\n\n\n\n\n# æè·å¼å¸¸\n\n\n# æåºå¼å¸¸ throw\n\nå½æ¹æ³æ§è¡åºç°é®é¢æ¶ï¼æ¹æ³å°±ä¼åå»ºå¼å¸¸å¯¹è±¡å¹¶æåºãå¼åèå¯ä»¥å¨ç¨åºä¸­èªè¡æåºå¼å¸¸ï¼jvm å¨æ§è¡ç¨åºæ¶åç°é®é¢ä¹ä¼èªå¨æåºå¼å¸¸ã\n\n * throw è¯­å¥ï¼å¼åèèªè¡åå»ºå¼å¸¸å¯¹è±¡å¹¶æåºï¼ç­å¾ç¨åºè¿è¡å¼å¸¸å¤çã\n\n * throws è¯­å¥ï¼å£°ææ¹æ³å¯è½æåºæç§å¼å¸¸ä¸æªç»å¤çï¼è°ç¨è¯¥æ¹æ³çä¸çº§éè¦è¿è¡å¼å¸¸å¤çã\n\n\nclass testexception{       \n    // ææ¹æ³ä¸­çæåºå¼å¸¸äº¤ç»ä¸å±å¤ç     \n    public void writelist(int size) throws indexoutofboundsexception, ioexception{\n        printwriter out = null;\n        // ç¨æ·èªå®ä¹å¼å¸¸å¹¶æåº\n        if(size < 1) {\n             throw new indexoutofboundsexception("è³å°è¦è¾åº1ä¸ªå­ç¬¦");\n        }\n        try{\n            // èææºèªå¨åç°å¼å¸¸ä¹ä¼æåºï¼å¿é¡»åºç°å¨ try ä»£ç åä¸­\n            out = new printwriter(new filewriter(txt));\n            for (int i = 0; i < size; i++)\n                system.out.println("value at: " + i + " = " + list.get(i));\n        }finally{\n            if (out != null) out.close();\n        }\n     }\n}\n\n\n\n# æè·å¼å¸¸ try/catch\n\nå½æ¹æ³æ§è¡æåºå¼å¸¸æ¶ï¼å¿é¡»ç±ä¸é¨çä»£ç åå¯¹å¼å¸¸è¿è¡å¤çã\n\n * try è¯­å¥ï¼å¯è½åºç°å¼å¸¸çä»£ç åã\n\n * catch è¯­å¥ï¼æè·ç¸åºå¼å¸¸ååæ­¢æ§è¡ try ä»£ç ï¼è½¬èæ§è¡å¯¹åº catch ä»£ç ãå¦ææ²¡æå¼å¸¸ catch ä»£ç ä¸ä¼æ§è¡ã\n\n * finally è¯­å¥ï¼æ è®ºæ¯å¦åçå¼å¸¸ï¼finally ä»£ç æ»ä¼è¢«æ§è¡ãä¸è¬ç¨äºéæ¾èµæºã\n\næ³¨æäºé¡¹\n\n 1. å¦æ try è¯­å¥ä¸­åºç°çå¼å¸¸æªè¢« catchï¼é»è®¤å°å¼å¸¸ throw ç»ä¸å±è°ç¨èå¤çãä½å¿é¡»å¨æ¹æ³ä¸­å£°æ throwsã\n\n 2. try/catch ä»£ç ä¸­ç return è¯­å¥ä¼å¨æ§è¡å® finally ååè¿åï¼ä½ finally ä¸­å¯¹è¿ååéçæ¹åä¸ä¼å½±åæç»çè¿åç»æã\n\n 3. finally ä»£ç ä¸­åºé¿åå«æ return è¯­å¥ææåºå¼å¸¸ï¼å¦ååªä¼æ§è¡ finally ä¸­ç return è¯­å¥ï¼ä¸ä¸ä¼åä¸çº§æåºå¼å¸¸ã\n\njava 7 åå¨ try è¯­å¥ä¸­æå¼ io æµï¼ä¼å¨è·³åºåèªå¨å³é­æµãä¸å¿åç¨ finally è¯­å¥å³é­ã\n\nclass testexception{               \n    public void writelist(int size) {\n        printwriter out = null;\n        try {\n            if(size < 1) throw new indexoutofboundsexception("è³å°è¦è¾åº1ä¸ªå­ç¬¦");\n            out = new printwriter(new filewriter("outfile.txt"));\n            for (int i = 0; i < size; i++)\n                system.out.println("value at: " + i + " = " + list.get(i));\n        } catch (indexoutofboundsexception e) {\n            system.err.println("caught indexoutofboundsexception: " + e.getmessage());\n        } catch (ioexception e) {\n            system.err.println("caught ioexception: " + e.getmessage());\n        } finally {\n            if (out != null) out.close();\n        }\n    }\n}\n',charsets:{cjk:!0}},{title:"Javaéå",frontmatter:{title:"Javaéå",date:"2022-04-16T14:21:58.000Z",permalink:"/pages/4cb86a/",categories:["å­¦ä¹ èµæ","Java","éå"],tags:[null]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/03.%E9%9B%86%E5%90%88/01.Java%E9%9B%86%E5%90%88.html",relativePath:"å­¦ä¹ èµæ/03.Java/03.éå/01.Javaéå.md",key:"v-193cd5cd",path:"/pages/4cb86a/",headers:[{level:2,title:"Java éåæ¡æ¶",slug:"java-éåæ¡æ¶",normalizedTitle:"java éåæ¡æ¶",charIndex:2},{level:2,title:"Collection",slug:"collection",normalizedTitle:"collection",charIndex:40},{level:3,title:"List",slug:"list",normalizedTitle:"list",charIndex:159},{level:3,title:"Set",slug:"set",normalizedTitle:"set",charIndex:164},{level:3,title:"Queue",slug:"queue",normalizedTitle:"queue",charIndex:1957},{level:2,title:"Map",slug:"map",normalizedTitle:"map",charIndex:67},{level:3,title:"TreeMap",slug:"treemap",normalizedTitle:"treemap",charIndex:2939},{level:3,title:"HashMap",slug:"hashmap",normalizedTitle:"hashmap",charIndex:273},{level:3,title:"HashTable",slug:"hashtable",normalizedTitle:"hashtable",charIndex:2983},{level:3,title:"LinkedHashMap",slug:"linkedhashmap",normalizedTitle:"linkedhashmap",charIndex:3165}],headersStr:"Java éåæ¡æ¶ Collection List Set Queue Map TreeMap HashMap HashTable LinkedHashMap",content:'# Java éåæ¡æ¶\n\nJava éåæ¡æ¶ä¸»è¦åæ¬ä¸¤ç§ç±»åçå®¹å¨ï¼ä¸ç§æ¯éåï¼Collectionï¼ï¼å­å¨çå¯¹è±¡çéåï¼å¦ä¸ç§æ¯å¾ï¼Mapï¼ï¼å­å¨çé®å¼å¯¹(ä¸¤ä¸ªå¯¹è±¡)çæ å°è¡¨ã\n\n\néåæ¡æ¶æ¯ä¸ä¸ªç¨æ¥ä»£è¡¨åæçºµéåçç»ä¸æ¶æãææçéåæ¡æ¶é½åå«\n\n * æ¥å£ï¼æ¯ä»£è¡¨éåçæ½è±¡æ°æ®ç±»åãä¾å¦ CollectionãListãSetãMap ç­ãä¹æä»¥å®ä¹å¤ä¸ªæ¥å£ï¼æ¯ä¸ºäºä»¥ä¸åçæ¹å¼æä½éåå¯¹è±¡\n\n * å®ç°ï¼ç±»ï¼ï¼æ¯éåæ¥å£çå·ä½å®ç°ãä»æ¬è´¨ä¸è®²ï¼å®ä»¬æ¯å¯éå¤ä½¿ç¨çæ°æ®ç»æï¼ä¾å¦ï¼ArrayListãLinkedListãHashSetãHashMapã\n\n * ç®æ³ï¼æ¯å®ç°éåæ¥å£çå¯¹è±¡éçæ¹æ³æ§è¡çä¸äºæç¨çè®¡ç®ï¼ä¾å¦ï¼æç´¢åæåºãè¿äºç®æ³è¢«ç§°ä¸ºå¤æï¼é£æ¯å ä¸ºç¸åçæ¹æ³å¯ä»¥å¨ç¸ä¼¼çæ¥å£ä¸æçä¸åçå®ç°ã\n   \n\n\n# Collection\n\n\n# List\n\nãåè¡¨ãåç´ æåºï¼å¯ä»¥æç´¢å¼æä½ã\n\n// ä¿®æ¹\nlist.add("data1");              // æ«å°¾æ·»å åç´ \nlist.add(0, "data0");           // æå¥åç´ \nlist.remove(0);                 // æç´¢å¼å é¤åç´ (int)\nlist.remove("data");            // æåå®¹å é¤å¯¹è±¡åç´ (Object)\nlist.remove(new Integer(3));    // æåå®¹å é¤åºç¡ç±»ååç´ \nlist.clear();                   // æ¸é¤ææåç´ \nlist.set(0, "data2");           // ä¿®æ¹åç´ \n\n// æ¥æ¾\nlist.isEmpty();                 // å¤å®æ¯å¦ä¸ºç©º\nlist.size();                    // æ¥è¯¢åè¡¨åç´ ä¸ªæ°\nlist.contains("data3");         // å¤å®æ¯å¦å«æåç´ \nlist.get(1);                    // æç´¢å¼æ¥æ¾åç´ \nlist.indexOf("data1");          // æ¥è¯¢ç´¢å¼å·ï¼å¦ææè¿åç¬¬ä¸ä¸ªï¼æ²¡æè¿å-1\nlist.lastIndexOf("data1");      // æ¥è¯¢ç´¢å¼å·ï¼å¦ææè¿åæåä¸ä¸ªï¼æ²¡æè¿å-1\n\n// è½¬å\nlist.toString();                // è½¬åä¸ºå­ç¬¦ä¸²\nlist.toArray();                 // è½¬åä¸º Object[] æ°ç»\n(String [])list.toArray();      // è½¬åä¸ºå¯¹è±¡æ°ç»ï¼ä½ä¸è½æ¯åºç¡ç±»å\n\n\n# ArrayList\n\nåºäºå¨ææ°ç»å®ç°ï¼æ¯æéæºè®¿é®ã\n\n# Vector\n\nå ArrayList ç±»ä¼¼ï¼ä½å®æ¯çº¿ç¨å®å¨çã\n\n# LinkedList\n\nåºäºååé¾è¡¨å®ç°ï¼åªè½é¡ºåºè®¿é®ï¼ä½æ¯å¯ä»¥å¿«éå°å¨é¾è¡¨ä¸­é´æå¥åå é¤åç´ ãä¸ä»å¦æ­¤ï¼LinkedList è¿å¯ä»¥ç¨ä½æ ãéååååéåã\n\n\n# Set\n\nãéãæ°æ®ä¸å¯éå¤ã\n\n// ä¿®æ¹\nset.add("data");              // æ·»å åç´ \nset.remove("data");           // å é¤åç´ \nset.clear();                  // æ¸é¤ææåç´ \n\n// æ¥è¯¢\nset.get(1);                   // æåºå·æ¥æ¾åç´ ï¼ä»éäºæåºç set æ¥å£ï¼\nset.isEmpty();                // å¤æ­æ¯å¦ä¸ºç©º\nset.size();                   // è¿ååç´ ä¸ªæ°\nset.contains("data");         // å¤å®æ¯å¦å«æåç´ \n\n\nHashSet ç±»æ åºï¼å æ­¤ä¸æ¯æ get æ¹æ³ï¼è·åå¯¹è±¡å¿é¡»è¦éè¿ Iterator æ¥éåã\n\n# TreeSet\n\nåºäºçº¢é»æ å®ç°ï¼æ¯ææåºæ§æä½ï¼ä¾å¦æ ¹æ®ä¸ä¸ªèå´æ¥æ¾åç´ çæä½ãä½æ¯æ¥æ¾æçä¸å¦ HashSetï¼HashSet æ¥æ¾çæ¶é´å¤æåº¦ä¸º O(1)ï¼TreeSet åä¸º O(logN)ã\n\n# HashSet\n\nåºäºåå¸è¡¨å®ç°ï¼æ¯æå¿«éæ¥æ¾ï¼ä½ä¸æ¯ææåºæ§æä½ãå¹¶ä¸å¤±å»äºåç´ çæå¥é¡ºåºä¿¡æ¯ï¼ä¹å°±æ¯è¯´ä½¿ç¨ Iterator éå HashSet å¾å°çç»ææ¯ä¸ç¡®å®çã\n\n# LinkedHashSet\n\nå·æ HashSet çæ¥æ¾æçï¼ä¸åé¨ä½¿ç¨ååé¾è¡¨ç»´æ¤åç´ çæå¥é¡ºåºã\n\n\n# Queue\n\nãéåãåç´ æåºï¼å¨éåå°¾æå¥/å¨éåé¦ç§»é¤ãå¸¸ç¨ Deque å­æ¥å£ã\n\n//ä¿®æ¹\nqueue.offer(10);                // éåå°¾æå¥åç´ ï¼éåæ»¡è¿å false\nqueue.peek();                   // è·åéåé¦åç´ ï¼éåç©ºè¿å null\nqueue.poll();                   // è·åå¹¶ç§»é¤éåé¦åç´ ï¼éåç©ºè¿å null\nqueue.clear();                  // æ¸ç©ºåç´ \n\n/* offer/peek/poll æ¹æ³å¯ä»¥ç¨ add/get/remove æ¹æ³ä»£æ¿ï¼ä½éåç©º/æ»¡æ¶ä¼æåºå¼å¸¸ã */\n\n// æ¥æ¾\nqueue.isEmpty();                 // å¤å®æ¯å¦ä¸ºç©º\nqueue.size();                    // æ¥è¯¢åè¡¨åç´ ä¸ªæ°\nqueue.contains("data3");         // å¤å®æ¯å¦å«æåç´ \n\n\n# LinkedList\n\nå¯ä»¥ç¨å®æ¥å®ç°ååéåã\n\n# PriorityQueue\n\nåºäºå ç»æå®ç°ï¼å¯ä»¥ç¨å®æ¥å®ç°ä¼åéåã\n\n\n# Map\n\nmap.put("key_1",1);               // æ·»å é®å¼å¯¹,å·²æ key åè¦ç value\nmap.putIfAbsent("key_2",2);       // æ·»å é®å¼å¯¹,å·²æ key åä¸æä½\n\nmap.remove("key_1");              // å é¤é®å¼å¯¹ï¼æå¼ï¼           \nmap.remove("key_2",2);            // å é¤é®å¼å¯¹ï¼æé®å¼ï¼\n\nmap.get("key_1");                 // è·åå¼, key ä¸å­å¨è¿ånull\nmap.getOrDefault("key_2",-1);     // è·åå¼, key ä¸å­å¨è¿åé»è®¤å¼\n\nmap.containsKey("key_1");       // å¤æ­ key æ¯å¦å­å¨  \nmap.containsValue(1);             // å¤æ­ value æ¯å¦å­å¨      \n\n\n\n# TreeMap\n\nåºäºçº¢é»æ å®ç°ã\n\n\n# HashMap\n\nåºäºåå¸è¡¨å®ç°ã\n\n\n# HashTable\n\nå HashMap ç±»ä¼¼ï¼ä½å®æ¯çº¿ç¨å®å¨çï¼è¿æå³çåä¸æ¶å»å¤ä¸ªçº¿ç¨å¯ä»¥åæ¶åå¥ HashTable å¹¶ä¸ä¸ä¼å¯¼è´æ°æ®ä¸ä¸è´ãå®æ¯éçç±»ï¼ä¸åºè¯¥å»ä½¿ç¨å®ãç°å¨å¯ä»¥ä½¿ç¨ ConcurrentHashMap æ¥æ¯æçº¿ç¨å®å¨ï¼å¹¶ä¸ ConcurrentHashMap çæçä¼æ´é«ï¼å ä¸º ConcurrentHashMap å¼å¥äºåæ®µéã\n\n\n# LinkedHashMap\n\nä½¿ç¨ååé¾è¡¨æ¥ç»´æ¤åç´ çé¡ºåºï¼é¡ºåºä¸ºæå¥é¡ºåºæèæè¿æå°ä½¿ç¨(LRU)é¡ºåºã',normalizedContent:'# java éåæ¡æ¶\n\njava éåæ¡æ¶ä¸»è¦åæ¬ä¸¤ç§ç±»åçå®¹å¨ï¼ä¸ç§æ¯éåï¼collectionï¼ï¼å­å¨çå¯¹è±¡çéåï¼å¦ä¸ç§æ¯å¾ï¼mapï¼ï¼å­å¨çé®å¼å¯¹(ä¸¤ä¸ªå¯¹è±¡)çæ å°è¡¨ã\n\n\néåæ¡æ¶æ¯ä¸ä¸ªç¨æ¥ä»£è¡¨åæçºµéåçç»ä¸æ¶æãææçéåæ¡æ¶é½åå«\n\n * æ¥å£ï¼æ¯ä»£è¡¨éåçæ½è±¡æ°æ®ç±»åãä¾å¦ collectionãlistãsetãmap ç­ãä¹æä»¥å®ä¹å¤ä¸ªæ¥å£ï¼æ¯ä¸ºäºä»¥ä¸åçæ¹å¼æä½éåå¯¹è±¡\n\n * å®ç°ï¼ç±»ï¼ï¼æ¯éåæ¥å£çå·ä½å®ç°ãä»æ¬è´¨ä¸è®²ï¼å®ä»¬æ¯å¯éå¤ä½¿ç¨çæ°æ®ç»æï¼ä¾å¦ï¼arraylistãlinkedlistãhashsetãhashmapã\n\n * ç®æ³ï¼æ¯å®ç°éåæ¥å£çå¯¹è±¡éçæ¹æ³æ§è¡çä¸äºæç¨çè®¡ç®ï¼ä¾å¦ï¼æç´¢åæåºãè¿äºç®æ³è¢«ç§°ä¸ºå¤æï¼é£æ¯å ä¸ºç¸åçæ¹æ³å¯ä»¥å¨ç¸ä¼¼çæ¥å£ä¸æçä¸åçå®ç°ã\n   \n\n\n# collection\n\n\n# list\n\nãåè¡¨ãåç´ æåºï¼å¯ä»¥æç´¢å¼æä½ã\n\n// ä¿®æ¹\nlist.add("data1");              // æ«å°¾æ·»å åç´ \nlist.add(0, "data0");           // æå¥åç´ \nlist.remove(0);                 // æç´¢å¼å é¤åç´ (int)\nlist.remove("data");            // æåå®¹å é¤å¯¹è±¡åç´ (object)\nlist.remove(new integer(3));    // æåå®¹å é¤åºç¡ç±»ååç´ \nlist.clear();                   // æ¸é¤ææåç´ \nlist.set(0, "data2");           // ä¿®æ¹åç´ \n\n// æ¥æ¾\nlist.isempty();                 // å¤å®æ¯å¦ä¸ºç©º\nlist.size();                    // æ¥è¯¢åè¡¨åç´ ä¸ªæ°\nlist.contains("data3");         // å¤å®æ¯å¦å«æåç´ \nlist.get(1);                    // æç´¢å¼æ¥æ¾åç´ \nlist.indexof("data1");          // æ¥è¯¢ç´¢å¼å·ï¼å¦ææè¿åç¬¬ä¸ä¸ªï¼æ²¡æè¿å-1\nlist.lastindexof("data1");      // æ¥è¯¢ç´¢å¼å·ï¼å¦ææè¿åæåä¸ä¸ªï¼æ²¡æè¿å-1\n\n// è½¬å\nlist.tostring();                // è½¬åä¸ºå­ç¬¦ä¸²\nlist.toarray();                 // è½¬åä¸º object[] æ°ç»\n(string [])list.toarray();      // è½¬åä¸ºå¯¹è±¡æ°ç»ï¼ä½ä¸è½æ¯åºç¡ç±»å\n\n\n# arraylist\n\nåºäºå¨ææ°ç»å®ç°ï¼æ¯æéæºè®¿é®ã\n\n# vector\n\nå arraylist ç±»ä¼¼ï¼ä½å®æ¯çº¿ç¨å®å¨çã\n\n# linkedlist\n\nåºäºååé¾è¡¨å®ç°ï¼åªè½é¡ºåºè®¿é®ï¼ä½æ¯å¯ä»¥å¿«éå°å¨é¾è¡¨ä¸­é´æå¥åå é¤åç´ ãä¸ä»å¦æ­¤ï¼linkedlist è¿å¯ä»¥ç¨ä½æ ãéååååéåã\n\n\n# set\n\nãéãæ°æ®ä¸å¯éå¤ã\n\n// ä¿®æ¹\nset.add("data");              // æ·»å åç´ \nset.remove("data");           // å é¤åç´ \nset.clear();                  // æ¸é¤ææåç´ \n\n// æ¥è¯¢\nset.get(1);                   // æåºå·æ¥æ¾åç´ ï¼ä»éäºæåºç set æ¥å£ï¼\nset.isempty();                // å¤æ­æ¯å¦ä¸ºç©º\nset.size();                   // è¿ååç´ ä¸ªæ°\nset.contains("data");         // å¤å®æ¯å¦å«æåç´ \n\n\nhashset ç±»æ åºï¼å æ­¤ä¸æ¯æ get æ¹æ³ï¼è·åå¯¹è±¡å¿é¡»è¦éè¿ iterator æ¥éåã\n\n# treeset\n\nåºäºçº¢é»æ å®ç°ï¼æ¯ææåºæ§æä½ï¼ä¾å¦æ ¹æ®ä¸ä¸ªèå´æ¥æ¾åç´ çæä½ãä½æ¯æ¥æ¾æçä¸å¦ hashsetï¼hashset æ¥æ¾çæ¶é´å¤æåº¦ä¸º o(1)ï¼treeset åä¸º o(logn)ã\n\n# hashset\n\nåºäºåå¸è¡¨å®ç°ï¼æ¯æå¿«éæ¥æ¾ï¼ä½ä¸æ¯ææåºæ§æä½ãå¹¶ä¸å¤±å»äºåç´ çæå¥é¡ºåºä¿¡æ¯ï¼ä¹å°±æ¯è¯´ä½¿ç¨ iterator éå hashset å¾å°çç»ææ¯ä¸ç¡®å®çã\n\n# linkedhashset\n\nå·æ hashset çæ¥æ¾æçï¼ä¸åé¨ä½¿ç¨ååé¾è¡¨ç»´æ¤åç´ çæå¥é¡ºåºã\n\n\n# queue\n\nãéåãåç´ æåºï¼å¨éåå°¾æå¥/å¨éåé¦ç§»é¤ãå¸¸ç¨ deque å­æ¥å£ã\n\n//ä¿®æ¹\nqueue.offer(10);                // éåå°¾æå¥åç´ ï¼éåæ»¡è¿å false\nqueue.peek();                   // è·åéåé¦åç´ ï¼éåç©ºè¿å null\nqueue.poll();                   // è·åå¹¶ç§»é¤éåé¦åç´ ï¼éåç©ºè¿å null\nqueue.clear();                  // æ¸ç©ºåç´ \n\n/* offer/peek/poll æ¹æ³å¯ä»¥ç¨ add/get/remove æ¹æ³ä»£æ¿ï¼ä½éåç©º/æ»¡æ¶ä¼æåºå¼å¸¸ã */\n\n// æ¥æ¾\nqueue.isempty();                 // å¤å®æ¯å¦ä¸ºç©º\nqueue.size();                    // æ¥è¯¢åè¡¨åç´ ä¸ªæ°\nqueue.contains("data3");         // å¤å®æ¯å¦å«æåç´ \n\n\n# linkedlist\n\nå¯ä»¥ç¨å®æ¥å®ç°ååéåã\n\n# priorityqueue\n\nåºäºå ç»æå®ç°ï¼å¯ä»¥ç¨å®æ¥å®ç°ä¼åéåã\n\n\n# map\n\nmap.put("key_1",1);               // æ·»å é®å¼å¯¹,å·²æ key åè¦ç value\nmap.putifabsent("key_2",2);       // æ·»å é®å¼å¯¹,å·²æ key åä¸æä½\n\nmap.remove("key_1");              // å é¤é®å¼å¯¹ï¼æå¼ï¼           \nmap.remove("key_2",2);            // å é¤é®å¼å¯¹ï¼æé®å¼ï¼\n\nmap.get("key_1");                 // è·åå¼, key ä¸å­å¨è¿ånull\nmap.getordefault("key_2",-1);     // è·åå¼, key ä¸å­å¨è¿åé»è®¤å¼\n\nmap.containskey("key_1");       // å¤æ­ key æ¯å¦å­å¨  \nmap.containsvalue(1);             // å¤æ­ value æ¯å¦å­å¨      \n\n\n\n# treemap\n\nåºäºçº¢é»æ å®ç°ã\n\n\n# hashmap\n\nåºäºåå¸è¡¨å®ç°ã\n\n\n# hashtable\n\nå hashmap ç±»ä¼¼ï¼ä½å®æ¯çº¿ç¨å®å¨çï¼è¿æå³çåä¸æ¶å»å¤ä¸ªçº¿ç¨å¯ä»¥åæ¶åå¥ hashtable å¹¶ä¸ä¸ä¼å¯¼è´æ°æ®ä¸ä¸è´ãå®æ¯éçç±»ï¼ä¸åºè¯¥å»ä½¿ç¨å®ãç°å¨å¯ä»¥ä½¿ç¨ concurrenthashmap æ¥æ¯æçº¿ç¨å®å¨ï¼å¹¶ä¸ concurrenthashmap çæçä¼æ´é«ï¼å ä¸º concurrenthashmap å¼å¥äºåæ®µéã\n\n\n# linkedhashmap\n\nä½¿ç¨ååé¾è¡¨æ¥ç»´æ¤åç´ çé¡ºåºï¼é¡ºåºä¸ºæå¥é¡ºåºæèæè¿æå°ä½¿ç¨(lru)é¡ºåºã',charsets:{cjk:!0}},{title:"JVMç¸å³ç¥è¯ä½ç³»",frontmatter:{title:"JVMç¸å³ç¥è¯ä½ç³»",date:"2022-05-13T13:52:14.000Z",permalink:"/pages/c3df4e/",categories:["å­¦ä¹ èµæ","Java","JVM"],tags:[null]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/05.JVM/01.JVM%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB.html",relativePath:"å­¦ä¹ èµæ/03.Java/05.JVM/01.JVMç¸å³ç¥è¯ä½ç³».md",key:"v-03fefd3b",path:"/pages/c3df4e/",headers:[{level:2,title:"JVMä½ç³»å¾",slug:"jvmä½ç³»å¾",normalizedTitle:"jvmä½ç³»å¾",charIndex:2},{level:2,title:"JDK1.8",slug:"jdk1-8",normalizedTitle:"jdk1.8",charIndex:15}],headersStr:"JVMä½ç³»å¾ JDK1.8",content:"# JVMä½ç³»å¾\n\n\n\n\n# JDK1.8\n\n",normalizedContent:"# jvmä½ç³»å¾\n\n\n\n\n# jdk1.8\n\n",charsets:{cjk:!0}},{title:"Java IOç¥è¯ä½ç³»å¾",frontmatter:{title:"Java IOç¥è¯ä½ç³»å¾",date:"2022-05-13T13:55:15.000Z",permalink:"/pages/27f6bd/",categories:["å­¦ä¹ èµæ","Java","IO"],tags:[null]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/07.IO/01.Java%20IO%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB%E5%9B%BE.html",relativePath:"å­¦ä¹ èµæ/03.Java/07.IO/01.Java IOç¥è¯ä½ç³»å¾.md",key:"v-61294425",path:"/pages/27f6bd/",headers:[{level:2,title:"Java IOä½ç³»å¾",slug:"java-ioä½ç³»å¾",normalizedTitle:"java ioä½ç³»å¾",charIndex:2}],headersStr:"Java IOä½ç³»å¾",content:"# Java IOä½ç³»å¾\n\n",normalizedContent:"# java ioä½ç³»å¾\n\n",charsets:{cjk:!0}},{title:"Javaå¹¶åç¥è¯ä½ç³»",frontmatter:{title:"Javaå¹¶åç¥è¯ä½ç³»",date:"2022-04-22T16:03:30.000Z",permalink:"/pages/5f1d51/",categories:["å­¦ä¹ èµæ","Java","å¹¶å"],tags:[null]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/09.%E5%B9%B6%E5%8F%91/01.Java%E5%B9%B6%E5%8F%91%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB.html",relativePath:"å­¦ä¹ èµæ/03.Java/09.å¹¶å/01.Javaå¹¶åç¥è¯ä½ç³».md",key:"v-05930a17",path:"/pages/5f1d51/",headers:[{level:2,title:"å¹¶è¡åå¹¶å",slug:"å¹¶è¡åå¹¶å",normalizedTitle:"å¹¶è¡åå¹¶å",charIndex:2},{level:3,title:"å¹¶è¡",slug:"å¹¶è¡",normalizedTitle:"å¹¶è¡",charIndex:2},{level:3,title:"å¹¶å",slug:"å¹¶å",normalizedTitle:"å¹¶å",charIndex:5},{level:2,title:"è¿ç¨åçº¿ç¨",slug:"è¿ç¨åçº¿ç¨",normalizedTitle:"è¿ç¨åçº¿ç¨",charIndex:80},{level:3,title:"è¿ç¨ Processor",slug:"è¿ç¨-processor",normalizedTitle:"è¿ç¨ processor",charIndex:90},{level:3,title:"çº¿ç¨ Thread",slug:"çº¿ç¨-thread",normalizedTitle:"çº¿ç¨ thread",charIndex:210},{level:2,title:"å¹¶åä½ç³»å¾",slug:"å¹¶åä½ç³»å¾",normalizedTitle:"å¹¶åä½ç³»å¾",charIndex:316}],headersStr:"å¹¶è¡åå¹¶å å¹¶è¡ å¹¶å è¿ç¨åçº¿ç¨ è¿ç¨ Processor çº¿ç¨ Thread å¹¶åä½ç³»å¾",content:"# å¹¶è¡åå¹¶å\n\n\n# å¹¶è¡\n\nå¤ä¸ªCPUæ ¸å¿åæ¶å·¥ä½ï¼å¤çä¸åçä»»å¡ã\n\n\n# å¹¶å\n\nå¤ä¸ªä»»å¡äº¤æ¿ä½¿ç¨ CPU æ ¸å¿å·¥ä½ï¼ä»¥æé« CPU å©ç¨çã\n\n\n# è¿ç¨åçº¿ç¨\n\n\n# è¿ç¨ Processor\n\nç¨åºçä¸æ¬¡æ§è¡ãç±æä½ç³»ç»åå»ºå¹¶åéèµæºï¼æ§è¡ä¸ä¸ªåç¬çä»»å¡ã\nè¿ç¨æ¯ç³»ç»è¿è¡èµæºåéåè°åº¦çç¬ç«åä½ï¼æ¯ä¸ªè¿ç¨é½æèªå·±çåå­ç©ºé´åç³»ç»èµæºãè¿ç¨åææçº¿ç¨å±äº«å å­å¨ç©ºé´ï¼ä¿å­ç¨åºä¸­å®ä¹çå¯¹è±¡åå¸¸éæ± ã\n\n\n# çº¿ç¨ Thread\n\nè¿ç¨åçæ§è¡ååï¼ä¸åéåç¬çèµæºï¼æ§è¡ä¸ä¸ªåç¬çå­ä»»å¡ã\nçº¿ç¨æ¯è¿ç¨åè°åº¦ååæ´¾çåºæ¬åä½ï¼å±äº«è¿ç¨èµæºãæ¯ä¸ªçº¿ç¨æèªå·±çç¬ç«çæ å­å¨ç©ºé´ï¼ä¿å­çº¿ç¨æ§è¡çæ¹æ³ä»¥ååºæ¬ç±»åçæ°æ®ã\n\n\n# å¹¶åä½ç³»å¾\n\n",normalizedContent:"# å¹¶è¡åå¹¶å\n\n\n# å¹¶è¡\n\nå¤ä¸ªcpuæ ¸å¿åæ¶å·¥ä½ï¼å¤çä¸åçä»»å¡ã\n\n\n# å¹¶å\n\nå¤ä¸ªä»»å¡äº¤æ¿ä½¿ç¨ cpu æ ¸å¿å·¥ä½ï¼ä»¥æé« cpu å©ç¨çã\n\n\n# è¿ç¨åçº¿ç¨\n\n\n# è¿ç¨ processor\n\nç¨åºçä¸æ¬¡æ§è¡ãç±æä½ç³»ç»åå»ºå¹¶åéèµæºï¼æ§è¡ä¸ä¸ªåç¬çä»»å¡ã\nè¿ç¨æ¯ç³»ç»è¿è¡èµæºåéåè°åº¦çç¬ç«åä½ï¼æ¯ä¸ªè¿ç¨é½æèªå·±çåå­ç©ºé´åç³»ç»èµæºãè¿ç¨åææçº¿ç¨å±äº«å å­å¨ç©ºé´ï¼ä¿å­ç¨åºä¸­å®ä¹çå¯¹è±¡åå¸¸éæ± ã\n\n\n# çº¿ç¨ thread\n\nè¿ç¨åçæ§è¡ååï¼ä¸åéåç¬çèµæºï¼æ§è¡ä¸ä¸ªåç¬çå­ä»»å¡ã\nçº¿ç¨æ¯è¿ç¨åè°åº¦ååæ´¾çåºæ¬åä½ï¼å±äº«è¿ç¨èµæºãæ¯ä¸ªçº¿ç¨æèªå·±çç¬ç«çæ å­å¨ç©ºé´ï¼ä¿å­çº¿ç¨æ§è¡çæ¹æ³ä»¥ååºæ¬ç±»åçæ°æ®ã\n\n\n# å¹¶åä½ç³»å¾\n\n",charsets:{cjk:!0}},{title:"Javaçº¿ç¨åºç¡",frontmatter:{title:"Javaçº¿ç¨åºç¡",date:"2022-04-22T16:15:54.000Z",permalink:"/pages/20b9df/",categories:["å­¦ä¹ èµæ","Java","å¹¶å"],tags:[null]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/09.%E5%B9%B6%E5%8F%91/03.Java%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80.html",relativePath:"å­¦ä¹ èµæ/03.Java/09.å¹¶å/03.Javaçº¿ç¨åºç¡.md",key:"v-01780501",path:"/pages/20b9df/",headers:[{level:2,title:"çº¿ç¨ä½¿ç¨æ¹å¼",slug:"çº¿ç¨ä½¿ç¨æ¹å¼",normalizedTitle:"çº¿ç¨ä½¿ç¨æ¹å¼",charIndex:2},{level:3,title:"Runnable æ¥å£",slug:"runnable-æ¥å£",normalizedTitle:"runnable æ¥å£",charIndex:13},{level:3,title:"ç»§æ¿ Thread ç±»",slug:"ç»§æ¿-thread-ç±»",normalizedTitle:"ç»§æ¿ thread ç±»",charIndex:363},{level:3,title:"Callable æ¥å£",slug:"callable-æ¥å£",normalizedTitle:"callable æ¥å£",charIndex:716},{level:2,title:"çº¿ç¨ç¶æ",slug:"çº¿ç¨ç¶æ",normalizedTitle:"çº¿ç¨ç¶æ",charIndex:1220},{level:3,title:"æ°å»º(New)",slug:"æ°å»º-new",normalizedTitle:"æ°å»º(new)",charIndex:1231},{level:3,title:"å¯è¿è¡(Runnable)",slug:"å¯è¿è¡-runnable",normalizedTitle:"å¯è¿è¡(runnable)",charIndex:1317},{level:3,title:"é»å¡(Blocking)",slug:"é»å¡-blocking",normalizedTitle:"é»å¡(blocking)",charIndex:1439},{level:3,title:"æ éæç­å¾(Waiting)",slug:"æ éæç­å¾-waiting",normalizedTitle:"æ éæç­å¾(waiting)",charIndex:1485},{level:3,title:"éæç­å¾(Timed Waiting)",slug:"éæç­å¾-timed-waiting",normalizedTitle:"éæç­å¾(timed waiting)",charIndex:1741},{level:3,title:"æ­»äº¡(Terminated)",slug:"æ­»äº¡-terminated",normalizedTitle:"æ­»äº¡(terminated)",charIndex:2084},{level:2,title:"åºç¡çº¿ç¨æºå¶",slug:"åºç¡çº¿ç¨æºå¶",normalizedTitle:"åºç¡çº¿ç¨æºå¶",charIndex:2132},{level:3,title:"~~Executorï¼ä¸å¸¸ç¨ï¼~~",slug:"executor-ä¸å¸¸ç¨",normalizedTitle:"<s>executorï¼ä¸å¸¸ç¨ï¼</s>",charIndex:null},{level:3,title:"Daemon",slug:"daemon",normalizedTitle:"daemon",charIndex:2811},{level:3,title:"sleep()",slug:"sleep",normalizedTitle:"sleep()",charIndex:1861},{level:3,title:"yield()",slug:"yield",normalizedTitle:"yield()",charIndex:3353},{level:2,title:"çº¿ç¨ä¸­æ­",slug:"çº¿ç¨ä¸­æ­",normalizedTitle:"çº¿ç¨ä¸­æ­",charIndex:3513},{level:3,title:"InterruptedException",slug:"interruptedexception",normalizedTitle:"interruptedexception",charIndex:985},{level:3,title:"interrupted()",slug:"interrupted",normalizedTitle:"interrupted()",charIndex:4548},{level:3,title:"Executor çä¸­æ­æä½",slug:"executor-çä¸­æ­æä½",normalizedTitle:"executor çä¸­æ­æä½",charIndex:5228},{level:2,title:"çº¿ç¨äºæ¥åæ­¥",slug:"çº¿ç¨äºæ¥åæ­¥",normalizedTitle:"çº¿ç¨äºæ¥åæ­¥",charIndex:6148},{level:3,title:"synchronized",slug:"synchronized",normalizedTitle:"synchronized",charIndex:3687},{level:3,title:"ReentrantLock",slug:"reentrantlock",normalizedTitle:"reentrantlock",charIndex:6227},{level:3,title:"æ¯è¾",slug:"æ¯è¾",normalizedTitle:"æ¯è¾",charIndex:8805},{level:3,title:"ä½¿ç¨éæ©",slug:"ä½¿ç¨éæ©",normalizedTitle:"ä½¿ç¨éæ©",charIndex:9214},{level:2,title:"çº¿ç¨ä¹é´çåä½",slug:"çº¿ç¨ä¹é´çåä½",normalizedTitle:"çº¿ç¨ä¹é´çåä½",charIndex:9397},{level:3,title:"join()",slug:"join",normalizedTitle:"join()",charIndex:1681},{level:3,title:"wait() notify() notifyAll()",slug:"wait-notify-notifyall",normalizedTitle:"wait() notify() notifyall()",charIndex:10278},{level:3,title:"await() signal() signalAll()",slug:"await-signal-signalall",normalizedTitle:"await() signal() signalall()",charIndex:11385}],headersStr:"çº¿ç¨ä½¿ç¨æ¹å¼ Runnable æ¥å£ ç»§æ¿ Thread ç±» Callable æ¥å£ çº¿ç¨ç¶æ æ°å»º(New) å¯è¿è¡(Runnable) é»å¡(Blocking) æ éæç­å¾(Waiting) éæç­å¾(Timed Waiting) æ­»äº¡(Terminated) åºç¡çº¿ç¨æºå¶ ~~Executorï¼ä¸å¸¸ç¨ï¼~~ Daemon sleep() yield() çº¿ç¨ä¸­æ­ InterruptedException interrupted() Executor çä¸­æ­æä½ çº¿ç¨äºæ¥åæ­¥ synchronized ReentrantLock æ¯è¾ ä½¿ç¨éæ© çº¿ç¨ä¹é´çåä½ join() wait() notify() notifyAll() await() signal() signalAll()",content:'# çº¿ç¨ä½¿ç¨æ¹å¼\n\n\n# Runnable æ¥å£\n\néè¦å®ç° run() æ¹æ³ã\néè¿ Thread è°ç¨ start() æ¹æ³æ¥å¯å¨çº¿ç¨ã\n\npublic class MyRunnable implements Runnable {\n    public void run() {\n        // ...\n    }\n}\n\n\npublic class Test {\n    public static void main(String[] args) {\n        MyRunnable instance = new MyRunnable();\n        Thread thread = new Thread(instance);\n        thread.start();\n    }\n}\n\n\n\n# ç»§æ¿ Thread ç±»\n\nåæ ·ä¹æ¯éè¦å®ç° run() æ¹æ³ï¼å ä¸º Thread ç±»ä¹å®ç°äº Runable æ¥å£ã\nå½è°ç¨ start() æ¹æ³å¯å¨ä¸ä¸ªçº¿ç¨æ¶ï¼èææºä¼å°è¯¥çº¿ç¨æ¾å¥å°±ç»ªéåä¸­ç­å¾è¢«è°åº¦ï¼å½ä¸ä¸ªçº¿ç¨è¢«è°åº¦æ¶ä¼æ§è¡è¯¥çº¿ç¨ç run() æ¹æ³ã\n\npublic class MyThread extends Thread {\n    public void run() {\n        // ...\n    }\n}\n\n\npublic class Test{\n    public static void main(String[] args) {\n        MyThread mt = new MyThread();\n        mt.start();\n    }\n}\n\n\n\n# Callable æ¥å£\n\nä¸ Runnable ç¸æ¯ï¼Callable å¯ä»¥æè¿åå¼ï¼è¿åå¼éè¿ FutureTask è¿è¡å°è£ã\n\npublic class MyCallable implements Callable<Integer> {\n    public Integer call() {\n        return 123;\n    }\n}\n\n\npublic class Test{\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\n        MyCallable mc = new MyCallable();\n        FutureTask<Integer> ft = new FutureTask<>(mc);\n        Thread thread = new Thread(ft);\n        thread.start();\n        System.out.println(ft.get());\n    }\n}\n\n\n\n# çº¿ç¨ç¶æ\n\n\n\n\n# æ°å»º(New)\n\nä½¿ç¨ new å³é®å­å Thread ç±»æå¶å­ç±»å»ºç«ä¸ä¸ªçº¿ç¨å¯¹è±¡åï¼è¯¥çº¿ç¨å¯¹è±¡å°±å¤äºæ°å»ºç¶æãå®ä¿æè¿ä¸ªç¶æç´å°ç¨åº start() è¿ä¸ªçº¿ç¨ã\n\n\n# å¯è¿è¡(Runnable)\n\nåæ¬RunningåReadyãå¯è½æ­£å¨è¿è¡ï¼ä¹å¯è½æ­£å¨ç­å¾ CPU æ¶é´çã å½çº¿ç¨å¯¹è±¡è°ç¨äºstart()æ¹æ³ä¹åï¼è¯¥çº¿ç¨å°±è¿å¥å°±ç»ªç¶æãå°±ç»ªç¶æççº¿ç¨å¤äºå°±ç»ªéåä¸­ï¼è¦ç­å¾JVMéçº¿ç¨è°åº¦å¨çè°åº¦ã\n\n\n# é»å¡(Blocking)\n\nç­å¾è·åä¸ä¸ªæå®éï¼å¦æå¶çº¿ç¨éæ¾äºéå°±ä¼ç»ææ­¤ç¶æã\n\n\n# æ éæç­å¾(Waiting)\n\nå¤äºæ­¤ç¶æççº¿ç¨ä¸ä¼è¢«åéCPUæ§è¡æ¶é´ï¼éè¦ç­å¾å¶å®çº¿ç¨æ¾å¼å°å¤éï¼å¦åä¸ä¼è¢«åé CPU æ¶é´çã\n\nè¿å¥æ¹æ³                            éåºæ¹æ³\næ²¡æè®¾ç½®Timeoutæµè¯çObject.wait()æ¹æ³   Object.notify() / Object.notifyAll()\næ²¡æè®¾ç½®Timeoutæµè¯çThread.join()æ¹æ³   è¢«è°ç¨ççº¿ç¨æ§è¡å®æ¯\nLockSupport.park()æ¹æ³            -\n\n\n# éæç­å¾(Timed Waiting)\n\nå¤äºæ­¤ç¶æççº¿ç¨ä¹ä¸ä¼è¢«åéCPUæ§è¡æ¶é´ï¼ä¸è¿æ éç­å¾å¶å®çº¿ç¨æ¾å¼å°å¤éï¼å¨ä¸å®æ¶é´ä¹åä¼è¢«ç³»ç»èªå¨å¤éã\n\nè¿å¥æ¹æ³                           éåºæ¹æ³\nThread.sleep()æ¹æ³               æ¶é´ç»æ\nè®¾ç½®äºTimeoutæµè¯çObject.wait()æ¹æ³   æ¶é´ç»æ / Object.notify() / Object.notifyAll()\nè®¾ç½®äºTimeoutæµè¯çThread.join()æ¹æ³   æ¶é´ç»æ / è¢«è°ç¨ççº¿ç¨æ§è¡å®æ¯\nLockSupport.parkNanos()æ¹æ³      -\nLockSupport.parkUntil()æ¹æ³      -\n\n\n# æ­»äº¡(Terminated)\n\nå¯ä»¥æ¯çº¿ç¨ç»æä»»å¡ä¹åèªå·±ç»æï¼æèäº§çäºå¼å¸¸èç»æã\n\n\n# åºç¡çº¿ç¨æºå¶\n\n\n# Executorï¼ä¸å¸¸ç¨ï¼\n\nExecutor ç®¡çå¤ä¸ªå¼æ­¥ä»»å¡çæ§è¡ï¼èæ éç¨åºåæ¾å¼å°ç®¡ççº¿ç¨ççå½å¨æã\nè¿éçå¼æ­¥æ¯æå¤ä¸ªä»»å¡çæ§è¡äºä¸å¹²æ°ï¼ä¸éè¦è¿è¡åæ­¥æä½ã\n\n// åä¸ªçº¿ç¨ççº¿ç¨æ± \nExecutorService service = Executors.newSingleThreadExecutor();\n// æå®æ°éççº¿ç¨æ± \nExecutorService service1 = Executors.newFixedThreadPool(10);\n// å¤§å°ä¸éççº¿ç¨æ± ï¼60s ä¸ä½¿ç¨ä¼èªå¨åæ¶ç©ºé²çº¿ç¨ã\nExecutorService service2 = Executors.newCachedThreadPool();\n// å¤§å°ä¸éççº¿ç¨æ± ï¼å¯å®æ¶æ§è¡ä»»å¡ã\nExecutorService service3 = Executors.newScheduledThreadPool();\n\n\nExecutors ç±»ç¤ºä¾\n\npublic static void main(String[] args) {\n    ExecutorService executorService = Executors.newCachedThreadPool();\n    for (int i = 0; i < 5; i++) {\n        executorService.execute(new MyRunnable());\n    }\n    executorService.shutdown();\n}\n\n\n\n# Daemon\n\nå®æ¤çº¿ç¨æ¯ç¨åºè¿è¡æ¶å¨åå°æä¾æå¡ççº¿ç¨ï¼ä¸å±äºç¨åºä¸­ä¸å¯æç¼ºçé¨åã\nå½ææéå®æ¤çº¿ç¨ç»ææ¶ï¼ç¨åºä¹å°±ç»æ­¢ï¼åæ¶ä¼ææ­»ææå®æ¤çº¿ç¨ã\nmain() å±äºéå®æ¤çº¿ç¨ã\nä½¿ç¨ setDaemon() æ¹æ³å°ä¸ä¸ªçº¿ç¨è®¾ç½®ä¸ºå®æ¤çº¿ç¨ã\n\npublic static void main(String[] args) {\n    Thread thread = new Thread(new MyRunnable());\n    thread.setDaemon(true);\n}\n\n\n\n# sleep()\n\nThread.sleep(millis) æ¹æ³ä¼ä¼ç å½åæ­£å¨æ§è¡ççº¿ç¨ï¼millis åä½ä¸ºæ¯«ç§ã\nsleep() å¯è½ä¼æåº InterruptedExceptionï¼å ä¸ºå¼å¸¸ä¸è½è·¨çº¿ç¨ä¼ æ­å main() ä¸­ï¼å æ­¤å¿é¡»å¨æ¬å°è¿è¡å¤çãçº¿ç¨ä¸­æåºçå¶å®å¼å¸¸ä¹åæ ·éè¦å¨æ¬å°è¿è¡å¤çã\n\npublic void run() {\n    try {\n        Thread.sleep(3000);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n\n\n\n# yield()\n\nå¯¹éææ¹æ³ Thread.yield() çè°ç¨å£°æäºå½åçº¿ç¨å·²ç»å®æäºçå½å¨æä¸­æéè¦çé¨åï¼å¯ä»¥åæ¢ç»å¶å®çº¿ç¨æ¥æ§è¡ãè¯¥æ¹æ³åªæ¯å¯¹çº¿ç¨è°åº¦å¨çä¸ä¸ªå»ºè®®ï¼èä¸ä¹åªæ¯å»ºè®®å·æç¸åä¼åçº§çå¶å®çº¿ç¨å¯ä»¥è¿è¡ã\n\npublic void run() {\n    Thread.yield();\n}\n\n\n\n# çº¿ç¨ä¸­æ­\n\nä¸ä¸ªçº¿ç¨æ§è¡å®æ¯ä¹åä¼èªå¨ç»æï¼å¦æå¨è¿è¡è¿ç¨ä¸­åçå¼å¸¸ä¹ä¼æåç»æã\n\n\n# InterruptedException\n\néè¿è°ç¨ä¸ä¸ªçº¿ç¨ç interrupt() æ¥ä¸­æ­è¯¥çº¿ç¨ï¼å¦æè¯¥çº¿ç¨å¤äºé»å¡ãéæç­å¾æèæ éæç­å¾ç¶æï¼é£ä¹å°±ä¼æåº InterruptedExceptionï¼ä»èæåç»æè¯¥çº¿ç¨ãä½æ¯ä¸è½ä¸­æ­ I/O é»å¡å synchronized éé»å¡ã\n\npublic class Test {\n\n    public static void main(String[] args) throws InterruptedException{\n        Thread thread1 = new MyThread1();\n        thread1.start();\n        thread1.interrupt();\n        System.out.println("Main run");\n    }\n\n    private static class MyThread1 extends Thread {\n        @Override\n        public void run() {\n            try {\n                Thread.sleep(2000);\n                System.out.println("Thread run");\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n\n\nå¨ main() ä¸­å¯å¨ä¸ä¸ªçº¿ç¨ä¹ååä¸­æ­å®ï¼ç±äºçº¿ç¨ä¸­è°ç¨äº Thread.sleep() æ¹æ³ï¼å æ­¤ä¼æåºä¸ä¸ª InterruptedExceptionï¼ä»èæåç»æçº¿ç¨ï¼ä¸æ§è¡ä¹åçè¯­å¥ã\n\nMain run\njava.lang.InterruptedException: sleep interrupted\n\tat java.lang.Thread.sleep(Native Method)\n\tat com.springboot.cloud.smartPrison.test.ClientTest$MyThread1.run(Test.java:15)\n\n\n\n# interrupted()\n\nå¦æä¸ä¸ªçº¿ç¨ç run() æ¹æ³æ§è¡ä¸ä¸ªæ éå¾ªç¯ï¼å¹¶ä¸æ²¡ææ§è¡ sleep() ç­ä¼æåº InterruptedException çæä½ï¼é£ä¹è°ç¨çº¿ç¨ç interrupt() æ¹æ³å°±æ æ³ä½¿çº¿ç¨æåç»æã\nä½æ¯è°ç¨ interrupt() æ¹æ³ä¼è®¾ç½®çº¿ç¨çä¸­æ­æ è®°ï¼æ­¤æ¶è°ç¨ interrupted() æ¹æ³ä¼è¿å trueãå æ­¤å¯ä»¥å¨å¾ªç¯ä½ä¸­ä½¿ç¨ interrupted() æ¹æ³æ¥å¤æ­çº¿ç¨æ¯å¦å¤äºä¸­æ­ç¶æï¼ä»èæåç»æçº¿ç¨\n\npublic class Test {\n\n    public static void main(String[] args) throws InterruptedException{\n        Thread thread1 = new MyThread1();\n        thread1.start();\n        thread1.interrupt();\n    }\n\n    private static class MyThread1 extends Thread {\n        @Override\n        public void run() {\n            while (!interrupted()) {\n                // ..\n            }\n            System.out.println("Thread end");\n        }\n    }\n}\n\n\nThread end\n\n\n\n# Executor çä¸­æ­æä½\n\nè°ç¨ Executor ç shutdown() æ¹æ³ä¼ç­å¾çº¿ç¨é½æ§è¡å®æ¯ä¹ååå³é­ï¼ä½æ¯å¦æè°ç¨çæ¯ shutdownNow() æ¹æ³ï¼åç¸å½äºè°ç¨æ¯ä¸ªçº¿ç¨ç interrupt() æ¹æ³ã\n\npublic static void main(String[] args) {\n    ExecutorService executorService = Executors.newCachedThreadPool();\n    executorService.execute(() -> {\n        try {\n            Thread.sleep(2000);\n            System.out.println("Thread run");\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    });\n    executorService.shutdownNow();\n    System.out.println("Main run");\n}\n\n\nMain run\njava.lang.InterruptedException: sleep interrupted\n\tat java.lang.Thread.sleep(Native Method)\n\tat com.springboot.cloud.smartPrison.test.ClientTest.lambda$main$0(Test.java:37)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n\tat java.lang.Thread.run(Thread.java:748)\n\n\n\n# çº¿ç¨äºæ¥åæ­¥\n\nJava æä¾äºä¸¤ç§éæºå¶æ¥æ§å¶å¤ä¸ªçº¿ç¨å¯¹å±äº«èµæºçäºæ¥è®¿é®ï¼ç¬¬ä¸ä¸ªæ¯ JVM å®ç°ç synchronizedï¼èå¦ä¸ä¸ªæ¯ JDK å®ç°ç ReentrantLockã\n\n\n# synchronized\n\n# 1. åæ­¥ä¸ä¸ªä»£ç å\n\nå®åªä½ç¨äºåä¸ä¸ªå¯¹è±¡ï¼å¦æè°ç¨ä¸¤ä¸ªå¯¹è±¡ä¸çåæ­¥ä»£ç åï¼å°±ä¸ä¼è¿è¡åæ­¥ã\n\npublic class SynchronizedExample {\n\n    public void func1() {\n        synchronized (this) {\n            for (int i = 0; i < 10; i++) {\n                System.out.print(i + " ");\n            }\n        }\n    }\n}\n\n\npublic static void main(String[] args) {\n    SynchronizedExample e1 = new SynchronizedExample();\n    ExecutorService executorService = Executors.newCachedThreadPool();\n    executorService.execute(() -> e1.func1());\n    executorService.execute(() -> e1.func1());\n}\n\n\n0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9\n\n\nå¯¹äºä»¥ä¸ä»£ç ï¼ä¸¤ä¸ªçº¿ç¨è°ç¨äºä¸åå¯¹è±¡çåæ­¥ä»£ç åï¼å æ­¤è¿ä¸¤ä¸ªçº¿ç¨å°±ä¸éè¦åæ­¥ãä»è¾åºç»æå¯ä»¥çåºï¼ä¸¤ä¸ªçº¿ç¨äº¤åæ§è¡ã\n\npublic static void main(String[] args) {\n    SynchronizedExample e1 = new SynchronizedExample();\n    SynchronizedExample e2 = new SynchronizedExample();\n    ExecutorService executorService = Executors.newCachedThreadPool();\n    executorService.execute(() -> e1.func1());\n    executorService.execute(() -> e2.func1());\n}\n\n\n> æ°éå°ä¸ä¸å®è½çå¾åºæ¥ï¼å¯ä»¥æ¹å¤§ä¸ç¹æ°å­\n\n0 0 1 1 2 2 3 3 4 4 5 5 6 6 7 7 8 8 9 9\n\n\n# 2. åæ­¥ä¸ä¸ªæ¹æ³\n\nååæ­¥ä»£ç åä¸æ ·ï¼ä½ç¨äºåä¸ä¸ªå¯¹è±¡ã\n\npublic synchronized void func () {\n    // ...\n}\n\n\n# 3. åæ­¥ä¸ä¸ªç±»\n\nä½ç¨äºæ´ä¸ªç±»ï¼ä¹å°±æ¯è¯´ä¸¤ä¸ªçº¿ç¨è°ç¨åä¸ä¸ªç±»çä¸åå¯¹è±¡ä¸çè¿ç§åæ­¥è¯­å¥ï¼ä¹ä¼è¿è¡åæ­¥ã\n\npublic class SynchronizedExample {\n\n    public void func2() {\n        synchronized (SynchronizedExample.class) {\n            for (int i = 0; i < 10; i++) {\n                System.out.print(i + " ");\n            }\n        }\n    }\n}\n\n\npublic static void main(String[] args) {\n    SynchronizedExample e1 = new SynchronizedExample();\n    SynchronizedExample e2 = new SynchronizedExample();\n    ExecutorService executorService = Executors.newCachedThreadPool();\n    executorService.execute(() -> e1.func2());\n    executorService.execute(() -> e2.func2());\n}\n  \n\n\n0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9\n\n\n# 4. åæ­¥ä¸ä¸ªéææ¹æ³\n\nä½ç¨äºæ´ä¸ªç±»\n\npublic synchronized static void fun() {\n    // ...\n}\n\n\n\n# ReentrantLock\n\nReentrantLock æ¯ java.util.concurrent(J.U.C)åä¸­çéã\n\npublic class LockExample {\n\n    private Lock lock = new ReentrantLock();\n\n    public void func() {\n        lock.lock();\n        try {\n            for (int i = 0; i < 10; i++) {\n                System.out.print(i + " ");\n            }\n        } finally {\n            lock.unlock(); // ç¡®ä¿éæ¾éï¼ä»èé¿ååçæ­»éã\n        }\n    }\n}\n\n\npublic static void main(String[] args) {\n    LockExample lockExample = new LockExample();\n    ExecutorService executorService = Executors.newCachedThreadPool();\n    executorService.execute(() -> lockExample.func());\n    executorService.execute(() -> lockExample.func());\n}\n\n\n0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 \n\n\n\n# æ¯è¾\n\n# 1. éçå®ç°\n\nsynchronized æ¯ JVM å®ç°çï¼è ReentrantLock æ¯ JDK å®ç°çã\n\n# 2. æ§è½\n\næ°çæ¬ Java å¯¹ synchronized è¿è¡äºå¾å¤ä¼åï¼ä¾å¦èªæéç­ï¼synchronized ä¸ ReentrantLock å¤§è´ç¸åã\n\n# 3. ç­å¾å¯ä¸­æ­\n\nå½ææéççº¿ç¨é¿æä¸éæ¾éçæ¶åï¼æ­£å¨ç­å¾ççº¿ç¨å¯ä»¥éæ©æ¾å¼ç­å¾ï¼æ¹ä¸ºå¤çå¶ä»äºæã\nReentrantLock å¯ä¸­æ­ï¼è synchronized ä¸è¡ã\n\n# 4. å¬å¹³é\n\nå¬å¹³éæ¯æå¤ä¸ªçº¿ç¨å¨ç­å¾åä¸ä¸ªéæ¶ï¼å¿é¡»æç§ç³è¯·éçæ¶é´é¡ºåºæ¥ä¾æ¬¡è·å¾éã\nsynchronized ä¸­çéæ¯éå¬å¹³çï¼ReentrantLock é»è®¤æåµä¸ä¹æ¯éå¬å¹³çï¼ä½æ¯ä¹å¯ä»¥æ¯å¬å¹³çã\n\n# 5. éç»å®å¤ä¸ªæ¡ä»¶\n\nä¸ä¸ª ReentrantLock å¯ä»¥åæ¶ç»å®å¤ä¸ª Condition å¯¹è±¡ã\n\n\n# ä½¿ç¨éæ©\n\né¤ééè¦ä½¿ç¨ ReentrantLock çé«çº§åè½ï¼å¦åä¼åä½¿ç¨ synchronizedãè¿æ¯å ä¸º synchronized æ¯ JVM å®ç°çä¸ç§éæºå¶ï¼JVM åçå°æ¯æå®ï¼è ReentrantLock ä¸æ¯ææç JDK çæ¬é½æ¯æãå¹¶ä¸ä½¿ç¨ synchronized ä¸ç¨æå¿æ²¡æéæ¾éèå¯¼è´æ­»éé®é¢ï¼å ä¸º JVM ä¼ç¡®ä¿éçéæ¾\n\n\n# çº¿ç¨ä¹é´çåä½\n\nå½å¤ä¸ªçº¿ç¨å¯ä»¥ä¸èµ·å·¥ä½å»è§£å³æä¸ªé®é¢æ¶ï¼å¦ææäºé¨åå¿é¡»å¨å¶å®é¨åä¹åå®æï¼é£ä¹å°±éè¦å¯¹çº¿ç¨è¿è¡åè°ã\n\n\n# join()\n\nå¨çº¿ç¨ä¸­è°ç¨å¦ä¸ä¸ªçº¿ç¨ç join() æ¹æ³ï¼ä¼å°å½åçº¿ç¨æèµ·ï¼èä¸æ¯å¿ç­å¾ï¼ç´å°ç®æ çº¿ç¨ç»æã\n\npublic class JoinExample {\n\n    private class A extends Thread {\n        @Override\n        public void run() {\n            System.out.println("A");\n        }\n    }\n\n    private class B extends Thread {\n\n        private A a;\n\n        B(A a) {\n            this.a = a;\n        }\n\n        @Override\n        public void run() {\n            try {\n                a.join();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            System.out.println("B");\n        }\n    }\n\n    public void test() {\n        A a = new A();\n        B b = new B(a);\n        b.start();\n        a.start();\n    }\n}\n\n\npublic static void main(String[] args) {\n    JoinExample example = new JoinExample();\n    example.test();\n}\n\n\nA\nB\n\n\n\n# wait() notify() notifyAll()\n\nè°ç¨ wait() ä½¿å¾çº¿ç¨ç­å¾æä¸ªæ¡ä»¶æ»¡è¶³ï¼çº¿ç¨å¨ç­å¾æ¶ä¼è¢«æèµ·ï¼å½å¶ä»çº¿ç¨çè¿è¡ä½¿å¾è¿ä¸ªæ¡ä»¶æ»¡è¶³æ¶ï¼å¶å®çº¿ç¨ä¼è°ç¨ notify() æè notifyAll() æ¥å¤éæèµ·ççº¿ç¨ã\nå®ä»¬é½å±äº Object çä¸é¨åï¼èä¸å±äº Threadã\nåªè½ç¨å¨åæ­¥æ¹æ³æèåæ­¥æ§å¶åä¸­ä½¿ç¨ï¼å¦åä¼å¨è¿è¡æ¶æåº IllegalMonitorStateExeceptionã\nä½¿ç¨ wait() æèµ·æé´ï¼çº¿ç¨ä¼éæ¾éãè¿æ¯å ä¸ºï¼å¦ææ²¡æéæ¾éï¼é£ä¹å¶å®çº¿ç¨å°±æ æ³è¿å¥å¯¹è±¡çåæ­¥æ¹æ³æèåæ­¥æ§å¶åä¸­ï¼é£ä¹å°±æ æ³æ§è¡ notify() æè notifyAll() æ¥å¤éæèµ·ççº¿ç¨ï¼é ææ­»éã\n\npublic class WaitNotifyExample {\n    public synchronized void before() {\n        System.out.println("before");\n        notifyAll();\n    }\n\n    public synchronized void after() {\n        try {\n            wait();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println("after");\n    }\n}\n\n\npublic static void main(String[] args) {\n    ExecutorService executorService = Executors.newCachedThreadPool();\n    WaitNotifyExample example = new WaitNotifyExample();\n    executorService.execute(() -> example.after());\n    executorService.execute(() -> example.before());\n}\n\n\nbefore\nafter\n\n\n# wait() å sleep() çåºå«\n\n * wait() å¸¸å«âæèµ·ä¸ä¸ªçº¿ç¨âï¼sleep() å¸¸å«âä½¿ä¸ä¸ªçº¿ç¨ç¡ç â\n * wait() æ¯ Object çæ¹æ³ï¼è sleep() æ¯ Thread çéææ¹æ³ï¼\n * wait() ä¼éæ¾éï¼sleep() ä¸ä¼ã\n\n\n# await() signal() signalAll()\n\njava.util.concurrent ç±»åºä¸­æä¾äº Condition ç±»æ¥å®ç°çº¿ç¨ä¹é´çåè°ï¼å¯ä»¥å¨ Condition ä¸è°ç¨ await() æ¹æ³ä½¿çº¿ç¨ç­å¾ï¼å¶å®çº¿ç¨è°ç¨ signal() æ signalAll() æ¹æ³å¤éç­å¾ççº¿ç¨ãç¸æ¯äº wait() è¿ç§ç­å¾æ¹å¼ï¼await() å¯ä»¥æå®ç­å¾çæ¡ä»¶ï¼å æ­¤æ´å çµæ´»ã\n\npublic class AwaitSignalExample {\n    private Lock lock = new ReentrantLock();\n    private Condition condition = lock.newCondition();\n\n    public void before() {\n        lock.lock();\n        try {\n            System.out.println("before");\n            condition.signalAll();\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    public void after() {\n        lock.lock();\n        try {\n            condition.await();\n            System.out.println("after");\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        } finally {\n            lock.unlock();\n        }\n    }\n}\n\n\npublic static void main(String[] args) {\n    ExecutorService executorService = Executors.newCachedThreadPool();\n    AwaitSignalExample example = new AwaitSignalExample();\n    executorService.execute(() -> example.after());\n    executorService.execute(() -> example.before());\n}\n\n\nbefore\nafter\n',normalizedContent:'# çº¿ç¨ä½¿ç¨æ¹å¼\n\n\n# runnable æ¥å£\n\néè¦å®ç° run() æ¹æ³ã\néè¿ thread è°ç¨ start() æ¹æ³æ¥å¯å¨çº¿ç¨ã\n\npublic class myrunnable implements runnable {\n    public void run() {\n        // ...\n    }\n}\n\n\npublic class test {\n    public static void main(string[] args) {\n        myrunnable instance = new myrunnable();\n        thread thread = new thread(instance);\n        thread.start();\n    }\n}\n\n\n\n# ç»§æ¿ thread ç±»\n\nåæ ·ä¹æ¯éè¦å®ç° run() æ¹æ³ï¼å ä¸º thread ç±»ä¹å®ç°äº runable æ¥å£ã\nå½è°ç¨ start() æ¹æ³å¯å¨ä¸ä¸ªçº¿ç¨æ¶ï¼èææºä¼å°è¯¥çº¿ç¨æ¾å¥å°±ç»ªéåä¸­ç­å¾è¢«è°åº¦ï¼å½ä¸ä¸ªçº¿ç¨è¢«è°åº¦æ¶ä¼æ§è¡è¯¥çº¿ç¨ç run() æ¹æ³ã\n\npublic class mythread extends thread {\n    public void run() {\n        // ...\n    }\n}\n\n\npublic class test{\n    public static void main(string[] args) {\n        mythread mt = new mythread();\n        mt.start();\n    }\n}\n\n\n\n# callable æ¥å£\n\nä¸ runnable ç¸æ¯ï¼callable å¯ä»¥æè¿åå¼ï¼è¿åå¼éè¿ futuretask è¿è¡å°è£ã\n\npublic class mycallable implements callable<integer> {\n    public integer call() {\n        return 123;\n    }\n}\n\n\npublic class test{\n    public static void main(string[] args) throws executionexception, interruptedexception {\n        mycallable mc = new mycallable();\n        futuretask<integer> ft = new futuretask<>(mc);\n        thread thread = new thread(ft);\n        thread.start();\n        system.out.println(ft.get());\n    }\n}\n\n\n\n# çº¿ç¨ç¶æ\n\n\n\n\n# æ°å»º(new)\n\nä½¿ç¨ new å³é®å­å thread ç±»æå¶å­ç±»å»ºç«ä¸ä¸ªçº¿ç¨å¯¹è±¡åï¼è¯¥çº¿ç¨å¯¹è±¡å°±å¤äºæ°å»ºç¶æãå®ä¿æè¿ä¸ªç¶æç´å°ç¨åº start() è¿ä¸ªçº¿ç¨ã\n\n\n# å¯è¿è¡(runnable)\n\nåæ¬runningåreadyãå¯è½æ­£å¨è¿è¡ï¼ä¹å¯è½æ­£å¨ç­å¾ cpu æ¶é´çã å½çº¿ç¨å¯¹è±¡è°ç¨äºstart()æ¹æ³ä¹åï¼è¯¥çº¿ç¨å°±è¿å¥å°±ç»ªç¶æãå°±ç»ªç¶æççº¿ç¨å¤äºå°±ç»ªéåä¸­ï¼è¦ç­å¾jvméçº¿ç¨è°åº¦å¨çè°åº¦ã\n\n\n# é»å¡(blocking)\n\nç­å¾è·åä¸ä¸ªæå®éï¼å¦æå¶çº¿ç¨éæ¾äºéå°±ä¼ç»ææ­¤ç¶æã\n\n\n# æ éæç­å¾(waiting)\n\nå¤äºæ­¤ç¶æççº¿ç¨ä¸ä¼è¢«åécpuæ§è¡æ¶é´ï¼éè¦ç­å¾å¶å®çº¿ç¨æ¾å¼å°å¤éï¼å¦åä¸ä¼è¢«åé cpu æ¶é´çã\n\nè¿å¥æ¹æ³                            éåºæ¹æ³\næ²¡æè®¾ç½®timeoutæµè¯çobject.wait()æ¹æ³   object.notify() / object.notifyall()\næ²¡æè®¾ç½®timeoutæµè¯çthread.join()æ¹æ³   è¢«è°ç¨ççº¿ç¨æ§è¡å®æ¯\nlocksupport.park()æ¹æ³            -\n\n\n# éæç­å¾(timed waiting)\n\nå¤äºæ­¤ç¶æççº¿ç¨ä¹ä¸ä¼è¢«åécpuæ§è¡æ¶é´ï¼ä¸è¿æ éç­å¾å¶å®çº¿ç¨æ¾å¼å°å¤éï¼å¨ä¸å®æ¶é´ä¹åä¼è¢«ç³»ç»èªå¨å¤éã\n\nè¿å¥æ¹æ³                           éåºæ¹æ³\nthread.sleep()æ¹æ³               æ¶é´ç»æ\nè®¾ç½®äºtimeoutæµè¯çobject.wait()æ¹æ³   æ¶é´ç»æ / object.notify() / object.notifyall()\nè®¾ç½®äºtimeoutæµè¯çthread.join()æ¹æ³   æ¶é´ç»æ / è¢«è°ç¨ççº¿ç¨æ§è¡å®æ¯\nlocksupport.parknanos()æ¹æ³      -\nlocksupport.parkuntil()æ¹æ³      -\n\n\n# æ­»äº¡(terminated)\n\nå¯ä»¥æ¯çº¿ç¨ç»æä»»å¡ä¹åèªå·±ç»æï¼æèäº§çäºå¼å¸¸èç»æã\n\n\n# åºç¡çº¿ç¨æºå¶\n\n\n# executorï¼ä¸å¸¸ç¨ï¼\n\nexecutor ç®¡çå¤ä¸ªå¼æ­¥ä»»å¡çæ§è¡ï¼èæ éç¨åºåæ¾å¼å°ç®¡ççº¿ç¨ççå½å¨æã\nè¿éçå¼æ­¥æ¯æå¤ä¸ªä»»å¡çæ§è¡äºä¸å¹²æ°ï¼ä¸éè¦è¿è¡åæ­¥æä½ã\n\n// åä¸ªçº¿ç¨ççº¿ç¨æ± \nexecutorservice service = executors.newsinglethreadexecutor();\n// æå®æ°éççº¿ç¨æ± \nexecutorservice service1 = executors.newfixedthreadpool(10);\n// å¤§å°ä¸éççº¿ç¨æ± ï¼60s ä¸ä½¿ç¨ä¼èªå¨åæ¶ç©ºé²çº¿ç¨ã\nexecutorservice service2 = executors.newcachedthreadpool();\n// å¤§å°ä¸éççº¿ç¨æ± ï¼å¯å®æ¶æ§è¡ä»»å¡ã\nexecutorservice service3 = executors.newscheduledthreadpool();\n\n\nexecutors ç±»ç¤ºä¾\n\npublic static void main(string[] args) {\n    executorservice executorservice = executors.newcachedthreadpool();\n    for (int i = 0; i < 5; i++) {\n        executorservice.execute(new myrunnable());\n    }\n    executorservice.shutdown();\n}\n\n\n\n# daemon\n\nå®æ¤çº¿ç¨æ¯ç¨åºè¿è¡æ¶å¨åå°æä¾æå¡ççº¿ç¨ï¼ä¸å±äºç¨åºä¸­ä¸å¯æç¼ºçé¨åã\nå½ææéå®æ¤çº¿ç¨ç»ææ¶ï¼ç¨åºä¹å°±ç»æ­¢ï¼åæ¶ä¼ææ­»ææå®æ¤çº¿ç¨ã\nmain() å±äºéå®æ¤çº¿ç¨ã\nä½¿ç¨ setdaemon() æ¹æ³å°ä¸ä¸ªçº¿ç¨è®¾ç½®ä¸ºå®æ¤çº¿ç¨ã\n\npublic static void main(string[] args) {\n    thread thread = new thread(new myrunnable());\n    thread.setdaemon(true);\n}\n\n\n\n# sleep()\n\nthread.sleep(millis) æ¹æ³ä¼ä¼ç å½åæ­£å¨æ§è¡ççº¿ç¨ï¼millis åä½ä¸ºæ¯«ç§ã\nsleep() å¯è½ä¼æåº interruptedexceptionï¼å ä¸ºå¼å¸¸ä¸è½è·¨çº¿ç¨ä¼ æ­å main() ä¸­ï¼å æ­¤å¿é¡»å¨æ¬å°è¿è¡å¤çãçº¿ç¨ä¸­æåºçå¶å®å¼å¸¸ä¹åæ ·éè¦å¨æ¬å°è¿è¡å¤çã\n\npublic void run() {\n    try {\n        thread.sleep(3000);\n    } catch (interruptedexception e) {\n        e.printstacktrace();\n    }\n}\n\n\n\n# yield()\n\nå¯¹éææ¹æ³ thread.yield() çè°ç¨å£°æäºå½åçº¿ç¨å·²ç»å®æäºçå½å¨æä¸­æéè¦çé¨åï¼å¯ä»¥åæ¢ç»å¶å®çº¿ç¨æ¥æ§è¡ãè¯¥æ¹æ³åªæ¯å¯¹çº¿ç¨è°åº¦å¨çä¸ä¸ªå»ºè®®ï¼èä¸ä¹åªæ¯å»ºè®®å·æç¸åä¼åçº§çå¶å®çº¿ç¨å¯ä»¥è¿è¡ã\n\npublic void run() {\n    thread.yield();\n}\n\n\n\n# çº¿ç¨ä¸­æ­\n\nä¸ä¸ªçº¿ç¨æ§è¡å®æ¯ä¹åä¼èªå¨ç»æï¼å¦æå¨è¿è¡è¿ç¨ä¸­åçå¼å¸¸ä¹ä¼æåç»æã\n\n\n# interruptedexception\n\néè¿è°ç¨ä¸ä¸ªçº¿ç¨ç interrupt() æ¥ä¸­æ­è¯¥çº¿ç¨ï¼å¦æè¯¥çº¿ç¨å¤äºé»å¡ãéæç­å¾æèæ éæç­å¾ç¶æï¼é£ä¹å°±ä¼æåº interruptedexceptionï¼ä»èæåç»æè¯¥çº¿ç¨ãä½æ¯ä¸è½ä¸­æ­ i/o é»å¡å synchronized éé»å¡ã\n\npublic class test {\n\n    public static void main(string[] args) throws interruptedexception{\n        thread thread1 = new mythread1();\n        thread1.start();\n        thread1.interrupt();\n        system.out.println("main run");\n    }\n\n    private static class mythread1 extends thread {\n        @override\n        public void run() {\n            try {\n                thread.sleep(2000);\n                system.out.println("thread run");\n            } catch (interruptedexception e) {\n                e.printstacktrace();\n            }\n        }\n    }\n}\n\n\nå¨ main() ä¸­å¯å¨ä¸ä¸ªçº¿ç¨ä¹ååä¸­æ­å®ï¼ç±äºçº¿ç¨ä¸­è°ç¨äº thread.sleep() æ¹æ³ï¼å æ­¤ä¼æåºä¸ä¸ª interruptedexceptionï¼ä»èæåç»æçº¿ç¨ï¼ä¸æ§è¡ä¹åçè¯­å¥ã\n\nmain run\njava.lang.interruptedexception: sleep interrupted\n\tat java.lang.thread.sleep(native method)\n\tat com.springboot.cloud.smartprison.test.clienttest$mythread1.run(test.java:15)\n\n\n\n# interrupted()\n\nå¦æä¸ä¸ªçº¿ç¨ç run() æ¹æ³æ§è¡ä¸ä¸ªæ éå¾ªç¯ï¼å¹¶ä¸æ²¡ææ§è¡ sleep() ç­ä¼æåº interruptedexception çæä½ï¼é£ä¹è°ç¨çº¿ç¨ç interrupt() æ¹æ³å°±æ æ³ä½¿çº¿ç¨æåç»æã\nä½æ¯è°ç¨ interrupt() æ¹æ³ä¼è®¾ç½®çº¿ç¨çä¸­æ­æ è®°ï¼æ­¤æ¶è°ç¨ interrupted() æ¹æ³ä¼è¿å trueãå æ­¤å¯ä»¥å¨å¾ªç¯ä½ä¸­ä½¿ç¨ interrupted() æ¹æ³æ¥å¤æ­çº¿ç¨æ¯å¦å¤äºä¸­æ­ç¶æï¼ä»èæåç»æçº¿ç¨\n\npublic class test {\n\n    public static void main(string[] args) throws interruptedexception{\n        thread thread1 = new mythread1();\n        thread1.start();\n        thread1.interrupt();\n    }\n\n    private static class mythread1 extends thread {\n        @override\n        public void run() {\n            while (!interrupted()) {\n                // ..\n            }\n            system.out.println("thread end");\n        }\n    }\n}\n\n\nthread end\n\n\n\n# executor çä¸­æ­æä½\n\nè°ç¨ executor ç shutdown() æ¹æ³ä¼ç­å¾çº¿ç¨é½æ§è¡å®æ¯ä¹ååå³é­ï¼ä½æ¯å¦æè°ç¨çæ¯ shutdownnow() æ¹æ³ï¼åç¸å½äºè°ç¨æ¯ä¸ªçº¿ç¨ç interrupt() æ¹æ³ã\n\npublic static void main(string[] args) {\n    executorservice executorservice = executors.newcachedthreadpool();\n    executorservice.execute(() -> {\n        try {\n            thread.sleep(2000);\n            system.out.println("thread run");\n        } catch (interruptedexception e) {\n            e.printstacktrace();\n        }\n    });\n    executorservice.shutdownnow();\n    system.out.println("main run");\n}\n\n\nmain run\njava.lang.interruptedexception: sleep interrupted\n\tat java.lang.thread.sleep(native method)\n\tat com.springboot.cloud.smartprison.test.clienttest.lambda$main$0(test.java:37)\n\tat java.util.concurrent.threadpoolexecutor.runworker(threadpoolexecutor.java:1149)\n\tat java.util.concurrent.threadpoolexecutor$worker.run(threadpoolexecutor.java:624)\n\tat java.lang.thread.run(thread.java:748)\n\n\n\n# çº¿ç¨äºæ¥åæ­¥\n\njava æä¾äºä¸¤ç§éæºå¶æ¥æ§å¶å¤ä¸ªçº¿ç¨å¯¹å±äº«èµæºçäºæ¥è®¿é®ï¼ç¬¬ä¸ä¸ªæ¯ jvm å®ç°ç synchronizedï¼èå¦ä¸ä¸ªæ¯ jdk å®ç°ç reentrantlockã\n\n\n# synchronized\n\n# 1. åæ­¥ä¸ä¸ªä»£ç å\n\nå®åªä½ç¨äºåä¸ä¸ªå¯¹è±¡ï¼å¦æè°ç¨ä¸¤ä¸ªå¯¹è±¡ä¸çåæ­¥ä»£ç åï¼å°±ä¸ä¼è¿è¡åæ­¥ã\n\npublic class synchronizedexample {\n\n    public void func1() {\n        synchronized (this) {\n            for (int i = 0; i < 10; i++) {\n                system.out.print(i + " ");\n            }\n        }\n    }\n}\n\n\npublic static void main(string[] args) {\n    synchronizedexample e1 = new synchronizedexample();\n    executorservice executorservice = executors.newcachedthreadpool();\n    executorservice.execute(() -> e1.func1());\n    executorservice.execute(() -> e1.func1());\n}\n\n\n0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9\n\n\nå¯¹äºä»¥ä¸ä»£ç ï¼ä¸¤ä¸ªçº¿ç¨è°ç¨äºä¸åå¯¹è±¡çåæ­¥ä»£ç åï¼å æ­¤è¿ä¸¤ä¸ªçº¿ç¨å°±ä¸éè¦åæ­¥ãä»è¾åºç»æå¯ä»¥çåºï¼ä¸¤ä¸ªçº¿ç¨äº¤åæ§è¡ã\n\npublic static void main(string[] args) {\n    synchronizedexample e1 = new synchronizedexample();\n    synchronizedexample e2 = new synchronizedexample();\n    executorservice executorservice = executors.newcachedthreadpool();\n    executorservice.execute(() -> e1.func1());\n    executorservice.execute(() -> e2.func1());\n}\n\n\n> æ°éå°ä¸ä¸å®è½çå¾åºæ¥ï¼å¯ä»¥æ¹å¤§ä¸ç¹æ°å­\n\n0 0 1 1 2 2 3 3 4 4 5 5 6 6 7 7 8 8 9 9\n\n\n# 2. åæ­¥ä¸ä¸ªæ¹æ³\n\nååæ­¥ä»£ç åä¸æ ·ï¼ä½ç¨äºåä¸ä¸ªå¯¹è±¡ã\n\npublic synchronized void func () {\n    // ...\n}\n\n\n# 3. åæ­¥ä¸ä¸ªç±»\n\nä½ç¨äºæ´ä¸ªç±»ï¼ä¹å°±æ¯è¯´ä¸¤ä¸ªçº¿ç¨è°ç¨åä¸ä¸ªç±»çä¸åå¯¹è±¡ä¸çè¿ç§åæ­¥è¯­å¥ï¼ä¹ä¼è¿è¡åæ­¥ã\n\npublic class synchronizedexample {\n\n    public void func2() {\n        synchronized (synchronizedexample.class) {\n            for (int i = 0; i < 10; i++) {\n                system.out.print(i + " ");\n            }\n        }\n    }\n}\n\n\npublic static void main(string[] args) {\n    synchronizedexample e1 = new synchronizedexample();\n    synchronizedexample e2 = new synchronizedexample();\n    executorservice executorservice = executors.newcachedthreadpool();\n    executorservice.execute(() -> e1.func2());\n    executorservice.execute(() -> e2.func2());\n}\n  \n\n\n0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9\n\n\n# 4. åæ­¥ä¸ä¸ªéææ¹æ³\n\nä½ç¨äºæ´ä¸ªç±»\n\npublic synchronized static void fun() {\n    // ...\n}\n\n\n\n# reentrantlock\n\nreentrantlock æ¯ java.util.concurrent(j.u.c)åä¸­çéã\n\npublic class lockexample {\n\n    private lock lock = new reentrantlock();\n\n    public void func() {\n        lock.lock();\n        try {\n            for (int i = 0; i < 10; i++) {\n                system.out.print(i + " ");\n            }\n        } finally {\n            lock.unlock(); // ç¡®ä¿éæ¾éï¼ä»èé¿ååçæ­»éã\n        }\n    }\n}\n\n\npublic static void main(string[] args) {\n    lockexample lockexample = new lockexample();\n    executorservice executorservice = executors.newcachedthreadpool();\n    executorservice.execute(() -> lockexample.func());\n    executorservice.execute(() -> lockexample.func());\n}\n\n\n0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 \n\n\n\n# æ¯è¾\n\n# 1. éçå®ç°\n\nsynchronized æ¯ jvm å®ç°çï¼è reentrantlock æ¯ jdk å®ç°çã\n\n# 2. æ§è½\n\næ°çæ¬ java å¯¹ synchronized è¿è¡äºå¾å¤ä¼åï¼ä¾å¦èªæéç­ï¼synchronized ä¸ reentrantlock å¤§è´ç¸åã\n\n# 3. ç­å¾å¯ä¸­æ­\n\nå½ææéççº¿ç¨é¿æä¸éæ¾éçæ¶åï¼æ­£å¨ç­å¾ççº¿ç¨å¯ä»¥éæ©æ¾å¼ç­å¾ï¼æ¹ä¸ºå¤çå¶ä»äºæã\nreentrantlock å¯ä¸­æ­ï¼è synchronized ä¸è¡ã\n\n# 4. å¬å¹³é\n\nå¬å¹³éæ¯æå¤ä¸ªçº¿ç¨å¨ç­å¾åä¸ä¸ªéæ¶ï¼å¿é¡»æç§ç³è¯·éçæ¶é´é¡ºåºæ¥ä¾æ¬¡è·å¾éã\nsynchronized ä¸­çéæ¯éå¬å¹³çï¼reentrantlock é»è®¤æåµä¸ä¹æ¯éå¬å¹³çï¼ä½æ¯ä¹å¯ä»¥æ¯å¬å¹³çã\n\n# 5. éç»å®å¤ä¸ªæ¡ä»¶\n\nä¸ä¸ª reentrantlock å¯ä»¥åæ¶ç»å®å¤ä¸ª condition å¯¹è±¡ã\n\n\n# ä½¿ç¨éæ©\n\né¤ééè¦ä½¿ç¨ reentrantlock çé«çº§åè½ï¼å¦åä¼åä½¿ç¨ synchronizedãè¿æ¯å ä¸º synchronized æ¯ jvm å®ç°çä¸ç§éæºå¶ï¼jvm åçå°æ¯æå®ï¼è reentrantlock ä¸æ¯ææç jdk çæ¬é½æ¯æãå¹¶ä¸ä½¿ç¨ synchronized ä¸ç¨æå¿æ²¡æéæ¾éèå¯¼è´æ­»éé®é¢ï¼å ä¸º jvm ä¼ç¡®ä¿éçéæ¾\n\n\n# çº¿ç¨ä¹é´çåä½\n\nå½å¤ä¸ªçº¿ç¨å¯ä»¥ä¸èµ·å·¥ä½å»è§£å³æä¸ªé®é¢æ¶ï¼å¦ææäºé¨åå¿é¡»å¨å¶å®é¨åä¹åå®æï¼é£ä¹å°±éè¦å¯¹çº¿ç¨è¿è¡åè°ã\n\n\n# join()\n\nå¨çº¿ç¨ä¸­è°ç¨å¦ä¸ä¸ªçº¿ç¨ç join() æ¹æ³ï¼ä¼å°å½åçº¿ç¨æèµ·ï¼èä¸æ¯å¿ç­å¾ï¼ç´å°ç®æ çº¿ç¨ç»æã\n\npublic class joinexample {\n\n    private class a extends thread {\n        @override\n        public void run() {\n            system.out.println("a");\n        }\n    }\n\n    private class b extends thread {\n\n        private a a;\n\n        b(a a) {\n            this.a = a;\n        }\n\n        @override\n        public void run() {\n            try {\n                a.join();\n            } catch (interruptedexception e) {\n                e.printstacktrace();\n            }\n            system.out.println("b");\n        }\n    }\n\n    public void test() {\n        a a = new a();\n        b b = new b(a);\n        b.start();\n        a.start();\n    }\n}\n\n\npublic static void main(string[] args) {\n    joinexample example = new joinexample();\n    example.test();\n}\n\n\na\nb\n\n\n\n# wait() notify() notifyall()\n\nè°ç¨ wait() ä½¿å¾çº¿ç¨ç­å¾æä¸ªæ¡ä»¶æ»¡è¶³ï¼çº¿ç¨å¨ç­å¾æ¶ä¼è¢«æèµ·ï¼å½å¶ä»çº¿ç¨çè¿è¡ä½¿å¾è¿ä¸ªæ¡ä»¶æ»¡è¶³æ¶ï¼å¶å®çº¿ç¨ä¼è°ç¨ notify() æè notifyall() æ¥å¤éæèµ·ççº¿ç¨ã\nå®ä»¬é½å±äº object çä¸é¨åï¼èä¸å±äº threadã\nåªè½ç¨å¨åæ­¥æ¹æ³æèåæ­¥æ§å¶åä¸­ä½¿ç¨ï¼å¦åä¼å¨è¿è¡æ¶æåº illegalmonitorstateexeceptionã\nä½¿ç¨ wait() æèµ·æé´ï¼çº¿ç¨ä¼éæ¾éãè¿æ¯å ä¸ºï¼å¦ææ²¡æéæ¾éï¼é£ä¹å¶å®çº¿ç¨å°±æ æ³è¿å¥å¯¹è±¡çåæ­¥æ¹æ³æèåæ­¥æ§å¶åä¸­ï¼é£ä¹å°±æ æ³æ§è¡ notify() æè notifyall() æ¥å¤éæèµ·ççº¿ç¨ï¼é ææ­»éã\n\npublic class waitnotifyexample {\n    public synchronized void before() {\n        system.out.println("before");\n        notifyall();\n    }\n\n    public synchronized void after() {\n        try {\n            wait();\n        } catch (interruptedexception e) {\n            e.printstacktrace();\n        }\n        system.out.println("after");\n    }\n}\n\n\npublic static void main(string[] args) {\n    executorservice executorservice = executors.newcachedthreadpool();\n    waitnotifyexample example = new waitnotifyexample();\n    executorservice.execute(() -> example.after());\n    executorservice.execute(() -> example.before());\n}\n\n\nbefore\nafter\n\n\n# wait() å sleep() çåºå«\n\n * wait() å¸¸å«âæèµ·ä¸ä¸ªçº¿ç¨âï¼sleep() å¸¸å«âä½¿ä¸ä¸ªçº¿ç¨ç¡ç â\n * wait() æ¯ object çæ¹æ³ï¼è sleep() æ¯ thread çéææ¹æ³ï¼\n * wait() ä¼éæ¾éï¼sleep() ä¸ä¼ã\n\n\n# await() signal() signalall()\n\njava.util.concurrent ç±»åºä¸­æä¾äº condition ç±»æ¥å®ç°çº¿ç¨ä¹é´çåè°ï¼å¯ä»¥å¨ condition ä¸è°ç¨ await() æ¹æ³ä½¿çº¿ç¨ç­å¾ï¼å¶å®çº¿ç¨è°ç¨ signal() æ signalall() æ¹æ³å¤éç­å¾ççº¿ç¨ãç¸æ¯äº wait() è¿ç§ç­å¾æ¹å¼ï¼await() å¯ä»¥æå®ç­å¾çæ¡ä»¶ï¼å æ­¤æ´å çµæ´»ã\n\npublic class awaitsignalexample {\n    private lock lock = new reentrantlock();\n    private condition condition = lock.newcondition();\n\n    public void before() {\n        lock.lock();\n        try {\n            system.out.println("before");\n            condition.signalall();\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    public void after() {\n        lock.lock();\n        try {\n            condition.await();\n            system.out.println("after");\n        } catch (interruptedexception e) {\n            e.printstacktrace();\n        } finally {\n            lock.unlock();\n        }\n    }\n}\n\n\npublic static void main(string[] args) {\n    executorservice executorservice = executors.newcachedthreadpool();\n    awaitsignalexample example = new awaitsignalexample();\n    executorservice.execute(() -> example.after());\n    executorservice.execute(() -> example.before());\n}\n\n\nbefore\nafter\n',charsets:{cjk:!0}},{title:"SpringBootæ´åMybatisPlus",frontmatter:{title:"SpringBootæ´åMybatisPlus",date:"2022-03-04T14:31:25.000Z",permalink:"/pages/5f83bc/",categories:["å­¦ä¹ èµæ","Java","SpringBootå®æ"],tags:["mybatis"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/18.SpringBoot%E5%AE%9E%E6%88%98/01.SpringBoot%E6%95%B4%E5%90%88MybatisPlus.html",relativePath:"å­¦ä¹ èµæ/03.Java/18.SpringBootå®æ/01.SpringBootæ´åMybatisPlus.md",key:"v-67ad6d8f",path:"/pages/5f83bc/",headers:[{level:2,title:"1.æ·»å ä¾èµ",slug:"_1-æ·»å ä¾èµ",normalizedTitle:"1.æ·»å ä¾èµ",charIndex:2},{level:2,title:"2.éç½®",slug:"_2-éç½®",normalizedTitle:"2.éç½®",charIndex:1144},{level:3,title:"ymléç½®",slug:"ymléç½®",normalizedTitle:"ymléç½®",charIndex:1153},{level:3,title:"ä»£ç çæéç½®",slug:"ä»£ç çæéç½®",normalizedTitle:"ä»£ç çæéç½®",charIndex:1853},{level:3,title:"åé¡µéç½®",slug:"åé¡µéç½®",normalizedTitle:"åé¡µéç½®",charIndex:3772},{level:3,title:"èªå¨å¡«åéç½®",slug:"èªå¨å¡«åéç½®",normalizedTitle:"èªå¨å¡«åéç½®",charIndex:5018},{level:2,title:"3.ä½¿ç¨",slug:"_3-ä½¿ç¨",normalizedTitle:"3.ä½¿ç¨",charIndex:6116},{level:3,title:"entityå±",slug:"entityå±",normalizedTitle:"entityå±",charIndex:6125},{level:3,title:"mapperå±",slug:"mapperå±",normalizedTitle:"mapperå±",charIndex:6745},{level:3,title:"Iserviceå±",slug:"iserviceå±",normalizedTitle:"iserviceå±",charIndex:6841},{level:3,title:"serviceå±",slug:"serviceå±",normalizedTitle:"serviceå±",charIndex:6842},{level:3,title:"controllerå±",slug:"controllerå±",normalizedTitle:"controllerå±",charIndex:7043}],headersStr:"1.æ·»å ä¾èµ 2.éç½® ymléç½® ä»£ç çæéç½® åé¡µéç½® èªå¨å¡«åéç½® 3.ä½¿ç¨ entityå± mapperå± Iserviceå± serviceå± controllerå±",content:'# 1.æ·»å ä¾èµ\n\n\x3c!--web--\x3e\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-web</artifactId>\n    <version>2.5.5</version>\n</dependency>\n\n\x3c!--mysql--\x3e\n<dependency>\n    <groupId>mysql</groupId>\n    <artifactId>mysql-connector-java</artifactId>\n    <version>8.0.21</version>\n</dependency>\n\n\x3c!--mybatisPlus--\x3e\n<dependency>\n    <groupId>com.baomidou</groupId>\n    <artifactId>mybatis-plus-boot-starter</artifactId>\n    <version>3.4.3.4</version>\n</dependency>\n\n\x3c!--mybatis-plusä»£ç çæå¨--\x3e\n<dependency>\n    <groupId>com.baomidou</groupId>\n    <artifactId>mybatis-plus-generator</artifactId>\n    <version>3.5.1</version>\n</dependency>\n\n\x3c!--velocityæ¨¡æ¿--\x3e\n<dependency>\n    <groupId>org.apache.velocity</groupId>\n    <artifactId>velocity-engine-core</artifactId>\n    <version>2.3</version>\n</dependency>\n\n\x3c!--freemarkeræ¨¡æ¿--\x3e\n<dependency>\n    <groupId>org.freemarker</groupId>\n    <artifactId>freemarker</artifactId>\n    <version>2.3.28</version>\n</dependency>\n\n\x3c!--lombok--\x3e\n<dependency>\n    <groupId>org.projectlombok</groupId>\n    <artifactId>lombok</artifactId>\n    <version>1.18.16</version>\n</dependency>\n\n\n\n# 2.éç½®\n\n\n# ymléç½®\n\nserver:\n  port: 8080\n\nspring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    username: root\n    password: 123456\n    url: jdbc:mysql://localhost:3306/myblog?characterEncoding=UTF-8&useUnicode=true&useSSL=false&serverTimezone=Asia/Shanghai\nlogging:\n  level:\n    com.springboot.cloud: debug\n    java.sql.PreparedStatement: debug\n    com.lawt.repository.mapper: debug\n\nmybatis-plus:\n  configuration:\n    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl   #å¼å¯sqlæ¥å¿\n    map-underscore-to-camel-case: true      # è¯¥éç½®å°±æ¯å°å¸¦æä¸åçº¿çè¡¨å­æ®µæ å°ä¸ºé©¼å³°æ ¼å¼çå®ä½ç±»å±æ§\n  global-config:\n    db-config:\n      logic-delete-value: "Y" # é»è¾å·²å é¤å¼(é»è®¤ä¸º Y)\n      logic-not-delete-value: "N" # é»è¾æªå é¤å¼(é»è®¤ä¸º N)\n\n\n\n# ä»£ç çæéç½®\n\nimport com.baomidou.mybatisplus.annotation.FieldFill;\nimport com.baomidou.mybatisplus.generator.FastAutoGenerator;\nimport com.baomidou.mybatisplus.generator.config.DataSourceConfig;\nimport com.baomidou.mybatisplus.generator.fill.Column;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\n\n/**\n * ä»£ç çæéç½®ç±»\n* */\npublic class GeneratorConfig {\n\n    private static final DataSourceConfig.Builder DATA_SOURCE_CONFIG = new DataSourceConfig\n            .Builder("jdbc:mysql://localhost:3306/myshop?characterEncoding=UTF-8&useUnicode=true&useSSL=false&serverTimezone=Asia/Shanghai","root","123456");\n\n\n    // å¤ç all æåµ\n    protected static List<String> getTables(String tables) {\n        return "all".equals(tables) ? Collections.emptyList() : Arrays.asList(tables.split(","));\n    }\n\n    public static void main(String[] args) {\n        FastAutoGenerator.create(DATA_SOURCE_CONFIG)\n                // å¨å±éç½®\n                .globalConfig((scanner, builder) -> builder.author(scanner.apply("è¯·è¾å¥ä½èåç§°ï¼")).fileOverride().outputDir(System.getProperty("user.dir")+"\\\\src\\\\main\\\\java"))\n                // åéç½®\n                .packageConfig((scanner, builder) -> builder.parent(scanner.apply("è¯·è¾å¥ååï¼")))\n                // ç­ç¥éç½®\n                .strategyConfig((scanner, builder) -> builder.addInclude(getTables(scanner.apply("è¯·è¾å¥è¡¨åï¼å¤ä¸ªè±æéå·åéï¼ææè¾å¥ all")))\n                        .controllerBuilder().enableRestStyle().enableHyphenStyle()\n                        .entityBuilder().enableLombok().addTableFills(\n                                new Column("created_time", FieldFill.INSERT)\n                        ).build())\n                /*\n                    æ¨¡æ¿å¼æéç½®ï¼é»è®¤ Velocity å¯éæ¨¡æ¿å¼æ Beetl æ Freemarker\n                   .templateEngine(new BeetlTemplateEngine())\n                   .templateEngine(new FreemarkerTemplateEngine())\n                 */\n                .execute();\n\n    }\n    \n}\n\n\n\n# åé¡µéç½®\n\nimport com.baomidou.mybatisplus.annotation.DbType;\nimport com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor;\nimport com.baomidou.mybatisplus.extension.plugins.inner.PaginationInnerInterceptor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n/**\n * mybatis-plus åé¡µ\n */\n@Configuration\npublic class MybatisPlusConfig {\n\n    // ææ°ç\n    @Bean\n    public MybatisPlusInterceptor mybatisPlusInterceptor() {\n        MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();\n        // ä¹è§é\n        interceptor.addInnerInterceptor(new OptimisticLockerInnerInterceptor());\n        // åé¡µ\n        interceptor.addInnerInterceptor(new PaginationInnerInterceptor(DbType.H2));\n        return interceptor;\n    }\n    \n    /**\n     * é»è¾å é¤\n     */\n    @Bean\n    public ISqlInjector sqlInjector() {\n        return new LogicSqlInjector();\n    }\n    \n    /**\n     * åé¡µæä»¶\n     */\n    @Bean\n    public PaginationInterceptor paginationInterceptor() {\n        return new PaginationInterceptor();\n    }\n    \n    /**\n     * ä¹è§é\n     */\n    @Bean\n    public OptimisticLockerInterceptor optimisticLockerInterceptor() {\n        return new OptimisticLockerInterceptor();\n    }\n\n}\n\n\n\n# èªå¨å¡«åéç½®\n\n/**\n * mybatis-plus èªå¨å¡«å    \n */\n@Slf4j\n@Component\npublic class MyMetaObjectHandler implements MetaObjectHandler {\n\n    @Override\n    public void insertFill(MetaObject metaObject) {\n        log.info("start insert fill ....");\n        this.strictInsertFill(metaObject, "createTime", LocalDateTime.class, LocalDateTime.now()); // èµ·å§çæ¬ 3.3.0(æ¨èä½¿ç¨)\n        // æè\n        this.strictInsertFill(metaObject, "createTime", () -> LocalDateTime.now(), LocalDateTime.class); // èµ·å§çæ¬ 3.3.3(æ¨è)\n        // æè\n        this.fillStrategy(metaObject, "createTime", LocalDateTime.now()); // ä¹å¯ä»¥ä½¿ç¨(3.3.0 è¯¥æ¹æ³æbug)\n    }\n\n    @Override\n    public void updateFill(MetaObject metaObject) {\n        log.info("start update fill ....");\n        this.strictUpdateFill(metaObject, "updateTime", LocalDateTime.class, LocalDateTime.now()); // èµ·å§çæ¬ 3.3.0(æ¨è)\n        // æè\n        this.strictUpdateFill(metaObject, "updateTime", () -> LocalDateTime.now(), LocalDateTime.class); // èµ·å§çæ¬ 3.3.3(æ¨è)\n        // æè\n        this.fillStrategy(metaObject, "updateTime", LocalDateTime.now()); // ä¹å¯ä»¥ä½¿ç¨(3.3.0 è¯¥æ¹æ³æbug)\n    }\n}\n\n\n\n# 3.ä½¿ç¨\n\n\n# entityå±\n\npublic class User implements Serializable {\n    \n    private static final long serialVersionUID = 1L;\n\n    /**\n     * ä¸»é®\n     */\n     @TableId(type = IdType.ID_WORKER_STR)\n     private String id;\n\n    /**\n     * ç¨æ·å\n     */\n    private String username;\n\n    /**\n     * å å¯åçå¯ç \n     */\n    private String password;\n\n\n    /**\n     * é»è¾å é¤ï¼Yï¼å·²å ï¼Nï¼æªå \n     */\n    @TableLogic\n    private String deleted;\n\n    /**\n     * åå»ºæ¶é´\n     */\n    @TableField(fill = FieldFill.INSERT)\n    private Date createTime;\n\n    /**\n     * ä¸æ¬¡æ´æ°æ¶é´\n     */\n    @TableField(fill = FieldFill.INSERT_UPDATE)\n    private Date updateTime;\n}\n\n\n\n# mapperå±\n\n@Repository\n@mapper\npublic interface UserMapper extends BaseMapper<User> {\n    \n}\n\n\n\n# Iserviceå±\n\npublic interface IUserService extends IService<User> {\n    \n}\n\n\n\n# serviceå±\n\n@Service\npublic class UserServiceImpl extends ServiceImpl<UserMapper, User> implements IUserService {\n    \n}\n\n\n\n# controllerå±\n\n@RestController\n@RequestMapping("/user")\npublic class UserController {\n    \n    @Autowired\n    private IUserService userService;\n    \n    @GetMapping("/hello")\n    public String helloWorld(){\n        return "hello world";\n    }\n    \n}\n',normalizedContent:'# 1.æ·»å ä¾èµ\n\n\x3c!--web--\x3e\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-web</artifactid>\n    <version>2.5.5</version>\n</dependency>\n\n\x3c!--mysql--\x3e\n<dependency>\n    <groupid>mysql</groupid>\n    <artifactid>mysql-connector-java</artifactid>\n    <version>8.0.21</version>\n</dependency>\n\n\x3c!--mybatisplus--\x3e\n<dependency>\n    <groupid>com.baomidou</groupid>\n    <artifactid>mybatis-plus-boot-starter</artifactid>\n    <version>3.4.3.4</version>\n</dependency>\n\n\x3c!--mybatis-plusä»£ç çæå¨--\x3e\n<dependency>\n    <groupid>com.baomidou</groupid>\n    <artifactid>mybatis-plus-generator</artifactid>\n    <version>3.5.1</version>\n</dependency>\n\n\x3c!--velocityæ¨¡æ¿--\x3e\n<dependency>\n    <groupid>org.apache.velocity</groupid>\n    <artifactid>velocity-engine-core</artifactid>\n    <version>2.3</version>\n</dependency>\n\n\x3c!--freemarkeræ¨¡æ¿--\x3e\n<dependency>\n    <groupid>org.freemarker</groupid>\n    <artifactid>freemarker</artifactid>\n    <version>2.3.28</version>\n</dependency>\n\n\x3c!--lombok--\x3e\n<dependency>\n    <groupid>org.projectlombok</groupid>\n    <artifactid>lombok</artifactid>\n    <version>1.18.16</version>\n</dependency>\n\n\n\n# 2.éç½®\n\n\n# ymléç½®\n\nserver:\n  port: 8080\n\nspring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.driver\n    username: root\n    password: 123456\n    url: jdbc:mysql://localhost:3306/myblog?characterencoding=utf-8&useunicode=true&usessl=false&servertimezone=asia/shanghai\nlogging:\n  level:\n    com.springboot.cloud: debug\n    java.sql.preparedstatement: debug\n    com.lawt.repository.mapper: debug\n\nmybatis-plus:\n  configuration:\n    log-impl: org.apache.ibatis.logging.stdout.stdoutimpl   #å¼å¯sqlæ¥å¿\n    map-underscore-to-camel-case: true      # è¯¥éç½®å°±æ¯å°å¸¦æä¸åçº¿çè¡¨å­æ®µæ å°ä¸ºé©¼å³°æ ¼å¼çå®ä½ç±»å±æ§\n  global-config:\n    db-config:\n      logic-delete-value: "y" # é»è¾å·²å é¤å¼(é»è®¤ä¸º y)\n      logic-not-delete-value: "n" # é»è¾æªå é¤å¼(é»è®¤ä¸º n)\n\n\n\n# ä»£ç çæéç½®\n\nimport com.baomidou.mybatisplus.annotation.fieldfill;\nimport com.baomidou.mybatisplus.generator.fastautogenerator;\nimport com.baomidou.mybatisplus.generator.config.datasourceconfig;\nimport com.baomidou.mybatisplus.generator.fill.column;\nimport java.util.arrays;\nimport java.util.collections;\nimport java.util.list;\n\n\n/**\n * ä»£ç çæéç½®ç±»\n* */\npublic class generatorconfig {\n\n    private static final datasourceconfig.builder data_source_config = new datasourceconfig\n            .builder("jdbc:mysql://localhost:3306/myshop?characterencoding=utf-8&useunicode=true&usessl=false&servertimezone=asia/shanghai","root","123456");\n\n\n    // å¤ç all æåµ\n    protected static list<string> gettables(string tables) {\n        return "all".equals(tables) ? collections.emptylist() : arrays.aslist(tables.split(","));\n    }\n\n    public static void main(string[] args) {\n        fastautogenerator.create(data_source_config)\n                // å¨å±éç½®\n                .globalconfig((scanner, builder) -> builder.author(scanner.apply("è¯·è¾å¥ä½èåç§°ï¼")).fileoverride().outputdir(system.getproperty("user.dir")+"\\\\src\\\\main\\\\java"))\n                // åéç½®\n                .packageconfig((scanner, builder) -> builder.parent(scanner.apply("è¯·è¾å¥ååï¼")))\n                // ç­ç¥éç½®\n                .strategyconfig((scanner, builder) -> builder.addinclude(gettables(scanner.apply("è¯·è¾å¥è¡¨åï¼å¤ä¸ªè±æéå·åéï¼ææè¾å¥ all")))\n                        .controllerbuilder().enablereststyle().enablehyphenstyle()\n                        .entitybuilder().enablelombok().addtablefills(\n                                new column("created_time", fieldfill.insert)\n                        ).build())\n                /*\n                    æ¨¡æ¿å¼æéç½®ï¼é»è®¤ velocity å¯éæ¨¡æ¿å¼æ beetl æ freemarker\n                   .templateengine(new beetltemplateengine())\n                   .templateengine(new freemarkertemplateengine())\n                 */\n                .execute();\n\n    }\n    \n}\n\n\n\n# åé¡µéç½®\n\nimport com.baomidou.mybatisplus.annotation.dbtype;\nimport com.baomidou.mybatisplus.extension.plugins.mybatisplusinterceptor;\nimport com.baomidou.mybatisplus.extension.plugins.inner.paginationinnerinterceptor;\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\n/**\n * mybatis-plus åé¡µ\n */\n@configuration\npublic class mybatisplusconfig {\n\n    // ææ°ç\n    @bean\n    public mybatisplusinterceptor mybatisplusinterceptor() {\n        mybatisplusinterceptor interceptor = new mybatisplusinterceptor();\n        // ä¹è§é\n        interceptor.addinnerinterceptor(new optimisticlockerinnerinterceptor());\n        // åé¡µ\n        interceptor.addinnerinterceptor(new paginationinnerinterceptor(dbtype.h2));\n        return interceptor;\n    }\n    \n    /**\n     * é»è¾å é¤\n     */\n    @bean\n    public isqlinjector sqlinjector() {\n        return new logicsqlinjector();\n    }\n    \n    /**\n     * åé¡µæä»¶\n     */\n    @bean\n    public paginationinterceptor paginationinterceptor() {\n        return new paginationinterceptor();\n    }\n    \n    /**\n     * ä¹è§é\n     */\n    @bean\n    public optimisticlockerinterceptor optimisticlockerinterceptor() {\n        return new optimisticlockerinterceptor();\n    }\n\n}\n\n\n\n# èªå¨å¡«åéç½®\n\n/**\n * mybatis-plus èªå¨å¡«å    \n */\n@slf4j\n@component\npublic class mymetaobjecthandler implements metaobjecthandler {\n\n    @override\n    public void insertfill(metaobject metaobject) {\n        log.info("start insert fill ....");\n        this.strictinsertfill(metaobject, "createtime", localdatetime.class, localdatetime.now()); // èµ·å§çæ¬ 3.3.0(æ¨èä½¿ç¨)\n        // æè\n        this.strictinsertfill(metaobject, "createtime", () -> localdatetime.now(), localdatetime.class); // èµ·å§çæ¬ 3.3.3(æ¨è)\n        // æè\n        this.fillstrategy(metaobject, "createtime", localdatetime.now()); // ä¹å¯ä»¥ä½¿ç¨(3.3.0 è¯¥æ¹æ³æbug)\n    }\n\n    @override\n    public void updatefill(metaobject metaobject) {\n        log.info("start update fill ....");\n        this.strictupdatefill(metaobject, "updatetime", localdatetime.class, localdatetime.now()); // èµ·å§çæ¬ 3.3.0(æ¨è)\n        // æè\n        this.strictupdatefill(metaobject, "updatetime", () -> localdatetime.now(), localdatetime.class); // èµ·å§çæ¬ 3.3.3(æ¨è)\n        // æè\n        this.fillstrategy(metaobject, "updatetime", localdatetime.now()); // ä¹å¯ä»¥ä½¿ç¨(3.3.0 è¯¥æ¹æ³æbug)\n    }\n}\n\n\n\n# 3.ä½¿ç¨\n\n\n# entityå±\n\npublic class user implements serializable {\n    \n    private static final long serialversionuid = 1l;\n\n    /**\n     * ä¸»é®\n     */\n     @tableid(type = idtype.id_worker_str)\n     private string id;\n\n    /**\n     * ç¨æ·å\n     */\n    private string username;\n\n    /**\n     * å å¯åçå¯ç \n     */\n    private string password;\n\n\n    /**\n     * é»è¾å é¤ï¼yï¼å·²å ï¼nï¼æªå \n     */\n    @tablelogic\n    private string deleted;\n\n    /**\n     * åå»ºæ¶é´\n     */\n    @tablefield(fill = fieldfill.insert)\n    private date createtime;\n\n    /**\n     * ä¸æ¬¡æ´æ°æ¶é´\n     */\n    @tablefield(fill = fieldfill.insert_update)\n    private date updatetime;\n}\n\n\n\n# mapperå±\n\n@repository\n@mapper\npublic interface usermapper extends basemapper<user> {\n    \n}\n\n\n\n# iserviceå±\n\npublic interface iuserservice extends iservice<user> {\n    \n}\n\n\n\n# serviceå±\n\n@service\npublic class userserviceimpl extends serviceimpl<usermapper, user> implements iuserservice {\n    \n}\n\n\n\n# controllerå±\n\n@restcontroller\n@requestmapping("/user")\npublic class usercontroller {\n    \n    @autowired\n    private iuserservice userservice;\n    \n    @getmapping("/hello")\n    public string helloworld(){\n        return "hello world";\n    }\n    \n}\n',charsets:{cjk:!0}},{title:"SpringBootæ´åSwaggerUI",frontmatter:{title:"SpringBootæ´åSwaggerUI",date:"2022-03-03T16:41:04.000Z",permalink:"/pages/5d1537/",categories:["å­¦ä¹ èµæ","Java","SpringBootå®æ"],tags:["swagger"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/18.SpringBoot%E5%AE%9E%E6%88%98/02.SpringBoot%E6%95%B4%E5%90%88SwaggerUI.html",relativePath:"å­¦ä¹ èµæ/03.Java/18.SpringBootå®æ/02.SpringBootæ´åSwaggerUI.md",key:"v-2f299662",path:"/pages/5d1537/",headers:[{level:2,title:"1.æ·»å ä¾èµ",slug:"_1-æ·»å ä¾èµ",normalizedTitle:"1.æ·»å ä¾èµ",charIndex:2},{level:2,title:"2.éç½®",slug:"_2-éç½®",normalizedTitle:"2.éç½®",charIndex:313},{level:3,title:"swaggeréç½®",slug:"swaggeréç½®",normalizedTitle:"swaggeréç½®",charIndex:413},{level:2,title:"3.ä½¿ç¨",slug:"_3-ä½¿ç¨",normalizedTitle:"3.ä½¿ç¨",charIndex:1884},{level:3,title:"å¸¸ç¨æ³¨è§£",slug:"å¸¸ç¨æ³¨è§£",normalizedTitle:"å¸¸ç¨æ³¨è§£",charIndex:1893},{level:3,title:"ç¤ºä¾",slug:"ç¤ºä¾",normalizedTitle:"ç¤ºä¾",charIndex:2940}],headersStr:"1.æ·»å ä¾èµ 2.éç½® swaggeréç½® 3.ä½¿ç¨ å¸¸ç¨æ³¨è§£ ç¤ºä¾",content:'# 1.æ·»å ä¾èµ\n\n\x3c!--Swagger-UI APIææ¡£çäº§å·¥å·--\x3e\n<dependency>\n  <groupId>io.springfox</groupId>\n  <artifactId>springfox-swagger2</artifactId>\n  <version>2.9.2</version>\n</dependency>\n<dependency>\n  <groupId>io.springfox</groupId>\n  <artifactId>springfox-swagger-ui</artifactId>\n  <version>2.9.2</version>\n</dependency>\n\n\n\n# 2.éç½®\n\næç¤º\n\nSwaggerå¯¹çæAPIææ¡£çèå´æä¸ç§ä¸åçéæ©\n\n * çææå®åä¸é¢çç±»çAPIææ¡£\n * çæææå®æ³¨è§£çç±»çAPIææ¡£\n * çæææå®æ³¨è§£çæ¹æ³çAPIææ¡£\n\n\n# swaggeréç½®\n\n/**\n * Swagger2 APIææ¡£çéç½®\n */\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport springfox.documentation.builders.ApiInfoBuilder;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.service.ApiInfo;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n    @Bean\n    public Docket createRestApi() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .apiInfo(apiInfo())\n                .select()\n                //ä¸ºå½ååä¸controllerçæAPIææ¡£\n                .apis(RequestHandlerSelectors.basePackage("com.springboot.cloud"))\n                //ä¸ºæ@Apiæ³¨è§£çControllerçæAPIææ¡£\n//                .apis(RequestHandlerSelectors.withClassAnnotation(Api.class))\n                //ä¸ºæ@ApiOperationæ³¨è§£çæ¹æ³çæAPIææ¡£\n//                .apis(RequestHandlerSelectors.withMethodAnnotation(ApiOperation.class))\n                .paths(PathSelectors.any())\n                .build();\n    }\n\n    private ApiInfo apiInfo() {\n        return new ApiInfoBuilder()\n                .title("SwaggerUIæ¼ç¤º")\n                .description("Swagger-UI APIææ¡£")\n                .version("2.0")\n                .build();\n    }\n\n}\n\n\n\n\n# 3.ä½¿ç¨\n\n\n# å¸¸ç¨æ³¨è§£\n\n@Apiï¼ç¨å¨è¯·æ±çç±»ä¸ï¼è¡¨ç¤ºå¯¹ç±»çè¯´æ   \n    tags="è¯´æè¯¥ç±»çä½ç¨ï¼å¯ä»¥å¨UIçé¢ä¸çå°çæ³¨è§£"  \n    value="è¯¥åæ°æ²¡ä»ä¹æä¹ï¼å¨UIçé¢ä¸ä¹çå°ï¼æä»¥ä¸éè¦éç½®"  \n  \n  \n@ApiOperationï¼ç¨å¨è¯·æ±çæ¹æ³ä¸ï¼è¯´ææ¹æ³çç¨éãä½ç¨\n    value="è¯´ææ¹æ³çç¨éãä½ç¨"\n    notes="æ¹æ³çå¤æ³¨è¯´æ"\n    \n    \n@ApiImplicitParamsï¼ç¨å¨è¯·æ±çæ¹æ³ä¸ï¼è¡¨ç¤ºä¸ç»åæ°è¯´æ  \n    @ApiImplicitParamï¼ç¨å¨@ApiImplicitParamsæ³¨è§£ä¸­ï¼æå®ä¸ä¸ªè¯·æ±åæ°çåä¸ªæ¹é¢\n        nameï¼åæ°å\n        valueï¼åæ°çæ±å­è¯´æãè§£é\n        requiredï¼åæ°æ¯å¦å¿é¡»ä¼ \n        paramTypeï¼åæ°æ¾å¨åªä¸ªå°æ¹\n            Â· header --\x3e è¯·æ±åæ°çè·åï¼@RequestHeader\n            Â· query --\x3e è¯·æ±åæ°çè·åï¼@RequestParam\n            Â· pathï¼ç¨äºrestfulæ¥å£ï¼--\x3e è¯·æ±åæ°çè·åï¼@PathVariable\n            Â· bodyï¼ä¸å¸¸ç¨ï¼\n            Â· formï¼ä¸å¸¸ç¨ï¼    \n        dataTypeï¼åæ°ç±»åï¼é»è®¤Stringï¼å¶å®å¼dataType="Integer"       \n        defaultValueï¼åæ°çé»è®¤å¼\n        \n        \n@ApiResponsesï¼ç¨å¨è¯·æ±çæ¹æ³ä¸ï¼è¡¨ç¤ºä¸ç»ååº\n    @ApiResponseï¼ç¨å¨@ApiResponsesä¸­ï¼ä¸è¬ç¨äºè¡¨è¾¾ä¸ä¸ªéè¯¯çååºä¿¡æ¯\n        codeï¼æ°å­ï¼ä¾å¦400\n        messageï¼ä¿¡æ¯ï¼ä¾å¦"è¯·æ±åæ°æ²¡å¡«å¥½"\n        responseï¼æåºå¼å¸¸çç±»\n        \n        \n@ApiModelï¼ç¨äºååºç±»ä¸ï¼è¡¨ç¤ºä¸ä¸ªè¿åååºæ°æ®çä¿¡æ¯\n            ï¼è¿ç§ä¸è¬ç¨å¨poståå»ºçæ¶åï¼ä½¿ç¨@RequestBodyè¿æ ·çåºæ¯ï¼\n            è¯·æ±åæ°æ æ³ä½¿ç¨@ApiImplicitParamæ³¨è§£è¿è¡æè¿°çæ¶åï¼\n    @ApiModelPropertyï¼ç¨å¨å±æ§ä¸ï¼æè¿°ååºç±»çå±æ§\n\n\n\n# ç¤ºä¾\n\n@Api(value="APPç¨æ·æ³¨åController", tags="APPç¨æ·æ³¨åController")\n\n@ApiOperation(value="ç¨æ·æ³¨å",notes="ææºå·ãå¯ç é½æ¯å¿è¾é¡¹ï¼å¹´é¾éè¾¹å¡«ï¼ä½å¿é¡»æ¯æ°å­")\n\n@ApiImplicitParams({\n    @ApiImplicitParam(name="mobile",value="ææºå·",required=true,paramType="form"),\n    @ApiImplicitParam(name="password",value="å¯ç ",required=true,paramType="form"),\n    @ApiImplicitParam(name="age",value="å¹´é¾",required=true,paramType="form",dataType="Integer")\n})\n\n\n@ApiOperation(value = "selectè¯·æ±",notes = "å¤ä¸ªåæ°ï¼å¤ç§çæ¥è¯¢åæ°ç±»å")\n@ApiResponses({\n    @ApiResponse(code=400,message="è¯·æ±åæ°æ²¡å¡«å¥½"),\n    @ApiResponse(code=404,message="è¯·æ±è·¯å¾æ²¡ææé¡µé¢è·³è½¬è·¯å¾ä¸å¯¹")\n})\n\n\n@ApiModel(description= "è¿åååºæ°æ®")\npublic class RestMessage implements Serializable{\n \n    @ApiModelProperty(value = "æ¯å¦æå")\n    private boolean success=true;\n    @ApiModelProperty(value = "è¿åå¯¹è±¡")\n    private Object data;\n    @ApiModelProperty(value = "éè¯¯ç¼å·")\n    private Integer errCode;\n    @ApiModelProperty(value = "éè¯¯ä¿¡æ¯")\n    private String message;\n    \n}\n',normalizedContent:'# 1.æ·»å ä¾èµ\n\n\x3c!--swagger-ui apiææ¡£çäº§å·¥å·--\x3e\n<dependency>\n  <groupid>io.springfox</groupid>\n  <artifactid>springfox-swagger2</artifactid>\n  <version>2.9.2</version>\n</dependency>\n<dependency>\n  <groupid>io.springfox</groupid>\n  <artifactid>springfox-swagger-ui</artifactid>\n  <version>2.9.2</version>\n</dependency>\n\n\n\n# 2.éç½®\n\næç¤º\n\nswaggerå¯¹çæapiææ¡£çèå´æä¸ç§ä¸åçéæ©\n\n * çææå®åä¸é¢çç±»çapiææ¡£\n * çæææå®æ³¨è§£çç±»çapiææ¡£\n * çæææå®æ³¨è§£çæ¹æ³çapiææ¡£\n\n\n# swaggeréç½®\n\n/**\n * swagger2 apiææ¡£çéç½®\n */\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\nimport springfox.documentation.builders.apiinfobuilder;\nimport springfox.documentation.builders.pathselectors;\nimport springfox.documentation.builders.requesthandlerselectors;\nimport springfox.documentation.service.apiinfo;\nimport springfox.documentation.spi.documentationtype;\nimport springfox.documentation.spring.web.plugins.docket;\nimport springfox.documentation.swagger2.annotations.enableswagger2;\n\n@configuration\n@enableswagger2\npublic class swaggerconfig {\n    @bean\n    public docket createrestapi() {\n        return new docket(documentationtype.swagger_2)\n                .apiinfo(apiinfo())\n                .select()\n                //ä¸ºå½ååä¸controllerçæapiææ¡£\n                .apis(requesthandlerselectors.basepackage("com.springboot.cloud"))\n                //ä¸ºæ@apiæ³¨è§£çcontrollerçæapiææ¡£\n//                .apis(requesthandlerselectors.withclassannotation(api.class))\n                //ä¸ºæ@apioperationæ³¨è§£çæ¹æ³çæapiææ¡£\n//                .apis(requesthandlerselectors.withmethodannotation(apioperation.class))\n                .paths(pathselectors.any())\n                .build();\n    }\n\n    private apiinfo apiinfo() {\n        return new apiinfobuilder()\n                .title("swaggeruiæ¼ç¤º")\n                .description("swagger-ui apiææ¡£")\n                .version("2.0")\n                .build();\n    }\n\n}\n\n\n\n\n# 3.ä½¿ç¨\n\n\n# å¸¸ç¨æ³¨è§£\n\n@apiï¼ç¨å¨è¯·æ±çç±»ä¸ï¼è¡¨ç¤ºå¯¹ç±»çè¯´æ   \n    tags="è¯´æè¯¥ç±»çä½ç¨ï¼å¯ä»¥å¨uiçé¢ä¸çå°çæ³¨è§£"  \n    value="è¯¥åæ°æ²¡ä»ä¹æä¹ï¼å¨uiçé¢ä¸ä¹çå°ï¼æä»¥ä¸éè¦éç½®"  \n  \n  \n@apioperationï¼ç¨å¨è¯·æ±çæ¹æ³ä¸ï¼è¯´ææ¹æ³çç¨éãä½ç¨\n    value="è¯´ææ¹æ³çç¨éãä½ç¨"\n    notes="æ¹æ³çå¤æ³¨è¯´æ"\n    \n    \n@apiimplicitparamsï¼ç¨å¨è¯·æ±çæ¹æ³ä¸ï¼è¡¨ç¤ºä¸ç»åæ°è¯´æ  \n    @apiimplicitparamï¼ç¨å¨@apiimplicitparamsæ³¨è§£ä¸­ï¼æå®ä¸ä¸ªè¯·æ±åæ°çåä¸ªæ¹é¢\n        nameï¼åæ°å\n        valueï¼åæ°çæ±å­è¯´æãè§£é\n        requiredï¼åæ°æ¯å¦å¿é¡»ä¼ \n        paramtypeï¼åæ°æ¾å¨åªä¸ªå°æ¹\n            Â· header --\x3e è¯·æ±åæ°çè·åï¼@requestheader\n            Â· query --\x3e è¯·æ±åæ°çè·åï¼@requestparam\n            Â· pathï¼ç¨äºrestfulæ¥å£ï¼--\x3e è¯·æ±åæ°çè·åï¼@pathvariable\n            Â· bodyï¼ä¸å¸¸ç¨ï¼\n            Â· formï¼ä¸å¸¸ç¨ï¼    \n        datatypeï¼åæ°ç±»åï¼é»è®¤stringï¼å¶å®å¼datatype="integer"       \n        defaultvalueï¼åæ°çé»è®¤å¼\n        \n        \n@apiresponsesï¼ç¨å¨è¯·æ±çæ¹æ³ä¸ï¼è¡¨ç¤ºä¸ç»ååº\n    @apiresponseï¼ç¨å¨@apiresponsesä¸­ï¼ä¸è¬ç¨äºè¡¨è¾¾ä¸ä¸ªéè¯¯çååºä¿¡æ¯\n        codeï¼æ°å­ï¼ä¾å¦400\n        messageï¼ä¿¡æ¯ï¼ä¾å¦"è¯·æ±åæ°æ²¡å¡«å¥½"\n        responseï¼æåºå¼å¸¸çç±»\n        \n        \n@apimodelï¼ç¨äºååºç±»ä¸ï¼è¡¨ç¤ºä¸ä¸ªè¿åååºæ°æ®çä¿¡æ¯\n            ï¼è¿ç§ä¸è¬ç¨å¨poståå»ºçæ¶åï¼ä½¿ç¨@requestbodyè¿æ ·çåºæ¯ï¼\n            è¯·æ±åæ°æ æ³ä½¿ç¨@apiimplicitparamæ³¨è§£è¿è¡æè¿°çæ¶åï¼\n    @apimodelpropertyï¼ç¨å¨å±æ§ä¸ï¼æè¿°ååºç±»çå±æ§\n\n\n\n# ç¤ºä¾\n\n@api(value="appç¨æ·æ³¨åcontroller", tags="appç¨æ·æ³¨åcontroller")\n\n@apioperation(value="ç¨æ·æ³¨å",notes="ææºå·ãå¯ç é½æ¯å¿è¾é¡¹ï¼å¹´é¾éè¾¹å¡«ï¼ä½å¿é¡»æ¯æ°å­")\n\n@apiimplicitparams({\n    @apiimplicitparam(name="mobile",value="ææºå·",required=true,paramtype="form"),\n    @apiimplicitparam(name="password",value="å¯ç ",required=true,paramtype="form"),\n    @apiimplicitparam(name="age",value="å¹´é¾",required=true,paramtype="form",datatype="integer")\n})\n\n\n@apioperation(value = "selectè¯·æ±",notes = "å¤ä¸ªåæ°ï¼å¤ç§çæ¥è¯¢åæ°ç±»å")\n@apiresponses({\n    @apiresponse(code=400,message="è¯·æ±åæ°æ²¡å¡«å¥½"),\n    @apiresponse(code=404,message="è¯·æ±è·¯å¾æ²¡ææé¡µé¢è·³è½¬è·¯å¾ä¸å¯¹")\n})\n\n\n@apimodel(description= "è¿åååºæ°æ®")\npublic class restmessage implements serializable{\n \n    @apimodelproperty(value = "æ¯å¦æå")\n    private boolean success=true;\n    @apimodelproperty(value = "è¿åå¯¹è±¡")\n    private object data;\n    @apimodelproperty(value = "éè¯¯ç¼å·")\n    private integer errcode;\n    @apimodelproperty(value = "éè¯¯ä¿¡æ¯")\n    private string message;\n    \n}\n',charsets:{cjk:!0}},{title:"SpringBootæ´åSpringTask",frontmatter:{title:"SpringBootæ´åSpringTask",date:"2022-03-08T10:34:01.000Z",permalink:"/pages/d0754d/",categories:["å­¦ä¹ èµæ","Java","SpringBootå®æ"],tags:["task"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/18.SpringBoot%E5%AE%9E%E6%88%98/03.SpringBoot%E6%95%B4%E5%90%88SpringTask.html",relativePath:"å­¦ä¹ èµæ/03.Java/18.SpringBootå®æ/03.SpringBootæ´åSpringTask.md",key:"v-4de5e5e9",path:"/pages/d0754d/",headers:[{level:2,title:"cron è¡¨è¾¾å¼",slug:"cron-è¡¨è¾¾å¼",normalizedTitle:"cron è¡¨è¾¾å¼",charIndex:2},{level:2,title:"éç½®",slug:"éç½®",normalizedTitle:"éç½®",charIndex:2116},{level:3,title:"å¯å¨ç±»",slug:"å¯å¨ç±»",normalizedTitle:"å¯å¨ç±»",charIndex:2123},{level:3,title:"ä½¿ç¨",slug:"ä½¿ç¨",normalizedTitle:"ä½¿ç¨",charIndex:808}],headersStr:"cron è¡¨è¾¾å¼ éç½® å¯å¨ç±» ä½¿ç¨",content:'# cron è¡¨è¾¾å¼\n\n> cronè¡¨è¾¾å¼æ¯ä¸ä¸ªå­ç¬¦ä¸²ï¼å­ç¬¦ä¸²ä»¥5æ6ä¸ªç©ºæ ¼éå¼ï¼åä¸º6æ7ä¸ªåï¼æ¯ä¸ä¸ªåä»£è¡¨ä¸ä¸ªå«ä¹ï¼å¨SpringTaskä¸­å¯ä»¥ç¨äºæå®ä»»å¡çæ§è¡æ¶é´ã\n\nç§         å         æ¶       æ¥æ           æ       ææ          å¹´ï¼å¯éï¼\nSeconds   Minutes   Hours   DayofMonth   Month   DayofWeek   Year\n\n> æ¯ä¸ä¸ªåå¯åºç°çå­ç¬¦\n\nå­æ®µ               åè®¸å¼                        åè®¸çç¹æ®å­ç¬¦\nç§ï¼Secondsï¼       0~59çæ´æ°                    , - * / åä¸ªå­ç¬¦\nåï¼Minutesï¼       0~59çæ´æ°                    , - * / åä¸ªå­ç¬¦\nå°æ¶ï¼Hoursï¼        0~23çæ´æ°                    , - * / åä¸ªå­ç¬¦\næ¥æï¼DayofMonthï¼   1~31çæ´æ°ï¼ä½æ¯ä½ éè¦èèä½ æçå¤©æ°ï¼      ,- * ? / L W C å«ä¸ªå­ç¬¦\næä»½ï¼Monthï¼        1~12çæ´æ°æè JAN-DEC          , - * / åä¸ªå­ç¬¦\nææï¼DayofWeekï¼    1~7çæ´æ°æè SUN-SAT ï¼1=SUNï¼   , - * ? / L C # å«ä¸ªå­ç¬¦\nå¹´(å¯éï¼çç©º)ï¼Yearï¼   1970~2099                  , - * / åä¸ªå­ç¬¦\n\n> cronæ ¼å¼ä¸­ç¹æ®å­ç¬¦è¯´æ\n\nå­ç¬¦   ä½ç¨                               ä¸¾ä¾\n,    ååºæä¸¾å¼                            å¨Minutesåä½¿ç¨5,10ï¼è¡¨ç¤ºå¨5åå10ååè§¦åä¸æ¬¡\n-    è¡¨ç¤ºè§¦åèå´                           å¨Minutesåä½¿ç¨5-10ï¼è¡¨ç¤ºä»5åå°10åéæ¯åéè§¦åä¸æ¬¡\n*    å¹éä»»æå¼                            å¨Minutesåä½¿ç¨*, è¡¨ç¤ºæ¯åéé½ä¼è§¦åä¸æ¬¡\n/    èµ·å§æ¶é´å¼å§è§¦åï¼æ¯éåºå®æ¶é´è§¦åä¸æ¬¡              å¨Minutesåä½¿ç¨5/10,è¡¨ç¤º5åæ¶è§¦åä¸æ¬¡ï¼æ¯10åéåè§¦åä¸æ¬¡\n?    å¨DayofMonthåDayofWeekä¸­ï¼ç¨äºå¹éä»»æå¼   å¨DayofMonthåä½¿ç¨?,è¡¨ç¤ºæ¯å¤©é½è§¦åä¸æ¬¡\n#    å¨DayofMonthä¸­ï¼ç¡®å®ç¬¬å ä¸ªææå             1#3è¡¨ç¤ºç¬¬ä¸ä¸ªæææ¥\nL    è¡¨ç¤ºæå                             å¨DayofWeekä¸­ä½¿ç¨5L,è¡¨ç¤ºå¨æåä¸ä¸ªææåè§¦å\nW    è¡¨ç¤ºææå·¥ä½æ¥(å¨ä¸å°å¨äº)                   å¨DayofMonthä½¿ç¨5Wï¼å¦æ5æ¥æ¯ææå­ï¼åå°å¨æè¿çå·¥ä½æ¥4æ¥è§¦åä¸æ¬¡\n\n> cronç¤ºä¾\n\n0 0 2 1 * ? * è¡¨ç¤ºå¨æ¯æç1æ¥çåæ¨2ç¹è°åº¦ä»»å¡\n0 15 10 ? * MON-FRI è¡¨ç¤ºå¨ä¸å°å¨äºæ¯å¤©ä¸å10ï¼15æ§è¡ä½ä¸\n0 15 10 ? 6L 2002-2006 è¡¨ç¤º2002-2006å¹´çæ¯ä¸ªæçæåä¸ä¸ªææäºä¸å10:15æ§è¡ä½\n0 0 10,14,16 * * ? æ¯å¤©ä¸å10ç¹ï¼ä¸å2ç¹ï¼4ç¹\n0 0/30 9-17 * * ? æä¹æäºå·¥ä½æ¶é´åæ¯åå°æ¶\n0 0 12 ? * WED è¡¨ç¤ºæ¯ä¸ªææä¸ä¸­å12ç¹\n0 0 12 * * ? æ¯å¤©ä¸­å12ç¹è§¦å\n0 15 10 ? * * æ¯å¤©ä¸å10:15è§¦å\n0 15 10 * * ? æ¯å¤©ä¸å10:15è§¦å 0 15 10 * * ? *â æ¯å¤©ä¸å10:15è§¦å\n0 15 10 * * ? 2005 2005å¹´çæ¯å¤©ä¸å10:15è§¦å\n0 * 14 * * ? å¨æ¯å¤©ä¸å2ç¹å°ä¸å2:59æé´çæ¯1åéè§¦å\n0 0/5 14 * * ? å¨æ¯å¤©ä¸å2ç¹å°ä¸å2:55æé´çæ¯5åéè§¦å\n0 0/5 14,18 * * ? å¨æ¯å¤©ä¸å2ç¹å°2:55æé´åä¸å6ç¹å°6:55æé´çæ¯5åéè§¦å\n0 0-5 14 * * ? å¨æ¯å¤©ä¸å2ç¹å°ä¸å2:05æé´çæ¯1åéè§¦å\n0 10,44 14 ? 3 WED æ¯å¹´ä¸æçææä¸çä¸å2:10å2:44è§¦å\n0 15 10 ? * MON-FRI å¨ä¸è³å¨äºçä¸å10:15è§¦å\n0 15 10 15 * ? æ¯æ15æ¥ä¸å10:15è§¦å\n0 15 10 L * ? æ¯ææåä¸æ¥çä¸å10:15è§¦å\n0 15 10 ? * 6L æ¯æçæåä¸ä¸ªææäºä¸å10:15è§¦å\n0 15 10 ? * 6L 2002-2005 2002å¹´è³2005å¹´çæ¯æçæåä¸ä¸ªææäºä¸å10:15è§¦å\n0 15 10 ? * 6#3 æ¯æçç¬¬ä¸ä¸ªææäºä¸å10:15è§¦å\n\n\n# éç½®\n\n\n# å¯å¨ç±»\n\n@SpringBootApplication\n@EnableScheduling //å¼å¯å®æ¶ä»»å¡åè½\npublic class SpringBootApplication {\n    \n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootApplication.class, args);\n    }\n\n}\n\n\n\n# ä½¿ç¨\n\n@Component\npublic class HelloWorldTask {\n\n    //æ¯å¤©åæ¨ä¸¤ç¹è¾åºhello world\n    @Scheduled(cron = "0 0 2 * * ?")\n    public void hello() {\n       System.out.println("hello world");\n    }\n\n}\n',normalizedContent:'# cron è¡¨è¾¾å¼\n\n> cronè¡¨è¾¾å¼æ¯ä¸ä¸ªå­ç¬¦ä¸²ï¼å­ç¬¦ä¸²ä»¥5æ6ä¸ªç©ºæ ¼éå¼ï¼åä¸º6æ7ä¸ªåï¼æ¯ä¸ä¸ªåä»£è¡¨ä¸ä¸ªå«ä¹ï¼å¨springtaskä¸­å¯ä»¥ç¨äºæå®ä»»å¡çæ§è¡æ¶é´ã\n\nç§         å         æ¶       æ¥æ           æ       ææ          å¹´ï¼å¯éï¼\nseconds   minutes   hours   dayofmonth   month   dayofweek   year\n\n> æ¯ä¸ä¸ªåå¯åºç°çå­ç¬¦\n\nå­æ®µ               åè®¸å¼                        åè®¸çç¹æ®å­ç¬¦\nç§ï¼secondsï¼       0~59çæ´æ°                    , - * / åä¸ªå­ç¬¦\nåï¼minutesï¼       0~59çæ´æ°                    , - * / åä¸ªå­ç¬¦\nå°æ¶ï¼hoursï¼        0~23çæ´æ°                    , - * / åä¸ªå­ç¬¦\næ¥æï¼dayofmonthï¼   1~31çæ´æ°ï¼ä½æ¯ä½ éè¦èèä½ æçå¤©æ°ï¼      ,- * ? / l w c å«ä¸ªå­ç¬¦\næä»½ï¼monthï¼        1~12çæ´æ°æè jan-dec          , - * / åä¸ªå­ç¬¦\nææï¼dayofweekï¼    1~7çæ´æ°æè sun-sat ï¼1=sunï¼   , - * ? / l c # å«ä¸ªå­ç¬¦\nå¹´(å¯éï¼çç©º)ï¼yearï¼   1970~2099                  , - * / åä¸ªå­ç¬¦\n\n> cronæ ¼å¼ä¸­ç¹æ®å­ç¬¦è¯´æ\n\nå­ç¬¦   ä½ç¨                               ä¸¾ä¾\n,    ååºæä¸¾å¼                            å¨minutesåä½¿ç¨5,10ï¼è¡¨ç¤ºå¨5åå10ååè§¦åä¸æ¬¡\n-    è¡¨ç¤ºè§¦åèå´                           å¨minutesåä½¿ç¨5-10ï¼è¡¨ç¤ºä»5åå°10åéæ¯åéè§¦åä¸æ¬¡\n*    å¹éä»»æå¼                            å¨minutesåä½¿ç¨*, è¡¨ç¤ºæ¯åéé½ä¼è§¦åä¸æ¬¡\n/    èµ·å§æ¶é´å¼å§è§¦åï¼æ¯éåºå®æ¶é´è§¦åä¸æ¬¡              å¨minutesåä½¿ç¨5/10,è¡¨ç¤º5åæ¶è§¦åä¸æ¬¡ï¼æ¯10åéåè§¦åä¸æ¬¡\n?    å¨dayofmonthådayofweekä¸­ï¼ç¨äºå¹éä»»æå¼   å¨dayofmonthåä½¿ç¨?,è¡¨ç¤ºæ¯å¤©é½è§¦åä¸æ¬¡\n#    å¨dayofmonthä¸­ï¼ç¡®å®ç¬¬å ä¸ªææå             1#3è¡¨ç¤ºç¬¬ä¸ä¸ªæææ¥\nl    è¡¨ç¤ºæå                             å¨dayofweekä¸­ä½¿ç¨5l,è¡¨ç¤ºå¨æåä¸ä¸ªææåè§¦å\nw    è¡¨ç¤ºææå·¥ä½æ¥(å¨ä¸å°å¨äº)                   å¨dayofmonthä½¿ç¨5wï¼å¦æ5æ¥æ¯ææå­ï¼åå°å¨æè¿çå·¥ä½æ¥4æ¥è§¦åä¸æ¬¡\n\n> cronç¤ºä¾\n\n0 0 2 1 * ? * è¡¨ç¤ºå¨æ¯æç1æ¥çåæ¨2ç¹è°åº¦ä»»å¡\n0 15 10 ? * mon-fri è¡¨ç¤ºå¨ä¸å°å¨äºæ¯å¤©ä¸å10ï¼15æ§è¡ä½ä¸\n0 15 10 ? 6l 2002-2006 è¡¨ç¤º2002-2006å¹´çæ¯ä¸ªæçæåä¸ä¸ªææäºä¸å10:15æ§è¡ä½\n0 0 10,14,16 * * ? æ¯å¤©ä¸å10ç¹ï¼ä¸å2ç¹ï¼4ç¹\n0 0/30 9-17 * * ? æä¹æäºå·¥ä½æ¶é´åæ¯åå°æ¶\n0 0 12 ? * wed è¡¨ç¤ºæ¯ä¸ªææä¸ä¸­å12ç¹\n0 0 12 * * ? æ¯å¤©ä¸­å12ç¹è§¦å\n0 15 10 ? * * æ¯å¤©ä¸å10:15è§¦å\n0 15 10 * * ? æ¯å¤©ä¸å10:15è§¦å 0 15 10 * * ? *â æ¯å¤©ä¸å10:15è§¦å\n0 15 10 * * ? 2005 2005å¹´çæ¯å¤©ä¸å10:15è§¦å\n0 * 14 * * ? å¨æ¯å¤©ä¸å2ç¹å°ä¸å2:59æé´çæ¯1åéè§¦å\n0 0/5 14 * * ? å¨æ¯å¤©ä¸å2ç¹å°ä¸å2:55æé´çæ¯5åéè§¦å\n0 0/5 14,18 * * ? å¨æ¯å¤©ä¸å2ç¹å°2:55æé´åä¸å6ç¹å°6:55æé´çæ¯5åéè§¦å\n0 0-5 14 * * ? å¨æ¯å¤©ä¸å2ç¹å°ä¸å2:05æé´çæ¯1åéè§¦å\n0 10,44 14 ? 3 wed æ¯å¹´ä¸æçææä¸çä¸å2:10å2:44è§¦å\n0 15 10 ? * mon-fri å¨ä¸è³å¨äºçä¸å10:15è§¦å\n0 15 10 15 * ? æ¯æ15æ¥ä¸å10:15è§¦å\n0 15 10 l * ? æ¯ææåä¸æ¥çä¸å10:15è§¦å\n0 15 10 ? * 6l æ¯æçæåä¸ä¸ªææäºä¸å10:15è§¦å\n0 15 10 ? * 6l 2002-2005 2002å¹´è³2005å¹´çæ¯æçæåä¸ä¸ªææäºä¸å10:15è§¦å\n0 15 10 ? * 6#3 æ¯æçç¬¬ä¸ä¸ªææäºä¸å10:15è§¦å\n\n\n# éç½®\n\n\n# å¯å¨ç±»\n\n@springbootapplication\n@enablescheduling //å¼å¯å®æ¶ä»»å¡åè½\npublic class springbootapplication {\n    \n    public static void main(string[] args) {\n        springapplication.run(springbootapplication.class, args);\n    }\n\n}\n\n\n\n# ä½¿ç¨\n\n@component\npublic class helloworldtask {\n\n    //æ¯å¤©åæ¨ä¸¤ç¹è¾åºhello world\n    @scheduled(cron = "0 0 2 * * ?")\n    public void hello() {\n       system.out.println("hello world");\n    }\n\n}\n',charsets:{cjk:!0}},{title:"SpringBootæ´åRedis",frontmatter:{title:"SpringBootæ´åRedis",date:"2022-03-08T14:51:12.000Z",permalink:"/pages/a36330/",categories:["å­¦ä¹ èµæ","Java","SpringBootå®æ"],tags:["redis"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/18.SpringBoot%E5%AE%9E%E6%88%98/04.SpringBoot%E6%95%B4%E5%90%88Redis.html",relativePath:"å­¦ä¹ èµæ/03.Java/18.SpringBootå®æ/04.SpringBootæ´åRedis.md",key:"v-24bd736f",path:"/pages/a36330/",headers:[{level:2,title:"1.æ·»å ä¾èµ",slug:"_1-æ·»å ä¾èµ",normalizedTitle:"1.æ·»å ä¾èµ",charIndex:2},{level:2,title:"2.éç½®",slug:"_2-éç½®",normalizedTitle:"2.éç½®",charIndex:628},{level:3,title:"ymléç½®",slug:"ymléç½®",normalizedTitle:"ymléç½®",charIndex:637},{level:3,title:"rediséç½®ç±»",slug:"rediséç½®ç±»",normalizedTitle:"rediséç½®ç±»",charIndex:1103},{level:2,title:"3.ä½¿ç¨",slug:"_3-ä½¿ç¨",normalizedTitle:"3.ä½¿ç¨",charIndex:4880}],headersStr:"1.æ·»å ä¾èµ 2.éç½® ymléç½® rediséç½®ç±» 3.ä½¿ç¨",content:'# 1.æ·»å ä¾èµ\n\n\x3c!--redis--\x3e\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-data-redis</artifactId>\n    <version>2.5.3</version>\n</dependency>\n\n<dependency>\n    <groupId>org.apache.commons</groupId>\n    <artifactId>commons-pool2</artifactId>\n    <version>2.9.0</version>\n</dependency>\n\n\x3c!--JSON--\x3e\n<dependency>\n    <groupId>com.alibaba</groupId>\n    <artifactId>fastjson</artifactId>\n    <version>1.2.59</version>\n</dependency>\n\n \x3c!--lombok--\x3e\n<dependency>\n    <groupId>org.projectlombok</groupId>\n    <artifactId>lombok</artifactId>\n    <version>1.18.16</version>\n</dependency>\n\n\n\n# 2.éç½®\n\n\n# ymléç½®\n\nserver:\n  port: 8080\nspring:\n  redis:\n    # Redisæ°æ®åºç´¢å¼ï¼é»è®¤ä¸º0ï¼\n    database: 0\n    # Redisæå¡å¨å°å\n    host: localhost\n    # Redisæå¡å¨è¿æ¥ç«¯å£\n    port: 6379\n    # Redisæå¡å¨è¿æ¥å¯ç ï¼é»è®¤ä¸ºç©ºï¼\n    password:\n    lettuce:\n      pool:\n        # è¿æ¥æ± æå¤§è¿æ¥æ°ï¼ä½¿ç¨è´å¼è¡¨ç¤ºæ²¡æéå¶ï¼\n        max-active: 20\n        # è¿æ¥æ± ä¸­çæå¤§ç©ºé²è¿æ¥\n        max-idle: 20\n        # è¿æ¥æ± ä¸­çæå°ç©ºé²è¿æ¥\n        min-idle: 0\n        # è¿æ¥æ± æå¤§é»å¡ç­å¾æ¶é´ï¼ä½¿ç¨è´å¼è¡¨ç¤ºæ²¡æéå¶ï¼\n        max-wait: -1ms\n    # è¿æ¥è¶æ¶æ¶é´ï¼æ¯«ç§ï¼é»è®¤æ¯2000ms\n    timeout: 3000ms\n\n\n\n# rediséç½®ç±»\n\nimport com.fasterxml.jackson.annotation.JsonAutoDetect;\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\nimport com.fasterxml.jackson.annotation.PropertyAccessor;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.jsontype.impl.LaissezFaireSubTypeValidator;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\nimport org.springframework.cache.CacheManager;\nimport org.springframework.cache.annotation.CachingConfigurerSupport;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.redis.cache.RedisCacheConfiguration;\nimport org.springframework.data.redis.cache.RedisCacheManager;\nimport org.springframework.data.redis.cache.RedisCacheWriter;\nimport org.springframework.data.redis.connection.RedisConnectionFactory;\nimport org.springframework.data.redis.core.RedisTemplate;\nimport org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer;\nimport org.springframework.data.redis.serializer.Jackson2JsonRedisSerializer;\nimport org.springframework.data.redis.serializer.RedisSerializationContext;\nimport org.springframework.data.redis.serializer.StringRedisSerializer;\n\nimport java.time.Duration;\n\n@Configuration\npublic class RedisConfig extends CachingConfigurerSupport {\n\n\n    private static final StringRedisSerializer STRING_SERIALIZER = new StringRedisSerializer();\n    private static final GenericJackson2JsonRedisSerializer JACKSON__SERIALIZER = new GenericJackson2JsonRedisSerializer();\n\n    @Bean\n    public CacheManager cacheManager(RedisConnectionFactory factory) {\n        //å¯¹è±¡çåºåå\n        RedisSerializationContext.SerializationPair valueSerializationPair\n                = RedisSerializationContext.SerializationPair.fromSerializer(jackson2JsonRedisSerializer());\n        //å¨å±redisç¼å­è¿ææ¶é´\n        RedisCacheConfiguration redisCacheConfiguration = RedisCacheConfiguration.defaultCacheConfig()\n                .entryTtl(Duration.ofDays(1))\n//                .serializeKeysWith()\n                .serializeValuesWith(valueSerializationPair);\n\n        return new RedisCacheManager(RedisCacheWriter.nonLockingRedisCacheWriter(factory), redisCacheConfiguration);\n    }\n\n    @Bean\n    @ConditionalOnMissingBean(name = "redisTemplate")\n    public RedisTemplate<String,Object> redisTemplate(RedisConnectionFactory factory){\n        // éç½®redisTemplate\n        RedisTemplate<String, Object> redisTemplate = new RedisTemplate<>();\n        redisTemplate.setConnectionFactory(factory);\n        // keyåºåå\n        redisTemplate.setKeySerializer(STRING_SERIALIZER);\n        // valueåºåå\n        redisTemplate.setValueSerializer(JACKSON__SERIALIZER);\n        // Hash keyåºåå\n        redisTemplate.setHashKeySerializer(STRING_SERIALIZER);\n        // Hash valueåºåå\n        redisTemplate.setHashValueSerializer(JACKSON__SERIALIZER);\n        redisTemplate.afterPropertiesSet();\n        return redisTemplate;\n    }\n\n\n    private Jackson2JsonRedisSerializer<Object> jackson2JsonRedisSerializer() {\n        Jackson2JsonRedisSerializer<Object> jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer<>(Object.class);\n        jackson2JsonRedisSerializer.setObjectMapper(objectMapper());\n        return jackson2JsonRedisSerializer;\n    }\n\n    private ObjectMapper objectMapper() {\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\n//        objectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);\n        objectMapper.activateDefaultTyping(LaissezFaireSubTypeValidator.instance, ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);\n        return objectMapper;\n    }\n}\n\n\n\n# 3.ä½¿ç¨\n\n@SpringBootTest\nclass SpringbootdemoApplicationTests {\n\n    @Autowired\n    StringRedisTemplate stringRedisTemplate; //æä½key-valueé½æ¯å­ç¬¦ä¸²ï¼æå¸¸ç¨\n\n    @Test\n    public void test01(){\n        //å­ç¬¦ä¸²æä½\n        stringRedisTemplate.opsForValue().append("msg","coder");\n\n        //åè¡¨æä½\n        stringRedisTemplate.opsForList().leftPush("mylist","1");\n        stringRedisTemplate.opsForList().leftPush("mylist","2");\n    }\n}\n',normalizedContent:'# 1.æ·»å ä¾èµ\n\n\x3c!--redis--\x3e\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-data-redis</artifactid>\n    <version>2.5.3</version>\n</dependency>\n\n<dependency>\n    <groupid>org.apache.commons</groupid>\n    <artifactid>commons-pool2</artifactid>\n    <version>2.9.0</version>\n</dependency>\n\n\x3c!--json--\x3e\n<dependency>\n    <groupid>com.alibaba</groupid>\n    <artifactid>fastjson</artifactid>\n    <version>1.2.59</version>\n</dependency>\n\n \x3c!--lombok--\x3e\n<dependency>\n    <groupid>org.projectlombok</groupid>\n    <artifactid>lombok</artifactid>\n    <version>1.18.16</version>\n</dependency>\n\n\n\n# 2.éç½®\n\n\n# ymléç½®\n\nserver:\n  port: 8080\nspring:\n  redis:\n    # redisæ°æ®åºç´¢å¼ï¼é»è®¤ä¸º0ï¼\n    database: 0\n    # redisæå¡å¨å°å\n    host: localhost\n    # redisæå¡å¨è¿æ¥ç«¯å£\n    port: 6379\n    # redisæå¡å¨è¿æ¥å¯ç ï¼é»è®¤ä¸ºç©ºï¼\n    password:\n    lettuce:\n      pool:\n        # è¿æ¥æ± æå¤§è¿æ¥æ°ï¼ä½¿ç¨è´å¼è¡¨ç¤ºæ²¡æéå¶ï¼\n        max-active: 20\n        # è¿æ¥æ± ä¸­çæå¤§ç©ºé²è¿æ¥\n        max-idle: 20\n        # è¿æ¥æ± ä¸­çæå°ç©ºé²è¿æ¥\n        min-idle: 0\n        # è¿æ¥æ± æå¤§é»å¡ç­å¾æ¶é´ï¼ä½¿ç¨è´å¼è¡¨ç¤ºæ²¡æéå¶ï¼\n        max-wait: -1ms\n    # è¿æ¥è¶æ¶æ¶é´ï¼æ¯«ç§ï¼é»è®¤æ¯2000ms\n    timeout: 3000ms\n\n\n\n# rediséç½®ç±»\n\nimport com.fasterxml.jackson.annotation.jsonautodetect;\nimport com.fasterxml.jackson.annotation.jsontypeinfo;\nimport com.fasterxml.jackson.annotation.propertyaccessor;\nimport com.fasterxml.jackson.databind.objectmapper;\nimport com.fasterxml.jackson.databind.jsontype.impl.laissezfairesubtypevalidator;\nimport org.springframework.boot.autoconfigure.condition.conditionalonmissingbean;\nimport org.springframework.cache.cachemanager;\nimport org.springframework.cache.annotation.cachingconfigurersupport;\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\nimport org.springframework.data.redis.cache.rediscacheconfiguration;\nimport org.springframework.data.redis.cache.rediscachemanager;\nimport org.springframework.data.redis.cache.rediscachewriter;\nimport org.springframework.data.redis.connection.redisconnectionfactory;\nimport org.springframework.data.redis.core.redistemplate;\nimport org.springframework.data.redis.serializer.genericjackson2jsonredisserializer;\nimport org.springframework.data.redis.serializer.jackson2jsonredisserializer;\nimport org.springframework.data.redis.serializer.redisserializationcontext;\nimport org.springframework.data.redis.serializer.stringredisserializer;\n\nimport java.time.duration;\n\n@configuration\npublic class redisconfig extends cachingconfigurersupport {\n\n\n    private static final stringredisserializer string_serializer = new stringredisserializer();\n    private static final genericjackson2jsonredisserializer jackson__serializer = new genericjackson2jsonredisserializer();\n\n    @bean\n    public cachemanager cachemanager(redisconnectionfactory factory) {\n        //å¯¹è±¡çåºåå\n        redisserializationcontext.serializationpair valueserializationpair\n                = redisserializationcontext.serializationpair.fromserializer(jackson2jsonredisserializer());\n        //å¨å±redisç¼å­è¿ææ¶é´\n        rediscacheconfiguration rediscacheconfiguration = rediscacheconfiguration.defaultcacheconfig()\n                .entryttl(duration.ofdays(1))\n//                .serializekeyswith()\n                .serializevalueswith(valueserializationpair);\n\n        return new rediscachemanager(rediscachewriter.nonlockingrediscachewriter(factory), rediscacheconfiguration);\n    }\n\n    @bean\n    @conditionalonmissingbean(name = "redistemplate")\n    public redistemplate<string,object> redistemplate(redisconnectionfactory factory){\n        // éç½®redistemplate\n        redistemplate<string, object> redistemplate = new redistemplate<>();\n        redistemplate.setconnectionfactory(factory);\n        // keyåºåå\n        redistemplate.setkeyserializer(string_serializer);\n        // valueåºåå\n        redistemplate.setvalueserializer(jackson__serializer);\n        // hash keyåºåå\n        redistemplate.sethashkeyserializer(string_serializer);\n        // hash valueåºåå\n        redistemplate.sethashvalueserializer(jackson__serializer);\n        redistemplate.afterpropertiesset();\n        return redistemplate;\n    }\n\n\n    private jackson2jsonredisserializer<object> jackson2jsonredisserializer() {\n        jackson2jsonredisserializer<object> jackson2jsonredisserializer = new jackson2jsonredisserializer<>(object.class);\n        jackson2jsonredisserializer.setobjectmapper(objectmapper());\n        return jackson2jsonredisserializer;\n    }\n\n    private objectmapper objectmapper() {\n        objectmapper objectmapper = new objectmapper();\n        objectmapper.setvisibility(propertyaccessor.all, jsonautodetect.visibility.any);\n//        objectmapper.enabledefaulttyping(objectmapper.defaulttyping.non_final);\n        objectmapper.activatedefaulttyping(laissezfairesubtypevalidator.instance, objectmapper.defaulttyping.non_final, jsontypeinfo.as.property);\n        return objectmapper;\n    }\n}\n\n\n\n# 3.ä½¿ç¨\n\n@springboottest\nclass springbootdemoapplicationtests {\n\n    @autowired\n    stringredistemplate stringredistemplate; //æä½key-valueé½æ¯å­ç¬¦ä¸²ï¼æå¸¸ç¨\n\n    @test\n    public void test01(){\n        //å­ç¬¦ä¸²æä½\n        stringredistemplate.opsforvalue().append("msg","coder");\n\n        //åè¡¨æä½\n        stringredistemplate.opsforlist().leftpush("mylist","1");\n        stringredistemplate.opsforlist().leftpush("mylist","2");\n    }\n}\n',charsets:{cjk:!0}},{title:"SpringBootæ´åRabbitMQ",frontmatter:{title:"SpringBootæ´åRabbitMQ",date:"2022-03-08T15:06:44.000Z",permalink:"/pages/73b1ea/",categories:["å­¦ä¹ èµæ","Java","SpringBootå®æ"],tags:["rabbitmq"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/18.SpringBoot%E5%AE%9E%E6%88%98/05.SpringBoot%E6%95%B4%E5%90%88RabbitMQ.html",relativePath:"å­¦ä¹ èµæ/03.Java/18.SpringBootå®æ/05.SpringBootæ´åRabbitMQ.md",key:"v-a1f6d0d6",path:"/pages/73b1ea/",headers:[{level:2,title:"1.æ·»å ä¾èµ",slug:"_1-æ·»å ä¾èµ",normalizedTitle:"1.æ·»å ä¾èµ",charIndex:2},{level:2,title:"2.éç½®",slug:"_2-éç½®",normalizedTitle:"2.éç½®",charIndex:349},{level:3,title:"ymléç½®",slug:"ymléç½®",normalizedTitle:"ymléç½®",charIndex:358},{level:3,title:"rabbitmqéç½®",slug:"rabbitmqéç½®",normalizedTitle:"rabbitmqéç½®",charIndex:817},{level:2,title:"3.ä½¿ç¨",slug:"_3-ä½¿ç¨",normalizedTitle:"3.ä½¿ç¨",charIndex:3065},{level:3,title:"directéç½®",slug:"directéç½®",normalizedTitle:"directéç½®",charIndex:3074},{level:3,title:"fanoutéç½®",slug:"fanoutéç½®",normalizedTitle:"fanoutéç½®",charIndex:4092},{level:3,title:"topicéç½®",slug:"topicéç½®",normalizedTitle:"topicéç½®",charIndex:5360},{level:3,title:"å»¶è¿æ¶æ¯éç½®",slug:"å»¶è¿æ¶æ¯éç½®",normalizedTitle:"å»¶è¿æ¶æ¯éç½®",charIndex:7007},{level:3,title:"éåçå¬éç½®",slug:"éåçå¬éç½®",normalizedTitle:"éåçå¬éç½®",charIndex:8969},{level:3,title:"æ¶æ¯ackæ¥æ¶",slug:"æ¶æ¯ackæ¥æ¶",normalizedTitle:"æ¶æ¯ackæ¥æ¶",charIndex:10217},{level:3,title:"æ¶æ¯æ¥æ¶",slug:"æ¶æ¯æ¥æ¶",normalizedTitle:"æ¶æ¯æ¥æ¶",charIndex:11216},{level:3,title:"æ¶æ¯åé",slug:"æ¶æ¯åé",normalizedTitle:"æ¶æ¯åé",charIndex:1730}],headersStr:"1.æ·»å ä¾èµ 2.éç½® ymléç½® rabbitmqéç½® 3.ä½¿ç¨ directéç½® fanoutéç½® topicéç½® å»¶è¿æ¶æ¯éç½® éåçå¬éç½® æ¶æ¯ackæ¥æ¶ æ¶æ¯æ¥æ¶ æ¶æ¯åé",content:'# 1.æ·»å ä¾èµ\n\n \x3c!--web--\x3e\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-web</artifactId>\n    <version>2.5.3</version>\n</dependency>\n\n\x3c!--rabbitmq--\x3e\n<dependency>\n    <groupId>org.springframework.amqp</groupId>\n    <artifactId>spring-rabbit</artifactId>\n    <version>2.3.10</version>\n</dependency>\n\n\n\n# 2.éç½®\n\n\n# ymléç½®\n\nserver:\n  port: 8080\nspring:\n  rabbitmq:\n    host: localhost\n    port: 5672\n    username: guest\n    password: guest\n    publisher-confirm-type: correlated\n    #å¦æå¯¹å¼æ­¥æ¶æ¯éè¦åè°å¿é¡»è®¾ç½®ä¸ºtrue\n    publisher-returns: true\n    listener:\n      simple:\n        #æ¶è´¹èæ°é\n        concurrency: 5\n        #æå¤§æ¶è´¹èæ°é\n        max-concurrency: 10\n        #æ¶è´¹èæ¯æ¬¡ä»éåè·åçæ¶æ¯æ°éãåå¤äºï¼å¦æé¿æ¶é´å¾ä¸å°æ¶è´¹ï¼æ°æ®å°±ä¸ç´å¾ä¸å°å¤ç\n        prefetch: 1\n        #æ¶è´¹æ¥æ¶ç¡®è®¤æºå¶-æå¨ç¡®è®¤\n        acknowledge-mode: manual\n\n\n\n# rabbitmqéç½®\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.amqp.core.ReturnedMessage;\nimport org.springframework.amqp.rabbit.connection.ConnectionFactory;\nimport org.springframework.amqp.rabbit.connection.CorrelationData;\nimport org.springframework.amqp.rabbit.core.RabbitTemplate;\nimport org.springframework.amqp.support.converter.Jackson2JsonMessageConverter;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@Slf4j\npublic class RabbitConfig {\n\n\n    //å¤çæ¶æ¯è¿å\n//    @Bean\n//    public MessageConverter jsonMessageConverter() {\n//        return new Jackson2JsonMessageConverter();\n//    }\n\n    @Bean\n    public RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory) {\n        RabbitTemplate rabbitTemplate = new RabbitTemplate();\n\n        rabbitTemplate.setConnectionFactory(connectionFactory);\n        //è®¾ç½®æ¶æ¯åéæ ¼å¼ä¸ºjson\n        rabbitTemplate.setMessageConverter(new Jackson2JsonMessageConverter());\n        // å¼å¯Mandatory, æè½è§¦ååè°å½æ°ï¼æ è®ºæ¶æ¯æ¨éç»æå¦ä½é½å¼ºå¶è°ç¨åè°å½æ°\n        rabbitTemplate.setMandatory(true);\n        //æ¶æ¯åéå°exchangeåè° éè®¾ç½®ï¼spring.rabbitmq.publisher-confirms=correlated\n        rabbitTemplate.setConfirmCallback(new RabbitTemplate.ConfirmCallback() {\n            public void confirm(CorrelationData correlationData, boolean ack, String cause) {\n                if (ack){\n                    log.debug("æ¶æ¯åéæå:correlationData({}),ack({}),cause({})",correlationData,ack,cause);\n                }else {\n                    log.debug("æ¶æ¯æªç¡®è®¤:correlationData({}),ack({}),cause({})",correlationData,ack,cause);\n                }\n            }\n        });\n        //æ¶æ¯ä»exchangeåéå°queueå¤±è´¥åè°  éè®¾ç½®ï¼spring.rabbitmq.publisher-returns=true\n        rabbitTemplate.setReturnsCallback(new RabbitTemplate.ReturnsCallback() {\n            @Override\n            public void returnedMessage(ReturnedMessage returnedMessage) {\n                log.error("æ¶æ¯ä¸¢å¤±:äº¤æ¢æºexchange({}),è·¯ç±é®route({}),ååºç replyCode({}),ååºä¿¡æ¯replyText({}),æ¶æ¯message:{}",returnedMessage.getExchange(),returnedMessage.getRoutingKey(),returnedMessage.getReplyCode(),returnedMessage.getReplyText(),returnedMessage.getMessage());\n            }\n\n        });\n\n        return rabbitTemplate;\n    }\n}\n\n\n\n# 3.ä½¿ç¨\n\n\n# directéç½®\n\nimport org.springframework.amqp.core.Binding;\nimport org.springframework.amqp.core.BindingBuilder;\nimport org.springframework.amqp.core.DirectExchange;\nimport org.springframework.amqp.core.Queue;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n\n/**\n * ä¸å¯¹ä¸ç´è¿\n */\n@Configuration\npublic class DirectRabbitConfig {\n\n    /**\n     * äº¤æ¢æº\n     */\n    @Bean\n    public DirectExchange myDirectExchange() {\n        // åæ°æä¹:\n        // name: åç§°\n        // durable: true\n        // autoDelete: èªå¨å é¤\n        return new DirectExchange("myDirectExchange", true, false);\n    }\n\n    /**\n     * éå\n     */\n    @Bean\n    public Queue myDirectQueue() {\n\n        return new Queue("myDirectQueue", true);\n    }\n\n    /**\n     * ç»å®\n     */\n    @Bean\n    public Binding bindingDirect() {\n        return BindingBuilder.bind(myDirectQueue())\n                             .to(myDirectExchange())\n                             .with("my.direct.routing");\n    }\n    \n}\n\n\n\n# fanoutéç½®\n\nimport org.springframework.amqp.core.Binding;\nimport org.springframework.amqp.core.BindingBuilder;\nimport org.springframework.amqp.core.FanoutExchange;\nimport org.springframework.amqp.core.Queue;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n\n/**\n * å¹¿æ­\n */\n@Configuration\npublic class FanoutRabbitConfig {\n\n    // ----- äº¤æ¢æº -----\n    @Bean\n    public FanoutExchange fanoutExchange() {\n        return new FanoutExchange("fanoutExchange", true, false);\n    }\n\n    // ----- éå -----\n    @Bean\n    public Queue fanoutQueueA() {\n        return new Queue("fanoutQueueA", true);\n    }\n\n    @Bean\n    public Queue fanoutQueueB() {\n        return new Queue("fanoutQueueB", true);\n    }\n\n    @Bean\n    public Queue fanoutQueueC() {\n        return new Queue("fanoutQueueC", true);\n    }\n\n    // ----- ç»å® -----\n    @Bean\n    public Binding bindingFanoutA() {\n        return BindingBuilder.bind(fanoutQueueA()).to(fanoutExchange());\n    }\n\n    @Bean\n    public Binding bindingFanoutB() {\n        return BindingBuilder.bind(fanoutQueueB()).to(fanoutExchange());\n    }\n\n    @Bean\n    public Binding bindingFanoutC() {\n        return BindingBuilder.bind(fanoutQueueC()).to(fanoutExchange());\n    }\n\n}\n\n\n\n# topicéç½®\n\nimport org.springframework.amqp.core.Binding;\nimport org.springframework.amqp.core.BindingBuilder;\nimport org.springframework.amqp.core.Queue;\nimport org.springframework.amqp.core.TopicExchange;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n\n/**\n * è·¯ç±å¹é\n */\n@Configuration\npublic class TopicRabbitConfig {\n\n    // äº¤æ¢æº\n    @Bean\n    public TopicExchange myTopicExchange() {\n        return new TopicExchange("myTopicExchange", true, false);\n    }\n\n    // ----- éå -----\n    @Bean\n    public Queue myTopicQueue_01() {\n        return new Queue("myTopicQueue_01", true);\n    }\n\n    @Bean Queue myTopicQueue_02() {\n        return new Queue("myTopicQueue_02", true);\n    }\n\n    @Bean Queue myTopicQueue_03() {\n        return new Queue("myTopicQueue_03", true);\n    }\n\n    @Bean Queue myTopicQueue_04() {\n        return new Queue("myTopicQueue_04", true);\n    }\n\n    /**\n     * ç»å®è·¯ç±é®ä¸ºuser.#\n     */\n    @Bean\n    public Binding binding_01() {\n        return BindingBuilder.bind(myTopicQueue_01()).to(myTopicExchange()).with("user.#");\n    }\n\n    /**\n     * ç»å®è·¯ç±é®ä¸º#.new\n     */\n    @Bean\n    public Binding binding_02() {\n        return BindingBuilder.bind(myTopicQueue_02()).to(myTopicExchange()).with("#.new");\n    }\n\n    /**\n     * ç»å®è·¯ç±é®ä¸º#.weather\n     */\n    @Bean\n    public Binding binding_03() { return BindingBuilder.bind(myTopicQueue_03()).to(myTopicExchange()).with("#.weather");\n    }\n\n    /**\n     * ç»å®è·¯ç±é®ä¸ºeurope.#\n     */\n    @Bean\n    public Binding binding_04() { return BindingBuilder.bind(myTopicQueue_04()).to(myTopicExchange()).with("europe.#");\n    }\n\n}\n\n\n\n# å»¶è¿æ¶æ¯éç½®\n\nimport org.springframework.amqp.core.*;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n\n/**\n * æ­»ä¿¡éå---éä¸¤ä¸ªäº¤æ¢æºä¸¤ä¸ªéå\n *\n * å»¶æ¶äº¤æ¢æº---éå®è£æä»¶\n * */\n\n@Configuration\npublic class TTLRabbitConfig {\n\n    //æ­»ä¿¡äº¤æ¢æº\n    @Bean\n    public DirectExchange dlkExchange(){ \n        return new DirectExchange("dlkExchange", true, false);\n    }\n\n    @Bean\n    public Queue dlkQueue(){\n        return new Queue("dlkQueue",true,false,false);\n    }\n\n    @Bean\n    public Binding dlkBind(){ \n        return BindingBuilder.bind(dlkQueue()).to(dlkExchange()).with("dlk.routeKey");\n    }\n\n    //ä¸å¡äº¤æ¢æº\n    @Bean\n    public DirectExchange demoExchange(){ \n        return new DirectExchange("demoExchange", true, false);\n    }\n\n    @Bean\n    public Queue demoQueue(){\n        //åªéè¦å¨å£°æä¸å¡éåæ¶æ·»å x-dead-letter-exchangeï¼å¼ä¸ºæ­»ä¿¡äº¤æ¢æº\n        Map<String,Object> map = new HashMap<>(1);\n        map.put("x-dead-letter-exchange","dlkExchange");\n        //è¯¥åæ°x-dead-letter-routing-keyå¯ä»¥ä¿®æ¹è¯¥æ­»ä¿¡çè·¯ç±keyï¼ä¸è®¾ç½®åä½¿ç¨åæ¶æ¯çè·¯ç±key\n        map.put("x-dead-letter-routing-key","dlk.routeKey");\n        return new Queue("demoQueue",true,false,false,map);\n    }\n\n    @Bean\n    public Binding demoBind(){ \n        return BindingBuilder.bind(demoQueue()).to(demoExchange()).with("demo.routeKey");\n    }\n\n\n    //å»¶è¿æä»¶ä½¿ç¨\n    //1ãå£°æä¸ä¸ªç±»åä¸ºx-delayed-messageçäº¤æ¢æº\n    //2ãåæ°æ·»å ä¸ä¸ªx-delayed-typeå¼ä¸ºäº¤æ¢æºçç±»åç¨äºè·¯ç±keyçæ å°\n    @Bean\n    public CustomExchange dmpExchange(){\n        Map<String, Object> arguments = new HashMap<>(1);\n        arguments.put("x-delayed-type", "direct");\n        return new CustomExchange("dmpExchange","x-delayed-message",true,false,arguments);\n    }\n\n    @Bean\n    public Queue dmpQueue(){\n        return new Queue("dmpQueue",true,false,false);\n    }\n\n    @Bean\n    public Binding dmpBind(){ \n        return BindingBuilder.bind(dmpQueue()).to(dmpExchange()).with("dmp.routeKey").noargs();\n    }\n\n}\n\n\n\n# éåçå¬éç½®\n\nimport com.springboot.listener.MyAckReceiver;\nimport org.springframework.amqp.core.AcknowledgeMode;\nimport org.springframework.amqp.rabbit.connection.CachingConnectionFactory;\nimport org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n\n/**\n * rabbitmq éåçå¬éç½®\n * */\n@Configuration\npublic class MessageListenerConfig {\n\n    @Autowired\n    private CachingConnectionFactory cachingConnectionFactory;\n\n    @Autowired\n    private MyAckReceiver myAckReceiver;\n\n    @Bean\n    public SimpleMessageListenerContainer simpleMessageListenerContainer() {\n        SimpleMessageListenerContainer container = new  SimpleMessageListenerContainer(cachingConnectionFactory);\n\n        // çå¬éåå\n        container.setQueueNames("myDirectQueue");\n        // å½åæ¶è´¹èæ°é\n        container.setConcurrentConsumers(1);\n        // æå¤§æ¶è´¹èæ°é\n        container.setMaxConcurrentConsumers(1);\n        // æå¨ç¡®è®¤\n        container.setAcknowledgeMode(AcknowledgeMode.MANUAL);\n        // è®¾ç½®çå¬å¨\n        container.setMessageListener(myAckReceiver);\n\n        return container;\n    }\n}\n\n\n\n# æ¶æ¯ackæ¥æ¶\n\nimport com.rabbitmq.client.Channel;\nimport org.springframework.amqp.core.Message;\nimport org.springframework.amqp.rabbit.annotation.RabbitListener;\nimport org.springframework.amqp.rabbit.listener.api.ChannelAwareMessageListener;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class MyAckReceiver implements ChannelAwareMessageListener {\n\n    public void onMessage(Message message, Channel channel) throws Exception {\n        // æ¶æ¯çå¯ä¸æ§ID\n        long deliveryTag = message.getMessageProperties().getDeliveryTag();\n\n        try {\n            String msg = message.toString();\n            System.out.println("æ¶æ¯: " + msg);\n            System.out.println("æ¶æ¯æ¥èª: "+message.getMessageProperties().getConsumerQueue());\n\n            // æå¨ç¡®è®¤\n            channel.basicAck(deliveryTag, true);\n        } catch (Exception e) {\n            // æç»ç­ç¥\n            // å¤çå¤±è´¥,éæ°åå¥MQ\n            channel.basicReject(deliveryTag, false);\n            e.printStackTrace();\n        }\n    }\n}\n\n\n\n# æ¶æ¯æ¥æ¶\n\nimport org.springframework.amqp.core.Message;\nimport org.springframework.amqp.rabbit.annotation.RabbitHandler;\nimport org.springframework.amqp.rabbit.annotation.RabbitListener;\nimport org.springframework.stereotype.Component;\n\n@Component\n//@RabbitListener(queues = "myDirectQueue")\npublic class DirectReceiver{\n\n//    @RabbitHandler\n//    @RabbitListener(queues = "myDirectQueue")\n//    public void process(String msg) {\n//        System.out.println(msg);\n//    }\n\n    @RabbitHandler\n    @RabbitListener(queues = "dlkQueue")\n    public void process1(String msg){\n        System.out.println("æ­»ä¿¡éå " + msg);\n    }\n\n    @RabbitHandler\n    @RabbitListener(queues = "dmpQueue")\n    public void process2(String msg){\n        System.out.println("å»¶æ¶éå " + msg);\n    }\n\n\n    @RabbitHandler\n    @RabbitListener(queues = "fanoutQueueA")\n    public void processA(String msg) {\n        System.out.println("fanoutQueueA " + msg);\n    }\n\n    @RabbitHandler\n    @RabbitListener(queues = "fanoutQueueB")\n    public void processB(String msg) {\n        System.out.println("fanoutQueueB " + msg);\n    }\n\n    @RabbitHandler\n    @RabbitListener(queues = "fanoutQueueC")\n    public void processC(String msg) {\n        System.out.println("fanoutQueueC " + msg);\n    }\n\n\n    @RabbitHandler\n    @RabbitListener(queues = "myTopicQueue_01")\n    public void process_01(String msg) {\n        System.out.println("myTopicQueue_01 " + msg);\n    }\n\n    @RabbitHandler\n    @RabbitListener(queues = "myTopicQueue_02")\n    public void process_02(String msg) {\n        System.out.println("myTopicQueue_02 " + msg);\n    }\n\n    @RabbitHandler\n    @RabbitListener(queues = "myTopicQueue_03")\n    public void process_03(String msg) {\n        System.out.println("myTopicQueue_03 " + msg);\n    }\n\n    @RabbitHandler\n    @RabbitListener(queues = "myTopicQueue_04")\n    public void process_04(String msg) {\n        System.out.println("myTopicQueue_04 " + msg);\n    }\n\n}\n\n\n\n# æ¶æ¯åé\n\n@RestController\n@Slf4j\npublic class HelloController {\n\n//    @Autowired\n    @Resource(name = "rabbitTemplate")\n    private RabbitTemplate rabbitTemplate;\n\n    @GetMapping("/send")\n    public String send(){\n//        String msg = "hello world";\n        String msg = "ä½ å¥½ï¼";\n        rabbitTemplate.convertAndSend("myDirectExchange", "my.direct.routing", msg);\n        return "hello world";\n    }\n\n    @GetMapping("/ttl")\n    public String ttl(){\n        String msg = "ä½ å¥½ï¼";\n        /**æ­»ä¿¡éå*/\n        rabbitTemplate.convertAndSend("demoExchange", "demo.routeKey", msg, new MessagePostProcessor() {\n            @Override\n            public Message postProcessMessage(Message message) throws AmqpException {\n                //è®¾ç½®æ¶æ¯çè¿ææ¶é´ï¼æ¯ä»¥æ¯«ç§ä¸ºåä½ç\n                message.getMessageProperties().setExpiration("5000");\n                return message;\n            }\n        });\n        /**å»¶æ¶äº¤æ¢æºãéè£æä»¶*/\n        rabbitTemplate.convertAndSend("dmpExchange", "dmp.routeKey", msg, new MessagePostProcessor() {\n            @Override\n            public Message postProcessMessage(Message message) throws AmqpException {\n                //ä½¿ç¨å»¶è¿æä»¶åªéè¦å¨æ¶æ¯çheaderä¸­æ·»å x-delayå±æ§ï¼å¼ä¸ºè¿ææ¶é´ï¼åä½æ¯«ç§\n                message.getMessageProperties().setHeader("x-delay",5*1000);\n                return message;\n            }\n        });\n        return "hello ttl";\n    }\n\n    @GetMapping("/sendByFanout")\n    public String sendByFanout() {\n        String msg = "hello fanout";\n        rabbitTemplate.convertAndSend("fanoutExchange", null, msg);\n        return "hello fanout";\n    }\n\n    @RequestMapping("/sendByTopic")\n    public String sendByTopic() {\n        String msg = "hello";\n        rabbitTemplate.convertAndSend("myTopicExchange", "user.weather", msg + " topic.01");\n        rabbitTemplate.convertAndSend("myTopicExchange", "student.new", msg + " topic.xxx");\n        return "hello topic";\n    }\n\n}\n',normalizedContent:'# 1.æ·»å ä¾èµ\n\n \x3c!--web--\x3e\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-web</artifactid>\n    <version>2.5.3</version>\n</dependency>\n\n\x3c!--rabbitmq--\x3e\n<dependency>\n    <groupid>org.springframework.amqp</groupid>\n    <artifactid>spring-rabbit</artifactid>\n    <version>2.3.10</version>\n</dependency>\n\n\n\n# 2.éç½®\n\n\n# ymléç½®\n\nserver:\n  port: 8080\nspring:\n  rabbitmq:\n    host: localhost\n    port: 5672\n    username: guest\n    password: guest\n    publisher-confirm-type: correlated\n    #å¦æå¯¹å¼æ­¥æ¶æ¯éè¦åè°å¿é¡»è®¾ç½®ä¸ºtrue\n    publisher-returns: true\n    listener:\n      simple:\n        #æ¶è´¹èæ°é\n        concurrency: 5\n        #æå¤§æ¶è´¹èæ°é\n        max-concurrency: 10\n        #æ¶è´¹èæ¯æ¬¡ä»éåè·åçæ¶æ¯æ°éãåå¤äºï¼å¦æé¿æ¶é´å¾ä¸å°æ¶è´¹ï¼æ°æ®å°±ä¸ç´å¾ä¸å°å¤ç\n        prefetch: 1\n        #æ¶è´¹æ¥æ¶ç¡®è®¤æºå¶-æå¨ç¡®è®¤\n        acknowledge-mode: manual\n\n\n\n# rabbitmqéç½®\n\nimport lombok.extern.slf4j.slf4j;\nimport org.springframework.amqp.core.returnedmessage;\nimport org.springframework.amqp.rabbit.connection.connectionfactory;\nimport org.springframework.amqp.rabbit.connection.correlationdata;\nimport org.springframework.amqp.rabbit.core.rabbittemplate;\nimport org.springframework.amqp.support.converter.jackson2jsonmessageconverter;\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\n\n@configuration\n@slf4j\npublic class rabbitconfig {\n\n\n    //å¤çæ¶æ¯è¿å\n//    @bean\n//    public messageconverter jsonmessageconverter() {\n//        return new jackson2jsonmessageconverter();\n//    }\n\n    @bean\n    public rabbittemplate rabbittemplate(connectionfactory connectionfactory) {\n        rabbittemplate rabbittemplate = new rabbittemplate();\n\n        rabbittemplate.setconnectionfactory(connectionfactory);\n        //è®¾ç½®æ¶æ¯åéæ ¼å¼ä¸ºjson\n        rabbittemplate.setmessageconverter(new jackson2jsonmessageconverter());\n        // å¼å¯mandatory, æè½è§¦ååè°å½æ°ï¼æ è®ºæ¶æ¯æ¨éç»æå¦ä½é½å¼ºå¶è°ç¨åè°å½æ°\n        rabbittemplate.setmandatory(true);\n        //æ¶æ¯åéå°exchangeåè° éè®¾ç½®ï¼spring.rabbitmq.publisher-confirms=correlated\n        rabbittemplate.setconfirmcallback(new rabbittemplate.confirmcallback() {\n            public void confirm(correlationdata correlationdata, boolean ack, string cause) {\n                if (ack){\n                    log.debug("æ¶æ¯åéæå:correlationdata({}),ack({}),cause({})",correlationdata,ack,cause);\n                }else {\n                    log.debug("æ¶æ¯æªç¡®è®¤:correlationdata({}),ack({}),cause({})",correlationdata,ack,cause);\n                }\n            }\n        });\n        //æ¶æ¯ä»exchangeåéå°queueå¤±è´¥åè°  éè®¾ç½®ï¼spring.rabbitmq.publisher-returns=true\n        rabbittemplate.setreturnscallback(new rabbittemplate.returnscallback() {\n            @override\n            public void returnedmessage(returnedmessage returnedmessage) {\n                log.error("æ¶æ¯ä¸¢å¤±:äº¤æ¢æºexchange({}),è·¯ç±é®route({}),ååºç replycode({}),ååºä¿¡æ¯replytext({}),æ¶æ¯message:{}",returnedmessage.getexchange(),returnedmessage.getroutingkey(),returnedmessage.getreplycode(),returnedmessage.getreplytext(),returnedmessage.getmessage());\n            }\n\n        });\n\n        return rabbittemplate;\n    }\n}\n\n\n\n# 3.ä½¿ç¨\n\n\n# directéç½®\n\nimport org.springframework.amqp.core.binding;\nimport org.springframework.amqp.core.bindingbuilder;\nimport org.springframework.amqp.core.directexchange;\nimport org.springframework.amqp.core.queue;\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\n\n\n/**\n * ä¸å¯¹ä¸ç´è¿\n */\n@configuration\npublic class directrabbitconfig {\n\n    /**\n     * äº¤æ¢æº\n     */\n    @bean\n    public directexchange mydirectexchange() {\n        // åæ°æä¹:\n        // name: åç§°\n        // durable: true\n        // autodelete: èªå¨å é¤\n        return new directexchange("mydirectexchange", true, false);\n    }\n\n    /**\n     * éå\n     */\n    @bean\n    public queue mydirectqueue() {\n\n        return new queue("mydirectqueue", true);\n    }\n\n    /**\n     * ç»å®\n     */\n    @bean\n    public binding bindingdirect() {\n        return bindingbuilder.bind(mydirectqueue())\n                             .to(mydirectexchange())\n                             .with("my.direct.routing");\n    }\n    \n}\n\n\n\n# fanoutéç½®\n\nimport org.springframework.amqp.core.binding;\nimport org.springframework.amqp.core.bindingbuilder;\nimport org.springframework.amqp.core.fanoutexchange;\nimport org.springframework.amqp.core.queue;\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\n\n\n/**\n * å¹¿æ­\n */\n@configuration\npublic class fanoutrabbitconfig {\n\n    // ----- äº¤æ¢æº -----\n    @bean\n    public fanoutexchange fanoutexchange() {\n        return new fanoutexchange("fanoutexchange", true, false);\n    }\n\n    // ----- éå -----\n    @bean\n    public queue fanoutqueuea() {\n        return new queue("fanoutqueuea", true);\n    }\n\n    @bean\n    public queue fanoutqueueb() {\n        return new queue("fanoutqueueb", true);\n    }\n\n    @bean\n    public queue fanoutqueuec() {\n        return new queue("fanoutqueuec", true);\n    }\n\n    // ----- ç»å® -----\n    @bean\n    public binding bindingfanouta() {\n        return bindingbuilder.bind(fanoutqueuea()).to(fanoutexchange());\n    }\n\n    @bean\n    public binding bindingfanoutb() {\n        return bindingbuilder.bind(fanoutqueueb()).to(fanoutexchange());\n    }\n\n    @bean\n    public binding bindingfanoutc() {\n        return bindingbuilder.bind(fanoutqueuec()).to(fanoutexchange());\n    }\n\n}\n\n\n\n# topicéç½®\n\nimport org.springframework.amqp.core.binding;\nimport org.springframework.amqp.core.bindingbuilder;\nimport org.springframework.amqp.core.queue;\nimport org.springframework.amqp.core.topicexchange;\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\n\n\n/**\n * è·¯ç±å¹é\n */\n@configuration\npublic class topicrabbitconfig {\n\n    // äº¤æ¢æº\n    @bean\n    public topicexchange mytopicexchange() {\n        return new topicexchange("mytopicexchange", true, false);\n    }\n\n    // ----- éå -----\n    @bean\n    public queue mytopicqueue_01() {\n        return new queue("mytopicqueue_01", true);\n    }\n\n    @bean queue mytopicqueue_02() {\n        return new queue("mytopicqueue_02", true);\n    }\n\n    @bean queue mytopicqueue_03() {\n        return new queue("mytopicqueue_03", true);\n    }\n\n    @bean queue mytopicqueue_04() {\n        return new queue("mytopicqueue_04", true);\n    }\n\n    /**\n     * ç»å®è·¯ç±é®ä¸ºuser.#\n     */\n    @bean\n    public binding binding_01() {\n        return bindingbuilder.bind(mytopicqueue_01()).to(mytopicexchange()).with("user.#");\n    }\n\n    /**\n     * ç»å®è·¯ç±é®ä¸º#.new\n     */\n    @bean\n    public binding binding_02() {\n        return bindingbuilder.bind(mytopicqueue_02()).to(mytopicexchange()).with("#.new");\n    }\n\n    /**\n     * ç»å®è·¯ç±é®ä¸º#.weather\n     */\n    @bean\n    public binding binding_03() { return bindingbuilder.bind(mytopicqueue_03()).to(mytopicexchange()).with("#.weather");\n    }\n\n    /**\n     * ç»å®è·¯ç±é®ä¸ºeurope.#\n     */\n    @bean\n    public binding binding_04() { return bindingbuilder.bind(mytopicqueue_04()).to(mytopicexchange()).with("europe.#");\n    }\n\n}\n\n\n\n# å»¶è¿æ¶æ¯éç½®\n\nimport org.springframework.amqp.core.*;\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\n\nimport java.util.hashmap;\nimport java.util.map;\n\n\n/**\n * æ­»ä¿¡éå---éä¸¤ä¸ªäº¤æ¢æºä¸¤ä¸ªéå\n *\n * å»¶æ¶äº¤æ¢æº---éå®è£æä»¶\n * */\n\n@configuration\npublic class ttlrabbitconfig {\n\n    //æ­»ä¿¡äº¤æ¢æº\n    @bean\n    public directexchange dlkexchange(){ \n        return new directexchange("dlkexchange", true, false);\n    }\n\n    @bean\n    public queue dlkqueue(){\n        return new queue("dlkqueue",true,false,false);\n    }\n\n    @bean\n    public binding dlkbind(){ \n        return bindingbuilder.bind(dlkqueue()).to(dlkexchange()).with("dlk.routekey");\n    }\n\n    //ä¸å¡äº¤æ¢æº\n    @bean\n    public directexchange demoexchange(){ \n        return new directexchange("demoexchange", true, false);\n    }\n\n    @bean\n    public queue demoqueue(){\n        //åªéè¦å¨å£°æä¸å¡éåæ¶æ·»å x-dead-letter-exchangeï¼å¼ä¸ºæ­»ä¿¡äº¤æ¢æº\n        map<string,object> map = new hashmap<>(1);\n        map.put("x-dead-letter-exchange","dlkexchange");\n        //è¯¥åæ°x-dead-letter-routing-keyå¯ä»¥ä¿®æ¹è¯¥æ­»ä¿¡çè·¯ç±keyï¼ä¸è®¾ç½®åä½¿ç¨åæ¶æ¯çè·¯ç±key\n        map.put("x-dead-letter-routing-key","dlk.routekey");\n        return new queue("demoqueue",true,false,false,map);\n    }\n\n    @bean\n    public binding demobind(){ \n        return bindingbuilder.bind(demoqueue()).to(demoexchange()).with("demo.routekey");\n    }\n\n\n    //å»¶è¿æä»¶ä½¿ç¨\n    //1ãå£°æä¸ä¸ªç±»åä¸ºx-delayed-messageçäº¤æ¢æº\n    //2ãåæ°æ·»å ä¸ä¸ªx-delayed-typeå¼ä¸ºäº¤æ¢æºçç±»åç¨äºè·¯ç±keyçæ å°\n    @bean\n    public customexchange dmpexchange(){\n        map<string, object> arguments = new hashmap<>(1);\n        arguments.put("x-delayed-type", "direct");\n        return new customexchange("dmpexchange","x-delayed-message",true,false,arguments);\n    }\n\n    @bean\n    public queue dmpqueue(){\n        return new queue("dmpqueue",true,false,false);\n    }\n\n    @bean\n    public binding dmpbind(){ \n        return bindingbuilder.bind(dmpqueue()).to(dmpexchange()).with("dmp.routekey").noargs();\n    }\n\n}\n\n\n\n# éåçå¬éç½®\n\nimport com.springboot.listener.myackreceiver;\nimport org.springframework.amqp.core.acknowledgemode;\nimport org.springframework.amqp.rabbit.connection.cachingconnectionfactory;\nimport org.springframework.amqp.rabbit.listener.simplemessagelistenercontainer;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\n\n\n/**\n * rabbitmq éåçå¬éç½®\n * */\n@configuration\npublic class messagelistenerconfig {\n\n    @autowired\n    private cachingconnectionfactory cachingconnectionfactory;\n\n    @autowired\n    private myackreceiver myackreceiver;\n\n    @bean\n    public simplemessagelistenercontainer simplemessagelistenercontainer() {\n        simplemessagelistenercontainer container = new  simplemessagelistenercontainer(cachingconnectionfactory);\n\n        // çå¬éåå\n        container.setqueuenames("mydirectqueue");\n        // å½åæ¶è´¹èæ°é\n        container.setconcurrentconsumers(1);\n        // æå¤§æ¶è´¹èæ°é\n        container.setmaxconcurrentconsumers(1);\n        // æå¨ç¡®è®¤\n        container.setacknowledgemode(acknowledgemode.manual);\n        // è®¾ç½®çå¬å¨\n        container.setmessagelistener(myackreceiver);\n\n        return container;\n    }\n}\n\n\n\n# æ¶æ¯ackæ¥æ¶\n\nimport com.rabbitmq.client.channel;\nimport org.springframework.amqp.core.message;\nimport org.springframework.amqp.rabbit.annotation.rabbitlistener;\nimport org.springframework.amqp.rabbit.listener.api.channelawaremessagelistener;\nimport org.springframework.stereotype.component;\n\n@component\npublic class myackreceiver implements channelawaremessagelistener {\n\n    public void onmessage(message message, channel channel) throws exception {\n        // æ¶æ¯çå¯ä¸æ§id\n        long deliverytag = message.getmessageproperties().getdeliverytag();\n\n        try {\n            string msg = message.tostring();\n            system.out.println("æ¶æ¯: " + msg);\n            system.out.println("æ¶æ¯æ¥èª: "+message.getmessageproperties().getconsumerqueue());\n\n            // æå¨ç¡®è®¤\n            channel.basicack(deliverytag, true);\n        } catch (exception e) {\n            // æç»ç­ç¥\n            // å¤çå¤±è´¥,éæ°åå¥mq\n            channel.basicreject(deliverytag, false);\n            e.printstacktrace();\n        }\n    }\n}\n\n\n\n# æ¶æ¯æ¥æ¶\n\nimport org.springframework.amqp.core.message;\nimport org.springframework.amqp.rabbit.annotation.rabbithandler;\nimport org.springframework.amqp.rabbit.annotation.rabbitlistener;\nimport org.springframework.stereotype.component;\n\n@component\n//@rabbitlistener(queues = "mydirectqueue")\npublic class directreceiver{\n\n//    @rabbithandler\n//    @rabbitlistener(queues = "mydirectqueue")\n//    public void process(string msg) {\n//        system.out.println(msg);\n//    }\n\n    @rabbithandler\n    @rabbitlistener(queues = "dlkqueue")\n    public void process1(string msg){\n        system.out.println("æ­»ä¿¡éå " + msg);\n    }\n\n    @rabbithandler\n    @rabbitlistener(queues = "dmpqueue")\n    public void process2(string msg){\n        system.out.println("å»¶æ¶éå " + msg);\n    }\n\n\n    @rabbithandler\n    @rabbitlistener(queues = "fanoutqueuea")\n    public void processa(string msg) {\n        system.out.println("fanoutqueuea " + msg);\n    }\n\n    @rabbithandler\n    @rabbitlistener(queues = "fanoutqueueb")\n    public void processb(string msg) {\n        system.out.println("fanoutqueueb " + msg);\n    }\n\n    @rabbithandler\n    @rabbitlistener(queues = "fanoutqueuec")\n    public void processc(string msg) {\n        system.out.println("fanoutqueuec " + msg);\n    }\n\n\n    @rabbithandler\n    @rabbitlistener(queues = "mytopicqueue_01")\n    public void process_01(string msg) {\n        system.out.println("mytopicqueue_01 " + msg);\n    }\n\n    @rabbithandler\n    @rabbitlistener(queues = "mytopicqueue_02")\n    public void process_02(string msg) {\n        system.out.println("mytopicqueue_02 " + msg);\n    }\n\n    @rabbithandler\n    @rabbitlistener(queues = "mytopicqueue_03")\n    public void process_03(string msg) {\n        system.out.println("mytopicqueue_03 " + msg);\n    }\n\n    @rabbithandler\n    @rabbitlistener(queues = "mytopicqueue_04")\n    public void process_04(string msg) {\n        system.out.println("mytopicqueue_04 " + msg);\n    }\n\n}\n\n\n\n# æ¶æ¯åé\n\n@restcontroller\n@slf4j\npublic class hellocontroller {\n\n//    @autowired\n    @resource(name = "rabbittemplate")\n    private rabbittemplate rabbittemplate;\n\n    @getmapping("/send")\n    public string send(){\n//        string msg = "hello world";\n        string msg = "ä½ å¥½ï¼";\n        rabbittemplate.convertandsend("mydirectexchange", "my.direct.routing", msg);\n        return "hello world";\n    }\n\n    @getmapping("/ttl")\n    public string ttl(){\n        string msg = "ä½ å¥½ï¼";\n        /**æ­»ä¿¡éå*/\n        rabbittemplate.convertandsend("demoexchange", "demo.routekey", msg, new messagepostprocessor() {\n            @override\n            public message postprocessmessage(message message) throws amqpexception {\n                //è®¾ç½®æ¶æ¯çè¿ææ¶é´ï¼æ¯ä»¥æ¯«ç§ä¸ºåä½ç\n                message.getmessageproperties().setexpiration("5000");\n                return message;\n            }\n        });\n        /**å»¶æ¶äº¤æ¢æºãéè£æä»¶*/\n        rabbittemplate.convertandsend("dmpexchange", "dmp.routekey", msg, new messagepostprocessor() {\n            @override\n            public message postprocessmessage(message message) throws amqpexception {\n                //ä½¿ç¨å»¶è¿æä»¶åªéè¦å¨æ¶æ¯çheaderä¸­æ·»å x-delayå±æ§ï¼å¼ä¸ºè¿ææ¶é´ï¼åä½æ¯«ç§\n                message.getmessageproperties().setheader("x-delay",5*1000);\n                return message;\n            }\n        });\n        return "hello ttl";\n    }\n\n    @getmapping("/sendbyfanout")\n    public string sendbyfanout() {\n        string msg = "hello fanout";\n        rabbittemplate.convertandsend("fanoutexchange", null, msg);\n        return "hello fanout";\n    }\n\n    @requestmapping("/sendbytopic")\n    public string sendbytopic() {\n        string msg = "hello";\n        rabbittemplate.convertandsend("mytopicexchange", "user.weather", msg + " topic.01");\n        rabbittemplate.convertandsend("mytopicexchange", "student.new", msg + " topic.xxx");\n        return "hello topic";\n    }\n\n}\n',charsets:{cjk:!0}},{title:"SpringBootæ´åElasticSearch",frontmatter:{title:"SpringBootæ´åElasticSearch",date:"2022-03-10T14:19:24.000Z",permalink:"/pages/b7c905/",categories:["å­¦ä¹ èµæ","Java","SpringBootå®æ"],tags:[null]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/18.SpringBoot%E5%AE%9E%E6%88%98/06.SpringBoot%E6%95%B4%E5%90%88ElasticSearch.html",relativePath:"å­¦ä¹ èµæ/03.Java/18.SpringBootå®æ/06.SpringBootæ´åElasticSearch.md",key:"v-3259f422",path:"/pages/b7c905/",headers:[{level:2,title:"1.æ·»å ä¾èµ",slug:"_1-æ·»å ä¾èµ",normalizedTitle:"1.æ·»å ä¾èµ",charIndex:2},{level:2,title:"2.éç½®",slug:"_2-éç½®",normalizedTitle:"2.éç½®",charIndex:182},{level:3,title:"ymléç½®",slug:"ymléç½®",normalizedTitle:"ymléç½®",charIndex:191},{level:2,title:"3.ä½¿ç¨",slug:"_3-ä½¿ç¨",normalizedTitle:"3.ä½¿ç¨",charIndex:466},{level:3,title:"entityå±",slug:"entityå±",normalizedTitle:"entityå±",charIndex:475},{level:3,title:"ç»§æ¿ElasticsearchRepository",slug:"ç»§æ¿elasticsearchrepository",normalizedTitle:"ç»§æ¿elasticsearchrepository",charIndex:2350},{level:3,title:"mapperå±",slug:"mapperå±",normalizedTitle:"mapperå±",charIndex:6419},{level:3,title:"Iserviceå±",slug:"iserviceå±",normalizedTitle:"iserviceå±",charIndex:6728},{level:3,title:"serviceå±",slug:"serviceå±",normalizedTitle:"serviceå±",charIndex:6729},{level:3,title:"controllerå±",slug:"controllerå±",normalizedTitle:"controllerå±",charIndex:9307}],headersStr:"1.æ·»å ä¾èµ 2.éç½® ymléç½® 3.ä½¿ç¨ entityå± ç»§æ¿ElasticsearchRepository mapperå± Iserviceå± serviceå± controllerå±",content:'# 1.æ·»å ä¾èµ\n\n\x3c!--Elasticsearchç¸å³ä¾èµ--\x3e\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-data-elasticsearch<artifactId>\n</dependency>\n\n\n\n# 2.éç½®\n\n\n# ymléç½®\n\nspring: \n  elasticsearch: #springboot é»è®¤éç½® localhost:9200\n    rest:\n      uris: ["127.0.0.1:9200"]\n  data:\n    elasticsearch:\n      repositories:\n         enabled: true\n      cluster-nodes: 127.0.0.1:9300 # esçè¿æ¥å°ååç«¯å£å·\n      cluster-name: elasticsearch # eséç¾¤çåç§°\n\n\n\n# 3.ä½¿ç¨\n\n\n# entityå±\n\nimport com.baomidou.mybatisplus.annotation.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.elasticsearch.annotations.DateFormat;\nimport org.springframework.data.elasticsearch.annotations.Document;\nimport org.springframework.data.elasticsearch.annotations.Field;\nimport org.springframework.data.elasticsearch.annotations.FieldType;\n\nimport java.math.BigDecimal;\nimport java.util.Date;\n\n@Data\n@TableName("book")\n@NoArgsConstructor\n@AllArgsConstructor\n@Document(indexName = "shop", type = "book",shards = 1,replicas = 0)\npublic class Book {\n    @Id\n    @Field(type = FieldType.Text)\n    @TableId(type = IdType.ID_WORKER_STR)\n    private String id;\n    \n    @Field(analyzer="ik_max_word")\n    private String title;\n    \n    @Field(analyzer="ik_max_word")\n    private String author;\n    \n    @Field(type = FieldType.Double)\n    private Double price;\n\n    @Field(type = FieldType.Date,format = DateFormat.basic_date_time)\n    @TableField(fill = FieldFill.INSERT)\n    private Date createTime;\n\n    @Field(type = FieldType.Date,format = DateFormat.basic_date_time)\n    @TableField(fill = FieldFill.INSERT_UPDATE)\n    private BigDecimal updateTime;\n}\n\n\n# å¸¸ç¨æ³¨è§£\n\n@Documentï¼ä½ç¨å¨ç±»ä¸ï¼æ è®°å®ä½ç±»ä¸ºææ¡£å¯¹è±¡   \n    indexName = "ç´¢å¼åºåç§°ï¼mysqlä¸­æ°æ®åºçæ¦å¿µ"  \n    type = "ææ¡£ç±»åï¼mysqlä¸­è¡¨çæ¦å¿µ" \n    shards = 5 åçæ°ï¼é»è®¤æ¯5\n    replicas = 1 å¯æ¬æ°éï¼é»è®¤æ¯1\n    \n@Idï¼ä½ç¨å¨æååéï¼æ è®°ä¸ä¸ªå­æ®µä¸ºidä¸»é®\n\n@Fieldï¼ä½ç¨å¨æååéï¼æ è®°ä¸ºææ¡£çå­æ®µï¼å¹¶å¶å®æ å°å±æ§\n    type = å­æ®µçç±»åï¼åå¼æ¯æä¸¾ï¼FieldType\n    index = æ¯å¦ç´¢å¼ï¼å¸å°å¼ç±»åï¼é»è®¤æ¯true\n    store = æ¯å¦å­å¨ï¼å¸å°å¼ç±»åï¼é»è®¤å¼æ¯false\n    analyzer = åè¯å¨åç§°\n\n\n# FieldTypeæä¸¾ç±»\n\n//ä¸ºææ¡£èªå¨æå®åæ°æ®ç±»å\npublic enum FieldType {\n    Text,//ä¼è¿è¡åè¯å¹¶å»ºäºç´¢å¼çå­ç¬¦ç±»å\n    Integer,\n    Long,\n    Date,\n    Float,\n    Double,\n    Boolean,\n    Object,\n    Auto,//èªå¨å¤æ­å­æ®µç±»å\n    Nested,//åµå¥å¯¹è±¡ç±»å\n    Ip,\n    Attachment,\n    Keyword//ä¸ä¼è¿è¡åè¯å»ºç«ç´¢å¼çç±»å\n}\n\n\n\n# ç»§æ¿ElasticsearchRepository\n\nimport com.baomidou.mybatisplus.extension.plugins.pagination.Page;\nimport com.spring.cloud.search.entity.po.Book;\nimport org.springframework.data.elasticsearch.repository.ElasticsearchRepository;\n\npublic interface EsBookRepository extends ElasticsearchRepository<Book, String> {\n\n    Page<Book> findByTitleOrAuthor(String title, String author, Page page);\n\n}\n\n\n# å·ä½å³é®å­\n\nå³é®å­                   ä½¿ç¨ç¤ºä¾                                 ç­åäºçESæ¥è¯¢\nAnd                   findByNameAndPrice                   {âboolâ : {âmustâ : [ {âfieldâ : {ânameâ : â?â}}, {âfieldâ :\n                                                           {âpriceâ : â?â}} ]}}\nOr                    findByNameOrPrice                    {âboolâ : {âshouldâ : [ {âfieldâ : {ânameâ : â?â}}, {âfieldâ\n                                                           : {âpriceâ : â?â}} ]}}\nIs                    findByName                           {âboolâ : {âmustâ : {âfieldâ : {ânameâ : â?â}}}}\nNot                   findByNameNot                        {âboolâ : {âmust_notâ : {âfieldâ : {ânameâ : â?â}}}}\nBetween               findByPriceBetween                   {âboolâ : {âmustâ : {ârangeâ : {âpriceâ : {âfromâ : ?,âtoâ :\n                                                           ?,âinclude_lowerâ : true,âinclude_upperâ : true}}}}}\nLessThanEqual         findByPriceLessThan                  {âboolâ : {âmustâ : {ârangeâ : {âpriceâ : {âfromâ :\n                                                           null,âtoâ : ?,âinclude_lowerâ : true,âinclude_upperâ :\n                                                           true}}}}}\nGreaterThanEqual      findByPriceGreaterThan               {âboolâ : {âmustâ : {ârangeâ : {âpriceâ : {âfromâ : ?,âtoâ :\n                                                           null,âinclude_lowerâ : true,âinclude_upperâ : true}}}}}\nBefore                findByPriceBefore                    {âboolâ : {âmustâ : {ârangeâ : {âpriceâ : {âfromâ :\n                                                           null,âtoâ : ?,âinclude_lowerâ : true,âinclude_upperâ :\n                                                           true}}}}}\nAfter                 findByPriceAfter                     {âboolâ : {âmustâ : {ârangeâ : {âpriceâ : {âfromâ : ?,âtoâ :\n                                                           null,âinclude_lowerâ : true,âinclude_upperâ : true}}}}}\nLike                  findByNameLike                       {âboolâ : {âmustâ : {âfieldâ : {ânameâ : {âqueryâ : â?\n                                                           *â,âanalyze_wildcardâ : true}}}}}\nStartingWith          findByNameStartingWith               {âboolâ : {âmustâ : {âfieldâ : {ânameâ : {âqueryâ : â?\n                                                           *â,âanalyze_wildcardâ : true}}}}}\nEndingWith            findByNameEndingWith                 {âboolâ : {âmustâ : {âfieldâ : {ânameâ : {âqueryâ :\n                                                           â*?â,âanalyze_wildcardâ : true}}}}}\nContains/Containing   findByNameContaining                 {âboolâ : {âmustâ : {âfieldâ : {ânameâ : {âqueryâ :\n                                                           â?â,âanalyze_wildcardâ : true}}}}}\nIn                    findByNameIn(Collectionnames)        {âboolâ : {âmustâ : {âboolâ : {âshouldâ : [ {âfieldâ :\n                                                           {ânameâ : â?â}}, {âfieldâ : {ânameâ : â?â}} ]}}}}\nNotIn                 findByNameNotIn(Collectionnames)     {âboolâ : {âmust_notâ : {âboolâ : {âshouldâ : {âfieldâ :\n                                                           {ânameâ : â?â}}}}}}\nTrue                  findByAvailableTrue                  {âboolâ : {âmustâ : {âfieldâ : {âavailableâ : true}}}}\nFalse                 findByAvailableFalse                 {âboolâ : {âmustâ : {âfieldâ : {âavailableâ : false}}}}\nOrderBy               findByAvailableTrueOrderByNameDesc   {âsortâ : [{ ânameâ : {âorderâ : âdescâ} }],âboolâ : {âmustâ\n                                                           : {âfieldâ : {âavailableâ : true}}}}\n\n\n# mapperå±\n\nimport com.baomidou.mybatisplus.core.mapper.BaseMapper;\nimport com.spring.cloud.search.entity.po.Book;\nimport org.apache.ibatis.annotations.Mapper;\nimport org.springframework.context.annotation.Configuration;\n\n@Mapper\n@Configuration\npublic interface BookMapper extends BaseMapper<Book> {\n    \n}\n\n\n\n# Iserviceå±\n\nimport com.baomidou.mybatisplus.extension.plugins.pagination.Page;\nimport com.spring.cloud.search.entity.po.Book;\nimport java.util.List;\n\npublic interface IBookService {\n\n    /**\n     * ä»æ°æ®åºä¸­å¯¼å¥ææbookå°ES\n     */\n    int importAll();\n\n    /**\n     * æ ¹æ®idå é¤book\n     */\n    void delete(String id);\n\n    /**\n     * æ ¹æ®idåå»ºbook\n     */\n    Book create(String id);\n\n    /**\n     * æ¹éå é¤book\n     */\n    void delete(List<String> ids);\n\n    /**\n     * æ ¹æ®å³é®å­æç´¢åç§°æèä½è\n     */\n    Page<Book> search(String keyword, Integer pageNum, Integer pageSize);\n\n}\n\n\n\n# serviceå±\n\n\nimport com.baomidou.mybatisplus.extension.plugins.pagination.Page;\nimport com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;\nimport com.spring.cloud.search.dao.BookMapper;\nimport com.spring.cloud.search.entity.po.Book;\nimport com.spring.cloud.search.repository.EsBookRepository;\nimport com.spring.cloud.search.service.IBookService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.util.CollectionUtils;\n\nimport java.util.Collection;\nimport java.util.Iterator;\nimport java.util.List;\n\n@Service\npublic class BookService extends ServiceImpl<BookMapper,Book> implements IBookService {\n\n    // 1.å¯ä»¥ç´æ¥ä½¿ç¨crud\n    @Autowired\n    private EsBookRepository esBookRepository;\n    \n    // 2.èªå·±åè¯­å¥åæä½\n    @Autowired\n    private ElasticsearchTemplate elasticsearchTemplate;\n\n\n    @Override\n    public int importAll() {\n        List<Book> list = this.list();\n        Iterable<Book> books = esBookRepository.saveAll(list);\n        Iterator<Book> iterator = books.iterator();\n        int result = 0;\n        while (iterator.hasNext()) {\n            result++;\n            iterator.next();\n        }\n        return result;\n    }\n\n    @Override\n    public void delete(String id) {\n        esBookRepository.deleteById(id);\n    }\n\n    @Override\n    public Book create(String id) {\n        Book book = this.getById(id);\n        if (book!=null){\n            esBookRepository.save(book);\n        }\n        return book;\n    }\n\n    @Override\n    public void delete(List<String> ids) {\n        if (!CollectionUtils.isEmpty(ids)) {\n            Collection<Book> books = this.listByIds(ids);\n            if (books.size()>0){\n                esBookRepository.deleteAll(books);\n            }\n        }\n    }\n\n    @Override\n    public Page<Book> search(String keyword, Integer pageNum, Integer pageSize) {\n        Page page = new Page(pageNum, pageSize);\n        return esBookRepository.findByTitleOrAuthor(keyword,keyword,page);\n    }\n    \n}\n\n\n\n# controllerå±\n\nimport com.baomidou.mybatisplus.extension.plugins.pagination.Page;\nimport com.spring.cloud.search.entity.po.Book;\nimport com.spring.cloud.search.service.IBookService;\nimport com.springboot.cloud.common.core.entity.vo.Result;\nimport io.swagger.annotations.Api;\nimport io.swagger.annotations.ApiOperation;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping("/book")\n@Api(tags = "BookController", description = "æç´¢bookç®¡ç")\npublic class BookController {\n    \n    @Autowired\n    private IBookService bookService;\n\n    @ApiOperation(value = "å¯¼å¥æææ°æ®åºä¸­bookå°ES")\n    @RequestMapping(value = "/importAll", method = RequestMethod.POST)\n    @ResponseBody\n    public Result importAllList() {\n        int count = bookService.importAll();\n        return Result.success(count);\n    }\n\n    @ApiOperation(value = "æ ¹æ®idå é¤book")\n    @RequestMapping(value = "/delete/{id}", method = RequestMethod.GET)\n    @ResponseBody\n    public Result delete(@PathVariable String id) {\n        bookService.delete(id);\n        return Result.success();\n    }\n\n    @ApiOperation(value = "æ ¹æ®idæ¹éå é¤book")\n    @RequestMapping(value = "/delete/batch", method = RequestMethod.POST)\n    @ResponseBody\n    public Result delete(@RequestParam("ids") List<String> ids) {\n        bookService.delete(ids);\n        return Result.success();\n    }\n\n    @ApiOperation(value = "æ ¹æ®idåå»ºbook")\n    @RequestMapping(value = "/create/{id}", method = RequestMethod.POST)\n    @ResponseBody\n    public Result create(@PathVariable String id) {\n        Book book = bookService.create(id);\n        if (book != null) {\n            return Result.success(book);\n        } else {\n            return Result.fail();\n        }\n    }\n\n    @ApiOperation(value = "ç®åæç´¢")\n    @RequestMapping(value = "/search/simple", method = RequestMethod.GET)\n    @ResponseBody\n    public Result search(@RequestParam(required = false) String keyword,\n                                                      @RequestParam(required = false, defaultValue = "0") Integer pageNum,\n                                                      @RequestParam(required = false, defaultValue = "5") Integer pageSize) {\n        Page<Book> bookPage = bookService.search(keyword, pageNum, pageSize);\n        return Result.success(bookPage);\n    }\n    \n}\n',normalizedContent:'# 1.æ·»å ä¾èµ\n\n\x3c!--elasticsearchç¸å³ä¾èµ--\x3e\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-data-elasticsearch<artifactid>\n</dependency>\n\n\n\n# 2.éç½®\n\n\n# ymléç½®\n\nspring: \n  elasticsearch: #springboot é»è®¤éç½® localhost:9200\n    rest:\n      uris: ["127.0.0.1:9200"]\n  data:\n    elasticsearch:\n      repositories:\n         enabled: true\n      cluster-nodes: 127.0.0.1:9300 # esçè¿æ¥å°ååç«¯å£å·\n      cluster-name: elasticsearch # eséç¾¤çåç§°\n\n\n\n# 3.ä½¿ç¨\n\n\n# entityå±\n\nimport com.baomidou.mybatisplus.annotation.*;\nimport lombok.allargsconstructor;\nimport lombok.data;\nimport lombok.noargsconstructor;\nimport org.springframework.data.annotation.id;\nimport org.springframework.data.elasticsearch.annotations.dateformat;\nimport org.springframework.data.elasticsearch.annotations.document;\nimport org.springframework.data.elasticsearch.annotations.field;\nimport org.springframework.data.elasticsearch.annotations.fieldtype;\n\nimport java.math.bigdecimal;\nimport java.util.date;\n\n@data\n@tablename("book")\n@noargsconstructor\n@allargsconstructor\n@document(indexname = "shop", type = "book",shards = 1,replicas = 0)\npublic class book {\n    @id\n    @field(type = fieldtype.text)\n    @tableid(type = idtype.id_worker_str)\n    private string id;\n    \n    @field(analyzer="ik_max_word")\n    private string title;\n    \n    @field(analyzer="ik_max_word")\n    private string author;\n    \n    @field(type = fieldtype.double)\n    private double price;\n\n    @field(type = fieldtype.date,format = dateformat.basic_date_time)\n    @tablefield(fill = fieldfill.insert)\n    private date createtime;\n\n    @field(type = fieldtype.date,format = dateformat.basic_date_time)\n    @tablefield(fill = fieldfill.insert_update)\n    private bigdecimal updatetime;\n}\n\n\n# å¸¸ç¨æ³¨è§£\n\n@documentï¼ä½ç¨å¨ç±»ä¸ï¼æ è®°å®ä½ç±»ä¸ºææ¡£å¯¹è±¡   \n    indexname = "ç´¢å¼åºåç§°ï¼mysqlä¸­æ°æ®åºçæ¦å¿µ"  \n    type = "ææ¡£ç±»åï¼mysqlä¸­è¡¨çæ¦å¿µ" \n    shards = 5 åçæ°ï¼é»è®¤æ¯5\n    replicas = 1 å¯æ¬æ°éï¼é»è®¤æ¯1\n    \n@idï¼ä½ç¨å¨æååéï¼æ è®°ä¸ä¸ªå­æ®µä¸ºidä¸»é®\n\n@fieldï¼ä½ç¨å¨æååéï¼æ è®°ä¸ºææ¡£çå­æ®µï¼å¹¶å¶å®æ å°å±æ§\n    type = å­æ®µçç±»åï¼åå¼æ¯æä¸¾ï¼fieldtype\n    index = æ¯å¦ç´¢å¼ï¼å¸å°å¼ç±»åï¼é»è®¤æ¯true\n    store = æ¯å¦å­å¨ï¼å¸å°å¼ç±»åï¼é»è®¤å¼æ¯false\n    analyzer = åè¯å¨åç§°\n\n\n# fieldtypeæä¸¾ç±»\n\n//ä¸ºææ¡£èªå¨æå®åæ°æ®ç±»å\npublic enum fieldtype {\n    text,//ä¼è¿è¡åè¯å¹¶å»ºäºç´¢å¼çå­ç¬¦ç±»å\n    integer,\n    long,\n    date,\n    float,\n    double,\n    boolean,\n    object,\n    auto,//èªå¨å¤æ­å­æ®µç±»å\n    nested,//åµå¥å¯¹è±¡ç±»å\n    ip,\n    attachment,\n    keyword//ä¸ä¼è¿è¡åè¯å»ºç«ç´¢å¼çç±»å\n}\n\n\n\n# ç»§æ¿elasticsearchrepository\n\nimport com.baomidou.mybatisplus.extension.plugins.pagination.page;\nimport com.spring.cloud.search.entity.po.book;\nimport org.springframework.data.elasticsearch.repository.elasticsearchrepository;\n\npublic interface esbookrepository extends elasticsearchrepository<book, string> {\n\n    page<book> findbytitleorauthor(string title, string author, page page);\n\n}\n\n\n# å·ä½å³é®å­\n\nå³é®å­                   ä½¿ç¨ç¤ºä¾                                 ç­åäºçesæ¥è¯¢\nand                   findbynameandprice                   {âboolâ : {âmustâ : [ {âfieldâ : {ânameâ : â?â}}, {âfieldâ :\n                                                           {âpriceâ : â?â}} ]}}\nor                    findbynameorprice                    {âboolâ : {âshouldâ : [ {âfieldâ : {ânameâ : â?â}}, {âfieldâ\n                                                           : {âpriceâ : â?â}} ]}}\nis                    findbyname                           {âboolâ : {âmustâ : {âfieldâ : {ânameâ : â?â}}}}\nnot                   findbynamenot                        {âboolâ : {âmust_notâ : {âfieldâ : {ânameâ : â?â}}}}\nbetween               findbypricebetween                   {âboolâ : {âmustâ : {ârangeâ : {âpriceâ : {âfromâ : ?,âtoâ :\n                                                           ?,âinclude_lowerâ : true,âinclude_upperâ : true}}}}}\nlessthanequal         findbypricelessthan                  {âboolâ : {âmustâ : {ârangeâ : {âpriceâ : {âfromâ :\n                                                           null,âtoâ : ?,âinclude_lowerâ : true,âinclude_upperâ :\n                                                           true}}}}}\ngreaterthanequal      findbypricegreaterthan               {âboolâ : {âmustâ : {ârangeâ : {âpriceâ : {âfromâ : ?,âtoâ :\n                                                           null,âinclude_lowerâ : true,âinclude_upperâ : true}}}}}\nbefore                findbypricebefore                    {âboolâ : {âmustâ : {ârangeâ : {âpriceâ : {âfromâ :\n                                                           null,âtoâ : ?,âinclude_lowerâ : true,âinclude_upperâ :\n                                                           true}}}}}\nafter                 findbypriceafter                     {âboolâ : {âmustâ : {ârangeâ : {âpriceâ : {âfromâ : ?,âtoâ :\n                                                           null,âinclude_lowerâ : true,âinclude_upperâ : true}}}}}\nlike                  findbynamelike                       {âboolâ : {âmustâ : {âfieldâ : {ânameâ : {âqueryâ : â?\n                                                           *â,âanalyze_wildcardâ : true}}}}}\nstartingwith          findbynamestartingwith               {âboolâ : {âmustâ : {âfieldâ : {ânameâ : {âqueryâ : â?\n                                                           *â,âanalyze_wildcardâ : true}}}}}\nendingwith            findbynameendingwith                 {âboolâ : {âmustâ : {âfieldâ : {ânameâ : {âqueryâ :\n                                                           â*?â,âanalyze_wildcardâ : true}}}}}\ncontains/containing   findbynamecontaining                 {âboolâ : {âmustâ : {âfieldâ : {ânameâ : {âqueryâ :\n                                                           â?â,âanalyze_wildcardâ : true}}}}}\nin                    findbynamein(collectionnames)        {âboolâ : {âmustâ : {âboolâ : {âshouldâ : [ {âfieldâ :\n                                                           {ânameâ : â?â}}, {âfieldâ : {ânameâ : â?â}} ]}}}}\nnotin                 findbynamenotin(collectionnames)     {âboolâ : {âmust_notâ : {âboolâ : {âshouldâ : {âfieldâ :\n                                                           {ânameâ : â?â}}}}}}\ntrue                  findbyavailabletrue                  {âboolâ : {âmustâ : {âfieldâ : {âavailableâ : true}}}}\nfalse                 findbyavailablefalse                 {âboolâ : {âmustâ : {âfieldâ : {âavailableâ : false}}}}\norderby               findbyavailabletrueorderbynamedesc   {âsortâ : [{ ânameâ : {âorderâ : âdescâ} }],âboolâ : {âmustâ\n                                                           : {âfieldâ : {âavailableâ : true}}}}\n\n\n# mapperå±\n\nimport com.baomidou.mybatisplus.core.mapper.basemapper;\nimport com.spring.cloud.search.entity.po.book;\nimport org.apache.ibatis.annotations.mapper;\nimport org.springframework.context.annotation.configuration;\n\n@mapper\n@configuration\npublic interface bookmapper extends basemapper<book> {\n    \n}\n\n\n\n# iserviceå±\n\nimport com.baomidou.mybatisplus.extension.plugins.pagination.page;\nimport com.spring.cloud.search.entity.po.book;\nimport java.util.list;\n\npublic interface ibookservice {\n\n    /**\n     * ä»æ°æ®åºä¸­å¯¼å¥ææbookå°es\n     */\n    int importall();\n\n    /**\n     * æ ¹æ®idå é¤book\n     */\n    void delete(string id);\n\n    /**\n     * æ ¹æ®idåå»ºbook\n     */\n    book create(string id);\n\n    /**\n     * æ¹éå é¤book\n     */\n    void delete(list<string> ids);\n\n    /**\n     * æ ¹æ®å³é®å­æç´¢åç§°æèä½è\n     */\n    page<book> search(string keyword, integer pagenum, integer pagesize);\n\n}\n\n\n\n# serviceå±\n\n\nimport com.baomidou.mybatisplus.extension.plugins.pagination.page;\nimport com.baomidou.mybatisplus.extension.service.impl.serviceimpl;\nimport com.spring.cloud.search.dao.bookmapper;\nimport com.spring.cloud.search.entity.po.book;\nimport com.spring.cloud.search.repository.esbookrepository;\nimport com.spring.cloud.search.service.ibookservice;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.stereotype.service;\nimport org.springframework.util.collectionutils;\n\nimport java.util.collection;\nimport java.util.iterator;\nimport java.util.list;\n\n@service\npublic class bookservice extends serviceimpl<bookmapper,book> implements ibookservice {\n\n    // 1.å¯ä»¥ç´æ¥ä½¿ç¨crud\n    @autowired\n    private esbookrepository esbookrepository;\n    \n    // 2.èªå·±åè¯­å¥åæä½\n    @autowired\n    private elasticsearchtemplate elasticsearchtemplate;\n\n\n    @override\n    public int importall() {\n        list<book> list = this.list();\n        iterable<book> books = esbookrepository.saveall(list);\n        iterator<book> iterator = books.iterator();\n        int result = 0;\n        while (iterator.hasnext()) {\n            result++;\n            iterator.next();\n        }\n        return result;\n    }\n\n    @override\n    public void delete(string id) {\n        esbookrepository.deletebyid(id);\n    }\n\n    @override\n    public book create(string id) {\n        book book = this.getbyid(id);\n        if (book!=null){\n            esbookrepository.save(book);\n        }\n        return book;\n    }\n\n    @override\n    public void delete(list<string> ids) {\n        if (!collectionutils.isempty(ids)) {\n            collection<book> books = this.listbyids(ids);\n            if (books.size()>0){\n                esbookrepository.deleteall(books);\n            }\n        }\n    }\n\n    @override\n    public page<book> search(string keyword, integer pagenum, integer pagesize) {\n        page page = new page(pagenum, pagesize);\n        return esbookrepository.findbytitleorauthor(keyword,keyword,page);\n    }\n    \n}\n\n\n\n# controllerå±\n\nimport com.baomidou.mybatisplus.extension.plugins.pagination.page;\nimport com.spring.cloud.search.entity.po.book;\nimport com.spring.cloud.search.service.ibookservice;\nimport com.springboot.cloud.common.core.entity.vo.result;\nimport io.swagger.annotations.api;\nimport io.swagger.annotations.apioperation;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.list;\n\n@restcontroller\n@requestmapping("/book")\n@api(tags = "bookcontroller", description = "æç´¢bookç®¡ç")\npublic class bookcontroller {\n    \n    @autowired\n    private ibookservice bookservice;\n\n    @apioperation(value = "å¯¼å¥æææ°æ®åºä¸­bookå°es")\n    @requestmapping(value = "/importall", method = requestmethod.post)\n    @responsebody\n    public result importalllist() {\n        int count = bookservice.importall();\n        return result.success(count);\n    }\n\n    @apioperation(value = "æ ¹æ®idå é¤book")\n    @requestmapping(value = "/delete/{id}", method = requestmethod.get)\n    @responsebody\n    public result delete(@pathvariable string id) {\n        bookservice.delete(id);\n        return result.success();\n    }\n\n    @apioperation(value = "æ ¹æ®idæ¹éå é¤book")\n    @requestmapping(value = "/delete/batch", method = requestmethod.post)\n    @responsebody\n    public result delete(@requestparam("ids") list<string> ids) {\n        bookservice.delete(ids);\n        return result.success();\n    }\n\n    @apioperation(value = "æ ¹æ®idåå»ºbook")\n    @requestmapping(value = "/create/{id}", method = requestmethod.post)\n    @responsebody\n    public result create(@pathvariable string id) {\n        book book = bookservice.create(id);\n        if (book != null) {\n            return result.success(book);\n        } else {\n            return result.fail();\n        }\n    }\n\n    @apioperation(value = "ç®åæç´¢")\n    @requestmapping(value = "/search/simple", method = requestmethod.get)\n    @responsebody\n    public result search(@requestparam(required = false) string keyword,\n                                                      @requestparam(required = false, defaultvalue = "0") integer pagenum,\n                                                      @requestparam(required = false, defaultvalue = "5") integer pagesize) {\n        page<book> bookpage = bookservice.search(keyword, pagenum, pagesize);\n        return result.success(bookpage);\n    }\n    \n}\n',charsets:{cjk:!0}},{title:"SpringBootæ´åSpringSecurity",frontmatter:{title:"SpringBootæ´åSpringSecurity",date:"2022-03-10T16:52:31.000Z",permalink:"/pages/464d7a/",categories:["å­¦ä¹ èµæ","Java","SpringBootå®æ"],tags:[null]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/18.SpringBoot%E5%AE%9E%E6%88%98/07.SpringBoot%E6%95%B4%E5%90%88SpringSecurity.html",relativePath:"å­¦ä¹ èµæ/03.Java/18.SpringBootå®æ/07.SpringBootæ´åSpringSecurity.md",key:"v-2f26580a",path:"/pages/464d7a/",headers:[{level:2,title:"1.æ·»å ä¾èµ",slug:"_1-æ·»å ä¾èµ",normalizedTitle:"1.æ·»å ä¾èµ",charIndex:2},{level:2,title:"2.éç½®",slug:"_2-éç½®",normalizedTitle:"2.éç½®",charIndex:626},{level:3,title:"ymléç½®",slug:"ymléç½®",normalizedTitle:"ymléç½®",charIndex:635},{level:3,title:"æ ¸å¿éç½®",slug:"æ ¸å¿éç½®",normalizedTitle:"æ ¸å¿éç½®",charIndex:1212},{level:3,title:"å·¥å·ç±»",slug:"å·¥å·ç±»",normalizedTitle:"å·¥å·ç±»",charIndex:11527},{level:3,title:"Handleréç½®",slug:"handleréç½®",normalizedTitle:"handleréç½®",charIndex:18854},{level:3,title:"å¶ä»éç½®",slug:"å¶ä»éç½®",normalizedTitle:"å¶ä»éç½®",charIndex:19992},{level:2,title:"3.ä½¿ç¨",slug:"_3-ä½¿ç¨",normalizedTitle:"3.ä½¿ç¨",charIndex:22197},{level:3,title:"entityå±",slug:"entityå±",normalizedTitle:"entityå±",charIndex:22206},{level:3,title:"mapperå±",slug:"mapperå±",normalizedTitle:"mapperå±",charIndex:29132},{level:3,title:"Iserviceå±",slug:"iserviceå±",normalizedTitle:"iserviceå±",charIndex:30645},{level:3,title:"serviceå±",slug:"serviceå±",normalizedTitle:"serviceå±",charIndex:30646},{level:3,title:"controllerå±",slug:"controllerå±",normalizedTitle:"controllerå±",charIndex:61742}],headersStr:"1.æ·»å ä¾èµ 2.éç½® ymléç½® æ ¸å¿éç½® å·¥å·ç±» Handleréç½® å¶ä»éç½® 3.ä½¿ç¨ entityå± mapperå± Iserviceå± serviceå± controllerå±",content:'# 1.æ·»å ä¾èµ\n\n\x3c!--SpringSecurityä¾èµéç½®--\x3e\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-security</artifactId>\n</dependency>\n\x3c!--JWT(Json Web Token)ç»å½æ¯æ--\x3e\n<dependency>\n    <groupId>io.jsonwebtoken</groupId>\n    <artifactId>jjwt</artifactId>\n    <version>0.9.0</version>\n</dependency>\n\x3c!--JSON--\x3e\n<dependency>\n    <groupId>com.alibaba</groupId>\n    <artifactId>fastjson</artifactId>\n    <version>1.2.59</version>\n</dependency>\n\x3c!--lombok--\x3e\n<dependency>\n    <groupId>org.projectlombok</groupId>\n    <artifactId>lombok</artifactId>\n    <version>1.18.16</version>\n</dependency>\n\n\n\n\n# 2.éç½®\n\n\n# ymléç½®\n\nserver:\n  port: 8080\nspring:\n  datasource:\n    url: jdbc:mysql://192.168.3.119:3306/zksc_medical?characterEncoding=UTF-8&useUnicode=true&useSSL=false&serverTimezone=Asia/Shanghai\n    username: root\n    password: 123456\n    driver-class-name: com.mysql.cj.jdbc.Driver\n\n# JWTéç½®\njwt:\n   # å¯åKey\n   secret: JWTSecret,zksc\n   # HeaderKey\n   tokenHeader: Authorization\n   # Tokenåç¼\n   tokenPrefix: Bearer\n   # è¿ææ¶é´ï¼åä½ç§\n   expiration: 1800\n   # éç½®ç½ååï¼ä¸éè¦è®¤è¯ï¼\n   antMatchers: /login,/refreshToken,/webjars/**,/swagger-ui.html,/swagger-resources/**,/*/api-docs,/websocket/**\n\n\n\n# æ ¸å¿éç½®\n\n# spring securityéç½®ç±»\n\nimport com.springboot.system.filter.JWTAuthenticationFilter;\nimport com.springboot.system.handler.*;\nimport com.springboot.system.provider.UserAuthenticationProvider;\nimport com.springboot.system.provider.UserPermissionProvider;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.access.expression.DefaultWebSecurityExpressionHandler;\nimport org.springframework.security.web.authentication.logout.LogoutFilter;\nimport org.springframework.web.filter.CorsFilter;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true) // å¼å¯æ¹æ³æéæ³¨è§£\npublic class SysSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    /**\n     * æ æéå¤çç±»\n     */\n    @Autowired\n    private UserAccessDeniedHandler userAccessDeniedHandler;\n\n    /**\n     * ç¨æ·æªç»å½å¤çç±»\n     */\n    @Autowired\n    private UserNotLoginHandler userNotLoginHandler;\n\n    /**\n     * ç¨æ·ç»å½æåå¤çç±»\n     */\n    @Autowired\n    private UserLoginSuccessHandler userLoginSuccessHandler;\n\n    /**\n     * ç¨æ·ç»å½å¤±è´¥å¤çç±»\n     */\n    @Autowired\n    private UserLoginFailureHandler userLoginFailureHandler;\n\n    /**\n     * ç¨æ·ç»åºæåå¤çç±»\n     */\n    @Autowired\n    private UserLogoutSuccessHandler userLogoutSuccessHandler;\n\n    /**\n     * è·¨åè¿æ»¤å¨\n     */\n    @Autowired\n    private CorsFilter corsFilter;\n\n    /**\n     * ç¨æ·ç»å½éªè¯\n     */\n    @Autowired\n    private UserAuthenticationProvider userAuthenticationProvider;\n\n    /**\n     * ç¨æ·æéæ³¨è§£\n     */\n    @Autowired\n    private UserPermissionProvider userPermissionProvider;\n\n\n    /**\n     * å å¯æ¹å¼\n     *\n     * @return\n     */\n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n\n    /**\n     * æ³¨å¥èªå®ä¹PermissionEvaluator\n     *\n     * @return\n     */\n    @Bean\n    public DefaultWebSecurityExpressionHandler userSecurityExpressionHandler() {\n        DefaultWebSecurityExpressionHandler handler = new DefaultWebSecurityExpressionHandler();\n        handler.setPermissionEvaluator(userPermissionProvider);\n        return handler;\n    }\n\n    /**\n     * ç¨æ·ç»å½éªè¯\n     */\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) {\n        auth.authenticationProvider(userAuthenticationProvider);\n    }\n\n    /**\n     * å®å¨æééç½®\n     */\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests() // æééç½®\n                .antMatchers(JWTConfig.antMatchers.split(",")).permitAll()// è·åç½ååï¼ä¸è¿è¡æééªè¯ï¼\n                .anyRequest().authenticated() // å¶ä»çéè¦ç»éåæè½è®¿é®\n                .and().httpBasic().authenticationEntryPoint(userNotLoginHandler) // éç½®æªç»å½å¤çç±»\n                //.and().formLogin().loginProcessingUrl("/system-login")// éç½®ç»å½URL\n                //.successHandler(userLoginSuccessHandler) // éç½®ç»å½æåå¤çç±»\n                //.failureHandler(userLoginFailureHandler) // éç½®ç»å½å¤±è´¥å¤çç±»\n                .and().logout().logoutUrl("/logout")// éç½®ç»åºå°å\n                .logoutSuccessHandler(userLogoutSuccessHandler) // éç½®ç¨æ·ç»åºå¤çç±»\n                .and().exceptionHandling().accessDeniedHandler(userAccessDeniedHandler)// éç½®æ²¡ææéå¤çç±»\n                .and().cors()// å¼å¯è·¨å\n                .and().csrf().disable(); // ç¦ç¨è·¨ç«è¯·æ±ä¼ªé é²æ¤\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS); // ç¦ç¨sessionï¼ä½¿ç¨Tokenè®¤è¯ï¼\n        http.headers().cacheControl(); // ç¦ç¨ç¼å­\n        http.addFilter(new JWTAuthenticationFilter(authenticationManager())); // æ·»å JWTè¿æ»¤å¨\n        http.addFilterBefore(corsFilter, LogoutFilter.class); // æ·»å CORS filter\n\n    }\n\n\n    /**\n     * å° AuthenticationManager æ³¨åä¸º bean , æ¹ä¾¿éç½® oauth server çæ¶åä½¿ç¨\n     */\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n}\n\n\n# JWTè¿æ»¤éç½®\n\n/**\n * JWTæéè¿æ»¤å¨ï¼ç¨äºéªè¯Tokenæ¯å¦åæ³\n */\npublic class JWTAuthenticationFilter extends BasicAuthenticationFilter {\n\n    public JWTAuthenticationFilter(AuthenticationManager authenticationManager) {\n        super(authenticationManager);\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws IOException, ServletException {\n        // ååºToken\n        String token = request.getHeader(JWTConfig.tokenHeader);\n        if (token != null) {\n            if (JWTTokenUtil.verifyToken(token)) {\n                ResponseUtils.responseJson(response, Result.fail(SystemErrorType.TOKEN_EXPIRED));\n                return;\n            }\n            String newToken = JWTTokenUtil.verifyExpired(token);\n            if (StringUtils.isNotBlank(newToken)) {\n                response.setHeader("newToken", newToken);\n                response.setHeader("Access-Control-Expose-Headers", "newToken");\n                response.setContentType("application/json;charset=utf-8");\n                response.setCharacterEncoding("UTF-8");\n            }\n            SysUserDetails sysUserDetails = JWTTokenUtil.parseAccessToken(token);\n            if (sysUserDetails != null) {\n                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\n                        sysUserDetails, sysUserDetails.getId(), sysUserDetails.getAuthorities());\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n            } else {\n                ResponseUtils.responseJson(response, Result.fail(SystemErrorType.INVALID_TOKEN));\n                return;\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n\n}\n\n\n# ç»å½éªè¯\n\n/**\n * ç¨æ·ç»å½éªè¯å¤çç±»\n */\n@Component\npublic class UserAuthenticationProvider implements AuthenticationProvider {\n\n    @Autowired\n    private SysUserDetailsService userDetailsService;\n\n    /**\n     * èº«ä»½éªè¯\n     */\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        String username = (String) authentication.getPrincipal(); // è·åç¨æ·å\n        String password = (String) authentication.getCredentials(); // è·åå¯ç \n        SysUserDetails sysUserDetails = (SysUserDetails) userDetailsService.loadUserByUsername(username);\n        if (sysUserDetails == null) {\n            throw new UsernameNotFoundException("ç¨æ·åä¸å­å¨");\n        }\n        if (!new BCryptPasswordEncoder().matches(password, sysUserDetails.getPassword())) {\n            throw new BadCredentialsException("ç¨æ·åæå¯ç éè¯¯");\n        }\n        if (StringUtils.equals(sysUserDetails.getStatus(), "0")) {\n            throw new LockedException("ç¨æ·å·²ç¦ç¨");\n        }\n        return new UsernamePasswordAuthenticationToken(sysUserDetails, password, sysUserDetails.getAuthorities());\n    }\n\n    /**\n     * æ¯ææå®çèº«ä»½éªè¯\n     */\n    @Override\n    public boolean supports(Class<?> authentication) {\n        return true;\n    }\n\n}\n\n\n# ç»å½é»è¾\n\n/**\n * ç¨æ·ç»å½Service\n */\n@Service\npublic class SysUserDetailsService implements UserDetailsService {\n\n    @Autowired\n    private SysUserService sysUserService;\n\n    /**\n     * æ ¹æ®ç¨æ·åæ¥ç¨æ·ä¿¡æ¯\n     *\n     * @param username ç¨æ·å\n     * @return ç¨æ·è¯¦ç»ä¿¡æ¯\n     */\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        SysUser sysUser = sysUserService.findUserByUserName(username);\n        if (sysUser != null) {\n            SysUserDetails sysUserDetails = new SysUserDetails();\n            BeanUtils.copyProperties(sysUser, sysUserDetails);\n\n            Set<GrantedAuthority> authorities = new HashSet<>(); // è§è²éå\n\n            List<SysRole> roleList = sysUserService.findRoleByUserId(sysUserDetails.getId());\n            if (CollectionUtils.isNotEmpty(roleList)) {\n                roleList.forEach(role -> {\n                    authorities.add(new SimpleGrantedAuthority("ROLE_" + role.getRoleCode()));\n                });\n            }\n            sysUserDetails.setAuthorities(authorities);\n\n            return sysUserDetails;\n        }\n        return null;\n    }\n\n}\n\n\n# æéæ³¨è§£æ¦æª\n\n/**\n * ç¨æ·æéæ³¨è§£å¤çç±»\n */\n@Component\npublic class UserPermissionProvider implements PermissionEvaluator {\n\n    @Autowired\n    private SysUserService sysUserService;\n\n    /**\n     * å¤æ­æ¯å¦æ¥ææé\n     *\n     * @param authentication ç¨æ·èº«ä»½\n     * @param targetUrl      ç®æ è·¯å¾\n     * @param permission     è·¯å¾æé\n     * @return æ¯å¦æ¥ææé\n     */\n    @Override\n    public boolean hasPermission(Authentication authentication, Object targetUrl, Object permission) {\n        SysUserDetails sysUserDetails = null;\n        try {\n            sysUserDetails = (SysUserDetails) authentication.getPrincipal();\n        } catch (Exception e) {\n            return false;\n        }\n\n        /**\n        * ç½åååè®¸è®¿é®\n        * */\n        String[] matchers = JWTConfig.antMatchers.split(",");\n        List<String> matchersList = Arrays.asList(matchers);\n        if (matchersList.contains(targetUrl)){\n            return true;\n        }\n\n        Set<String> permissions = new HashSet<String>(); // ç¨æ·æé\n\n        List<SysResource> authList = sysUserService.findSourceByUserId(sysUserDetails.getId());\n        if (CollectionUtils.isNotEmpty(authList)) {\n            authList.forEach(auth -> {\n                permissions.add(auth.getPermission());\n            });\n        }\n\n        // å¤æ­æ¯å¦æ¥ææé\n        if (permissions.contains(permission.toString())) {\n            return true;\n        }\n        return false;\n    }\n\n    @Override\n    public boolean hasPermission(Authentication authentication, Serializable targetId, String targetType, Object permission) {\n        return false;\n    }\n\n}\n\n\n\n# å·¥å·ç±»\n\n# JWTå·¥å·ç±»\n\nimport com.alibaba.fastjson.JSON;\nimport com.alibaba.fastjson.TypeReference;\nimport com.springboot.system.config.JWTConfig;\nimport com.springboot.system.entity.SysUserDetails;\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.ExpiredJwtException;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport lombok.extern.slf4j.Slf4j;\nimport org.apache.commons.lang3.StringUtils;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\n\nimport java.util.*;\n\n/**\n * JWTçäº§Tokenå·¥å·ç±»\n */\n@Slf4j\npublic class JWTTokenUtil {\n\n    /**\n     * åå»ºToken\n     *\n     * @param sysUserDetails ç¨æ·ä¿¡æ¯\n     * @return\n     */\n    public static String createAccessToken(SysUserDetails sysUserDetails) {\n        String token = Jwts.builder().setId(// è®¾ç½®JWT\n                sysUserDetails.getId()) // ç¨æ·Id\n                .setSubject(sysUserDetails.getUsername()) // ä¸»é¢\n                .setIssuedAt(new Date()) // ç­¾åæ¶é´\n                .setIssuer("zksc") // ç­¾åè\n                .setExpiration(new Date(System.currentTimeMillis() + JWTConfig.expiration)) // è¿ææ¶é´\n                .signWith(SignatureAlgorithm.HS512, JWTConfig.secret) // ç­¾åç®æ³ãå¯é¥\n                .claim("authorities", JSON.toJSONString(sysUserDetails.getAuthorities())).compact(); // èªå®ä¹å¶ä»å±æ§ï¼å¦ç¨æ·ç»ç»æºæIDï¼ç¨æ·ææ¥æçè§è²ï¼ç¨æ·æéä¿¡æ¯ç­\n        return token;\n    }\n\n    /**\n     * åå»ºToken\n     *\n     * @param claims claimsä¿¡æ¯\n     * @return\n     */\n    public static String generateToken(Map<String, Object> claims) {\n        return Jwts.builder()\n                .setClaims(claims)\n                .setExpiration(new Date(System.currentTimeMillis() + JWTConfig.expiration))\n                .signWith(SignatureAlgorithm.HS512, JWTConfig.secret)\n                .compact();\n    }\n\n    /**\n     * è§£æToken\n     *\n     * @param token Tokenä¿¡æ¯\n     * @return\n     */\n    public static SysUserDetails parseAccessToken(String token) {\n        SysUserDetails sysUserDetails = null;\n        if (StringUtils.isNotEmpty(token)) {\n            try {\n                // å»é¤JWTåç¼\n                if (token.startsWith(JWTConfig.tokenPrefix)) {\n                    token = token.substring(JWTConfig.tokenPrefix.length());\n                }\n                // è§£æToken\n                Claims claims = Jwts.parser().setSigningKey(JWTConfig.secret).parseClaimsJws(token).getBody();\n                // è·åç¨æ·ä¿¡æ¯\n                sysUserDetails = new SysUserDetails();\n                sysUserDetails.setId(claims.getId());\n                sysUserDetails.setUsername(claims.getSubject());\n                // è·åè§è²\n                Set<GrantedAuthority> authorities = new HashSet<GrantedAuthority>();\n                String authority = claims.get("authorities").toString();\n                if (StringUtils.isNotEmpty(authority)) {\n                    List<Map<String, String>> authorityList = JSON.parseObject(authority,\n                            new TypeReference<List<Map<String, String>>>() {\n                            });\n                    for (Map<String, String> role : authorityList) {\n                        if (!role.isEmpty()) {\n                            authorities.add(new SimpleGrantedAuthority(role.get("authority")));\n                        }\n                    }\n                }\n                sysUserDetails.setAuthorities(authorities);\n            } catch (Exception e1) {\n                log.error("è§£æTokenå¼å¸¸ï¼" + e1.getMessage());\n            }\n        }\n        return sysUserDetails;\n    }\n\n\n    /**\n     * éªè¯Tokenæ¯å¦è¿æ\n     *\n     * @param token Tokenä¿¡æ¯\n     * @return\n     */\n    public static boolean verifyToken(String token) {\n        try {\n            // å»é¤JWTåç¼\n            if (token.startsWith(JWTConfig.tokenPrefix)) {\n                token = token.substring(JWTConfig.tokenPrefix.length());\n            }\n            Jwts.parser().setSigningKey(JWTConfig.secret).parseClaimsJws(token).getBody();\n            return false;\n        } catch (ExpiredJwtException e) {\n            log.debug(e.getMessage());\n            Date expiration = e.getClaims().getExpiration();\n            return expiration.before(new Date());\n        } catch (Exception e1) {\n            log.error(e1.getMessage());\n            return false;\n        }\n    }\n\n    /**\n     * å·æ°Token\n     *\n     * @param token Tokenä¿¡æ¯\n     * @return æ°çtoken\n     */\n    public static String refreshToken(String token) {\n        try {\n            // å»é¤JWTåç¼\n            if (token.startsWith(JWTConfig.tokenPrefix)) {\n                token = token.substring(JWTConfig.tokenPrefix.length());\n            }\n            Claims claims = Jwts.parser().setSigningKey(JWTConfig.secret).parseClaimsJws(token).getBody();\n            return generateToken(claims);\n        } catch (ExpiredJwtException e) {\n            log.debug(e.getMessage());\n            return generateToken(e.getClaims());\n        } catch (Exception e1) {\n            log.error(e1.getMessage());\n            return e1.getMessage();\n        }\n    }\n\n\n    /**\n     * è¿ææ¶é´è¿å©ååéæ¶å·æ°Token\n     *\n     * @param token\n     * @return æ°çtoken\n     */\n    public static String verifyExpired(String token) {\n        try {\n            // å»é¤JWTåç¼\n            if (token.startsWith(JWTConfig.tokenPrefix)) {\n                token = token.substring(JWTConfig.tokenPrefix.length());\n            }\n            Claims claims = Jwts.parser().setSigningKey(JWTConfig.secret).parseClaimsJws(token).getBody();\n            long expireTime = claims.getExpiration().getTime();\n            long nowTime = new Date().getTime();\n            if (expireTime - nowTime < 10 * 60 * 1000) {\n                return generateToken(claims);\n            } else {\n                return null;\n            }\n        } catch (Exception e1) {\n            log.error(e1.getMessage());\n            return null;\n        }\n    }\n\n}\n\n\n# Responseå·¥å·ç±»\n\nimport com.alibaba.fastjson.JSON;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.extern.slf4j.Slf4j;\n\nimport javax.servlet.ServletResponse;\nimport java.io.PrintWriter;\nimport java.time.Instant;\nimport java.time.ZonedDateTime;\n\n@Slf4j\n@Data\n@AllArgsConstructor\npublic class ResponseUtils {\n\n    /**\n     * è¿åç¼ç \n     */\n    private String code;\n\n    /**\n     * è¿åæ¶æ¯\n     */\n    private String msg;\n\n    /**\n     * è¿åæ°æ®\n     */\n    private Object data;\n\n    /**\n     * è¯·æ±ç»æçææ¶é´æ³\n     */\n    private Instant time;\n\n    /**\n     * Responseè¾åºJsonæ ¼å¼\n     *\n     * @param response\n     * @param data     è¿åæ°æ®\n     */\n    public static void responseJson(ServletResponse response, Object data) {\n        PrintWriter out = null;\n        try {\n            response.setCharacterEncoding("UTF-8");\n            response.setContentType("application/json");\n            out = response.getWriter();\n            out.println(JSON.toJSONString(data));\n            out.flush();\n        } catch (Exception e) {\n            log.error("Responseè¾åºJsonå¼å¸¸ï¼" + e);\n        } finally {\n            if (out != null) {\n                out.close();\n            }\n        }\n    }\n\n    /**\n     * è¿åä¿¡æ¯\n     *\n     * @param code è¿åç¼ç \n     * @param msg  è¿åæ¶æ¯\n     * @param data è¿åæ°æ®\n     * @return\n     */\n    public static ResponseUtils response(String code, String msg, Object data) {\n        return new ResponseUtils(code, msg, data, ZonedDateTime.now().toInstant());\n    }\n}\n\n\n\n# Handleréç½®\n\n# æ æé\n\n\n/**\n * æ æéå¤çç±»\n */\n@Component\npublic class UserAccessDeniedHandler implements AccessDeniedHandler {\n\n    @Override\n    public void handle(HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) {\n        ResponseUtils.responseJson(response, Result.fail(SystemErrorType.NO_PERMISSION));\n    }\n\n}\n\n\n# æªç»å½\n\n/**\n * æªç»å½å¤çç±»\n */\n@Component\npublic class UserNotLoginHandler implements AuthenticationEntryPoint {\n\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response,\n                         AuthenticationException authException) {\n        ResponseUtils.responseJson(response, Result.fail(SystemErrorType.NOT_LOGIN));\n    }\n    \n}\n\n\n# ç»åº\n\n/**\n * ç»åºæåå¤çç±»\n */\n@Component\npublic class UserLogoutSuccessHandler implements LogoutSuccessHandler {\n\n    @Override\n    public void onLogoutSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) {\n        SecurityContextHolder.clearContext();\n        ResponseUtils.responseJson(response, Result.success(SystemErrorType.LOGOUT_SUCCESS));\n    }\n    \n}\n\n\n\n# å¶ä»éç½®\n\n# jwtåºæ¬éç½®\n\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.stereotype.Component;\n\n/**\n * JWTéç½®åºç¡ç±»\n */\n@Component\n@ConfigurationProperties(prefix = "jwt")\n@SuppressWarnings("static-access")\npublic class JWTConfig {\n\n    /**\n     * å¯åKey\n     */\n    public static String secret;\n\n    /**\n     * HeaderKey\n     */\n    public static String tokenHeader;\n\n    /**\n     * Tokenåç¼\n     */\n    public static String tokenPrefix;\n\n    /**\n     * è¿ææ¶é´\n     */\n    public static Integer expiration;\n\n    /**\n     * éç½®ç½åå\n     */\n    public static String antMatchers;\n\n    /**\n     * å°è¿ææ¶é´åä½æ¢ç®ææ¯«ç§\n     *\n     * @param expiration è¿ææ¶é´ï¼åä½ç§\n     */\n    public void setExpiration(Integer expiration) {\n        this.expiration = expiration * 1000;\n    }\n\n    public void setSecret(String secret) {\n        this.secret = secret;\n    }\n\n    public void setTokenHeader(String tokenHeader) {\n        this.tokenHeader = tokenHeader;\n    }\n\n    public void setTokenPrefix(String tokenPrefix) {\n        this.tokenPrefix = tokenPrefix + " ";\n    }\n\n    public void setAntMatchers(String antMatchers) {\n        this.antMatchers = antMatchers;\n    }\n\n}\n\n\n# è·¨åéç½®\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\nimport org.springframework.web.filter.CorsFilter;\n\n@Configuration\npublic class CorsConfig {\n\n    private CorsConfiguration buildConfig() {\n        CorsConfiguration corsConfiguration = new CorsConfiguration();\n        // 1åè®¸ä»»ä½ååä½¿ç¨\n        corsConfiguration.addAllowedOrigin("*");\n        // 2åè®¸ä»»ä½å¤´\n        corsConfiguration.addAllowedHeader("*");\n        // 3åè®¸ä»»ä½æ¹æ³ï¼postãgetç­ï¼\n        corsConfiguration.addAllowedMethod("*");\n\n        corsConfiguration.setAllowCredentials(true);\n        return corsConfiguration;\n    }\n\n    @Bean\n    public CorsFilter corsFilter() {\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration("/**", buildConfig());\n        return new CorsFilter(source);\n    }\n\n}\n\n\n\n# 3.ä½¿ç¨\n\n\n# entityå±\n\n# ç¨æ·\n\nimport com.baomidou.mybatisplus.annotation.*;\nimport com.springboot.system.entity.vo.SysUserVo;\nimport lombok.Data;\nimport org.springframework.beans.BeanUtils;\n\nimport java.util.Date;\nimport java.util.List;\nimport java.util.Set;\n\n@Data\n@TableName("sys_user")\npublic class SysUser {\n\n    @TableId(type = IdType.ID_WORKER_STR)\n    private String id;\n\n    private String number;\n\n    private String username;\n\n    @TableField(exist = false)\n    private String oldPassword;\n\n    private String password;\n\n    private String mobile;\n\n    private String avatar;\n\n    private String type;\n\n    private String status = "1";\n\n    @TableLogic\n    private String deleted = "N";\n\n    @TableField(exist = false)\n    private List roles;\n\n    @TableField(exist = false)\n    private Set<String> roleIds;\n\n    @TableField(value = "created_by", fill = FieldFill.INSERT)\n    private String createdBy;\n    @TableField(value = "created_time", fill = FieldFill.INSERT)\n    private Date createdTime;\n    @TableField(value = "updated_by", fill = FieldFill.INSERT_UPDATE)\n    private String updatedBy;\n    @TableField(value = "updated_time", fill = FieldFill.INSERT_UPDATE)\n    private Date updatedTime;\n\n\n    /**\n     * poè½¬åä¸ºvo\n     *\n     * @param clazz\n     * @return\n     */\n    public SysUserVo toParam(Class<SysUserVo> clazz) {\n        SysUserVo t = BeanUtils.instantiateClass(clazz);\n        BeanUtils.copyProperties(this, t);\n        return t;\n    }\n}\n\n\n# è§è²\n\n\nimport com.baomidou.mybatisplus.annotation.*;\nimport lombok.Data;\n\nimport java.util.Date;\nimport java.util.List;\nimport java.util.Set;\n\n@Data\n@TableName("sys_role")\npublic class SysRole {\n\n    @TableId(type = IdType.ID_WORKER_STR)\n    private String id;\n\n    private String roleCode;\n\n    private String roleName;\n\n    private String roleDescription;\n\n    @TableLogic\n    private String deleted = "N";\n\n    @TableField(exist = false)\n    private Set<String> resourcesIds;\n\n    @TableField(exist = false)\n    private List resources;\n\n    @TableField(value = "created_by", fill = FieldFill.INSERT)\n    private String createdBy;\n    @TableField(value = "created_time", fill = FieldFill.INSERT)\n    private Date createdTime;\n    @TableField(value = "updated_by", fill = FieldFill.INSERT_UPDATE)\n    private String updatedBy;\n    @TableField(value = "updated_time", fill = FieldFill.INSERT_UPDATE)\n    private Date updatedTime;\n\n}\n\n\n# èµæº\n\nimport com.baomidou.mybatisplus.annotation.*;\nimport lombok.Data;\n\nimport java.util.Date;\nimport java.util.List;\n\n@Data\n@TableName("sys_resource")\npublic class SysResource {\n\n    @TableId(type = IdType.ID_WORKER_STR)\n    private String id;\n\n    private String parentId = "0";\n\n    private String title;\n\n    private String name;\n\n    private String url;\n\n    private String permission;\n\n    @TableLogic\n    private String deleted = "N";\n\n    private String menuType;\n\n    private String hidden;\n\n    private String status;\n\n    private String alwaysShow;\n\n    private int orderNumber;\n\n    private String redirect;\n\n    private String icon;\n\n    private String noCache;\n\n    private String affix;\n\n    private String breadcrumb;\n\n    private String component;\n\n    private String activeMenu;\n\n    private String remark;\n\n    @TableField(exist = false)\n    private List<SysResource> children;\n\n    @TableField(value = "created_by", fill = FieldFill.INSERT)\n    private String createdBy;\n    @TableField(value = "created_time", fill = FieldFill.INSERT)\n    private Date createdTime;\n    @TableField(value = "updated_by", fill = FieldFill.INSERT_UPDATE)\n    private String updatedBy;\n    @TableField(value = "updated_time", fill = FieldFill.INSERT_UPDATE)\n    private Date updatedTime;\n\n}\n\n\n# ç¨æ·è§è²å³è\n\nimport com.baomidou.mybatisplus.annotation.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.util.Date;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@TableName("sys_user_role")\npublic class SysUserRole {\n\n    @TableId(type = IdType.ID_WORKER_STR)\n    private String id;\n\n    private String userId;\n\n    private String roleId;\n\n    @TableLogic\n    private String deleted = "N";\n\n    @TableField(value = "created_by", fill = FieldFill.INSERT)\n    private String createdBy;\n    @TableField(value = "created_time", fill = FieldFill.INSERT)\n    private Date createdTime;\n    @TableField(value = "updated_by", fill = FieldFill.INSERT_UPDATE)\n    private String updatedBy;\n    @TableField(value = "updated_time", fill = FieldFill.INSERT_UPDATE)\n    private Date updatedTime;\n\n}\n\n\n# è§è²èµæºå³è\n\nimport com.baomidou.mybatisplus.annotation.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\n\nimport java.util.Date;\n\n@Data\n@AllArgsConstructor\n@TableName("sys_role_resource")\npublic class SysRoleResource {\n\n    @TableId(type = IdType.ID_WORKER_STR)\n    private String id;\n\n    /**\n     * è§è²ID\n     */\n    private String roleId;\n\n    /**\n     * æéID\n     */\n    private String resourceId;\n\n    @TableLogic\n    private String deleted = "N";\n\n    @TableField(value = "created_by", fill = FieldFill.INSERT)\n    private String createdBy;\n    @TableField(value = "created_time", fill = FieldFill.INSERT)\n    private Date createdTime;\n    @TableField(value = "updated_by", fill = FieldFill.INSERT_UPDATE)\n    private String updatedBy;\n    @TableField(value = "updated_time", fill = FieldFill.INSERT_UPDATE)\n    private Date updatedTime;\n\n}\n\n\n# ç»å½\n\nimport com.springboot.system.entity.po.SysUser;\nimport lombok.Data;\nimport lombok.EqualsAndHashCode;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport java.io.Serializable;\nimport java.util.Collection;\n\n/**\n * ç³»ç»ç¨æ·è¯¦æ\n */\n@Data\n@EqualsAndHashCode(callSuper = false)\npublic class SysUserDetails extends SysUser implements UserDetails, Serializable {\n    private static final long serialVersionUID = 1L;\n\n    /**\n     * ç¨æ·è§è²\n     */\n    private Collection<GrantedAuthority> authorities;\n\n    /**\n     * è´¦å·æ¯å¦è¿æ\n     */\n    private boolean isAccountNonExpired = false;\n\n    /**\n     * è´¦å·æ¯å¦éå®\n     */\n    private boolean isAccountNonLocked = false;\n\n    /**\n     * è¯ä¹¦æ¯å¦è¿æ\n     */\n    private boolean isCredentialsNonExpired = false;\n\n    /**\n     * è´¦å·æ¯å¦ææ\n     */\n    private boolean isEnabled = true;\n\n    /**\n     * è·å¾ç¨æ·æé\n     */\n    @Override\n    public Collection<? extends GrantedAuthority> getAuthorities() {\n        return authorities;\n    }\n\n    /**\n     * å¤æ­è´¦å·æ¯å¦è¿æ\n     */\n    @Override\n    public boolean isAccountNonExpired() {\n        return isAccountNonExpired;\n    }\n\n    /**\n     * å¤æ­è´¦å·æ¯å¦éå®\n     */\n    @Override\n    public boolean isAccountNonLocked() {\n        return isAccountNonLocked;\n    }\n\n    /**\n     * å¤æ­è¯ä¹¦æ¯å¦è¿æ\n     */\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return isCredentialsNonExpired;\n    }\n\n    /**\n     * å¤æ­è´¦å·æ¯å¦ææ\n     */\n    @Override\n    public boolean isEnabled() {\n        return isEnabled;\n    }\n\n}\n\n\n\n# mapperå±\n\n# ç¨æ·\n\nimport com.baomidou.mybatisplus.core.mapper.BaseMapper;\nimport com.springboot.system.entity.po.SysUser;\nimport org.apache.ibatis.annotations.Mapper;\nimport org.springframework.stereotype.Repository;\n\n@Mapper\n@Repository\npublic interface SysUserMapper extends BaseMapper<SysUser> {\n\n}\n\n\n# è§è²\n\nimport com.baomidou.mybatisplus.core.mapper.BaseMapper;\nimport com.springboot.system.entity.po.SysRole;\nimport org.apache.ibatis.annotations.Mapper;\nimport org.springframework.stereotype.Repository;\n\n@Repository\n@Mapper\npublic interface SysRoleMapper extends BaseMapper<SysRole> {\n}\n\n\n# èµæº\n\nimport com.baomidou.mybatisplus.core.mapper.BaseMapper;\nimport com.springboot.system.entity.po.SysResource;\nimport org.apache.ibatis.annotations.Mapper;\nimport org.springframework.stereotype.Repository;\n\n@Repository\n@Mapper\npublic interface SysResourceMapper extends BaseMapper<SysResource> {\n\n}\n\n\n# ç¨æ·è§è²å³è\n\nimport com.baomidou.mybatisplus.core.mapper.BaseMapper;\nimport com.springboot.system.entity.po.SysRole;\nimport org.apache.ibatis.annotations.Mapper;\nimport org.springframework.stereotype.Repository;\n\n@Repository\n@Mapper\npublic interface SysRoleMapper extends BaseMapper<SysRole> {\n}\n\n\n# è§è²èµæºå³è\n\nimport com.baomidou.mybatisplus.core.mapper.BaseMapper;\nimport com.springboot.system.entity.po.SysRoleResource;\nimport org.apache.ibatis.annotations.Mapper;\nimport org.springframework.stereotype.Repository;\n\n@Repository\n@Mapper\npublic interface SysRoleResourceMapper extends BaseMapper<SysRoleResource> {\n}\n\n\n\n# Iserviceå±\n\n# ç¨æ·\n\nimport com.baomidou.mybatisplus.core.metadata.IPage;\nimport com.baomidou.mybatisplus.extension.plugins.pagination.Page;\nimport com.springboot.common.core.entity.vo.Result;\nimport com.springboot.system.entity.form.SysUserQueryForm;\nimport com.springboot.system.entity.po.SysResource;\nimport com.springboot.system.entity.po.SysRole;\nimport com.springboot.system.entity.po.SysUser;\nimport com.springboot.system.entity.vo.SysUserVo;\n\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.Serializable;\nimport java.util.List;\n\npublic interface SysUserService {\n\n    SysUser getById(Serializable id);\n\n    /**\n     * æ ¹æ®ç¨æ·åç§°æ¥è¯¢ç¨æ·ä¿¡æ¯\n     *\n     * @param username ç¨æ·åç§°\n     * @return\n     */\n    SysUser findUserByUserName(String username);\n\n    /**\n     * æ ¹æ®ç¨æ·IDæ¥è¯¢è§è²\n     *\n     * @param userId ç¨æ·ID\n     * @return\n     */\n    List<SysRole> findRoleByUserId(String userId);\n\n    /**\n     * æ ¹æ®ç¨æ·IDæ¥è¯¢æé\n     *\n     * @param userId ç¨æ·ID\n     * @return\n     */\n    List<SysResource> findSourceByUserId(String userId);\n\n\n    /**\n     * æ ¹æ®tokenæ¥è¯¢ç¨æ·ä¿¡æ¯\n     *\n     * @param token\n     * @return\n     */\n    Result findUserByToken(String token);\n\n    /**\n     * æ·»å ç¨æ·\n     *\n     * @param sysUser\n     * @return\n     */\n    Result add(SysUser sysUser);\n\n    /**\n     * æ´æ°ç¨æ·ä¿¡æ¯\n     *\n     * @param sysUser\n     */\n    Result update(SysUser sysUser);\n\n\n    /**\n     * æ´æ¹å¤´å\n     *\n     * @param id ç¨æ·id\n     * @param avatar å¤´å\n     */\n    Result updateAvatar(String id,String avatar);\n\n    /**\n     * æ ¹æ®idå é¤ç¨æ·\n     *\n     * @param id\n     */\n    boolean delete(String id);\n\n    /**\n     * è·åç¨æ·\n     *\n     * @param id ç¨æ·id\n     * @return SysUser\n     */\n    SysUser get(String id);\n\n\n    /**\n     * æ¥è¯¢ç¨æ·\n     *\n     * @return\n     */\n    IPage<SysUser> query(Page<SysUser> page, SysUserQueryForm sysUserQueryForm);\n\n    /**\n     * å¯¼åºç¨æ·\n     *\n     * @return\n     */\n    void exportExcel(HttpServletResponse response);\n\n\n    /**\n     * æ ¹æ®è§è²æ¥è¯¢ç¨æ·\n     *\n     * @return\n     */\n    Result getUserByRoleId(String roleId);\n\n}\n\n\n# è§è²\n\nimport com.baomidou.mybatisplus.core.metadata.IPage;\nimport com.baomidou.mybatisplus.extension.plugins.pagination.Page;\nimport com.springboot.common.core.entity.vo.Result;\nimport com.springboot.system.entity.form.SysRoleQueryForm;\nimport com.springboot.system.entity.po.SysRole;\n\nimport java.io.Serializable;\nimport java.util.List;\n\npublic interface SysRoleService {\n    SysRole getById(Serializable id);\n\n    List<SysRole> getRoleByUserId(String userId);\n\n    List<SysRole> getRoleList();\n\n    Result add(SysRole sysRole);\n\n    Result update(SysRole sysRole);\n\n    Result delete(String id);\n\n    SysRole get(String id);\n\n    IPage<SysRole> query(Page<SysRole> page, SysRoleQueryForm sysRoleQueryForm);\n\n}\n\n\n# èµæº\n\nimport com.springboot.common.core.entity.vo.Result;\nimport com.springboot.system.entity.po.SysResource;\n\nimport java.io.Serializable;\nimport java.util.List;\n\npublic interface SysResourceService {\n\n    List<SysResource> getResourceByRoleId(String roleId);\n\n    List<SysResource> getResourceByRoleId(String roleId, String menuType);\n\n    boolean save(SysResource sysResource);\n\n    boolean updateById(SysResource sysResource);\n\n    boolean removeById(Serializable id);\n\n    Result delete(String id);\n\n    SysResource getById(Serializable id);\n\n    List<SysResource> getList();\n\n    List<SysResource> getByUserId(String userId, String menuType);\n\n}\n\n\n# ç¨æ·è§è²å³è\n\nimport java.util.List;\nimport java.util.Set;\n\npublic interface SysUserRoleService {\n\n    /**\n     * ç¨æ·Idæ¥è¯¢è§è²Ids\n     *\n     * @param userId\n     * @return\n     */\n    List<String> getRoleIdsByUserId(String userId);\n\n\n    /**\n     * ç»ç¨æ·æ·»å è§è²\n     *\n     * @param userId\n     * @param roleIds\n     * @return\n     */\n    boolean saveBatch(String userId, Set<String> roleIds);\n\n    /**\n     * å é¤ç¨æ·æ¥æçè§è²\n     *\n     * @param userId\n     * @return\n     */\n    boolean removeByUserId(String userId);\n\n    /**\n     * è§è²idæ¥è¯¢ç¨æ·ids\n     *\n     * @param roleId è§è²id\n     * @return\n     */\n    List<String> getUserIdsByRoleId(String roleId);\n\n}\n\n\n# è§è²èµæºå³è\n\nimport java.util.List;\nimport java.util.Set;\n\npublic interface SysRoleResourceService {\n\n\n    /**\n     * æ ¹æ®è§è²idæ¥è¯¢èµæºåè¡¨id\n     *\n     * @param roleId      è§è²id\n     * @return èµæºåè¡¨id\n     */\n    List<String> getResourceIdsByRoleId(String roleId);\n\n    /**\n     * æ¹éç»è§è²æ·»å èµæº\n     *\n     * @param roleId      è§è²id\n     * @param resourceIds èµæºidåè¡¨\n     * @return æ¯å¦æä½æå\n     */\n    boolean saveBatch(String roleId, Set<String> resourceIds);\n\n\n    /**\n     * å é¤è§è²æ¥æçèµæº\n     *\n     * @param roleId è§è²id\n     * @return æ¯å¦æä½æå\n     */\n    boolean removeByRoleId(String roleId);\n\n\n}\n\n\n\n# serviceå±\n\n# ç¨æ·\n\nimport com.alibaba.fastjson.JSONObject;\nimport com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;\nimport com.baomidou.mybatisplus.core.metadata.IPage;\nimport com.baomidou.mybatisplus.core.toolkit.CollectionUtils;\nimport com.baomidou.mybatisplus.extension.plugins.pagination.Page;\nimport com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;\nimport com.springboot.common.core.entity.vo.Result;\nimport com.springboot.common.core.exception.SystemErrorType;\nimport com.springboot.common.core.util.ConfigKeyEnum;\nimport com.springboot.common.core.util.ExcelUtil;\nimport com.springboot.system.dao.SysUserMapper;\nimport com.springboot.system.entity.SysUserDetails;\nimport com.springboot.system.entity.form.SysUserQueryForm;\nimport com.springboot.system.entity.po.SysResource;\nimport com.springboot.system.entity.po.SysRole;\nimport com.springboot.system.entity.po.SysUser;\nimport com.springboot.system.entity.vo.SysUserVo;\nimport com.springboot.system.service.SysResourceService;\nimport com.springboot.system.service.SysRoleService;\nimport com.springboot.system.service.SysUserRoleService;\nimport com.springboot.system.service.SysUserService;\nimport com.springboot.system.util.JWTTokenUtil;\nimport org.apache.commons.lang.StringUtils;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport javax.servlet.http.HttpServletResponse;\nimport java.util.*;\n\n\n@Service\npublic class SysUserServiceImpl extends ServiceImpl<SysUserMapper, SysUser> implements SysUserService {\n\n\n    @Autowired\n    SysUserMapper userMapper;\n\n    @Autowired\n    SysRoleService roleService;\n\n    @Autowired\n    SysUserRoleService userRoleService;\n\n    @Autowired\n    SysResourceService resourceService;\n\n    @Autowired\n    BCryptPasswordEncoder passwordEncoder;\n\n    @Autowired\n    SysConfigService configService;\n\n    /**\n     * æ ¹æ®ç¨æ·åç§°æ¥è¯¢ç¨æ·ä¿¡æ¯\n     *\n     * @param username ç¨æ·åç§°\n     * @return\n     */\n    @Override\n    public SysUser findUserByUserName(String username) {\n        return this.getOne(new QueryWrapper<SysUser>().apply("binary username = {0}", username));\n    }\n\n    /**\n     * æ ¹æ®ç¨æ·IDæ¥è¯¢è§è²\n     *\n     * @param userId ç¨æ·ID\n     * @return\n     */\n    @Override\n    public List<SysRole> findRoleByUserId(String userId) {\n        return roleService.getRoleByUserId(userId);\n    }\n\n    /**\n     * æ ¹æ®ç¨æ·IDæ¥è¯¢æé\n     *\n     * @param userId ç¨æ·ID\n     * @return\n     */\n    @Override\n    public List<SysResource> findSourceByUserId(String userId) {\n        List<SysRole> roleList = roleService.getRoleByUserId(userId);\n        if (CollectionUtils.isEmpty(roleList)) {\n            return null;\n        }\n        Set<SysResource> sysResources = new HashSet<>();\n        for (SysRole sysRole : roleList) {\n            List<SysResource> resourceList = resourceService.getResourceByRoleId(sysRole.getId(), "R");\n            if (CollectionUtils.isNotEmpty(resourceList)) {\n                sysResources.addAll(resourceList);\n            }\n        }\n        ArrayList<SysResource> list = new ArrayList<>();\n        list.addAll(sysResources);\n        if (CollectionUtils.isEmpty(list)) {\n            return null;\n        }\n        return list;\n    }\n\n    /**\n     * æ ¹æ®tokenæ¥è¯¢ç¨æ·ä¿¡æ¯\n     *\n     * @param token\n     * @return\n     */\n    @Override\n    public Result findUserByToken(String token) {\n        SysUserDetails sysUserDetails = JWTTokenUtil.parseAccessToken(token);\n        if (sysUserDetails == null) {\n            return Result.fail(SystemErrorType.TOKEN_EXPIRED);\n        }\n        SysUser user = this.getById(sysUserDetails.getId());\n        ArrayList<String> list = new ArrayList<>();\n        List<SysRole> roleList = roleService.getRoleByUserId(sysUserDetails.getId());\n        for (SysRole sysRole : roleList) {\n            list.add(sysRole.getRoleCode());\n        }\n        user.setRoles(list);\n        return Result.success(user.toParam(SysUserVo.class));\n    }\n\n    @Override\n    public Result add(SysUser sysUser) {\n        SysUser user = this.findUserByUserName(sysUser.getUsername());\n        if (user != null) {\n            return Result.fail("ç¨æ·å·²å­å¨ï¼");\n        }\n        if (StringUtils.isBlank(sysUser.getPassword())) {\n            return Result.fail("è¯·è¾å¥å¯ç ï¼");\n        }\n        sysUser.setPassword(passwordEncoder.encode(sysUser.getPassword()));\n        this.save(sysUser);\n        userRoleService.saveBatch(sysUser.getId(), sysUser.getRoleIds());\n        return Result.success();\n    }\n\n\n    @Override\n    @Transactional\n    public Result update(SysUser sysUser) {\n        if (StringUtils.isNotBlank(sysUser.getOldPassword())) {\n            SysUser user = this.getById(sysUser.getId());\n            boolean matches = passwordEncoder.matches(sysUser.getOldPassword(), user.getPassword());\n            if (!matches) {\n                return Result.fail("æ§å¯ç éè¯¯ï¼");\n            }\n            if (StringUtils.isNotBlank(sysUser.getPassword())) {\n                sysUser.setPassword(passwordEncoder.encode(sysUser.getPassword()));\n            }\n        }\n        if (StringUtils.isNotBlank(sysUser.getAvatar())) {\n            String nginx = configService.getStrValue(ConfigKeyEnum.NGINX_PIC_PATH.getConfigKey());\n            if (sysUser.getAvatar().startsWith(nginx)) {\n                sysUser.setAvatar(sysUser.getAvatar().substring(nginx.length()));\n            }\n        }\n        if (StringUtils.isBlank(sysUser.getPassword())) {\n            SysUser user = this.getById(sysUser.getId());\n            sysUser.setPassword(user.getPassword());\n        }\n        this.updateById(sysUser);\n        userRoleService.saveBatch(sysUser.getId(), sysUser.getRoleIds());\n        return Result.success();\n    }\n\n    @Override\n    public Result updateAvatar(String id, String avatar) {\n        SysUser sysUser = this.getById(id);\n        if (StringUtils.isNotBlank(avatar)) {\n            String nginx = configService.getStrValue(ConfigKeyEnum.NGINX_PIC_PATH.getConfigKey());\n            if (avatar.startsWith(nginx)) {\n                avatar = avatar.substring(nginx.length());\n            }\n        }\n        sysUser.setAvatar(avatar);\n        this.updateById(sysUser);\n        return Result.success();\n    }\n\n    @Override\n    @Transactional\n    public boolean delete(String id) {\n        this.removeById(id);\n        return userRoleService.removeByUserId(id);\n    }\n\n    @Override\n    public SysUser get(String id) {\n        SysUser sysUser = this.getById(id);\n        if (Objects.isNull(sysUser)) {\n            return null;\n        }\n        if (StringUtils.isNotBlank(sysUser.getAvatar())) {\n            String nginx = configService.getStrValue(ConfigKeyEnum.NGINX_PIC_PATH.getConfigKey());\n            StringBuilder stringBuilder = new StringBuilder(nginx);\n            stringBuilder.append(sysUser.getAvatar());\n            sysUser.setAvatar(stringBuilder.toString());\n        }\n        List<SysRole> roleList = roleService.getRoleByUserId(sysUser.getId());\n        sysUser.setRoles(roleList);\n        return sysUser;\n    }\n\n    @Override\n    public IPage<SysUser> query(Page<SysUser> page, SysUserQueryForm sysUserQueryForm) {\n        QueryWrapper<SysUser> queryWrapper = new QueryWrapper<>();\n        if (StringUtils.isNotBlank(sysUserQueryForm.getNumber())) {\n            queryWrapper.lambda().like(SysUser::getNumber, sysUserQueryForm.getNumber());\n        }\n        if (StringUtils.isNotBlank(sysUserQueryForm.getUsername())) {\n//            queryWrapper.apply("binary username = {0}", sysUserQueryForm.getUsername());\n            queryWrapper.lambda().like(SysUser::getUsername, sysUserQueryForm.getUsername());\n        }\n        if (StringUtils.isNotBlank(sysUserQueryForm.getType())) {\n            queryWrapper.lambda().like(SysUser::getType, sysUserQueryForm.getType());\n        }\n        if (sysUserQueryForm.getCreatedTimeStart() != null && sysUserQueryForm.getCreatedTimeEnd() != null) {\n            queryWrapper.lambda().between(SysUser::getCreatedTime, sysUserQueryForm.getCreatedTimeStart(), sysUserQueryForm.getCreatedTimeEnd());\n        }\n        IPage userPage = this.page(page, queryWrapper);\n        ArrayList<SysUserVo> list = new ArrayList<>();\n        List<SysUser> records = userPage.getRecords();\n        for (SysUser user : records) {\n            user.setRoles(roleService.getRoleByUserId(user.getId()));\n            list.add(user.toParam(SysUserVo.class));\n        }\n        userPage.setRecords(list);\n        return userPage;\n    }\n\n    @Override\n    public void exportExcel(HttpServletResponse response) {\n        List<SysUser> list = this.list();\n        ArrayList<SysUserVo> userVoList = new ArrayList<>();\n        for (SysUser user : list) {\n            //user.setRoles(roleService.getRoleByUserId(user.getId()));\n            userVoList.add(user.toParam(SysUserVo.class));\n        }\n        ExcelUtil.exportExcel(userVoList, "ç¨æ·åè¡¨", "sheet", SysUserVo.class, "ç¨æ·åè¡¨.xls", response);\n    }\n\n    @Override\n    public Result getUserByRoleId(String roleId) {\n        List<String> userIds = userRoleService.getUserIdsByRoleId(roleId);\n        if (userIds == null || userIds.isEmpty()) {\n            return Result.success(new ArrayList<>());\n        }\n        Collection<SysUser> sysUsers = this.listByIds(userIds);\n        ArrayList list = new ArrayList<>();\n        sysUsers.forEach(sysUser -> {\n            JSONObject jsonObject = new JSONObject();\n            jsonObject.put("id", sysUser.getId());\n            jsonObject.put("username", sysUser.getUsername());\n            list.add(jsonObject);\n        });\n        return Result.success(list);\n    }\n}\n\n\n# è§è²\n\nimport com.baomidou.mybatisplus.core.conditions.query.LambdaQueryWrapper;\nimport com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;\nimport com.baomidou.mybatisplus.core.metadata.IPage;\nimport com.baomidou.mybatisplus.core.toolkit.CollectionUtils;\nimport com.baomidou.mybatisplus.extension.plugins.pagination.Page;\nimport com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;\nimport com.springboot.admin.entity.po.DailyReminder;\nimport com.springboot.admin.service.impl.DailyReminderService;\nimport com.springboot.common.core.entity.vo.Result;\nimport com.springboot.quartz.service.SysJobService;\nimport com.springboot.system.dao.SysRoleMapper;\nimport com.springboot.system.entity.form.SysRoleQueryForm;\nimport com.springboot.system.entity.po.SysResource;\nimport com.springboot.system.entity.po.SysRole;\nimport com.springboot.system.service.SysResourceService;\nimport com.springboot.system.service.SysRoleResourceService;\nimport com.springboot.system.service.SysRoleService;\nimport com.springboot.system.service.SysUserRoleService;\nimport org.apache.commons.lang.StringUtils;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.List;\n\n@Service\npublic class SysRoleServiceImpl extends ServiceImpl<SysRoleMapper, SysRole> implements SysRoleService {\n\n\n    @Autowired\n    SysUserRoleService userRoleService;\n\n    @Autowired\n    SysRoleResourceService roleResourceService;\n\n    @Autowired\n    SysResourceService resourceService;\n\n    @Autowired\n    DailyReminderService dailyReminderService;\n\n    /**\n     * æ ¹æ®ç¨æ·IDæ¥è¯¢è§è²\n     *\n     * @param userId ç¨æ·ID\n     * @return\n     */\n    public List<SysRole> getRoleByUserId(String userId) {\n        List<String> roleIds = userRoleService.getRoleIdsByUserId(userId);\n        if (roleIds.isEmpty()) {\n            return new ArrayList<>();\n        }\n        return (List<SysRole>) this.listByIds(roleIds);\n    }\n\n    /**\n     * æ¥è¯¢è§è²åè¡¨\n     */\n    @Override\n    public List<SysRole> getRoleList() {\n        return this.list();\n    }\n\n    /**\n     * æ·»å è§è²\n     *\n     * @param sysRole\n     * @return Result\n     */\n    @Override\n    @Transactional\n    public Result add(SysRole sysRole) {\n        SysRole role = this.getOne(new QueryWrapper<SysRole>().lambda().eq(SysRole::getRoleCode, sysRole.getRoleCode()));\n        if (role != null) {\n            return Result.fail("å·²ç»å­å¨è¯¥è§è²");\n        }\n        this.save(sysRole);\n        roleResourceService.saveBatch(sysRole.getId(), sysRole.getResourcesIds());\n        return Result.success();\n    }\n\n    /**\n     * ä¿®æ¹è§è²\n     *\n     * @param sysRole\n     * @return Result\n     */\n    @Override\n    @Transactional\n    public Result update(SysRole sysRole) {\n        SysRole sysRoleData = this.getById(sysRole.getId());\n        List<DailyReminder> listByRole = dailyReminderService.getListByRole(sysRoleData.getRoleCode());\n        //ä¿®æ¹æ¯æ¥å¾åäºä»¶éçè§è²\n        if (listByRole.size() != 0 && !sysRole.getRoleCode().equals(sysRoleData.getRoleCode())){\n            listByRole.forEach(dailyReminder -> {\n                dailyReminder.setRole(sysRole.getRoleCode());\n                dailyReminderService.update(dailyReminder);\n            });\n        }\n        this.updateById(sysRole);\n        if (CollectionUtils.isNotEmpty(sysRole.getResourcesIds())) {\n            roleResourceService.saveBatch(sysRole.getId(), sysRole.getResourcesIds());\n        }\n        return Result.success();\n    }\n\n    /**\n     * å é¤è§è²\n     *\n     * @param id\n     * @return Result\n     */\n    @Override\n    public Result delete(String id) {\n        SysRole sysRoleData = this.getById(id);\n        List<DailyReminder> listByRole = dailyReminderService.getListByRole(sysRoleData.getRoleCode());\n        if (listByRole.size() != 0){\n            return Result.fail("æ¯æ¥å¾åäºä»¶éå­å¨è¯¥è§è²ï¼è¯·åå é¤æ¯æ¥å¾åäºä»¶éçè§è²ï¼");\n        }\n        this.removeById(id);\n        roleResourceService.removeByRoleId(id);\n        return Result.success();\n    }\n\n    /**\n     * æ ¹æ®idè·åè§è²\n     *\n     * @param id\n     * @return SysRole\n     */\n    @Override\n    public SysRole get(String id) {\n        SysRole sysRole = this.getById(id);\n        ArrayList<SysResource> list = new ArrayList<>();\n        List<String> resourceIds = roleResourceService.getResourceIdsByRoleId(id);\n        HashSet<String> set = new HashSet<>();\n        set.addAll(resourceIds);\n        sysRole.setResourcesIds(set);\n        return sysRole;\n    }\n\n    @Override\n    public IPage<SysRole> query(Page<SysRole> page, SysRoleQueryForm sysRoleQueryForm) {\n        LambdaQueryWrapper<SysRole> queryWrapper = new QueryWrapper<SysRole>().lambda();\n        if (StringUtils.isNotBlank(sysRoleQueryForm.getRoleName())) {\n            queryWrapper.like(SysRole::getRoleName, sysRoleQueryForm.getRoleName());\n        }\n        return this.page(page, queryWrapper);\n    }\n}\n\n\n# èµæº\n\nimport com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;\nimport com.baomidou.mybatisplus.core.toolkit.CollectionUtils;\nimport com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;\nimport com.springboot.common.core.entity.vo.Result;\nimport com.springboot.system.dao.SysResourceMapper;\nimport com.springboot.system.entity.po.SysResource;\nimport com.springboot.system.entity.po.SysRole;\nimport com.springboot.system.service.SysResourceService;\nimport com.springboot.system.service.SysRoleResourceService;\nimport com.springboot.system.service.SysRoleService;\nimport org.apache.commons.lang.StringUtils;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.HashSet;\nimport java.util.List;\n\nimport static java.util.Comparator.comparing;\n\n@Service\npublic class SysResourceServiceImpl extends ServiceImpl<SysResourceMapper, SysResource> implements SysResourceService {\n\n\n    @Autowired\n    SysRoleService roleService;\n\n    @Autowired\n    SysRoleResourceService roleResourceService;\n\n\n    /**\n     * æ ¹æ®è§è²IDæ¥è¯¢èµæº\n     *\n     * @param roleId ç¨è§è²ID\n     * @return\n     */\n    public List<SysResource> getResourceByRoleId(String roleId) {\n        List<String> resourceIds = roleResourceService.getResourceIdsByRoleId(roleId);\n        if (CollectionUtils.isEmpty(resourceIds)) {\n            return null;\n        }\n        return (List<SysResource>) this.listByIds(resourceIds);\n    }\n\n\n    /**\n     * æ ¹æ®è§è²IDæ¥è¯¢åç«¯èµæº\n     *\n     * @param roleId ç¨è§è²ID\n     * @return\n     */\n    public List<SysResource> getResourceByRoleId(String roleId, String menuType) {\n        List<String> resourceIds = roleResourceService.getResourceIdsByRoleId(roleId);\n        if (CollectionUtils.isEmpty(resourceIds)) {\n            return null;\n        }\n        ArrayList<SysResource> list = new ArrayList<>();\n        Collection<SysResource> sysResources = this.listByIds(resourceIds);\n        sysResources.forEach(sysResource -> {\n            if (StringUtils.isNotBlank(sysResource.getPermission()) || StringUtils.equals(menuType, sysResource.getMenuType())) {\n                list.add(sysResource);\n            }\n        });\n        return list;\n    }\n\n    /**\n     * æ ¹æ®IDå é¤èµæº\n     *\n     * @param id èµæºID\n     * @return\n     */\n    @Override\n    public Result delete(String id) {\n        List<SysResource> list = this.list(new QueryWrapper<SysResource>().lambda().eq(SysResource::getParentId, id));\n        if (CollectionUtils.isNotEmpty(list)) {\n            return Result.fail("å­å¨ä¸çº§èåï¼ä¸åè®¸å é¤ï¼");\n        }\n        this.removeById(id);\n        return Result.success();\n    }\n\n\n    /**\n     * è·åèµæºåè¡¨\n     * éè¿æ çå½¢å¼è¿å\n     */\n    @Override\n    public List<SysResource> getList() {\n        List<SysResource> resourceList = this.list();\n        if (CollectionUtils.isEmpty(resourceList)) {\n            return null;\n        }\n        //æ¿å°é¡¶çº§èå\n        ArrayList<SysResource> list = new ArrayList<>();\n        for (SysResource sysResource : resourceList) {\n            if (StringUtils.equals(sysResource.getParentId(), "0")) {\n                list.add(sysResource);\n            }\n        }\n        list.sort(comparing(SysResource::getOrderNumber));\n        //å¾ªç¯é¡¶çº§èåè®¾ç½®å­èå\n        for (SysResource sysResource : list) {\n            sysResource.setChildren(getResourceChildren(sysResource.getId(), resourceList));\n        }\n        return list;\n    }\n\n    /**\n     * æ ¹æ®ç¨æ·IDæ¥è¯¢èµæº\n     *\n     * @param userId   ç¨æ·id\n     * @param menuType èåç±»å\n     * @return: èµæºåè¡¨\n     */\n    @Override\n    public List<SysResource> getByUserId(String userId, String menuType) {\n        List<SysRole> roleList = roleService.getRoleByUserId(userId);\n        if (CollectionUtils.isEmpty(roleList)) {\n            return null;\n        }\n        HashSet<String> set = new HashSet<>();\n        roleList.forEach(sysRole -> {\n            List<String> resourceIds = roleResourceService.getResourceIdsByRoleId(sysRole.getId());\n            set.addAll(resourceIds);\n        });\n        if (CollectionUtils.isEmpty(set)) {\n            return new ArrayList<>();\n        }\n        List<SysResource> resourceList = this.list(new QueryWrapper<SysResource>().lambda().eq(SysResource::getMenuType, menuType).in(SysResource::getId, set));\n        //æ¿å°é¡¶çº§èå\n        ArrayList<SysResource> list = new ArrayList<>();\n        for (SysResource sysResource : resourceList) {\n            if (StringUtils.equals(sysResource.getParentId(), "0")) {\n                list.add(sysResource);\n            }\n        }\n        list.sort(comparing(SysResource::getOrderNumber));\n        //å¾ªç¯é¡¶çº§èåè®¾ç½®å­èå\n        for (SysResource sysResource : list) {\n            sysResource.setChildren(getResourceChildren(sysResource.getId(), resourceList));\n        }\n        return list;\n    }\n\n    /**\n     * éå½æ¥è¯¢èµæº\n     *\n     * @param list é¡¶çº§èµæºåè¡¨\n     * @return: èµæºåè¡¨\n     */\n    private List<SysResource> getResourceChildren(String id, List<SysResource> list) {\n        List<SysResource> childrenList = new ArrayList<>();\n        if (CollectionUtils.isEmpty(list)) {\n            return null;\n        }\n        for (SysResource sysResource : list) {\n            if (StringUtils.equals(sysResource.getParentId(), id)) {\n                childrenList.add(sysResource);\n            }\n        }\n        for (SysResource sysResource : childrenList) {\n            sysResource.setChildren(getResourceChildren(sysResource.getId(), list));\n        }\n        childrenList.sort(comparing(SysResource::getOrderNumber));\n        return childrenList;\n    }\n\n}\n\n\n# ç¨æ·è§è²å³è\n\nimport com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;\nimport com.baomidou.mybatisplus.core.toolkit.CollectionUtils;\nimport com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;\nimport com.springboot.system.dao.SysUserRoleMapper;\nimport com.springboot.system.entity.po.SysUserRole;\nimport com.springboot.system.service.SysUserRoleService;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\n@Service\npublic class SysUserRoleServiceImpl extends ServiceImpl<SysUserRoleMapper, SysUserRole> implements SysUserRoleService {\n\n\n    /**\n     * æ ¹æ®ç¨æ·IDæ¥è¯¢è§è²ids\n     *\n     * @param userId ç¨æ·ID\n     * @return\n     */\n    @Override\n    public List<String> getRoleIdsByUserId(String userId) {\n        List<SysUserRole> sysUserRoles = this.list(new QueryWrapper<SysUserRole>().lambda().eq(SysUserRole::getUserId, userId));\n        if (sysUserRoles.isEmpty()) {\n            return new ArrayList<>();\n        }\n        ArrayList<String> list = new ArrayList<>();\n        for (SysUserRole sysUserRole : sysUserRoles) {\n            list.add(sysUserRole.getRoleId());\n        }\n        return list;\n    }\n\n\n    @Override\n    @Transactional\n    public boolean saveBatch(String userId, Set<String> roleIds) {\n        if (CollectionUtils.isEmpty(roleIds)) {\n            return false;\n        }\n        removeByUserId(userId);\n        Set<SysUserRole> userRoles = roleIds.stream().map(roleId -> new SysUserRole(null, userId, roleId, "N", null, null, null, null)).collect(Collectors.toSet());\n        return saveBatch(userRoles);\n    }\n\n    @Override\n    @Transactional\n    public boolean removeByUserId(String userId) {\n        return remove(new QueryWrapper<SysUserRole>().lambda().eq(SysUserRole::getUserId, userId));\n    }\n\n    @Override\n    public List<String> getUserIdsByRoleId(String roleId) {\n        List<SysUserRole> sysUserRoles = this.list(new QueryWrapper<SysUserRole>().lambda().eq(SysUserRole::getRoleId, roleId));\n        if (sysUserRoles.isEmpty()) {\n            return new ArrayList<>();\n        }\n        ArrayList<String> list = new ArrayList<>();\n        for (SysUserRole sysUserRole : sysUserRoles) {\n            list.add(sysUserRole.getUserId());\n        }\n        return list;\n    }\n\n}\n\n\n# è§è²èµæºå³è\n\nimport com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;\nimport com.baomidou.mybatisplus.core.toolkit.CollectionUtils;\nimport com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;\nimport com.springboot.system.dao.SysRoleResourceMapper;\nimport com.springboot.system.entity.po.SysRoleResource;\nimport com.springboot.system.service.SysRoleResourceService;\nimport org.springframework.stereotype.Service;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\n@Service\npublic class SysRoleResourceServiceImpl extends ServiceImpl<SysRoleResourceMapper, SysRoleResource> implements SysRoleResourceService {\n\n\n    /**\n     * æ ¹æ®è§è²IDæ¥è¯¢èµæºids\n     *\n     * @param roleId ç¨è§è²ID\n     * @return\n     */\n    @Override\n    public List<String> getResourceIdsByRoleId(String roleId) {\n        List<SysRoleResource> sysRoleResources = this.list(new QueryWrapper<SysRoleResource>().lambda().eq(SysRoleResource::getRoleId, roleId));\n        ArrayList<String> list = new ArrayList<>();\n        for (SysRoleResource sysRoleResource : sysRoleResources) {\n            list.add(sysRoleResource.getResourceId());\n        }\n        return list;\n    }\n\n    @Override\n    public boolean saveBatch(String roleId, Set<String> resourceIds) {\n        if (CollectionUtils.isEmpty(resourceIds)) {\n            return false;\n        }\n        this.removeByRoleId(roleId);\n        Set<SysRoleResource> userRoles = resourceIds.stream().map(resourceId -> new SysRoleResource(null, roleId, resourceId, "N", null, null, null, null)).collect(Collectors.toSet());\n        return saveBatch(userRoles);\n    }\n\n\n    public boolean removeByRoleId(String roleId) {\n        QueryWrapper<SysRoleResource> queryWrapper = new QueryWrapper<>();\n        queryWrapper.lambda().eq(SysRoleResource::getRoleId, roleId);\n        return remove(queryWrapper);\n    }\n\n}\n\n\n# ç»å½\n\nimport com.baomidou.mybatisplus.core.toolkit.CollectionUtils;\nimport com.springboot.system.entity.SysUserDetails;\nimport com.springboot.system.entity.po.SysRole;\nimport com.springboot.system.entity.po.SysUser;\nimport com.springboot.system.service.SysUserService;\nimport org.springframework.beans.BeanUtils;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\n\n/**\n * ç¨æ·ç»å½Service\n */\n@Service\npublic class SysUserDetailsService implements UserDetailsService {\n\n    @Autowired\n    private SysUserService sysUserService;\n\n    /**\n     * æ ¹æ®ç¨æ·åæ¥ç¨æ·ä¿¡æ¯\n     *\n     * @param username ç¨æ·å\n     * @return ç¨æ·è¯¦ç»ä¿¡æ¯\n     */\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        SysUser sysUser = sysUserService.findUserByUserName(username);\n        if (sysUser != null) {\n            SysUserDetails sysUserDetails = new SysUserDetails();\n            BeanUtils.copyProperties(sysUser, sysUserDetails);\n\n            Set<GrantedAuthority> authorities = new HashSet<>(); // è§è²éå\n\n            List<SysRole> roleList = sysUserService.findRoleByUserId(sysUserDetails.getId());\n            if (CollectionUtils.isNotEmpty(roleList)) {\n                roleList.forEach(role -> {\n                    authorities.add(new SimpleGrantedAuthority("ROLE_" + role.getRoleCode()));\n                });\n            }\n            sysUserDetails.setAuthorities(authorities);\n\n            return sysUserDetails;\n        }\n        return null;\n    }\n}\n\n\n\n# controllerå±\n\n# ç¨æ·\n\nimport com.baomidou.mybatisplus.core.metadata.IPage;\nimport com.springboot.admin.service.IOutsideAuditSchemeService;\nimport com.springboot.aop.annotation.SysLog;\nimport com.springboot.aop.enums.SysOperateLogEnum;\nimport com.springboot.common.core.entity.vo.Result;\nimport com.springboot.system.entity.form.SysUserQueryForm;\nimport com.springboot.system.entity.po.SysUser;\nimport com.springboot.system.entity.vo.SysUserVo;\nimport com.springboot.system.service.SysUserService;\nimport io.swagger.annotations.ApiImplicitParam;\nimport io.swagger.annotations.ApiOperation;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.access.prepost.PreAuthorize;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.servlet.http.HttpServletResponse;\nimport javax.validation.Valid;\n\n\n@Slf4j\n@RestController\n@RequestMapping("/user")\npublic class SysUserController {\n\n    @Autowired\n    SysUserService userService;\n    @Autowired\n    IOutsideAuditSchemeService outsideAuditSchemeService;\n\n    @ApiOperation(value = "æ ¹æ®tokenè·åç¨æ·", notes = "æ ¹æ®tokenè·åç¨æ·")\n    @ApiImplicitParam(name = "token", value = "token", required = true, dataType = "String")\n    @PreAuthorize(value = "hasPermission(\'/user/info\',\'sys:user:info\')")\n    @PostMapping("/info")\n    public Result info(@RequestParam("token") String token) {\n        log.debug("get user with token:{}", token);\n        return userService.findUserByToken(token);\n    }\n\n    @ApiOperation(value = "æ°å¢ç¨æ·", notes = "æ°å¢ä¸ä¸ªç¨æ·")\n    @ApiImplicitParam(name = "sysUser", value = "æ°å¢ç¨æ·sysUserè¡¨å", required = true, dataType = "SysUser")\n    @SysLog(operateModel = "ç¨æ·ç®¡ç", operateType = SysOperateLogEnum.INSERT)\n    @PreAuthorize(value = "hasPermission(\'/user/add\',\'sys:user:add\')")\n    @PostMapping("/add")\n    public Result add(@Valid @RequestBody SysUser sysUser) {\n        log.debug("add user with:{}", sysUser);\n        return userService.add(sysUser);\n    }\n\n    @ApiOperation(value = "ä¿®æ¹ç¨æ·", notes = "ä¿®æ¹æå®ç¨æ·ä¿¡æ¯")\n    @ApiImplicitParam(name = "SysUser", value = "ç¨æ·å®ä½", required = true, dataType = "SysUser")\n    @SysLog(operateModel = "ç¨æ·ç®¡ç", operateType = SysOperateLogEnum.UPDATE)\n    @PreAuthorize(value = "hasPermission(\'/user/update\',\'sys:user:update\')")\n    @PutMapping(value = "/update")\n    public Result update(@Valid @RequestBody SysUser sysUser) {\n        log.debug("update user with:{}", sysUser);\n        return userService.update(sysUser);\n    }\n\n    @ApiOperation(value = "ä¿®æ¹å¤´å", notes = "ä¿®æ¹å¤´å")\n    @SysLog(operateModel = "ç¨æ·ç®¡ç", operateType = SysOperateLogEnum.UPDATE)\n    @PreAuthorize(value = "hasPermission(\'/user/updateAvatar\',\'sys:user:updateAvatar\')")\n    @PutMapping(value = "/updateAvatar")\n    public Result updateAvatar(@RequestParam String id,@RequestParam String avatar) {\n        log.debug("update avatar with userId:{}", id);\n        return userService.updateAvatar(id,avatar);\n    }\n\n    @ApiOperation(value = "å é¤ç¨æ·", notes = "æ ¹æ®idæ¥æå®å é¤å¯¹è±¡ï¼é»è¾å é¤")\n    @SysLog(operateModel = "ç¨æ·ç®¡ç", operateType = SysOperateLogEnum.DELETE)\n    @PreAuthorize(value = "hasPermission(\'/user/delete\',\'sys:user:del\')")\n    @DeleteMapping(value = "/delete")\n    public Result delete(@RequestParam String id) {\n        log.debug("delete user for:{}", id);\n        if (outsideAuditSchemeService.checkByUserId(id)) {\n            return Result.fail("è¯¥ç¨æ·idå¨æå¤å®¡æ¹æ¹æ¡ä¸­è¢«ä½¿ç¨ï¼æ æ³å é¤ï¼");\n        }\n        boolean result = userService.delete(id);\n        if (result) {\n            return Result.success();\n        }\n        return Result.fail();\n    }\n\n    @ApiOperation(value = "è·åç¨æ·", notes = "è·åæå®ç¨æ·ä¿¡æ¯")\n    @PreAuthorize(value = "hasPermission(\'/user/get\',\'sys:user:get\')")\n    @GetMapping(value = "/get")\n    public Result get(@RequestParam String id) {\n        log.debug("get user with id:{}", id);\n        SysUser user = userService.get(id);\n        SysUserVo sysUserVo = user.toParam(SysUserVo.class);\n        return Result.success(sysUserVo);\n    }\n\n\n    @ApiOperation(value = "æç´¢ç¨æ·", notes = "æ ¹æ®æ¡ä»¶æ¥è¯¢ç¨æ·ä¿¡æ¯")\n    @ApiImplicitParam(name = "sysUserQueryForm", value = "ç¨æ·æ¥è¯¢åæ°", required = true, dataType = "SysUserQueryForm")\n    @PreAuthorize(value = "hasPermission(\'/user/query\',\'sys:user:query\')")\n    @PostMapping(value = "/query")\n    public Result query(@Valid @RequestBody SysUserQueryForm sysUserQueryForm) {\n        log.debug("query with sysUserQueryForm:{}", sysUserQueryForm);\n        IPage<SysUser> userVoIPage = userService.query(sysUserQueryForm.getPage(), sysUserQueryForm);\n        return Result.success(userVoIPage);\n    }\n\n    @ApiOperation(value = "å¯¼åºç¨æ·åè¡¨", notes = "å¯¼åºç¨æ·åè¡¨")\n    @SysLog(operateModel = "ç¨æ·ç®¡ç", operateType = SysOperateLogEnum.EXPORT)\n    @PreAuthorize(value = "hasPermission(\'/user/export\',\'sys:user:export\')")\n    @GetMapping(value = "/export")\n    public void export(HttpServletResponse response) {\n        log.debug("export user list");\n        userService.exportExcel(response);\n    }\n\n\n    @ApiOperation(value = "è·åç¨æ·", notes = "æ ¹æ®è§è²è·åç¨æ·")\n    @PreAuthorize(value = "hasPermission(\'/user/getUserByRoleId\',\'sys:user:getUserByRoleId\')")\n    @GetMapping(value = "/getUserByRoleId")\n    public Result getUserByRole(@RequestParam String roleId) {\n        log.debug("get user roleId:{}", roleId);\n        return userService.getUserByRoleId(roleId);\n    }\n\n}\n\n\n# è§è²\n\nimport com.baomidou.mybatisplus.core.metadata.IPage;\nimport com.springboot.aop.annotation.SysLog;\nimport com.springboot.aop.enums.SysOperateLogEnum;\nimport com.springboot.common.core.entity.vo.Result;\nimport com.springboot.admin.service.IOutsideAuditSchemeService;\nimport com.springboot.system.entity.form.SysRoleQueryForm;\nimport com.springboot.system.entity.po.SysRole;\nimport com.springboot.system.entity.po.SysUser;\nimport com.springboot.system.service.SysRoleService;\nimport io.swagger.annotations.ApiImplicitParam;\nimport io.swagger.annotations.ApiOperation;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.access.prepost.PreAuthorize;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\n\n@Slf4j\n@RestController\n@RequestMapping("/role")\npublic class SysRoleController {\n\n    @Autowired\n    SysRoleService roleService;\n    @Autowired\n    IOutsideAuditSchemeService outsideAuditSchemeService;\n\n\n    @ApiOperation(value = "æ°å¢è§è²", notes = "æ°å¢ä¸ä¸ªè§è²")\n    @ApiImplicitParam(name = "SysRole", value = "æ°å¢è§è²SysRoleè¡¨å", required = true, dataType = "SysRole")\n    @SysLog(operateModel = "è§è²ç®¡ç", operateType = SysOperateLogEnum.INSERT)\n    @PreAuthorize(value = "hasPermission(\'/role/add\',\'sys:role:add\')")\n    @PostMapping("/add")\n    public Result add(@Valid @RequestBody SysRole sysRole) {\n        log.debug("add role with:{}", sysRole);\n        return roleService.add(sysRole);\n    }\n\n\n    @ApiOperation(value = "ä¿®æ¹è§è²", notes = "ä¿®æ¹æå®è§è²ä¿¡æ¯")\n    @ApiImplicitParam(name = "SysRole", value = "è§è²å®ä½", required = true, dataType = "SysRole")\n    @SysLog(operateModel = "è§è²ç®¡ç", operateType = SysOperateLogEnum.UPDATE)\n    @PreAuthorize(value = "hasPermission(\'/role/update\',\'sys:role:update\')")\n    @PutMapping(value = "/update")\n    public Result update(@Valid @RequestBody SysRole sysRole) {\n        log.debug("update role with:{}", sysRole);\n        return roleService.update(sysRole);\n    }\n\n    @ApiOperation(value = "å é¤è§è²", notes = "æ ¹æ®idæ¥æå®å é¤è§è²ï¼é»è¾å é¤")\n    @ApiImplicitParam(paramType = "param", name = "id", value = "è§è²ID", required = true, dataType = "string")\n    @SysLog(operateModel = "è§è²ç®¡ç", operateType = SysOperateLogEnum.DELETE)\n    @PreAuthorize(value = "hasPermission(\'/role/delete\',\'sys:role:del\')")\n    @DeleteMapping(value = "/delete")\n    public Result delete(@RequestParam String id) {\n        log.debug("delete role for:{}", id);\n        if(outsideAuditSchemeService.checkByRoleId(id)){\n            return Result.fail("è¯¥è§è²idå¨æå¤å®¡æ¹æ¹æ¡ä¸­è¢«ä½¿ç¨ï¼æ æ³å é¤ï¼");\n        }\n        return roleService.delete(id);\n    }\n\n    @ApiOperation(value = "è·åè§è²", notes = "è·åæå®è§è²ä¿¡æ¯")\n    @ApiImplicitParam(paramType = "param", name = "id", value = "è§è²ID", required = true, dataType = "string")\n    @PreAuthorize(value = "hasPermission(\'/role/get\',\'sys:role:get\')")\n    @GetMapping(value = "/get")\n    public Result get(@RequestParam String id) {\n        log.debug("get role with id:{}", id);\n        SysRole sysRole = roleService.get(id);\n        return Result.success(sysRole);\n    }\n\n\n    @ApiOperation(value = "æç´¢è§è²", notes = "æ ¹æ®æ¡ä»¶æ¥è¯¢è§è²ä¿¡æ¯")\n    @ApiImplicitParam(name = "SysRoleQueryForm", value = "è§è²æ¥è¯¢åæ°", required = true, dataType = "SysRoleQueryForm")\n    @PreAuthorize(value = "hasPermission(\'/role/query\',\'sys:role:query\')")\n    @PostMapping(value = "/query")\n    public Result query(@Valid @RequestBody SysRoleQueryForm sysRoleQueryForm) {\n        log.debug("query with sysRoleQueryForm:{}", sysRoleQueryForm);\n        IPage<SysUser> userVoIPage = roleService.query(sysRoleQueryForm.getPage(), sysRoleQueryForm);\n        return Result.success(userVoIPage);\n    }\n\n    @ApiOperation(value = "æ¥è¯¢è§è²åè¡¨", notes = "æ¥è¯¢è§è²åè¡¨")\n    @PreAuthorize(value = "hasPermission(\'/role/lsit\',\'sys:role:list\')")\n    @GetMapping("/list")\n    public Result list() {\n        return Result.success(roleService.getRoleList());\n    }\n\n}\n\n\n# èµæº\n\nimport com.springboot.aop.annotation.SysLog;\nimport com.springboot.aop.enums.SysOperateLogEnum;\nimport com.springboot.common.core.entity.vo.Result;\nimport com.springboot.system.entity.po.SysResource;\nimport com.springboot.system.service.SysResourceService;\nimport io.swagger.annotations.ApiImplicitParam;\nimport io.swagger.annotations.ApiOperation;\nimport lombok.extern.slf4j.Slf4j;\nimport org.apache.commons.lang.StringUtils;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.access.prepost.PreAuthorize;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\nimport java.util.List;\n\n@Slf4j\n@RestController\n@RequestMapping("/resource")\npublic class SysResourceController {\n\n    @Autowired\n    SysResourceService resourceService;\n\n\n    @ApiOperation(value = "æ°å¢èµæº", notes = "æ°å¢ä¸ä¸ªèµæº")\n    @ApiImplicitParam(name = "SysResource", value = "æ°å¢èµæºSysResourceè¡¨å", required = true, dataType = "SysResource")\n    @SysLog(operateModel = "èåèµæºç®¡ç", operateType = SysOperateLogEnum.INSERT)\n    @PreAuthorize(value = "hasPermission(\'/resource/add\',\'sys:resource:add\')")\n    @PostMapping("/add")\n    public Result add(@Valid @RequestBody SysResource sysResource) {\n        log.debug("add resource with:{}", sysResource);\n        if (StringUtils.isBlank(sysResource.getParentId())) {\n            sysResource.setParentId("0");\n        }\n        boolean result = resourceService.save(sysResource);\n        if (result) {\n            return Result.success();\n        }\n        return Result.fail();\n    }\n\n    @ApiOperation(value = "ä¿®æ¹èµæº", notes = "ä¿®æ¹æå®èµæºä¿¡æ¯")\n    @ApiImplicitParam(name = "SysResource", value = "èµæºå®ä½", required = true, dataType = "SysResource")\n    @SysLog(operateModel = "èåèµæºç®¡ç", operateType = SysOperateLogEnum.UPDATE)\n    @PreAuthorize(value = "hasPermission(\'/resource/update\',\'sys:resource:update\')")\n    @PutMapping(value = "/update")\n    public Result update(@Valid @RequestBody SysResource sysResource) {\n        log.debug("update resource with:{}", sysResource);\n        boolean result = resourceService.updateById(sysResource);\n        if (result) {\n            return Result.success();\n        }\n        return Result.fail();\n    }\n\n    @ApiOperation(value = "å é¤èµæº", notes = "æ ¹æ®idæ¥æå®å é¤å¯¹è±¡ï¼é»è¾å é¤")\n    @ApiImplicitParam(paramType = "param", name = "id", value = "èµæºID", required = true, dataType = "string")\n    @SysLog(operateModel = "èåèµæºç®¡ç", operateType = SysOperateLogEnum.DELETE)\n    @PreAuthorize(value = "hasPermission(\'/resource/delete\',\'sys:resource:del\')")\n    @DeleteMapping(value = "/delete")\n    public Result delete(@RequestParam String id) {\n        log.debug("delete resource for:{}", id);\n        return resourceService.delete(id);\n    }\n\n    @ApiOperation(value = "è·åèµæº", notes = "è·åæå®èµæºä¿¡æ¯")\n    @ApiImplicitParam(paramType = "param", name = "id", value = "èµæºID", required = true, dataType = "string")\n    @PreAuthorize(value = "hasPermission(\'/resource/get\',\'sys:resource:get\')")\n    @GetMapping(value = "/get")\n    public Result get(@RequestParam String id) {\n        log.debug("get resource with id:{}", id);\n        SysResource sysResource = resourceService.getById(id);\n        return Result.success(sysResource);\n    }\n\n\n    @ApiOperation(value = "èµæºåè¡¨", notes = "èµæºåè¡¨")\n    @PreAuthorize(value = "hasPermission(\'/resource/list\',\'sys:resource:list\')")\n    @GetMapping(value = "/list")\n    public Result list() {\n        log.debug("query resource list");\n        return Result.success(resourceService.getList());\n    }\n\n\n    @ApiOperation(value = "è·åèµæº", notes = "è·åæå®èµæºä¿¡æ¯")\n    @PreAuthorize(value = "hasPermission(\'/resource/getByUserId\',\'sys:resource:getByUserId\')")\n    @GetMapping(value = "/getByUserId")\n    public Result getByUserId(@RequestParam String userId, @RequestParam String menuType) {\n        log.debug("get resource with userId:{}", userId);\n        List<SysResource> resourceList = resourceService.getByUserId(userId, menuType);\n        return Result.success(resourceList);\n    }\n\n}\n\n\n# ç»å½\n\nimport com.springboot.common.core.entity.vo.Result;\nimport com.springboot.system.entity.SysUserDetails;\nimport com.springboot.system.entity.po.SysUser;\nimport com.springboot.system.provider.UserAuthenticationProvider;\nimport com.springboot.system.service.impl.SysUserDetailsService;\nimport com.springboot.system.util.JWTTokenUtil;\nimport io.swagger.annotations.ApiOperation;\nimport lombok.SneakyThrows;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.validation.Valid;\nimport java.util.Base64;\n\n\n@RestController\npublic class LoginController {\n\n    @Autowired\n    private SysUserDetailsService userDetailsService;\n\n    @Autowired\n    private UserAuthenticationProvider authenticationProvider;\n\n    /**\n     * ä½¿ç¨ /login è¯·æ±è·å¾ token, /login ä¸ç»è¿æ¦æªå¨\n     */\n    @SneakyThrows\n    @PostMapping("/login")\n    @ApiOperation(value = "ç»å½æ¥å£", notes = "ç»å½æ¥å£")\n    public Result login(@Valid @RequestBody SysUser user, HttpServletRequest request) {\n\n        // å¯ç éè¿base64è§£ç \n        byte[] decode = Base64.getDecoder().decode(user.getPassword());\n        String password = new String(decode, "UTF-8");\n\n        UserDetails userDetails = userDetailsService.loadUserByUsername(user.getUsername());\n        // éè¿ username å password æå»ºä¸ä¸ª Authentication å¯¹è±¡\n        UsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken(user.getUsername(), password);\n        authenticationProvider.authenticate(authRequest, request);\n        String accessToken = JWTTokenUtil.createAccessToken((SysUserDetails) userDetails);\n        return Result.success(accessToken);\n    }\n\n    @ApiOperation(value = "å·æ°tokenæ¥å£", notes = "å·æ°tokenæ¥å£")\n    @PostMapping("/refreshToken")\n    public Result refreshToken(@RequestParam String token) {\n        return Result.success(JWTTokenUtil.refreshToken(token));\n    }\n\n}\n',normalizedContent:'# 1.æ·»å ä¾èµ\n\n\x3c!--springsecurityä¾èµéç½®--\x3e\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-security</artifactid>\n</dependency>\n\x3c!--jwt(json web token)ç»å½æ¯æ--\x3e\n<dependency>\n    <groupid>io.jsonwebtoken</groupid>\n    <artifactid>jjwt</artifactid>\n    <version>0.9.0</version>\n</dependency>\n\x3c!--json--\x3e\n<dependency>\n    <groupid>com.alibaba</groupid>\n    <artifactid>fastjson</artifactid>\n    <version>1.2.59</version>\n</dependency>\n\x3c!--lombok--\x3e\n<dependency>\n    <groupid>org.projectlombok</groupid>\n    <artifactid>lombok</artifactid>\n    <version>1.18.16</version>\n</dependency>\n\n\n\n\n# 2.éç½®\n\n\n# ymléç½®\n\nserver:\n  port: 8080\nspring:\n  datasource:\n    url: jdbc:mysql://192.168.3.119:3306/zksc_medical?characterencoding=utf-8&useunicode=true&usessl=false&servertimezone=asia/shanghai\n    username: root\n    password: 123456\n    driver-class-name: com.mysql.cj.jdbc.driver\n\n# jwtéç½®\njwt:\n   # å¯åkey\n   secret: jwtsecret,zksc\n   # headerkey\n   tokenheader: authorization\n   # tokenåç¼\n   tokenprefix: bearer\n   # è¿ææ¶é´ï¼åä½ç§\n   expiration: 1800\n   # éç½®ç½ååï¼ä¸éè¦è®¤è¯ï¼\n   antmatchers: /login,/refreshtoken,/webjars/**,/swagger-ui.html,/swagger-resources/**,/*/api-docs,/websocket/**\n\n\n\n# æ ¸å¿éç½®\n\n# spring securityéç½®ç±»\n\nimport com.springboot.system.filter.jwtauthenticationfilter;\nimport com.springboot.system.handler.*;\nimport com.springboot.system.provider.userauthenticationprovider;\nimport com.springboot.system.provider.userpermissionprovider;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\nimport org.springframework.security.authentication.authenticationmanager;\nimport org.springframework.security.config.annotation.authentication.builders.authenticationmanagerbuilder;\nimport org.springframework.security.config.annotation.method.configuration.enableglobalmethodsecurity;\nimport org.springframework.security.config.annotation.web.builders.httpsecurity;\nimport org.springframework.security.config.annotation.web.configuration.enablewebsecurity;\nimport org.springframework.security.config.annotation.web.configuration.websecurityconfigureradapter;\nimport org.springframework.security.config.http.sessioncreationpolicy;\nimport org.springframework.security.crypto.bcrypt.bcryptpasswordencoder;\nimport org.springframework.security.web.access.expression.defaultwebsecurityexpressionhandler;\nimport org.springframework.security.web.authentication.logout.logoutfilter;\nimport org.springframework.web.filter.corsfilter;\n\n@configuration\n@enablewebsecurity\n@enableglobalmethodsecurity(prepostenabled = true) // å¼å¯æ¹æ³æéæ³¨è§£\npublic class syssecurityconfig extends websecurityconfigureradapter {\n\n    /**\n     * æ æéå¤çç±»\n     */\n    @autowired\n    private useraccessdeniedhandler useraccessdeniedhandler;\n\n    /**\n     * ç¨æ·æªç»å½å¤çç±»\n     */\n    @autowired\n    private usernotloginhandler usernotloginhandler;\n\n    /**\n     * ç¨æ·ç»å½æåå¤çç±»\n     */\n    @autowired\n    private userloginsuccesshandler userloginsuccesshandler;\n\n    /**\n     * ç¨æ·ç»å½å¤±è´¥å¤çç±»\n     */\n    @autowired\n    private userloginfailurehandler userloginfailurehandler;\n\n    /**\n     * ç¨æ·ç»åºæåå¤çç±»\n     */\n    @autowired\n    private userlogoutsuccesshandler userlogoutsuccesshandler;\n\n    /**\n     * è·¨åè¿æ»¤å¨\n     */\n    @autowired\n    private corsfilter corsfilter;\n\n    /**\n     * ç¨æ·ç»å½éªè¯\n     */\n    @autowired\n    private userauthenticationprovider userauthenticationprovider;\n\n    /**\n     * ç¨æ·æéæ³¨è§£\n     */\n    @autowired\n    private userpermissionprovider userpermissionprovider;\n\n\n    /**\n     * å å¯æ¹å¼\n     *\n     * @return\n     */\n    @bean\n    public bcryptpasswordencoder bcryptpasswordencoder() {\n        return new bcryptpasswordencoder();\n    }\n\n\n    /**\n     * æ³¨å¥èªå®ä¹permissionevaluator\n     *\n     * @return\n     */\n    @bean\n    public defaultwebsecurityexpressionhandler usersecurityexpressionhandler() {\n        defaultwebsecurityexpressionhandler handler = new defaultwebsecurityexpressionhandler();\n        handler.setpermissionevaluator(userpermissionprovider);\n        return handler;\n    }\n\n    /**\n     * ç¨æ·ç»å½éªè¯\n     */\n    @override\n    protected void configure(authenticationmanagerbuilder auth) {\n        auth.authenticationprovider(userauthenticationprovider);\n    }\n\n    /**\n     * å®å¨æééç½®\n     */\n    @override\n    protected void configure(httpsecurity http) throws exception {\n        http.authorizerequests() // æééç½®\n                .antmatchers(jwtconfig.antmatchers.split(",")).permitall()// è·åç½ååï¼ä¸è¿è¡æééªè¯ï¼\n                .anyrequest().authenticated() // å¶ä»çéè¦ç»éåæè½è®¿é®\n                .and().httpbasic().authenticationentrypoint(usernotloginhandler) // éç½®æªç»å½å¤çç±»\n                //.and().formlogin().loginprocessingurl("/system-login")// éç½®ç»å½url\n                //.successhandler(userloginsuccesshandler) // éç½®ç»å½æåå¤çç±»\n                //.failurehandler(userloginfailurehandler) // éç½®ç»å½å¤±è´¥å¤çç±»\n                .and().logout().logouturl("/logout")// éç½®ç»åºå°å\n                .logoutsuccesshandler(userlogoutsuccesshandler) // éç½®ç¨æ·ç»åºå¤çç±»\n                .and().exceptionhandling().accessdeniedhandler(useraccessdeniedhandler)// éç½®æ²¡ææéå¤çç±»\n                .and().cors()// å¼å¯è·¨å\n                .and().csrf().disable(); // ç¦ç¨è·¨ç«è¯·æ±ä¼ªé é²æ¤\n        http.sessionmanagement().sessioncreationpolicy(sessioncreationpolicy.stateless); // ç¦ç¨sessionï¼ä½¿ç¨tokenè®¤è¯ï¼\n        http.headers().cachecontrol(); // ç¦ç¨ç¼å­\n        http.addfilter(new jwtauthenticationfilter(authenticationmanager())); // æ·»å jwtè¿æ»¤å¨\n        http.addfilterbefore(corsfilter, logoutfilter.class); // æ·»å cors filter\n\n    }\n\n\n    /**\n     * å° authenticationmanager æ³¨åä¸º bean , æ¹ä¾¿éç½® oauth server çæ¶åä½¿ç¨\n     */\n    @bean\n    @override\n    public authenticationmanager authenticationmanagerbean() throws exception {\n        return super.authenticationmanagerbean();\n    }\n\n}\n\n\n# jwtè¿æ»¤éç½®\n\n/**\n * jwtæéè¿æ»¤å¨ï¼ç¨äºéªè¯tokenæ¯å¦åæ³\n */\npublic class jwtauthenticationfilter extends basicauthenticationfilter {\n\n    public jwtauthenticationfilter(authenticationmanager authenticationmanager) {\n        super(authenticationmanager);\n    }\n\n    @override\n    protected void dofilterinternal(httpservletrequest request, httpservletresponse response, filterchain filterchain)\n            throws ioexception, servletexception {\n        // ååºtoken\n        string token = request.getheader(jwtconfig.tokenheader);\n        if (token != null) {\n            if (jwttokenutil.verifytoken(token)) {\n                responseutils.responsejson(response, result.fail(systemerrortype.token_expired));\n                return;\n            }\n            string newtoken = jwttokenutil.verifyexpired(token);\n            if (stringutils.isnotblank(newtoken)) {\n                response.setheader("newtoken", newtoken);\n                response.setheader("access-control-expose-headers", "newtoken");\n                response.setcontenttype("application/json;charset=utf-8");\n                response.setcharacterencoding("utf-8");\n            }\n            sysuserdetails sysuserdetails = jwttokenutil.parseaccesstoken(token);\n            if (sysuserdetails != null) {\n                usernamepasswordauthenticationtoken authentication = new usernamepasswordauthenticationtoken(\n                        sysuserdetails, sysuserdetails.getid(), sysuserdetails.getauthorities());\n                securitycontextholder.getcontext().setauthentication(authentication);\n            } else {\n                responseutils.responsejson(response, result.fail(systemerrortype.invalid_token));\n                return;\n            }\n        }\n        filterchain.dofilter(request, response);\n    }\n\n}\n\n\n# ç»å½éªè¯\n\n/**\n * ç¨æ·ç»å½éªè¯å¤çç±»\n */\n@component\npublic class userauthenticationprovider implements authenticationprovider {\n\n    @autowired\n    private sysuserdetailsservice userdetailsservice;\n\n    /**\n     * èº«ä»½éªè¯\n     */\n    @override\n    public authentication authenticate(authentication authentication) throws authenticationexception {\n        string username = (string) authentication.getprincipal(); // è·åç¨æ·å\n        string password = (string) authentication.getcredentials(); // è·åå¯ç \n        sysuserdetails sysuserdetails = (sysuserdetails) userdetailsservice.loaduserbyusername(username);\n        if (sysuserdetails == null) {\n            throw new usernamenotfoundexception("ç¨æ·åä¸å­å¨");\n        }\n        if (!new bcryptpasswordencoder().matches(password, sysuserdetails.getpassword())) {\n            throw new badcredentialsexception("ç¨æ·åæå¯ç éè¯¯");\n        }\n        if (stringutils.equals(sysuserdetails.getstatus(), "0")) {\n            throw new lockedexception("ç¨æ·å·²ç¦ç¨");\n        }\n        return new usernamepasswordauthenticationtoken(sysuserdetails, password, sysuserdetails.getauthorities());\n    }\n\n    /**\n     * æ¯ææå®çèº«ä»½éªè¯\n     */\n    @override\n    public boolean supports(class<?> authentication) {\n        return true;\n    }\n\n}\n\n\n# ç»å½é»è¾\n\n/**\n * ç¨æ·ç»å½service\n */\n@service\npublic class sysuserdetailsservice implements userdetailsservice {\n\n    @autowired\n    private sysuserservice sysuserservice;\n\n    /**\n     * æ ¹æ®ç¨æ·åæ¥ç¨æ·ä¿¡æ¯\n     *\n     * @param username ç¨æ·å\n     * @return ç¨æ·è¯¦ç»ä¿¡æ¯\n     */\n    @override\n    public userdetails loaduserbyusername(string username) throws usernamenotfoundexception {\n        sysuser sysuser = sysuserservice.finduserbyusername(username);\n        if (sysuser != null) {\n            sysuserdetails sysuserdetails = new sysuserdetails();\n            beanutils.copyproperties(sysuser, sysuserdetails);\n\n            set<grantedauthority> authorities = new hashset<>(); // è§è²éå\n\n            list<sysrole> rolelist = sysuserservice.findrolebyuserid(sysuserdetails.getid());\n            if (collectionutils.isnotempty(rolelist)) {\n                rolelist.foreach(role -> {\n                    authorities.add(new simplegrantedauthority("role_" + role.getrolecode()));\n                });\n            }\n            sysuserdetails.setauthorities(authorities);\n\n            return sysuserdetails;\n        }\n        return null;\n    }\n\n}\n\n\n# æéæ³¨è§£æ¦æª\n\n/**\n * ç¨æ·æéæ³¨è§£å¤çç±»\n */\n@component\npublic class userpermissionprovider implements permissionevaluator {\n\n    @autowired\n    private sysuserservice sysuserservice;\n\n    /**\n     * å¤æ­æ¯å¦æ¥ææé\n     *\n     * @param authentication ç¨æ·èº«ä»½\n     * @param targeturl      ç®æ è·¯å¾\n     * @param permission     è·¯å¾æé\n     * @return æ¯å¦æ¥ææé\n     */\n    @override\n    public boolean haspermission(authentication authentication, object targeturl, object permission) {\n        sysuserdetails sysuserdetails = null;\n        try {\n            sysuserdetails = (sysuserdetails) authentication.getprincipal();\n        } catch (exception e) {\n            return false;\n        }\n\n        /**\n        * ç½åååè®¸è®¿é®\n        * */\n        string[] matchers = jwtconfig.antmatchers.split(",");\n        list<string> matcherslist = arrays.aslist(matchers);\n        if (matcherslist.contains(targeturl)){\n            return true;\n        }\n\n        set<string> permissions = new hashset<string>(); // ç¨æ·æé\n\n        list<sysresource> authlist = sysuserservice.findsourcebyuserid(sysuserdetails.getid());\n        if (collectionutils.isnotempty(authlist)) {\n            authlist.foreach(auth -> {\n                permissions.add(auth.getpermission());\n            });\n        }\n\n        // å¤æ­æ¯å¦æ¥ææé\n        if (permissions.contains(permission.tostring())) {\n            return true;\n        }\n        return false;\n    }\n\n    @override\n    public boolean haspermission(authentication authentication, serializable targetid, string targettype, object permission) {\n        return false;\n    }\n\n}\n\n\n\n# å·¥å·ç±»\n\n# jwtå·¥å·ç±»\n\nimport com.alibaba.fastjson.json;\nimport com.alibaba.fastjson.typereference;\nimport com.springboot.system.config.jwtconfig;\nimport com.springboot.system.entity.sysuserdetails;\nimport io.jsonwebtoken.claims;\nimport io.jsonwebtoken.expiredjwtexception;\nimport io.jsonwebtoken.jwts;\nimport io.jsonwebtoken.signaturealgorithm;\nimport lombok.extern.slf4j.slf4j;\nimport org.apache.commons.lang3.stringutils;\nimport org.springframework.security.core.grantedauthority;\nimport org.springframework.security.core.authority.simplegrantedauthority;\n\nimport java.util.*;\n\n/**\n * jwtçäº§tokenå·¥å·ç±»\n */\n@slf4j\npublic class jwttokenutil {\n\n    /**\n     * åå»ºtoken\n     *\n     * @param sysuserdetails ç¨æ·ä¿¡æ¯\n     * @return\n     */\n    public static string createaccesstoken(sysuserdetails sysuserdetails) {\n        string token = jwts.builder().setid(// è®¾ç½®jwt\n                sysuserdetails.getid()) // ç¨æ·id\n                .setsubject(sysuserdetails.getusername()) // ä¸»é¢\n                .setissuedat(new date()) // ç­¾åæ¶é´\n                .setissuer("zksc") // ç­¾åè\n                .setexpiration(new date(system.currenttimemillis() + jwtconfig.expiration)) // è¿ææ¶é´\n                .signwith(signaturealgorithm.hs512, jwtconfig.secret) // ç­¾åç®æ³ãå¯é¥\n                .claim("authorities", json.tojsonstring(sysuserdetails.getauthorities())).compact(); // èªå®ä¹å¶ä»å±æ§ï¼å¦ç¨æ·ç»ç»æºæidï¼ç¨æ·ææ¥æçè§è²ï¼ç¨æ·æéä¿¡æ¯ç­\n        return token;\n    }\n\n    /**\n     * åå»ºtoken\n     *\n     * @param claims claimsä¿¡æ¯\n     * @return\n     */\n    public static string generatetoken(map<string, object> claims) {\n        return jwts.builder()\n                .setclaims(claims)\n                .setexpiration(new date(system.currenttimemillis() + jwtconfig.expiration))\n                .signwith(signaturealgorithm.hs512, jwtconfig.secret)\n                .compact();\n    }\n\n    /**\n     * è§£ætoken\n     *\n     * @param token tokenä¿¡æ¯\n     * @return\n     */\n    public static sysuserdetails parseaccesstoken(string token) {\n        sysuserdetails sysuserdetails = null;\n        if (stringutils.isnotempty(token)) {\n            try {\n                // å»é¤jwtåç¼\n                if (token.startswith(jwtconfig.tokenprefix)) {\n                    token = token.substring(jwtconfig.tokenprefix.length());\n                }\n                // è§£ætoken\n                claims claims = jwts.parser().setsigningkey(jwtconfig.secret).parseclaimsjws(token).getbody();\n                // è·åç¨æ·ä¿¡æ¯\n                sysuserdetails = new sysuserdetails();\n                sysuserdetails.setid(claims.getid());\n                sysuserdetails.setusername(claims.getsubject());\n                // è·åè§è²\n                set<grantedauthority> authorities = new hashset<grantedauthority>();\n                string authority = claims.get("authorities").tostring();\n                if (stringutils.isnotempty(authority)) {\n                    list<map<string, string>> authoritylist = json.parseobject(authority,\n                            new typereference<list<map<string, string>>>() {\n                            });\n                    for (map<string, string> role : authoritylist) {\n                        if (!role.isempty()) {\n                            authorities.add(new simplegrantedauthority(role.get("authority")));\n                        }\n                    }\n                }\n                sysuserdetails.setauthorities(authorities);\n            } catch (exception e1) {\n                log.error("è§£ætokenå¼å¸¸ï¼" + e1.getmessage());\n            }\n        }\n        return sysuserdetails;\n    }\n\n\n    /**\n     * éªè¯tokenæ¯å¦è¿æ\n     *\n     * @param token tokenä¿¡æ¯\n     * @return\n     */\n    public static boolean verifytoken(string token) {\n        try {\n            // å»é¤jwtåç¼\n            if (token.startswith(jwtconfig.tokenprefix)) {\n                token = token.substring(jwtconfig.tokenprefix.length());\n            }\n            jwts.parser().setsigningkey(jwtconfig.secret).parseclaimsjws(token).getbody();\n            return false;\n        } catch (expiredjwtexception e) {\n            log.debug(e.getmessage());\n            date expiration = e.getclaims().getexpiration();\n            return expiration.before(new date());\n        } catch (exception e1) {\n            log.error(e1.getmessage());\n            return false;\n        }\n    }\n\n    /**\n     * å·æ°token\n     *\n     * @param token tokenä¿¡æ¯\n     * @return æ°çtoken\n     */\n    public static string refreshtoken(string token) {\n        try {\n            // å»é¤jwtåç¼\n            if (token.startswith(jwtconfig.tokenprefix)) {\n                token = token.substring(jwtconfig.tokenprefix.length());\n            }\n            claims claims = jwts.parser().setsigningkey(jwtconfig.secret).parseclaimsjws(token).getbody();\n            return generatetoken(claims);\n        } catch (expiredjwtexception e) {\n            log.debug(e.getmessage());\n            return generatetoken(e.getclaims());\n        } catch (exception e1) {\n            log.error(e1.getmessage());\n            return e1.getmessage();\n        }\n    }\n\n\n    /**\n     * è¿ææ¶é´è¿å©ååéæ¶å·æ°token\n     *\n     * @param token\n     * @return æ°çtoken\n     */\n    public static string verifyexpired(string token) {\n        try {\n            // å»é¤jwtåç¼\n            if (token.startswith(jwtconfig.tokenprefix)) {\n                token = token.substring(jwtconfig.tokenprefix.length());\n            }\n            claims claims = jwts.parser().setsigningkey(jwtconfig.secret).parseclaimsjws(token).getbody();\n            long expiretime = claims.getexpiration().gettime();\n            long nowtime = new date().gettime();\n            if (expiretime - nowtime < 10 * 60 * 1000) {\n                return generatetoken(claims);\n            } else {\n                return null;\n            }\n        } catch (exception e1) {\n            log.error(e1.getmessage());\n            return null;\n        }\n    }\n\n}\n\n\n# responseå·¥å·ç±»\n\nimport com.alibaba.fastjson.json;\nimport lombok.allargsconstructor;\nimport lombok.data;\nimport lombok.extern.slf4j.slf4j;\n\nimport javax.servlet.servletresponse;\nimport java.io.printwriter;\nimport java.time.instant;\nimport java.time.zoneddatetime;\n\n@slf4j\n@data\n@allargsconstructor\npublic class responseutils {\n\n    /**\n     * è¿åç¼ç \n     */\n    private string code;\n\n    /**\n     * è¿åæ¶æ¯\n     */\n    private string msg;\n\n    /**\n     * è¿åæ°æ®\n     */\n    private object data;\n\n    /**\n     * è¯·æ±ç»æçææ¶é´æ³\n     */\n    private instant time;\n\n    /**\n     * responseè¾åºjsonæ ¼å¼\n     *\n     * @param response\n     * @param data     è¿åæ°æ®\n     */\n    public static void responsejson(servletresponse response, object data) {\n        printwriter out = null;\n        try {\n            response.setcharacterencoding("utf-8");\n            response.setcontenttype("application/json");\n            out = response.getwriter();\n            out.println(json.tojsonstring(data));\n            out.flush();\n        } catch (exception e) {\n            log.error("responseè¾åºjsonå¼å¸¸ï¼" + e);\n        } finally {\n            if (out != null) {\n                out.close();\n            }\n        }\n    }\n\n    /**\n     * è¿åä¿¡æ¯\n     *\n     * @param code è¿åç¼ç \n     * @param msg  è¿åæ¶æ¯\n     * @param data è¿åæ°æ®\n     * @return\n     */\n    public static responseutils response(string code, string msg, object data) {\n        return new responseutils(code, msg, data, zoneddatetime.now().toinstant());\n    }\n}\n\n\n\n# handleréç½®\n\n# æ æé\n\n\n/**\n * æ æéå¤çç±»\n */\n@component\npublic class useraccessdeniedhandler implements accessdeniedhandler {\n\n    @override\n    public void handle(httpservletrequest request, httpservletresponse response, accessdeniedexception accessdeniedexception) {\n        responseutils.responsejson(response, result.fail(systemerrortype.no_permission));\n    }\n\n}\n\n\n# æªç»å½\n\n/**\n * æªç»å½å¤çç±»\n */\n@component\npublic class usernotloginhandler implements authenticationentrypoint {\n\n    @override\n    public void commence(httpservletrequest request, httpservletresponse response,\n                         authenticationexception authexception) {\n        responseutils.responsejson(response, result.fail(systemerrortype.not_login));\n    }\n    \n}\n\n\n# ç»åº\n\n/**\n * ç»åºæåå¤çç±»\n */\n@component\npublic class userlogoutsuccesshandler implements logoutsuccesshandler {\n\n    @override\n    public void onlogoutsuccess(httpservletrequest request, httpservletresponse response, authentication authentication) {\n        securitycontextholder.clearcontext();\n        responseutils.responsejson(response, result.success(systemerrortype.logout_success));\n    }\n    \n}\n\n\n\n# å¶ä»éç½®\n\n# jwtåºæ¬éç½®\n\nimport org.springframework.boot.context.properties.configurationproperties;\nimport org.springframework.stereotype.component;\n\n/**\n * jwtéç½®åºç¡ç±»\n */\n@component\n@configurationproperties(prefix = "jwt")\n@suppresswarnings("static-access")\npublic class jwtconfig {\n\n    /**\n     * å¯åkey\n     */\n    public static string secret;\n\n    /**\n     * headerkey\n     */\n    public static string tokenheader;\n\n    /**\n     * tokenåç¼\n     */\n    public static string tokenprefix;\n\n    /**\n     * è¿ææ¶é´\n     */\n    public static integer expiration;\n\n    /**\n     * éç½®ç½åå\n     */\n    public static string antmatchers;\n\n    /**\n     * å°è¿ææ¶é´åä½æ¢ç®ææ¯«ç§\n     *\n     * @param expiration è¿ææ¶é´ï¼åä½ç§\n     */\n    public void setexpiration(integer expiration) {\n        this.expiration = expiration * 1000;\n    }\n\n    public void setsecret(string secret) {\n        this.secret = secret;\n    }\n\n    public void settokenheader(string tokenheader) {\n        this.tokenheader = tokenheader;\n    }\n\n    public void settokenprefix(string tokenprefix) {\n        this.tokenprefix = tokenprefix + " ";\n    }\n\n    public void setantmatchers(string antmatchers) {\n        this.antmatchers = antmatchers;\n    }\n\n}\n\n\n# è·¨åéç½®\n\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\nimport org.springframework.web.cors.corsconfiguration;\nimport org.springframework.web.cors.urlbasedcorsconfigurationsource;\nimport org.springframework.web.filter.corsfilter;\n\n@configuration\npublic class corsconfig {\n\n    private corsconfiguration buildconfig() {\n        corsconfiguration corsconfiguration = new corsconfiguration();\n        // 1åè®¸ä»»ä½ååä½¿ç¨\n        corsconfiguration.addallowedorigin("*");\n        // 2åè®¸ä»»ä½å¤´\n        corsconfiguration.addallowedheader("*");\n        // 3åè®¸ä»»ä½æ¹æ³ï¼postãgetç­ï¼\n        corsconfiguration.addallowedmethod("*");\n\n        corsconfiguration.setallowcredentials(true);\n        return corsconfiguration;\n    }\n\n    @bean\n    public corsfilter corsfilter() {\n        urlbasedcorsconfigurationsource source = new urlbasedcorsconfigurationsource();\n        source.registercorsconfiguration("/**", buildconfig());\n        return new corsfilter(source);\n    }\n\n}\n\n\n\n# 3.ä½¿ç¨\n\n\n# entityå±\n\n# ç¨æ·\n\nimport com.baomidou.mybatisplus.annotation.*;\nimport com.springboot.system.entity.vo.sysuservo;\nimport lombok.data;\nimport org.springframework.beans.beanutils;\n\nimport java.util.date;\nimport java.util.list;\nimport java.util.set;\n\n@data\n@tablename("sys_user")\npublic class sysuser {\n\n    @tableid(type = idtype.id_worker_str)\n    private string id;\n\n    private string number;\n\n    private string username;\n\n    @tablefield(exist = false)\n    private string oldpassword;\n\n    private string password;\n\n    private string mobile;\n\n    private string avatar;\n\n    private string type;\n\n    private string status = "1";\n\n    @tablelogic\n    private string deleted = "n";\n\n    @tablefield(exist = false)\n    private list roles;\n\n    @tablefield(exist = false)\n    private set<string> roleids;\n\n    @tablefield(value = "created_by", fill = fieldfill.insert)\n    private string createdby;\n    @tablefield(value = "created_time", fill = fieldfill.insert)\n    private date createdtime;\n    @tablefield(value = "updated_by", fill = fieldfill.insert_update)\n    private string updatedby;\n    @tablefield(value = "updated_time", fill = fieldfill.insert_update)\n    private date updatedtime;\n\n\n    /**\n     * poè½¬åä¸ºvo\n     *\n     * @param clazz\n     * @return\n     */\n    public sysuservo toparam(class<sysuservo> clazz) {\n        sysuservo t = beanutils.instantiateclass(clazz);\n        beanutils.copyproperties(this, t);\n        return t;\n    }\n}\n\n\n# è§è²\n\n\nimport com.baomidou.mybatisplus.annotation.*;\nimport lombok.data;\n\nimport java.util.date;\nimport java.util.list;\nimport java.util.set;\n\n@data\n@tablename("sys_role")\npublic class sysrole {\n\n    @tableid(type = idtype.id_worker_str)\n    private string id;\n\n    private string rolecode;\n\n    private string rolename;\n\n    private string roledescription;\n\n    @tablelogic\n    private string deleted = "n";\n\n    @tablefield(exist = false)\n    private set<string> resourcesids;\n\n    @tablefield(exist = false)\n    private list resources;\n\n    @tablefield(value = "created_by", fill = fieldfill.insert)\n    private string createdby;\n    @tablefield(value = "created_time", fill = fieldfill.insert)\n    private date createdtime;\n    @tablefield(value = "updated_by", fill = fieldfill.insert_update)\n    private string updatedby;\n    @tablefield(value = "updated_time", fill = fieldfill.insert_update)\n    private date updatedtime;\n\n}\n\n\n# èµæº\n\nimport com.baomidou.mybatisplus.annotation.*;\nimport lombok.data;\n\nimport java.util.date;\nimport java.util.list;\n\n@data\n@tablename("sys_resource")\npublic class sysresource {\n\n    @tableid(type = idtype.id_worker_str)\n    private string id;\n\n    private string parentid = "0";\n\n    private string title;\n\n    private string name;\n\n    private string url;\n\n    private string permission;\n\n    @tablelogic\n    private string deleted = "n";\n\n    private string menutype;\n\n    private string hidden;\n\n    private string status;\n\n    private string alwaysshow;\n\n    private int ordernumber;\n\n    private string redirect;\n\n    private string icon;\n\n    private string nocache;\n\n    private string affix;\n\n    private string breadcrumb;\n\n    private string component;\n\n    private string activemenu;\n\n    private string remark;\n\n    @tablefield(exist = false)\n    private list<sysresource> children;\n\n    @tablefield(value = "created_by", fill = fieldfill.insert)\n    private string createdby;\n    @tablefield(value = "created_time", fill = fieldfill.insert)\n    private date createdtime;\n    @tablefield(value = "updated_by", fill = fieldfill.insert_update)\n    private string updatedby;\n    @tablefield(value = "updated_time", fill = fieldfill.insert_update)\n    private date updatedtime;\n\n}\n\n\n# ç¨æ·è§è²å³è\n\nimport com.baomidou.mybatisplus.annotation.*;\nimport lombok.allargsconstructor;\nimport lombok.data;\nimport lombok.noargsconstructor;\n\nimport java.util.date;\n\n@data\n@allargsconstructor\n@noargsconstructor\n@tablename("sys_user_role")\npublic class sysuserrole {\n\n    @tableid(type = idtype.id_worker_str)\n    private string id;\n\n    private string userid;\n\n    private string roleid;\n\n    @tablelogic\n    private string deleted = "n";\n\n    @tablefield(value = "created_by", fill = fieldfill.insert)\n    private string createdby;\n    @tablefield(value = "created_time", fill = fieldfill.insert)\n    private date createdtime;\n    @tablefield(value = "updated_by", fill = fieldfill.insert_update)\n    private string updatedby;\n    @tablefield(value = "updated_time", fill = fieldfill.insert_update)\n    private date updatedtime;\n\n}\n\n\n# è§è²èµæºå³è\n\nimport com.baomidou.mybatisplus.annotation.*;\nimport lombok.allargsconstructor;\nimport lombok.data;\n\nimport java.util.date;\n\n@data\n@allargsconstructor\n@tablename("sys_role_resource")\npublic class sysroleresource {\n\n    @tableid(type = idtype.id_worker_str)\n    private string id;\n\n    /**\n     * è§è²id\n     */\n    private string roleid;\n\n    /**\n     * æéid\n     */\n    private string resourceid;\n\n    @tablelogic\n    private string deleted = "n";\n\n    @tablefield(value = "created_by", fill = fieldfill.insert)\n    private string createdby;\n    @tablefield(value = "created_time", fill = fieldfill.insert)\n    private date createdtime;\n    @tablefield(value = "updated_by", fill = fieldfill.insert_update)\n    private string updatedby;\n    @tablefield(value = "updated_time", fill = fieldfill.insert_update)\n    private date updatedtime;\n\n}\n\n\n# ç»å½\n\nimport com.springboot.system.entity.po.sysuser;\nimport lombok.data;\nimport lombok.equalsandhashcode;\nimport org.springframework.security.core.grantedauthority;\nimport org.springframework.security.core.userdetails.userdetails;\n\nimport java.io.serializable;\nimport java.util.collection;\n\n/**\n * ç³»ç»ç¨æ·è¯¦æ\n */\n@data\n@equalsandhashcode(callsuper = false)\npublic class sysuserdetails extends sysuser implements userdetails, serializable {\n    private static final long serialversionuid = 1l;\n\n    /**\n     * ç¨æ·è§è²\n     */\n    private collection<grantedauthority> authorities;\n\n    /**\n     * è´¦å·æ¯å¦è¿æ\n     */\n    private boolean isaccountnonexpired = false;\n\n    /**\n     * è´¦å·æ¯å¦éå®\n     */\n    private boolean isaccountnonlocked = false;\n\n    /**\n     * è¯ä¹¦æ¯å¦è¿æ\n     */\n    private boolean iscredentialsnonexpired = false;\n\n    /**\n     * è´¦å·æ¯å¦ææ\n     */\n    private boolean isenabled = true;\n\n    /**\n     * è·å¾ç¨æ·æé\n     */\n    @override\n    public collection<? extends grantedauthority> getauthorities() {\n        return authorities;\n    }\n\n    /**\n     * å¤æ­è´¦å·æ¯å¦è¿æ\n     */\n    @override\n    public boolean isaccountnonexpired() {\n        return isaccountnonexpired;\n    }\n\n    /**\n     * å¤æ­è´¦å·æ¯å¦éå®\n     */\n    @override\n    public boolean isaccountnonlocked() {\n        return isaccountnonlocked;\n    }\n\n    /**\n     * å¤æ­è¯ä¹¦æ¯å¦è¿æ\n     */\n    @override\n    public boolean iscredentialsnonexpired() {\n        return iscredentialsnonexpired;\n    }\n\n    /**\n     * å¤æ­è´¦å·æ¯å¦ææ\n     */\n    @override\n    public boolean isenabled() {\n        return isenabled;\n    }\n\n}\n\n\n\n# mapperå±\n\n# ç¨æ·\n\nimport com.baomidou.mybatisplus.core.mapper.basemapper;\nimport com.springboot.system.entity.po.sysuser;\nimport org.apache.ibatis.annotations.mapper;\nimport org.springframework.stereotype.repository;\n\n@mapper\n@repository\npublic interface sysusermapper extends basemapper<sysuser> {\n\n}\n\n\n# è§è²\n\nimport com.baomidou.mybatisplus.core.mapper.basemapper;\nimport com.springboot.system.entity.po.sysrole;\nimport org.apache.ibatis.annotations.mapper;\nimport org.springframework.stereotype.repository;\n\n@repository\n@mapper\npublic interface sysrolemapper extends basemapper<sysrole> {\n}\n\n\n# èµæº\n\nimport com.baomidou.mybatisplus.core.mapper.basemapper;\nimport com.springboot.system.entity.po.sysresource;\nimport org.apache.ibatis.annotations.mapper;\nimport org.springframework.stereotype.repository;\n\n@repository\n@mapper\npublic interface sysresourcemapper extends basemapper<sysresource> {\n\n}\n\n\n# ç¨æ·è§è²å³è\n\nimport com.baomidou.mybatisplus.core.mapper.basemapper;\nimport com.springboot.system.entity.po.sysrole;\nimport org.apache.ibatis.annotations.mapper;\nimport org.springframework.stereotype.repository;\n\n@repository\n@mapper\npublic interface sysrolemapper extends basemapper<sysrole> {\n}\n\n\n# è§è²èµæºå³è\n\nimport com.baomidou.mybatisplus.core.mapper.basemapper;\nimport com.springboot.system.entity.po.sysroleresource;\nimport org.apache.ibatis.annotations.mapper;\nimport org.springframework.stereotype.repository;\n\n@repository\n@mapper\npublic interface sysroleresourcemapper extends basemapper<sysroleresource> {\n}\n\n\n\n# iserviceå±\n\n# ç¨æ·\n\nimport com.baomidou.mybatisplus.core.metadata.ipage;\nimport com.baomidou.mybatisplus.extension.plugins.pagination.page;\nimport com.springboot.common.core.entity.vo.result;\nimport com.springboot.system.entity.form.sysuserqueryform;\nimport com.springboot.system.entity.po.sysresource;\nimport com.springboot.system.entity.po.sysrole;\nimport com.springboot.system.entity.po.sysuser;\nimport com.springboot.system.entity.vo.sysuservo;\n\nimport javax.servlet.http.httpservletresponse;\nimport java.io.serializable;\nimport java.util.list;\n\npublic interface sysuserservice {\n\n    sysuser getbyid(serializable id);\n\n    /**\n     * æ ¹æ®ç¨æ·åç§°æ¥è¯¢ç¨æ·ä¿¡æ¯\n     *\n     * @param username ç¨æ·åç§°\n     * @return\n     */\n    sysuser finduserbyusername(string username);\n\n    /**\n     * æ ¹æ®ç¨æ·idæ¥è¯¢è§è²\n     *\n     * @param userid ç¨æ·id\n     * @return\n     */\n    list<sysrole> findrolebyuserid(string userid);\n\n    /**\n     * æ ¹æ®ç¨æ·idæ¥è¯¢æé\n     *\n     * @param userid ç¨æ·id\n     * @return\n     */\n    list<sysresource> findsourcebyuserid(string userid);\n\n\n    /**\n     * æ ¹æ®tokenæ¥è¯¢ç¨æ·ä¿¡æ¯\n     *\n     * @param token\n     * @return\n     */\n    result finduserbytoken(string token);\n\n    /**\n     * æ·»å ç¨æ·\n     *\n     * @param sysuser\n     * @return\n     */\n    result add(sysuser sysuser);\n\n    /**\n     * æ´æ°ç¨æ·ä¿¡æ¯\n     *\n     * @param sysuser\n     */\n    result update(sysuser sysuser);\n\n\n    /**\n     * æ´æ¹å¤´å\n     *\n     * @param id ç¨æ·id\n     * @param avatar å¤´å\n     */\n    result updateavatar(string id,string avatar);\n\n    /**\n     * æ ¹æ®idå é¤ç¨æ·\n     *\n     * @param id\n     */\n    boolean delete(string id);\n\n    /**\n     * è·åç¨æ·\n     *\n     * @param id ç¨æ·id\n     * @return sysuser\n     */\n    sysuser get(string id);\n\n\n    /**\n     * æ¥è¯¢ç¨æ·\n     *\n     * @return\n     */\n    ipage<sysuser> query(page<sysuser> page, sysuserqueryform sysuserqueryform);\n\n    /**\n     * å¯¼åºç¨æ·\n     *\n     * @return\n     */\n    void exportexcel(httpservletresponse response);\n\n\n    /**\n     * æ ¹æ®è§è²æ¥è¯¢ç¨æ·\n     *\n     * @return\n     */\n    result getuserbyroleid(string roleid);\n\n}\n\n\n# è§è²\n\nimport com.baomidou.mybatisplus.core.metadata.ipage;\nimport com.baomidou.mybatisplus.extension.plugins.pagination.page;\nimport com.springboot.common.core.entity.vo.result;\nimport com.springboot.system.entity.form.sysrolequeryform;\nimport com.springboot.system.entity.po.sysrole;\n\nimport java.io.serializable;\nimport java.util.list;\n\npublic interface sysroleservice {\n    sysrole getbyid(serializable id);\n\n    list<sysrole> getrolebyuserid(string userid);\n\n    list<sysrole> getrolelist();\n\n    result add(sysrole sysrole);\n\n    result update(sysrole sysrole);\n\n    result delete(string id);\n\n    sysrole get(string id);\n\n    ipage<sysrole> query(page<sysrole> page, sysrolequeryform sysrolequeryform);\n\n}\n\n\n# èµæº\n\nimport com.springboot.common.core.entity.vo.result;\nimport com.springboot.system.entity.po.sysresource;\n\nimport java.io.serializable;\nimport java.util.list;\n\npublic interface sysresourceservice {\n\n    list<sysresource> getresourcebyroleid(string roleid);\n\n    list<sysresource> getresourcebyroleid(string roleid, string menutype);\n\n    boolean save(sysresource sysresource);\n\n    boolean updatebyid(sysresource sysresource);\n\n    boolean removebyid(serializable id);\n\n    result delete(string id);\n\n    sysresource getbyid(serializable id);\n\n    list<sysresource> getlist();\n\n    list<sysresource> getbyuserid(string userid, string menutype);\n\n}\n\n\n# ç¨æ·è§è²å³è\n\nimport java.util.list;\nimport java.util.set;\n\npublic interface sysuserroleservice {\n\n    /**\n     * ç¨æ·idæ¥è¯¢è§è²ids\n     *\n     * @param userid\n     * @return\n     */\n    list<string> getroleidsbyuserid(string userid);\n\n\n    /**\n     * ç»ç¨æ·æ·»å è§è²\n     *\n     * @param userid\n     * @param roleids\n     * @return\n     */\n    boolean savebatch(string userid, set<string> roleids);\n\n    /**\n     * å é¤ç¨æ·æ¥æçè§è²\n     *\n     * @param userid\n     * @return\n     */\n    boolean removebyuserid(string userid);\n\n    /**\n     * è§è²idæ¥è¯¢ç¨æ·ids\n     *\n     * @param roleid è§è²id\n     * @return\n     */\n    list<string> getuseridsbyroleid(string roleid);\n\n}\n\n\n# è§è²èµæºå³è\n\nimport java.util.list;\nimport java.util.set;\n\npublic interface sysroleresourceservice {\n\n\n    /**\n     * æ ¹æ®è§è²idæ¥è¯¢èµæºåè¡¨id\n     *\n     * @param roleid      è§è²id\n     * @return èµæºåè¡¨id\n     */\n    list<string> getresourceidsbyroleid(string roleid);\n\n    /**\n     * æ¹éç»è§è²æ·»å èµæº\n     *\n     * @param roleid      è§è²id\n     * @param resourceids èµæºidåè¡¨\n     * @return æ¯å¦æä½æå\n     */\n    boolean savebatch(string roleid, set<string> resourceids);\n\n\n    /**\n     * å é¤è§è²æ¥æçèµæº\n     *\n     * @param roleid è§è²id\n     * @return æ¯å¦æä½æå\n     */\n    boolean removebyroleid(string roleid);\n\n\n}\n\n\n\n# serviceå±\n\n# ç¨æ·\n\nimport com.alibaba.fastjson.jsonobject;\nimport com.baomidou.mybatisplus.core.conditions.query.querywrapper;\nimport com.baomidou.mybatisplus.core.metadata.ipage;\nimport com.baomidou.mybatisplus.core.toolkit.collectionutils;\nimport com.baomidou.mybatisplus.extension.plugins.pagination.page;\nimport com.baomidou.mybatisplus.extension.service.impl.serviceimpl;\nimport com.springboot.common.core.entity.vo.result;\nimport com.springboot.common.core.exception.systemerrortype;\nimport com.springboot.common.core.util.configkeyenum;\nimport com.springboot.common.core.util.excelutil;\nimport com.springboot.system.dao.sysusermapper;\nimport com.springboot.system.entity.sysuserdetails;\nimport com.springboot.system.entity.form.sysuserqueryform;\nimport com.springboot.system.entity.po.sysresource;\nimport com.springboot.system.entity.po.sysrole;\nimport com.springboot.system.entity.po.sysuser;\nimport com.springboot.system.entity.vo.sysuservo;\nimport com.springboot.system.service.sysresourceservice;\nimport com.springboot.system.service.sysroleservice;\nimport com.springboot.system.service.sysuserroleservice;\nimport com.springboot.system.service.sysuserservice;\nimport com.springboot.system.util.jwttokenutil;\nimport org.apache.commons.lang.stringutils;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.security.crypto.bcrypt.bcryptpasswordencoder;\nimport org.springframework.stereotype.service;\nimport org.springframework.transaction.annotation.transactional;\n\nimport javax.servlet.http.httpservletresponse;\nimport java.util.*;\n\n\n@service\npublic class sysuserserviceimpl extends serviceimpl<sysusermapper, sysuser> implements sysuserservice {\n\n\n    @autowired\n    sysusermapper usermapper;\n\n    @autowired\n    sysroleservice roleservice;\n\n    @autowired\n    sysuserroleservice userroleservice;\n\n    @autowired\n    sysresourceservice resourceservice;\n\n    @autowired\n    bcryptpasswordencoder passwordencoder;\n\n    @autowired\n    sysconfigservice configservice;\n\n    /**\n     * æ ¹æ®ç¨æ·åç§°æ¥è¯¢ç¨æ·ä¿¡æ¯\n     *\n     * @param username ç¨æ·åç§°\n     * @return\n     */\n    @override\n    public sysuser finduserbyusername(string username) {\n        return this.getone(new querywrapper<sysuser>().apply("binary username = {0}", username));\n    }\n\n    /**\n     * æ ¹æ®ç¨æ·idæ¥è¯¢è§è²\n     *\n     * @param userid ç¨æ·id\n     * @return\n     */\n    @override\n    public list<sysrole> findrolebyuserid(string userid) {\n        return roleservice.getrolebyuserid(userid);\n    }\n\n    /**\n     * æ ¹æ®ç¨æ·idæ¥è¯¢æé\n     *\n     * @param userid ç¨æ·id\n     * @return\n     */\n    @override\n    public list<sysresource> findsourcebyuserid(string userid) {\n        list<sysrole> rolelist = roleservice.getrolebyuserid(userid);\n        if (collectionutils.isempty(rolelist)) {\n            return null;\n        }\n        set<sysresource> sysresources = new hashset<>();\n        for (sysrole sysrole : rolelist) {\n            list<sysresource> resourcelist = resourceservice.getresourcebyroleid(sysrole.getid(), "r");\n            if (collectionutils.isnotempty(resourcelist)) {\n                sysresources.addall(resourcelist);\n            }\n        }\n        arraylist<sysresource> list = new arraylist<>();\n        list.addall(sysresources);\n        if (collectionutils.isempty(list)) {\n            return null;\n        }\n        return list;\n    }\n\n    /**\n     * æ ¹æ®tokenæ¥è¯¢ç¨æ·ä¿¡æ¯\n     *\n     * @param token\n     * @return\n     */\n    @override\n    public result finduserbytoken(string token) {\n        sysuserdetails sysuserdetails = jwttokenutil.parseaccesstoken(token);\n        if (sysuserdetails == null) {\n            return result.fail(systemerrortype.token_expired);\n        }\n        sysuser user = this.getbyid(sysuserdetails.getid());\n        arraylist<string> list = new arraylist<>();\n        list<sysrole> rolelist = roleservice.getrolebyuserid(sysuserdetails.getid());\n        for (sysrole sysrole : rolelist) {\n            list.add(sysrole.getrolecode());\n        }\n        user.setroles(list);\n        return result.success(user.toparam(sysuservo.class));\n    }\n\n    @override\n    public result add(sysuser sysuser) {\n        sysuser user = this.finduserbyusername(sysuser.getusername());\n        if (user != null) {\n            return result.fail("ç¨æ·å·²å­å¨ï¼");\n        }\n        if (stringutils.isblank(sysuser.getpassword())) {\n            return result.fail("è¯·è¾å¥å¯ç ï¼");\n        }\n        sysuser.setpassword(passwordencoder.encode(sysuser.getpassword()));\n        this.save(sysuser);\n        userroleservice.savebatch(sysuser.getid(), sysuser.getroleids());\n        return result.success();\n    }\n\n\n    @override\n    @transactional\n    public result update(sysuser sysuser) {\n        if (stringutils.isnotblank(sysuser.getoldpassword())) {\n            sysuser user = this.getbyid(sysuser.getid());\n            boolean matches = passwordencoder.matches(sysuser.getoldpassword(), user.getpassword());\n            if (!matches) {\n                return result.fail("æ§å¯ç éè¯¯ï¼");\n            }\n            if (stringutils.isnotblank(sysuser.getpassword())) {\n                sysuser.setpassword(passwordencoder.encode(sysuser.getpassword()));\n            }\n        }\n        if (stringutils.isnotblank(sysuser.getavatar())) {\n            string nginx = configservice.getstrvalue(configkeyenum.nginx_pic_path.getconfigkey());\n            if (sysuser.getavatar().startswith(nginx)) {\n                sysuser.setavatar(sysuser.getavatar().substring(nginx.length()));\n            }\n        }\n        if (stringutils.isblank(sysuser.getpassword())) {\n            sysuser user = this.getbyid(sysuser.getid());\n            sysuser.setpassword(user.getpassword());\n        }\n        this.updatebyid(sysuser);\n        userroleservice.savebatch(sysuser.getid(), sysuser.getroleids());\n        return result.success();\n    }\n\n    @override\n    public result updateavatar(string id, string avatar) {\n        sysuser sysuser = this.getbyid(id);\n        if (stringutils.isnotblank(avatar)) {\n            string nginx = configservice.getstrvalue(configkeyenum.nginx_pic_path.getconfigkey());\n            if (avatar.startswith(nginx)) {\n                avatar = avatar.substring(nginx.length());\n            }\n        }\n        sysuser.setavatar(avatar);\n        this.updatebyid(sysuser);\n        return result.success();\n    }\n\n    @override\n    @transactional\n    public boolean delete(string id) {\n        this.removebyid(id);\n        return userroleservice.removebyuserid(id);\n    }\n\n    @override\n    public sysuser get(string id) {\n        sysuser sysuser = this.getbyid(id);\n        if (objects.isnull(sysuser)) {\n            return null;\n        }\n        if (stringutils.isnotblank(sysuser.getavatar())) {\n            string nginx = configservice.getstrvalue(configkeyenum.nginx_pic_path.getconfigkey());\n            stringbuilder stringbuilder = new stringbuilder(nginx);\n            stringbuilder.append(sysuser.getavatar());\n            sysuser.setavatar(stringbuilder.tostring());\n        }\n        list<sysrole> rolelist = roleservice.getrolebyuserid(sysuser.getid());\n        sysuser.setroles(rolelist);\n        return sysuser;\n    }\n\n    @override\n    public ipage<sysuser> query(page<sysuser> page, sysuserqueryform sysuserqueryform) {\n        querywrapper<sysuser> querywrapper = new querywrapper<>();\n        if (stringutils.isnotblank(sysuserqueryform.getnumber())) {\n            querywrapper.lambda().like(sysuser::getnumber, sysuserqueryform.getnumber());\n        }\n        if (stringutils.isnotblank(sysuserqueryform.getusername())) {\n//            querywrapper.apply("binary username = {0}", sysuserqueryform.getusername());\n            querywrapper.lambda().like(sysuser::getusername, sysuserqueryform.getusername());\n        }\n        if (stringutils.isnotblank(sysuserqueryform.gettype())) {\n            querywrapper.lambda().like(sysuser::gettype, sysuserqueryform.gettype());\n        }\n        if (sysuserqueryform.getcreatedtimestart() != null && sysuserqueryform.getcreatedtimeend() != null) {\n            querywrapper.lambda().between(sysuser::getcreatedtime, sysuserqueryform.getcreatedtimestart(), sysuserqueryform.getcreatedtimeend());\n        }\n        ipage userpage = this.page(page, querywrapper);\n        arraylist<sysuservo> list = new arraylist<>();\n        list<sysuser> records = userpage.getrecords();\n        for (sysuser user : records) {\n            user.setroles(roleservice.getrolebyuserid(user.getid()));\n            list.add(user.toparam(sysuservo.class));\n        }\n        userpage.setrecords(list);\n        return userpage;\n    }\n\n    @override\n    public void exportexcel(httpservletresponse response) {\n        list<sysuser> list = this.list();\n        arraylist<sysuservo> uservolist = new arraylist<>();\n        for (sysuser user : list) {\n            //user.setroles(roleservice.getrolebyuserid(user.getid()));\n            uservolist.add(user.toparam(sysuservo.class));\n        }\n        excelutil.exportexcel(uservolist, "ç¨æ·åè¡¨", "sheet", sysuservo.class, "ç¨æ·åè¡¨.xls", response);\n    }\n\n    @override\n    public result getuserbyroleid(string roleid) {\n        list<string> userids = userroleservice.getuseridsbyroleid(roleid);\n        if (userids == null || userids.isempty()) {\n            return result.success(new arraylist<>());\n        }\n        collection<sysuser> sysusers = this.listbyids(userids);\n        arraylist list = new arraylist<>();\n        sysusers.foreach(sysuser -> {\n            jsonobject jsonobject = new jsonobject();\n            jsonobject.put("id", sysuser.getid());\n            jsonobject.put("username", sysuser.getusername());\n            list.add(jsonobject);\n        });\n        return result.success(list);\n    }\n}\n\n\n# è§è²\n\nimport com.baomidou.mybatisplus.core.conditions.query.lambdaquerywrapper;\nimport com.baomidou.mybatisplus.core.conditions.query.querywrapper;\nimport com.baomidou.mybatisplus.core.metadata.ipage;\nimport com.baomidou.mybatisplus.core.toolkit.collectionutils;\nimport com.baomidou.mybatisplus.extension.plugins.pagination.page;\nimport com.baomidou.mybatisplus.extension.service.impl.serviceimpl;\nimport com.springboot.admin.entity.po.dailyreminder;\nimport com.springboot.admin.service.impl.dailyreminderservice;\nimport com.springboot.common.core.entity.vo.result;\nimport com.springboot.quartz.service.sysjobservice;\nimport com.springboot.system.dao.sysrolemapper;\nimport com.springboot.system.entity.form.sysrolequeryform;\nimport com.springboot.system.entity.po.sysresource;\nimport com.springboot.system.entity.po.sysrole;\nimport com.springboot.system.service.sysresourceservice;\nimport com.springboot.system.service.sysroleresourceservice;\nimport com.springboot.system.service.sysroleservice;\nimport com.springboot.system.service.sysuserroleservice;\nimport org.apache.commons.lang.stringutils;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.stereotype.service;\nimport org.springframework.transaction.annotation.transactional;\n\nimport java.util.arraylist;\nimport java.util.hashset;\nimport java.util.list;\n\n@service\npublic class sysroleserviceimpl extends serviceimpl<sysrolemapper, sysrole> implements sysroleservice {\n\n\n    @autowired\n    sysuserroleservice userroleservice;\n\n    @autowired\n    sysroleresourceservice roleresourceservice;\n\n    @autowired\n    sysresourceservice resourceservice;\n\n    @autowired\n    dailyreminderservice dailyreminderservice;\n\n    /**\n     * æ ¹æ®ç¨æ·idæ¥è¯¢è§è²\n     *\n     * @param userid ç¨æ·id\n     * @return\n     */\n    public list<sysrole> getrolebyuserid(string userid) {\n        list<string> roleids = userroleservice.getroleidsbyuserid(userid);\n        if (roleids.isempty()) {\n            return new arraylist<>();\n        }\n        return (list<sysrole>) this.listbyids(roleids);\n    }\n\n    /**\n     * æ¥è¯¢è§è²åè¡¨\n     */\n    @override\n    public list<sysrole> getrolelist() {\n        return this.list();\n    }\n\n    /**\n     * æ·»å è§è²\n     *\n     * @param sysrole\n     * @return result\n     */\n    @override\n    @transactional\n    public result add(sysrole sysrole) {\n        sysrole role = this.getone(new querywrapper<sysrole>().lambda().eq(sysrole::getrolecode, sysrole.getrolecode()));\n        if (role != null) {\n            return result.fail("å·²ç»å­å¨è¯¥è§è²");\n        }\n        this.save(sysrole);\n        roleresourceservice.savebatch(sysrole.getid(), sysrole.getresourcesids());\n        return result.success();\n    }\n\n    /**\n     * ä¿®æ¹è§è²\n     *\n     * @param sysrole\n     * @return result\n     */\n    @override\n    @transactional\n    public result update(sysrole sysrole) {\n        sysrole sysroledata = this.getbyid(sysrole.getid());\n        list<dailyreminder> listbyrole = dailyreminderservice.getlistbyrole(sysroledata.getrolecode());\n        //ä¿®æ¹æ¯æ¥å¾åäºä»¶éçè§è²\n        if (listbyrole.size() != 0 && !sysrole.getrolecode().equals(sysroledata.getrolecode())){\n            listbyrole.foreach(dailyreminder -> {\n                dailyreminder.setrole(sysrole.getrolecode());\n                dailyreminderservice.update(dailyreminder);\n            });\n        }\n        this.updatebyid(sysrole);\n        if (collectionutils.isnotempty(sysrole.getresourcesids())) {\n            roleresourceservice.savebatch(sysrole.getid(), sysrole.getresourcesids());\n        }\n        return result.success();\n    }\n\n    /**\n     * å é¤è§è²\n     *\n     * @param id\n     * @return result\n     */\n    @override\n    public result delete(string id) {\n        sysrole sysroledata = this.getbyid(id);\n        list<dailyreminder> listbyrole = dailyreminderservice.getlistbyrole(sysroledata.getrolecode());\n        if (listbyrole.size() != 0){\n            return result.fail("æ¯æ¥å¾åäºä»¶éå­å¨è¯¥è§è²ï¼è¯·åå é¤æ¯æ¥å¾åäºä»¶éçè§è²ï¼");\n        }\n        this.removebyid(id);\n        roleresourceservice.removebyroleid(id);\n        return result.success();\n    }\n\n    /**\n     * æ ¹æ®idè·åè§è²\n     *\n     * @param id\n     * @return sysrole\n     */\n    @override\n    public sysrole get(string id) {\n        sysrole sysrole = this.getbyid(id);\n        arraylist<sysresource> list = new arraylist<>();\n        list<string> resourceids = roleresourceservice.getresourceidsbyroleid(id);\n        hashset<string> set = new hashset<>();\n        set.addall(resourceids);\n        sysrole.setresourcesids(set);\n        return sysrole;\n    }\n\n    @override\n    public ipage<sysrole> query(page<sysrole> page, sysrolequeryform sysrolequeryform) {\n        lambdaquerywrapper<sysrole> querywrapper = new querywrapper<sysrole>().lambda();\n        if (stringutils.isnotblank(sysrolequeryform.getrolename())) {\n            querywrapper.like(sysrole::getrolename, sysrolequeryform.getrolename());\n        }\n        return this.page(page, querywrapper);\n    }\n}\n\n\n# èµæº\n\nimport com.baomidou.mybatisplus.core.conditions.query.querywrapper;\nimport com.baomidou.mybatisplus.core.toolkit.collectionutils;\nimport com.baomidou.mybatisplus.extension.service.impl.serviceimpl;\nimport com.springboot.common.core.entity.vo.result;\nimport com.springboot.system.dao.sysresourcemapper;\nimport com.springboot.system.entity.po.sysresource;\nimport com.springboot.system.entity.po.sysrole;\nimport com.springboot.system.service.sysresourceservice;\nimport com.springboot.system.service.sysroleresourceservice;\nimport com.springboot.system.service.sysroleservice;\nimport org.apache.commons.lang.stringutils;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.stereotype.service;\n\nimport java.util.arraylist;\nimport java.util.collection;\nimport java.util.hashset;\nimport java.util.list;\n\nimport static java.util.comparator.comparing;\n\n@service\npublic class sysresourceserviceimpl extends serviceimpl<sysresourcemapper, sysresource> implements sysresourceservice {\n\n\n    @autowired\n    sysroleservice roleservice;\n\n    @autowired\n    sysroleresourceservice roleresourceservice;\n\n\n    /**\n     * æ ¹æ®è§è²idæ¥è¯¢èµæº\n     *\n     * @param roleid ç¨è§è²id\n     * @return\n     */\n    public list<sysresource> getresourcebyroleid(string roleid) {\n        list<string> resourceids = roleresourceservice.getresourceidsbyroleid(roleid);\n        if (collectionutils.isempty(resourceids)) {\n            return null;\n        }\n        return (list<sysresource>) this.listbyids(resourceids);\n    }\n\n\n    /**\n     * æ ¹æ®è§è²idæ¥è¯¢åç«¯èµæº\n     *\n     * @param roleid ç¨è§è²id\n     * @return\n     */\n    public list<sysresource> getresourcebyroleid(string roleid, string menutype) {\n        list<string> resourceids = roleresourceservice.getresourceidsbyroleid(roleid);\n        if (collectionutils.isempty(resourceids)) {\n            return null;\n        }\n        arraylist<sysresource> list = new arraylist<>();\n        collection<sysresource> sysresources = this.listbyids(resourceids);\n        sysresources.foreach(sysresource -> {\n            if (stringutils.isnotblank(sysresource.getpermission()) || stringutils.equals(menutype, sysresource.getmenutype())) {\n                list.add(sysresource);\n            }\n        });\n        return list;\n    }\n\n    /**\n     * æ ¹æ®idå é¤èµæº\n     *\n     * @param id èµæºid\n     * @return\n     */\n    @override\n    public result delete(string id) {\n        list<sysresource> list = this.list(new querywrapper<sysresource>().lambda().eq(sysresource::getparentid, id));\n        if (collectionutils.isnotempty(list)) {\n            return result.fail("å­å¨ä¸çº§èåï¼ä¸åè®¸å é¤ï¼");\n        }\n        this.removebyid(id);\n        return result.success();\n    }\n\n\n    /**\n     * è·åèµæºåè¡¨\n     * éè¿æ çå½¢å¼è¿å\n     */\n    @override\n    public list<sysresource> getlist() {\n        list<sysresource> resourcelist = this.list();\n        if (collectionutils.isempty(resourcelist)) {\n            return null;\n        }\n        //æ¿å°é¡¶çº§èå\n        arraylist<sysresource> list = new arraylist<>();\n        for (sysresource sysresource : resourcelist) {\n            if (stringutils.equals(sysresource.getparentid(), "0")) {\n                list.add(sysresource);\n            }\n        }\n        list.sort(comparing(sysresource::getordernumber));\n        //å¾ªç¯é¡¶çº§èåè®¾ç½®å­èå\n        for (sysresource sysresource : list) {\n            sysresource.setchildren(getresourcechildren(sysresource.getid(), resourcelist));\n        }\n        return list;\n    }\n\n    /**\n     * æ ¹æ®ç¨æ·idæ¥è¯¢èµæº\n     *\n     * @param userid   ç¨æ·id\n     * @param menutype èåç±»å\n     * @return: èµæºåè¡¨\n     */\n    @override\n    public list<sysresource> getbyuserid(string userid, string menutype) {\n        list<sysrole> rolelist = roleservice.getrolebyuserid(userid);\n        if (collectionutils.isempty(rolelist)) {\n            return null;\n        }\n        hashset<string> set = new hashset<>();\n        rolelist.foreach(sysrole -> {\n            list<string> resourceids = roleresourceservice.getresourceidsbyroleid(sysrole.getid());\n            set.addall(resourceids);\n        });\n        if (collectionutils.isempty(set)) {\n            return new arraylist<>();\n        }\n        list<sysresource> resourcelist = this.list(new querywrapper<sysresource>().lambda().eq(sysresource::getmenutype, menutype).in(sysresource::getid, set));\n        //æ¿å°é¡¶çº§èå\n        arraylist<sysresource> list = new arraylist<>();\n        for (sysresource sysresource : resourcelist) {\n            if (stringutils.equals(sysresource.getparentid(), "0")) {\n                list.add(sysresource);\n            }\n        }\n        list.sort(comparing(sysresource::getordernumber));\n        //å¾ªç¯é¡¶çº§èåè®¾ç½®å­èå\n        for (sysresource sysresource : list) {\n            sysresource.setchildren(getresourcechildren(sysresource.getid(), resourcelist));\n        }\n        return list;\n    }\n\n    /**\n     * éå½æ¥è¯¢èµæº\n     *\n     * @param list é¡¶çº§èµæºåè¡¨\n     * @return: èµæºåè¡¨\n     */\n    private list<sysresource> getresourcechildren(string id, list<sysresource> list) {\n        list<sysresource> childrenlist = new arraylist<>();\n        if (collectionutils.isempty(list)) {\n            return null;\n        }\n        for (sysresource sysresource : list) {\n            if (stringutils.equals(sysresource.getparentid(), id)) {\n                childrenlist.add(sysresource);\n            }\n        }\n        for (sysresource sysresource : childrenlist) {\n            sysresource.setchildren(getresourcechildren(sysresource.getid(), list));\n        }\n        childrenlist.sort(comparing(sysresource::getordernumber));\n        return childrenlist;\n    }\n\n}\n\n\n# ç¨æ·è§è²å³è\n\nimport com.baomidou.mybatisplus.core.conditions.query.querywrapper;\nimport com.baomidou.mybatisplus.core.toolkit.collectionutils;\nimport com.baomidou.mybatisplus.extension.service.impl.serviceimpl;\nimport com.springboot.system.dao.sysuserrolemapper;\nimport com.springboot.system.entity.po.sysuserrole;\nimport com.springboot.system.service.sysuserroleservice;\nimport org.springframework.stereotype.service;\nimport org.springframework.transaction.annotation.transactional;\n\nimport java.util.arraylist;\nimport java.util.list;\nimport java.util.set;\nimport java.util.stream.collectors;\n\n@service\npublic class sysuserroleserviceimpl extends serviceimpl<sysuserrolemapper, sysuserrole> implements sysuserroleservice {\n\n\n    /**\n     * æ ¹æ®ç¨æ·idæ¥è¯¢è§è²ids\n     *\n     * @param userid ç¨æ·id\n     * @return\n     */\n    @override\n    public list<string> getroleidsbyuserid(string userid) {\n        list<sysuserrole> sysuserroles = this.list(new querywrapper<sysuserrole>().lambda().eq(sysuserrole::getuserid, userid));\n        if (sysuserroles.isempty()) {\n            return new arraylist<>();\n        }\n        arraylist<string> list = new arraylist<>();\n        for (sysuserrole sysuserrole : sysuserroles) {\n            list.add(sysuserrole.getroleid());\n        }\n        return list;\n    }\n\n\n    @override\n    @transactional\n    public boolean savebatch(string userid, set<string> roleids) {\n        if (collectionutils.isempty(roleids)) {\n            return false;\n        }\n        removebyuserid(userid);\n        set<sysuserrole> userroles = roleids.stream().map(roleid -> new sysuserrole(null, userid, roleid, "n", null, null, null, null)).collect(collectors.toset());\n        return savebatch(userroles);\n    }\n\n    @override\n    @transactional\n    public boolean removebyuserid(string userid) {\n        return remove(new querywrapper<sysuserrole>().lambda().eq(sysuserrole::getuserid, userid));\n    }\n\n    @override\n    public list<string> getuseridsbyroleid(string roleid) {\n        list<sysuserrole> sysuserroles = this.list(new querywrapper<sysuserrole>().lambda().eq(sysuserrole::getroleid, roleid));\n        if (sysuserroles.isempty()) {\n            return new arraylist<>();\n        }\n        arraylist<string> list = new arraylist<>();\n        for (sysuserrole sysuserrole : sysuserroles) {\n            list.add(sysuserrole.getuserid());\n        }\n        return list;\n    }\n\n}\n\n\n# è§è²èµæºå³è\n\nimport com.baomidou.mybatisplus.core.conditions.query.querywrapper;\nimport com.baomidou.mybatisplus.core.toolkit.collectionutils;\nimport com.baomidou.mybatisplus.extension.service.impl.serviceimpl;\nimport com.springboot.system.dao.sysroleresourcemapper;\nimport com.springboot.system.entity.po.sysroleresource;\nimport com.springboot.system.service.sysroleresourceservice;\nimport org.springframework.stereotype.service;\n\nimport java.util.arraylist;\nimport java.util.list;\nimport java.util.set;\nimport java.util.stream.collectors;\n\n@service\npublic class sysroleresourceserviceimpl extends serviceimpl<sysroleresourcemapper, sysroleresource> implements sysroleresourceservice {\n\n\n    /**\n     * æ ¹æ®è§è²idæ¥è¯¢èµæºids\n     *\n     * @param roleid ç¨è§è²id\n     * @return\n     */\n    @override\n    public list<string> getresourceidsbyroleid(string roleid) {\n        list<sysroleresource> sysroleresources = this.list(new querywrapper<sysroleresource>().lambda().eq(sysroleresource::getroleid, roleid));\n        arraylist<string> list = new arraylist<>();\n        for (sysroleresource sysroleresource : sysroleresources) {\n            list.add(sysroleresource.getresourceid());\n        }\n        return list;\n    }\n\n    @override\n    public boolean savebatch(string roleid, set<string> resourceids) {\n        if (collectionutils.isempty(resourceids)) {\n            return false;\n        }\n        this.removebyroleid(roleid);\n        set<sysroleresource> userroles = resourceids.stream().map(resourceid -> new sysroleresource(null, roleid, resourceid, "n", null, null, null, null)).collect(collectors.toset());\n        return savebatch(userroles);\n    }\n\n\n    public boolean removebyroleid(string roleid) {\n        querywrapper<sysroleresource> querywrapper = new querywrapper<>();\n        querywrapper.lambda().eq(sysroleresource::getroleid, roleid);\n        return remove(querywrapper);\n    }\n\n}\n\n\n# ç»å½\n\nimport com.baomidou.mybatisplus.core.toolkit.collectionutils;\nimport com.springboot.system.entity.sysuserdetails;\nimport com.springboot.system.entity.po.sysrole;\nimport com.springboot.system.entity.po.sysuser;\nimport com.springboot.system.service.sysuserservice;\nimport org.springframework.beans.beanutils;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.security.core.grantedauthority;\nimport org.springframework.security.core.authority.simplegrantedauthority;\nimport org.springframework.security.core.userdetails.userdetails;\nimport org.springframework.security.core.userdetails.userdetailsservice;\nimport org.springframework.security.core.userdetails.usernamenotfoundexception;\nimport org.springframework.stereotype.service;\n\nimport java.util.hashset;\nimport java.util.list;\nimport java.util.set;\n\n/**\n * ç¨æ·ç»å½service\n */\n@service\npublic class sysuserdetailsservice implements userdetailsservice {\n\n    @autowired\n    private sysuserservice sysuserservice;\n\n    /**\n     * æ ¹æ®ç¨æ·åæ¥ç¨æ·ä¿¡æ¯\n     *\n     * @param username ç¨æ·å\n     * @return ç¨æ·è¯¦ç»ä¿¡æ¯\n     */\n    @override\n    public userdetails loaduserbyusername(string username) throws usernamenotfoundexception {\n        sysuser sysuser = sysuserservice.finduserbyusername(username);\n        if (sysuser != null) {\n            sysuserdetails sysuserdetails = new sysuserdetails();\n            beanutils.copyproperties(sysuser, sysuserdetails);\n\n            set<grantedauthority> authorities = new hashset<>(); // è§è²éå\n\n            list<sysrole> rolelist = sysuserservice.findrolebyuserid(sysuserdetails.getid());\n            if (collectionutils.isnotempty(rolelist)) {\n                rolelist.foreach(role -> {\n                    authorities.add(new simplegrantedauthority("role_" + role.getrolecode()));\n                });\n            }\n            sysuserdetails.setauthorities(authorities);\n\n            return sysuserdetails;\n        }\n        return null;\n    }\n}\n\n\n\n# controllerå±\n\n# ç¨æ·\n\nimport com.baomidou.mybatisplus.core.metadata.ipage;\nimport com.springboot.admin.service.ioutsideauditschemeservice;\nimport com.springboot.aop.annotation.syslog;\nimport com.springboot.aop.enums.sysoperatelogenum;\nimport com.springboot.common.core.entity.vo.result;\nimport com.springboot.system.entity.form.sysuserqueryform;\nimport com.springboot.system.entity.po.sysuser;\nimport com.springboot.system.entity.vo.sysuservo;\nimport com.springboot.system.service.sysuserservice;\nimport io.swagger.annotations.apiimplicitparam;\nimport io.swagger.annotations.apioperation;\nimport lombok.extern.slf4j.slf4j;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.security.access.prepost.preauthorize;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.servlet.http.httpservletresponse;\nimport javax.validation.valid;\n\n\n@slf4j\n@restcontroller\n@requestmapping("/user")\npublic class sysusercontroller {\n\n    @autowired\n    sysuserservice userservice;\n    @autowired\n    ioutsideauditschemeservice outsideauditschemeservice;\n\n    @apioperation(value = "æ ¹æ®tokenè·åç¨æ·", notes = "æ ¹æ®tokenè·åç¨æ·")\n    @apiimplicitparam(name = "token", value = "token", required = true, datatype = "string")\n    @preauthorize(value = "haspermission(\'/user/info\',\'sys:user:info\')")\n    @postmapping("/info")\n    public result info(@requestparam("token") string token) {\n        log.debug("get user with token:{}", token);\n        return userservice.finduserbytoken(token);\n    }\n\n    @apioperation(value = "æ°å¢ç¨æ·", notes = "æ°å¢ä¸ä¸ªç¨æ·")\n    @apiimplicitparam(name = "sysuser", value = "æ°å¢ç¨æ·sysuserè¡¨å", required = true, datatype = "sysuser")\n    @syslog(operatemodel = "ç¨æ·ç®¡ç", operatetype = sysoperatelogenum.insert)\n    @preauthorize(value = "haspermission(\'/user/add\',\'sys:user:add\')")\n    @postmapping("/add")\n    public result add(@valid @requestbody sysuser sysuser) {\n        log.debug("add user with:{}", sysuser);\n        return userservice.add(sysuser);\n    }\n\n    @apioperation(value = "ä¿®æ¹ç¨æ·", notes = "ä¿®æ¹æå®ç¨æ·ä¿¡æ¯")\n    @apiimplicitparam(name = "sysuser", value = "ç¨æ·å®ä½", required = true, datatype = "sysuser")\n    @syslog(operatemodel = "ç¨æ·ç®¡ç", operatetype = sysoperatelogenum.update)\n    @preauthorize(value = "haspermission(\'/user/update\',\'sys:user:update\')")\n    @putmapping(value = "/update")\n    public result update(@valid @requestbody sysuser sysuser) {\n        log.debug("update user with:{}", sysuser);\n        return userservice.update(sysuser);\n    }\n\n    @apioperation(value = "ä¿®æ¹å¤´å", notes = "ä¿®æ¹å¤´å")\n    @syslog(operatemodel = "ç¨æ·ç®¡ç", operatetype = sysoperatelogenum.update)\n    @preauthorize(value = "haspermission(\'/user/updateavatar\',\'sys:user:updateavatar\')")\n    @putmapping(value = "/updateavatar")\n    public result updateavatar(@requestparam string id,@requestparam string avatar) {\n        log.debug("update avatar with userid:{}", id);\n        return userservice.updateavatar(id,avatar);\n    }\n\n    @apioperation(value = "å é¤ç¨æ·", notes = "æ ¹æ®idæ¥æå®å é¤å¯¹è±¡ï¼é»è¾å é¤")\n    @syslog(operatemodel = "ç¨æ·ç®¡ç", operatetype = sysoperatelogenum.delete)\n    @preauthorize(value = "haspermission(\'/user/delete\',\'sys:user:del\')")\n    @deletemapping(value = "/delete")\n    public result delete(@requestparam string id) {\n        log.debug("delete user for:{}", id);\n        if (outsideauditschemeservice.checkbyuserid(id)) {\n            return result.fail("è¯¥ç¨æ·idå¨æå¤å®¡æ¹æ¹æ¡ä¸­è¢«ä½¿ç¨ï¼æ æ³å é¤ï¼");\n        }\n        boolean result = userservice.delete(id);\n        if (result) {\n            return result.success();\n        }\n        return result.fail();\n    }\n\n    @apioperation(value = "è·åç¨æ·", notes = "è·åæå®ç¨æ·ä¿¡æ¯")\n    @preauthorize(value = "haspermission(\'/user/get\',\'sys:user:get\')")\n    @getmapping(value = "/get")\n    public result get(@requestparam string id) {\n        log.debug("get user with id:{}", id);\n        sysuser user = userservice.get(id);\n        sysuservo sysuservo = user.toparam(sysuservo.class);\n        return result.success(sysuservo);\n    }\n\n\n    @apioperation(value = "æç´¢ç¨æ·", notes = "æ ¹æ®æ¡ä»¶æ¥è¯¢ç¨æ·ä¿¡æ¯")\n    @apiimplicitparam(name = "sysuserqueryform", value = "ç¨æ·æ¥è¯¢åæ°", required = true, datatype = "sysuserqueryform")\n    @preauthorize(value = "haspermission(\'/user/query\',\'sys:user:query\')")\n    @postmapping(value = "/query")\n    public result query(@valid @requestbody sysuserqueryform sysuserqueryform) {\n        log.debug("query with sysuserqueryform:{}", sysuserqueryform);\n        ipage<sysuser> uservoipage = userservice.query(sysuserqueryform.getpage(), sysuserqueryform);\n        return result.success(uservoipage);\n    }\n\n    @apioperation(value = "å¯¼åºç¨æ·åè¡¨", notes = "å¯¼åºç¨æ·åè¡¨")\n    @syslog(operatemodel = "ç¨æ·ç®¡ç", operatetype = sysoperatelogenum.export)\n    @preauthorize(value = "haspermission(\'/user/export\',\'sys:user:export\')")\n    @getmapping(value = "/export")\n    public void export(httpservletresponse response) {\n        log.debug("export user list");\n        userservice.exportexcel(response);\n    }\n\n\n    @apioperation(value = "è·åç¨æ·", notes = "æ ¹æ®è§è²è·åç¨æ·")\n    @preauthorize(value = "haspermission(\'/user/getuserbyroleid\',\'sys:user:getuserbyroleid\')")\n    @getmapping(value = "/getuserbyroleid")\n    public result getuserbyrole(@requestparam string roleid) {\n        log.debug("get user roleid:{}", roleid);\n        return userservice.getuserbyroleid(roleid);\n    }\n\n}\n\n\n# è§è²\n\nimport com.baomidou.mybatisplus.core.metadata.ipage;\nimport com.springboot.aop.annotation.syslog;\nimport com.springboot.aop.enums.sysoperatelogenum;\nimport com.springboot.common.core.entity.vo.result;\nimport com.springboot.admin.service.ioutsideauditschemeservice;\nimport com.springboot.system.entity.form.sysrolequeryform;\nimport com.springboot.system.entity.po.sysrole;\nimport com.springboot.system.entity.po.sysuser;\nimport com.springboot.system.service.sysroleservice;\nimport io.swagger.annotations.apiimplicitparam;\nimport io.swagger.annotations.apioperation;\nimport lombok.extern.slf4j.slf4j;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.security.access.prepost.preauthorize;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.valid;\n\n@slf4j\n@restcontroller\n@requestmapping("/role")\npublic class sysrolecontroller {\n\n    @autowired\n    sysroleservice roleservice;\n    @autowired\n    ioutsideauditschemeservice outsideauditschemeservice;\n\n\n    @apioperation(value = "æ°å¢è§è²", notes = "æ°å¢ä¸ä¸ªè§è²")\n    @apiimplicitparam(name = "sysrole", value = "æ°å¢è§è²sysroleè¡¨å", required = true, datatype = "sysrole")\n    @syslog(operatemodel = "è§è²ç®¡ç", operatetype = sysoperatelogenum.insert)\n    @preauthorize(value = "haspermission(\'/role/add\',\'sys:role:add\')")\n    @postmapping("/add")\n    public result add(@valid @requestbody sysrole sysrole) {\n        log.debug("add role with:{}", sysrole);\n        return roleservice.add(sysrole);\n    }\n\n\n    @apioperation(value = "ä¿®æ¹è§è²", notes = "ä¿®æ¹æå®è§è²ä¿¡æ¯")\n    @apiimplicitparam(name = "sysrole", value = "è§è²å®ä½", required = true, datatype = "sysrole")\n    @syslog(operatemodel = "è§è²ç®¡ç", operatetype = sysoperatelogenum.update)\n    @preauthorize(value = "haspermission(\'/role/update\',\'sys:role:update\')")\n    @putmapping(value = "/update")\n    public result update(@valid @requestbody sysrole sysrole) {\n        log.debug("update role with:{}", sysrole);\n        return roleservice.update(sysrole);\n    }\n\n    @apioperation(value = "å é¤è§è²", notes = "æ ¹æ®idæ¥æå®å é¤è§è²ï¼é»è¾å é¤")\n    @apiimplicitparam(paramtype = "param", name = "id", value = "è§è²id", required = true, datatype = "string")\n    @syslog(operatemodel = "è§è²ç®¡ç", operatetype = sysoperatelogenum.delete)\n    @preauthorize(value = "haspermission(\'/role/delete\',\'sys:role:del\')")\n    @deletemapping(value = "/delete")\n    public result delete(@requestparam string id) {\n        log.debug("delete role for:{}", id);\n        if(outsideauditschemeservice.checkbyroleid(id)){\n            return result.fail("è¯¥è§è²idå¨æå¤å®¡æ¹æ¹æ¡ä¸­è¢«ä½¿ç¨ï¼æ æ³å é¤ï¼");\n        }\n        return roleservice.delete(id);\n    }\n\n    @apioperation(value = "è·åè§è²", notes = "è·åæå®è§è²ä¿¡æ¯")\n    @apiimplicitparam(paramtype = "param", name = "id", value = "è§è²id", required = true, datatype = "string")\n    @preauthorize(value = "haspermission(\'/role/get\',\'sys:role:get\')")\n    @getmapping(value = "/get")\n    public result get(@requestparam string id) {\n        log.debug("get role with id:{}", id);\n        sysrole sysrole = roleservice.get(id);\n        return result.success(sysrole);\n    }\n\n\n    @apioperation(value = "æç´¢è§è²", notes = "æ ¹æ®æ¡ä»¶æ¥è¯¢è§è²ä¿¡æ¯")\n    @apiimplicitparam(name = "sysrolequeryform", value = "è§è²æ¥è¯¢åæ°", required = true, datatype = "sysrolequeryform")\n    @preauthorize(value = "haspermission(\'/role/query\',\'sys:role:query\')")\n    @postmapping(value = "/query")\n    public result query(@valid @requestbody sysrolequeryform sysrolequeryform) {\n        log.debug("query with sysrolequeryform:{}", sysrolequeryform);\n        ipage<sysuser> uservoipage = roleservice.query(sysrolequeryform.getpage(), sysrolequeryform);\n        return result.success(uservoipage);\n    }\n\n    @apioperation(value = "æ¥è¯¢è§è²åè¡¨", notes = "æ¥è¯¢è§è²åè¡¨")\n    @preauthorize(value = "haspermission(\'/role/lsit\',\'sys:role:list\')")\n    @getmapping("/list")\n    public result list() {\n        return result.success(roleservice.getrolelist());\n    }\n\n}\n\n\n# èµæº\n\nimport com.springboot.aop.annotation.syslog;\nimport com.springboot.aop.enums.sysoperatelogenum;\nimport com.springboot.common.core.entity.vo.result;\nimport com.springboot.system.entity.po.sysresource;\nimport com.springboot.system.service.sysresourceservice;\nimport io.swagger.annotations.apiimplicitparam;\nimport io.swagger.annotations.apioperation;\nimport lombok.extern.slf4j.slf4j;\nimport org.apache.commons.lang.stringutils;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.security.access.prepost.preauthorize;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.valid;\nimport java.util.list;\n\n@slf4j\n@restcontroller\n@requestmapping("/resource")\npublic class sysresourcecontroller {\n\n    @autowired\n    sysresourceservice resourceservice;\n\n\n    @apioperation(value = "æ°å¢èµæº", notes = "æ°å¢ä¸ä¸ªèµæº")\n    @apiimplicitparam(name = "sysresource", value = "æ°å¢èµæºsysresourceè¡¨å", required = true, datatype = "sysresource")\n    @syslog(operatemodel = "èåèµæºç®¡ç", operatetype = sysoperatelogenum.insert)\n    @preauthorize(value = "haspermission(\'/resource/add\',\'sys:resource:add\')")\n    @postmapping("/add")\n    public result add(@valid @requestbody sysresource sysresource) {\n        log.debug("add resource with:{}", sysresource);\n        if (stringutils.isblank(sysresource.getparentid())) {\n            sysresource.setparentid("0");\n        }\n        boolean result = resourceservice.save(sysresource);\n        if (result) {\n            return result.success();\n        }\n        return result.fail();\n    }\n\n    @apioperation(value = "ä¿®æ¹èµæº", notes = "ä¿®æ¹æå®èµæºä¿¡æ¯")\n    @apiimplicitparam(name = "sysresource", value = "èµæºå®ä½", required = true, datatype = "sysresource")\n    @syslog(operatemodel = "èåèµæºç®¡ç", operatetype = sysoperatelogenum.update)\n    @preauthorize(value = "haspermission(\'/resource/update\',\'sys:resource:update\')")\n    @putmapping(value = "/update")\n    public result update(@valid @requestbody sysresource sysresource) {\n        log.debug("update resource with:{}", sysresource);\n        boolean result = resourceservice.updatebyid(sysresource);\n        if (result) {\n            return result.success();\n        }\n        return result.fail();\n    }\n\n    @apioperation(value = "å é¤èµæº", notes = "æ ¹æ®idæ¥æå®å é¤å¯¹è±¡ï¼é»è¾å é¤")\n    @apiimplicitparam(paramtype = "param", name = "id", value = "èµæºid", required = true, datatype = "string")\n    @syslog(operatemodel = "èåèµæºç®¡ç", operatetype = sysoperatelogenum.delete)\n    @preauthorize(value = "haspermission(\'/resource/delete\',\'sys:resource:del\')")\n    @deletemapping(value = "/delete")\n    public result delete(@requestparam string id) {\n        log.debug("delete resource for:{}", id);\n        return resourceservice.delete(id);\n    }\n\n    @apioperation(value = "è·åèµæº", notes = "è·åæå®èµæºä¿¡æ¯")\n    @apiimplicitparam(paramtype = "param", name = "id", value = "èµæºid", required = true, datatype = "string")\n    @preauthorize(value = "haspermission(\'/resource/get\',\'sys:resource:get\')")\n    @getmapping(value = "/get")\n    public result get(@requestparam string id) {\n        log.debug("get resource with id:{}", id);\n        sysresource sysresource = resourceservice.getbyid(id);\n        return result.success(sysresource);\n    }\n\n\n    @apioperation(value = "èµæºåè¡¨", notes = "èµæºåè¡¨")\n    @preauthorize(value = "haspermission(\'/resource/list\',\'sys:resource:list\')")\n    @getmapping(value = "/list")\n    public result list() {\n        log.debug("query resource list");\n        return result.success(resourceservice.getlist());\n    }\n\n\n    @apioperation(value = "è·åèµæº", notes = "è·åæå®èµæºä¿¡æ¯")\n    @preauthorize(value = "haspermission(\'/resource/getbyuserid\',\'sys:resource:getbyuserid\')")\n    @getmapping(value = "/getbyuserid")\n    public result getbyuserid(@requestparam string userid, @requestparam string menutype) {\n        log.debug("get resource with userid:{}", userid);\n        list<sysresource> resourcelist = resourceservice.getbyuserid(userid, menutype);\n        return result.success(resourcelist);\n    }\n\n}\n\n\n# ç»å½\n\nimport com.springboot.common.core.entity.vo.result;\nimport com.springboot.system.entity.sysuserdetails;\nimport com.springboot.system.entity.po.sysuser;\nimport com.springboot.system.provider.userauthenticationprovider;\nimport com.springboot.system.service.impl.sysuserdetailsservice;\nimport com.springboot.system.util.jwttokenutil;\nimport io.swagger.annotations.apioperation;\nimport lombok.sneakythrows;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.security.authentication.usernamepasswordauthenticationtoken;\nimport org.springframework.security.core.userdetails.userdetails;\nimport org.springframework.web.bind.annotation.postmapping;\nimport org.springframework.web.bind.annotation.requestbody;\nimport org.springframework.web.bind.annotation.requestparam;\nimport org.springframework.web.bind.annotation.restcontroller;\n\nimport javax.servlet.http.httpservletrequest;\nimport javax.validation.valid;\nimport java.util.base64;\n\n\n@restcontroller\npublic class logincontroller {\n\n    @autowired\n    private sysuserdetailsservice userdetailsservice;\n\n    @autowired\n    private userauthenticationprovider authenticationprovider;\n\n    /**\n     * ä½¿ç¨ /login è¯·æ±è·å¾ token, /login ä¸ç»è¿æ¦æªå¨\n     */\n    @sneakythrows\n    @postmapping("/login")\n    @apioperation(value = "ç»å½æ¥å£", notes = "ç»å½æ¥å£")\n    public result login(@valid @requestbody sysuser user, httpservletrequest request) {\n\n        // å¯ç éè¿base64è§£ç \n        byte[] decode = base64.getdecoder().decode(user.getpassword());\n        string password = new string(decode, "utf-8");\n\n        userdetails userdetails = userdetailsservice.loaduserbyusername(user.getusername());\n        // éè¿ username å password æå»ºä¸ä¸ª authentication å¯¹è±¡\n        usernamepasswordauthenticationtoken authrequest = new usernamepasswordauthenticationtoken(user.getusername(), password);\n        authenticationprovider.authenticate(authrequest, request);\n        string accesstoken = jwttokenutil.createaccesstoken((sysuserdetails) userdetails);\n        return result.success(accesstoken);\n    }\n\n    @apioperation(value = "å·æ°tokenæ¥å£", notes = "å·æ°tokenæ¥å£")\n    @postmapping("/refreshtoken")\n    public result refreshtoken(@requestparam string token) {\n        return result.success(jwttokenutil.refreshtoken(token));\n    }\n\n}\n',charsets:{cjk:!0}},{title:"Javaè®¾è®¡æ¨¡å¼",frontmatter:{title:"Javaè®¾è®¡æ¨¡å¼",date:"2022-04-08T10:13:15.000Z",permalink:"/pages/44301a/",categories:["å­¦ä¹ èµæ","Javaå®æ","è®¾è®¡æ¨¡å¼"],tags:[null]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/20.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/01.Java%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html",relativePath:"å­¦ä¹ èµæ/03.Java/20.è®¾è®¡æ¨¡å¼/01.Javaè®¾è®¡æ¨¡å¼.md",key:"v-1f6f6185",path:"/pages/44301a/",headersStr:null,content:"Javaè®¾è®¡æ¨¡å¼",normalizedContent:"javaè®¾è®¡æ¨¡å¼",charsets:{cjk:!0}},{title:"SpringCloudå¼å§æ­å»º",frontmatter:{title:"SpringCloudå¼å§æ­å»º",date:"2022-05-21T10:05:10.000Z",permalink:"/pages/723081/",categories:["å­¦ä¹ èµæ","Java","SpringCloudå®æ"],tags:[null]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/25.SpringCloud%E5%AE%9E%E6%88%98/01.SpringCloud%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BA.html",relativePath:"å­¦ä¹ èµæ/03.Java/25.SpringCloudå®æ/01.SpringCloudå¼å§æ­å»º.md",key:"v-55f08350",path:"/pages/723081/",headers:[{level:2,title:"ç¯å¢åå¤ï¼nacosï¼",slug:"ç¯å¢åå¤-nacos",normalizedTitle:"ç¯å¢åå¤ï¼nacosï¼",charIndex:2},{level:3,title:"åæºå¯å¨ï¼windowsï¼",slug:"åæºå¯å¨-windows",normalizedTitle:"åæºå¯å¨ï¼windowsï¼",charIndex:27},{level:3,title:"è®¿é®",slug:"è®¿é®",normalizedTitle:"è®¿é®",charIndex:154},{level:2,title:"æ°å»ºmavené¡¹ç®ï¼ç¶å·¥ç¨ï¼",slug:"æ°å»ºmavené¡¹ç®-ç¶å·¥ç¨",normalizedTitle:"æ°å»ºmavené¡¹ç®ï¼ç¶å·¥ç¨ï¼",charIndex:206},{level:3,title:"æ·»å ä¾èµ",slug:"æ·»å ä¾èµ",normalizedTitle:"æ·»å ä¾èµ",charIndex:225}],headersStr:"ç¯å¢åå¤ï¼nacosï¼ åæºå¯å¨ï¼windowsï¼ è®¿é® æ°å»ºmavené¡¹ç®ï¼ç¶å·¥ç¨ï¼ æ·»å ä¾èµ",content:'# ç¯å¢åå¤ï¼nacosï¼\n\nnacosä¸è½½\n\n\n# åæºå¯å¨ï¼windowsï¼\n\n 1. å½ä»¤å¯å¨\n\n# è¿å¥binç®å½\nstartup.cmd -m standalone\n\n\n 2. åå»starup.cmdå¯å¨\n\n# ä¿®æ¹starup.cmdæä»¶\nset MODE="standalone"\n\n\n\n# è®¿é®\n\nlocalhost:8848/nacos\n\n> è´¦å·ï¼nacos\n> å¯ç ï¼nacos\n\n\n# æ°å»ºmavené¡¹ç®ï¼ç¶å·¥ç¨ï¼\n\n\n# æ·»å ä¾èµ\n\nspringBootãspringCloudãspringCloudAlibabaå¯¹åºçæ¬å³ç³»\n\n<properties>\n    <spring-boot-version>2.6.3</spring-boot-version>\n    <spring-cloud-version>2021.0.1</spring-cloud-version>\n    <spring-cloud-alibaba-version>2021.0.1.0</spring-cloud-alibaba-version>\n    <java.version>1.8</java.version>\n    <spring-boot-maven-plugin-version>2.6.3</spring-boot-maven-plugin-version>\n</properties>\n\n\x3c!-- å¼å¥ Spring BootãSpring CloudãSpring Cloud Alibaba ä¸è BOM æä»¶ï¼è¿è¡ä¾èµçæ¬çç®¡çï¼é²æ­¢ä¸å¼å®¹ --\x3e\n<dependencyManagement>\n    <dependencies>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-parent</artifactId>\n            <version>${spring-boot-version}</version>\n            <type>pom</type>\n            <scope>import</scope>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.cloud</groupId>\n            <artifactId>spring-cloud-dependencies</artifactId>\n            <version>${spring-cloud-version}</version>\n            <type>pom</type>\n            <scope>import</scope>\n        </dependency>\n        <dependency>\n            <groupId>com.alibaba.cloud</groupId>\n            <artifactId>spring-cloud-alibaba-dependencies</artifactId>\n            <version>${spring-cloud-alibaba-version}</version>\n            <type>pom</type>\n            <scope>import</scope>\n        </dependency>\n    </dependencies>\n</dependencyManagement>\n\n<dependencies>\n    \x3c!-- å¼å¥ Spring Cloud Alibaba Nacos Discovery ç¸å³ä¾èµï¼å° Nacos ä½ä¸ºæ³¨åä¸­å¿ï¼å¹¶å®ç°å¯¹å¶çèªå¨éç½® --\x3e\n    <dependency>\n        <groupId>com.alibaba.cloud</groupId>\n        <artifactId>spring-cloud-starter-alibaba-nacos-discovery</artifactId>\n    </dependency>\n</dependencies>\n\n',normalizedContent:'# ç¯å¢åå¤ï¼nacosï¼\n\nnacosä¸è½½\n\n\n# åæºå¯å¨ï¼windowsï¼\n\n 1. å½ä»¤å¯å¨\n\n# è¿å¥binç®å½\nstartup.cmd -m standalone\n\n\n 2. åå»starup.cmdå¯å¨\n\n# ä¿®æ¹starup.cmdæä»¶\nset mode="standalone"\n\n\n\n# è®¿é®\n\nlocalhost:8848/nacos\n\n> è´¦å·ï¼nacos\n> å¯ç ï¼nacos\n\n\n# æ°å»ºmavené¡¹ç®ï¼ç¶å·¥ç¨ï¼\n\n\n# æ·»å ä¾èµ\n\nspringbootãspringcloudãspringcloudalibabaå¯¹åºçæ¬å³ç³»\n\n<properties>\n    <spring-boot-version>2.6.3</spring-boot-version>\n    <spring-cloud-version>2021.0.1</spring-cloud-version>\n    <spring-cloud-alibaba-version>2021.0.1.0</spring-cloud-alibaba-version>\n    <java.version>1.8</java.version>\n    <spring-boot-maven-plugin-version>2.6.3</spring-boot-maven-plugin-version>\n</properties>\n\n\x3c!-- å¼å¥ spring bootãspring cloudãspring cloud alibaba ä¸è bom æä»¶ï¼è¿è¡ä¾èµçæ¬çç®¡çï¼é²æ­¢ä¸å¼å®¹ --\x3e\n<dependencymanagement>\n    <dependencies>\n        <dependency>\n            <groupid>org.springframework.boot</groupid>\n            <artifactid>spring-boot-starter-parent</artifactid>\n            <version>${spring-boot-version}</version>\n            <type>pom</type>\n            <scope>import</scope>\n        </dependency>\n        <dependency>\n            <groupid>org.springframework.cloud</groupid>\n            <artifactid>spring-cloud-dependencies</artifactid>\n            <version>${spring-cloud-version}</version>\n            <type>pom</type>\n            <scope>import</scope>\n        </dependency>\n        <dependency>\n            <groupid>com.alibaba.cloud</groupid>\n            <artifactid>spring-cloud-alibaba-dependencies</artifactid>\n            <version>${spring-cloud-alibaba-version}</version>\n            <type>pom</type>\n            <scope>import</scope>\n        </dependency>\n    </dependencies>\n</dependencymanagement>\n\n<dependencies>\n    \x3c!-- å¼å¥ spring cloud alibaba nacos discovery ç¸å³ä¾èµï¼å° nacos ä½ä¸ºæ³¨åä¸­å¿ï¼å¹¶å®ç°å¯¹å¶çèªå¨éç½® --\x3e\n    <dependency>\n        <groupid>com.alibaba.cloud</groupid>\n        <artifactid>spring-cloud-starter-alibaba-nacos-discovery</artifactid>\n    </dependency>\n</dependencies>\n\n',charsets:{cjk:!0}},{title:"SpringCloudéç½®ä¸­å¿Config",frontmatter:{title:"SpringCloudéç½®ä¸­å¿Config",date:"2022-05-21T10:37:41.000Z",permalink:"/pages/73ae92/",categories:["å­¦ä¹ èµæ","Java","SpringCloudå®æ"],tags:[null]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/25.SpringCloud%E5%AE%9E%E6%88%98/02.SpringCloud%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83Config.html",relativePath:"å­¦ä¹ èµæ/03.Java/25.SpringCloudå®æ/02.SpringCloudéç½®ä¸­å¿Config.md",key:"v-5889e6e6",path:"/pages/73ae92/",headers:[{level:2,title:"æ°å»ºconfigéç½®æ¨¡å",slug:"æ°å»ºconfigéç½®æ¨¡å",normalizedTitle:"æ°å»ºconfigéç½®æ¨¡å",charIndex:2},{level:3,title:"æ·»å ä¾èµ",slug:"æ·»å ä¾èµ",normalizedTitle:"æ·»å ä¾èµ",charIndex:19},{level:3,title:"éç½®",slug:"éç½®",normalizedTitle:"éç½®",charIndex:10},{level:2,title:"å¨nacosä¸æ·»å éç½®",slug:"å¨nacosä¸æ·»å éç½®",normalizedTitle:"å¨nacosä¸æ·»å éç½®",charIndex:1710},{level:2,title:"ä½¿ç¨",slug:"ä½¿ç¨",normalizedTitle:"ä½¿ç¨",charIndex:1868},{level:3,title:"å¯å¨ç±»",slug:"å¯å¨ç±»",normalizedTitle:"å¯å¨ç±»",charIndex:1875},{level:3,title:"controller",slug:"controller",normalizedTitle:"controller",charIndex:2370},{level:3,title:"è®¿é®",slug:"è®¿é®",normalizedTitle:"è®¿é®",charIndex:2403}],headersStr:"æ°å»ºconfigéç½®æ¨¡å æ·»å ä¾èµ éç½® å¨nacosä¸æ·»å éç½® ä½¿ç¨ å¯å¨ç±» controller è®¿é®",content:'# æ°å»ºconfigéç½®æ¨¡å\n\n\n# æ·»å ä¾èµ\n\n<properties>\n    <spring-cloud-alibaba-nacos-config-version>2.2.0.RELEASE</spring-cloud-alibaba-nacos-config-version>\n</properties>\n\n<dependencies>\n    \x3c!-- å¼å¥ SpringMVC ç¸å³ä¾èµï¼å¹¶å®ç°å¯¹å¶çèªå¨éç½® --\x3e\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-web</artifactId>\n    </dependency>\n    \x3c!--éç½®ç®¡ç--\x3e\n    <dependency>\n        <groupId>com.alibaba.cloud</groupId>\n        <artifactId>spring-cloud-alibaba-nacos-config</artifactId>\n        <version>${spring-cloud-alibaba-nacos-config-version}</version>\n    </dependency>\n\n    \x3c!--springBootçæ¬é®é¢å·²ç»ä¸æ¯æbootstrap.ymléç½®æä»¶ï¼éæå¨æ·»å ä¾èµ--\x3e\n    <dependency>\n        <groupId>org.springframework.cloud</groupId>\n        <artifactId>spring-cloud-starter-bootstrap</artifactId>\n    </dependency>\n\n</dependencies>\n\n\n\n# éç½®\n\n# application.yml\n\n# å½åçæ¬åæ¬æ¯å¯ä»¥ç´æ¥ç¨importæ¹å¼å¼ç¨çï¼å°è¯äºä¸è¡ãæä»¥è¿æ¯ç¨åbootstrap.ymlæ¹å¼å¼ç¨\n#server:\n#  port: 8081\n#spring:\n#  profiles:\n#    active: dev\n#  application:\n#    name: config\n#  cloud:\n#    nacos:\n#      discovery:\n#        server-addr: localhost:8848\n#      config:\n#        group: DEFAULT_GROUP\n#        server-addr: localhost:8848\n#        file-extension: yml #éç½®çæ ¼å¼ yml\n#  config:\n#    import:\n        # å¯¼å¥nacoséç½®ä¸­å¿çéç½®æä»¶\n#      - optional:nacos:config.yaml\n#      - optional:nacos:config.yml  # çå¬ DEFAULT_GROUP:config.yml\n#      - optional:nacos:config-dev.yml&refreshEnabled=true # ä¸å¼å¯å¨æå·æ°\n#      - nacos:config-dev.yaml # å¨æånacoséç½®å¼å¸¸æ¶ä¼å¿«éå¤±è´¥ï¼ä¼å¯¼è´ spring å®¹å¨å¯å¨å¤±è´¥\n\n\n# bootstrap.yml\n\nspring:\n  application:\n    name: config\n  cloud:\n    nacos:\n      config:\n        server-addr: localhost:8848\n        group: DEFAULT_GROUP\n        file-extension: yml\n  profiles:\n    active: dev\n\n\n\n# å¨nacosä¸æ·»å éç½®\n\nconfig-dev.yml\n\nserver:\n  port: 8081\n\nspring:\n  appliation:\n    name: config\n\nuseLocalCache: true\n\nuser:\n  name: nacos-config-yml\n  age: 68\n\n\n\n# ä½¿ç¨\n\n\n# å¯å¨ç±»\n\nå¯ä»¥æ¥çæ¯å¦è¯»åå°nacosä¸çéç½®ä¿¡æ¯\n\n@SpringBootApplication\npublic class ConfigApplication {\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext applicationContext = SpringApplication.run(ConfigApplication.class);\n        String userName = applicationContext.getEnvironment().getProperty("user.name");\n        String userAge = applicationContext.getEnvironment().getProperty("user.age");\n        System.err.println("user name :"+userName+"; age: "+userAge);\n    }\n\n}\n\n\n\n# controller\n\nä¿®æ¹nacosä¸çéç½®æä»¶ï¼ä¸ç¨éå¯æå¡ï¼è®¿é®æ¥å£å¯ä»¥çå°éç½®çæ\n\n@RestController\n@RequestMapping("/config")\n@RefreshScope\npublic class ConfigController {\n\n    @Value("${useLocalCache:false}")\n    private boolean useLocalCache;\n\n    @RequestMapping("/get")\n    public boolean get() {\n        return useLocalCache;\n    }\n}\n\n\n\n# è®¿é®\n\nlocalhost:8081/config/get',normalizedContent:'# æ°å»ºconfigéç½®æ¨¡å\n\n\n# æ·»å ä¾èµ\n\n<properties>\n    <spring-cloud-alibaba-nacos-config-version>2.2.0.release</spring-cloud-alibaba-nacos-config-version>\n</properties>\n\n<dependencies>\n    \x3c!-- å¼å¥ springmvc ç¸å³ä¾èµï¼å¹¶å®ç°å¯¹å¶çèªå¨éç½® --\x3e\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-web</artifactid>\n    </dependency>\n    \x3c!--éç½®ç®¡ç--\x3e\n    <dependency>\n        <groupid>com.alibaba.cloud</groupid>\n        <artifactid>spring-cloud-alibaba-nacos-config</artifactid>\n        <version>${spring-cloud-alibaba-nacos-config-version}</version>\n    </dependency>\n\n    \x3c!--springbootçæ¬é®é¢å·²ç»ä¸æ¯æbootstrap.ymléç½®æä»¶ï¼éæå¨æ·»å ä¾èµ--\x3e\n    <dependency>\n        <groupid>org.springframework.cloud</groupid>\n        <artifactid>spring-cloud-starter-bootstrap</artifactid>\n    </dependency>\n\n</dependencies>\n\n\n\n# éç½®\n\n# application.yml\n\n# å½åçæ¬åæ¬æ¯å¯ä»¥ç´æ¥ç¨importæ¹å¼å¼ç¨çï¼å°è¯äºä¸è¡ãæä»¥è¿æ¯ç¨åbootstrap.ymlæ¹å¼å¼ç¨\n#server:\n#  port: 8081\n#spring:\n#  profiles:\n#    active: dev\n#  application:\n#    name: config\n#  cloud:\n#    nacos:\n#      discovery:\n#        server-addr: localhost:8848\n#      config:\n#        group: default_group\n#        server-addr: localhost:8848\n#        file-extension: yml #éç½®çæ ¼å¼ yml\n#  config:\n#    import:\n        # å¯¼å¥nacoséç½®ä¸­å¿çéç½®æä»¶\n#      - optional:nacos:config.yaml\n#      - optional:nacos:config.yml  # çå¬ default_group:config.yml\n#      - optional:nacos:config-dev.yml&refreshenabled=true # ä¸å¼å¯å¨æå·æ°\n#      - nacos:config-dev.yaml # å¨æånacoséç½®å¼å¸¸æ¶ä¼å¿«éå¤±è´¥ï¼ä¼å¯¼è´ spring å®¹å¨å¯å¨å¤±è´¥\n\n\n# bootstrap.yml\n\nspring:\n  application:\n    name: config\n  cloud:\n    nacos:\n      config:\n        server-addr: localhost:8848\n        group: default_group\n        file-extension: yml\n  profiles:\n    active: dev\n\n\n\n# å¨nacosä¸æ·»å éç½®\n\nconfig-dev.yml\n\nserver:\n  port: 8081\n\nspring:\n  appliation:\n    name: config\n\nuselocalcache: true\n\nuser:\n  name: nacos-config-yml\n  age: 68\n\n\n\n# ä½¿ç¨\n\n\n# å¯å¨ç±»\n\nå¯ä»¥æ¥çæ¯å¦è¯»åå°nacosä¸çéç½®ä¿¡æ¯\n\n@springbootapplication\npublic class configapplication {\n\n    public static void main(string[] args) {\n        configurableapplicationcontext applicationcontext = springapplication.run(configapplication.class);\n        string username = applicationcontext.getenvironment().getproperty("user.name");\n        string userage = applicationcontext.getenvironment().getproperty("user.age");\n        system.err.println("user name :"+username+"; age: "+userage);\n    }\n\n}\n\n\n\n# controller\n\nä¿®æ¹nacosä¸çéç½®æä»¶ï¼ä¸ç¨éå¯æå¡ï¼è®¿é®æ¥å£å¯ä»¥çå°éç½®çæ\n\n@restcontroller\n@requestmapping("/config")\n@refreshscope\npublic class configcontroller {\n\n    @value("${uselocalcache:false}")\n    private boolean uselocalcache;\n\n    @requestmapping("/get")\n    public boolean get() {\n        return uselocalcache;\n    }\n}\n\n\n\n# è®¿é®\n\nlocalhost:8081/config/get',charsets:{cjk:!0}},{title:"SpringCloudæå¡æ³¨åDiscovery",frontmatter:{title:"SpringCloudæå¡æ³¨åDiscovery",date:"2022-05-21T11:39:58.000Z",permalink:"/pages/90be9f/",categories:["å­¦ä¹ èµæ","Java","SpringCloudå®æ"],tags:[null]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/25.SpringCloud%E5%AE%9E%E6%88%98/03.SpringCloud%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8CDiscovery.html",relativePath:"å­¦ä¹ èµæ/03.Java/25.SpringCloudå®æ/03.SpringCloudæå¡æ³¨åDiscovery.md",key:"v-2c7c7647",path:"/pages/90be9f/",headers:[{level:2,title:"æ°å»ºprovideræå¡æä¾æ¨¡å",slug:"æ°å»ºprovideræå¡æä¾æ¨¡å",normalizedTitle:"æ°å»ºprovideræå¡æä¾æ¨¡å",charIndex:2},{level:3,title:"æ·»å ä¾èµ",slug:"æ·»å ä¾èµ",normalizedTitle:"æ·»å ä¾èµ",charIndex:23},{level:3,title:"éç½®",slug:"éç½®",normalizedTitle:"éç½®",charIndex:79},{level:3,title:"å¯å¨ç±»",slug:"å¯å¨ç±»",normalizedTitle:"å¯å¨ç±»",charIndex:682},{level:3,title:"controller",slug:"controller",normalizedTitle:"controller",charIndex:886},{level:2,title:"æ°å»ºconsumeræå¡æ¶è´¹æ¨¡å",slug:"æ°å»ºconsumeræå¡æ¶è´¹æ¨¡å",normalizedTitle:"æ°å»ºconsumeræå¡æ¶è´¹æ¨¡å",charIndex:1108},{level:3,title:"æ·»å ä¾èµ",slug:"æ·»å ä¾èµ-2",normalizedTitle:"æ·»å ä¾èµ",charIndex:23},{level:3,title:"éç½®",slug:"éç½®-2",normalizedTitle:"éç½®",charIndex:79},{level:3,title:"å¯å¨ç±»",slug:"å¯å¨ç±»-2",normalizedTitle:"å¯å¨ç±»",charIndex:682},{level:3,title:"controller",slug:"controller-2",normalizedTitle:"controller",charIndex:886},{level:2,title:"ä½¿ç¨",slug:"ä½¿ç¨",normalizedTitle:"ä½¿ç¨",charIndex:2434},{level:3,title:"è®¿é®",slug:"è®¿é®",normalizedTitle:"è®¿é®",charIndex:2476}],headersStr:"æ°å»ºprovideræå¡æä¾æ¨¡å æ·»å ä¾èµ éç½® å¯å¨ç±» controller æ°å»ºconsumeræå¡æ¶è´¹æ¨¡å æ·»å ä¾èµ éç½® å¯å¨ç±» controller ä½¿ç¨ è®¿é®",content:'# æ°å»ºprovideræå¡æä¾æ¨¡å\n\n\n# æ·»å ä¾èµ\n\n<dependencies>\n    \x3c!-- å¼å¥ SpringMVC ç¸å³ä¾èµï¼å¹¶å®ç°å¯¹å¶çèªå¨éç½® --\x3e\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-web</artifactId>\n    </dependency>\n    \x3c!-- å¼å¥ Spring Cloud Alibaba Nacos Discovery ç¸å³ä¾èµï¼å° Nacos ä½ä¸ºæ³¨åä¸­å¿ï¼å¹¶å®ç°å¯¹å¶çèªå¨éç½® --\x3e\n    \x3c!-- æå¥½å¨ç¶å·¥ç¨å¼å¥ï¼å­å·¥ç¨å°±ä¸éå¨å¼å¥äº --\x3e\n    <dependency>\n        <groupId>com.alibaba.cloud</groupId>\n        <artifactId>spring-cloud-starter-alibaba-nacos-discovery</artifactId>\n    </dependency>\n</dependencies>\n\n\n\n# éç½®\n\n# ymléç½®\n\nserver:\n  port: 8082\n\nspring:\n  application:\n    name: provider\n\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n\n\n\n# å¯å¨ç±»\n\n@SpringBootApplication\n@EnableDiscoveryClient\npublic class ProviderApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ProviderApplication.class);\n    }\n\n}\n\n\n\n# controller\n\n@RestController\npublic class ProvideController {\n\n    @GetMapping(value = "/echo/{string}")\n    public String echo(@PathVariable String string) {\n        return "Hello Nacos Discovery " + string;\n    }\n\n}\n\n\n\n# æ°å»ºconsumeræå¡æ¶è´¹æ¨¡å\n\n\n# æ·»å ä¾èµ\n\n<dependencies>\n    \x3c!-- å¼å¥ SpringMVC ç¸å³ä¾èµï¼å¹¶å®ç°å¯¹å¶çèªå¨éç½® --\x3e\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-web</artifactId>\n    </dependency>\n    \x3c!-- å¼å¥ Spring Cloud Alibaba Nacos Discovery ç¸å³ä¾èµï¼å° Nacos ä½ä¸ºæ³¨åä¸­å¿ï¼å¹¶å®ç°å¯¹å¶çèªå¨éç½® --\x3e\n    \x3c!-- æå¥½å¨ç¶å·¥ç¨å¼å¥ï¼å­å·¥ç¨å°±ä¸éå¨å¼å¥äº --\x3e\n    <dependency>\n        <groupId>com.alibaba.cloud</groupId>\n        <artifactId>spring-cloud-starter-alibaba-nacos-discovery</artifactId>\n    </dependency>\n</dependencies>\n\n\n\n# éç½®\n\n# ymléç½®\n\nserver:\n  port: 8083\n\nspring:\n  application:\n    name: consumer\n\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n\n\n\n# å¯å¨ç±»\n\n@SpringBootApplication\n@EnableDiscoveryClient\npublic class ConsumerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ConsumerApplication.class);\n    }\n\n    //å®ä¾å RestTemplate å®ä¾\n    @Bean\n    public RestTemplate restTemplate() {\n        return new RestTemplate();\n    }\n\n}\n\n\n\n# controller\n\n@RestController\npublic class ConsumeController {\n\n    @Value("${spring.application.name}")\n    private String name;\n\n    @Autowired\n    private RestTemplate restTemplate;\n\n    @Autowired\n    private DiscoveryClient discoveryClient;\n\n    @GetMapping("/echo/app-name")\n    public String echoAppName() {\n        //ä½¿ç¨ LoadBalanceClient å RestTemolate ç»åçæ¹å¼æ¥è®¿é®\n        List<ServiceInstance> instances = discoveryClient.getInstances("provider");\n        // éæ©ç¬¬ä¸ä¸ª\n        ServiceInstance instance = instances.size() > 0 ? instances.get(0) : null;\n        String url = String.format("http://%s:%s/echo/%s", instance.getHost(), instance.getPort(), name);\n        System.out.println("request url:" + url);\n        return restTemplate.getForObject(url, String.class);\n    }\n    \n}\n\n\n\n# ä½¿ç¨\n\n\n# è®¿é®\n\nlocalhost:8083/echo/app-name',normalizedContent:'# æ°å»ºprovideræå¡æä¾æ¨¡å\n\n\n# æ·»å ä¾èµ\n\n<dependencies>\n    \x3c!-- å¼å¥ springmvc ç¸å³ä¾èµï¼å¹¶å®ç°å¯¹å¶çèªå¨éç½® --\x3e\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-web</artifactid>\n    </dependency>\n    \x3c!-- å¼å¥ spring cloud alibaba nacos discovery ç¸å³ä¾èµï¼å° nacos ä½ä¸ºæ³¨åä¸­å¿ï¼å¹¶å®ç°å¯¹å¶çèªå¨éç½® --\x3e\n    \x3c!-- æå¥½å¨ç¶å·¥ç¨å¼å¥ï¼å­å·¥ç¨å°±ä¸éå¨å¼å¥äº --\x3e\n    <dependency>\n        <groupid>com.alibaba.cloud</groupid>\n        <artifactid>spring-cloud-starter-alibaba-nacos-discovery</artifactid>\n    </dependency>\n</dependencies>\n\n\n\n# éç½®\n\n# ymléç½®\n\nserver:\n  port: 8082\n\nspring:\n  application:\n    name: provider\n\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n\n\n\n# å¯å¨ç±»\n\n@springbootapplication\n@enablediscoveryclient\npublic class providerapplication {\n\n    public static void main(string[] args) {\n        springapplication.run(providerapplication.class);\n    }\n\n}\n\n\n\n# controller\n\n@restcontroller\npublic class providecontroller {\n\n    @getmapping(value = "/echo/{string}")\n    public string echo(@pathvariable string string) {\n        return "hello nacos discovery " + string;\n    }\n\n}\n\n\n\n# æ°å»ºconsumeræå¡æ¶è´¹æ¨¡å\n\n\n# æ·»å ä¾èµ\n\n<dependencies>\n    \x3c!-- å¼å¥ springmvc ç¸å³ä¾èµï¼å¹¶å®ç°å¯¹å¶çèªå¨éç½® --\x3e\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-web</artifactid>\n    </dependency>\n    \x3c!-- å¼å¥ spring cloud alibaba nacos discovery ç¸å³ä¾èµï¼å° nacos ä½ä¸ºæ³¨åä¸­å¿ï¼å¹¶å®ç°å¯¹å¶çèªå¨éç½® --\x3e\n    \x3c!-- æå¥½å¨ç¶å·¥ç¨å¼å¥ï¼å­å·¥ç¨å°±ä¸éå¨å¼å¥äº --\x3e\n    <dependency>\n        <groupid>com.alibaba.cloud</groupid>\n        <artifactid>spring-cloud-starter-alibaba-nacos-discovery</artifactid>\n    </dependency>\n</dependencies>\n\n\n\n# éç½®\n\n# ymléç½®\n\nserver:\n  port: 8083\n\nspring:\n  application:\n    name: consumer\n\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n\n\n\n# å¯å¨ç±»\n\n@springbootapplication\n@enablediscoveryclient\npublic class consumerapplication {\n\n    public static void main(string[] args) {\n        springapplication.run(consumerapplication.class);\n    }\n\n    //å®ä¾å resttemplate å®ä¾\n    @bean\n    public resttemplate resttemplate() {\n        return new resttemplate();\n    }\n\n}\n\n\n\n# controller\n\n@restcontroller\npublic class consumecontroller {\n\n    @value("${spring.application.name}")\n    private string name;\n\n    @autowired\n    private resttemplate resttemplate;\n\n    @autowired\n    private discoveryclient discoveryclient;\n\n    @getmapping("/echo/app-name")\n    public string echoappname() {\n        //ä½¿ç¨ loadbalanceclient å resttemolate ç»åçæ¹å¼æ¥è®¿é®\n        list<serviceinstance> instances = discoveryclient.getinstances("provider");\n        // éæ©ç¬¬ä¸ä¸ª\n        serviceinstance instance = instances.size() > 0 ? instances.get(0) : null;\n        string url = string.format("http://%s:%s/echo/%s", instance.gethost(), instance.getport(), name);\n        system.out.println("request url:" + url);\n        return resttemplate.getforobject(url, string.class);\n    }\n    \n}\n\n\n\n# ä½¿ç¨\n\n\n# è®¿é®\n\nlocalhost:8083/echo/app-name',charsets:{cjk:!0}},{title:"SpringCloudç½å³Gateway",frontmatter:{title:"SpringCloudç½å³Gateway",date:"2022-05-23T14:04:06.000Z",permalink:"/pages/b48b5b/",categories:["å­¦ä¹ èµæ","Java","SpringCloudå®æ"],tags:[null]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/25.SpringCloud%E5%AE%9E%E6%88%98/04.SpringCloud%E7%BD%91%E5%85%B3Gateway.html",relativePath:"å­¦ä¹ èµæ/03.Java/25.SpringCloudå®æ/04.SpringCloudç½å³Gateway.md",key:"v-7b54e78f",path:"/pages/b48b5b/",headers:[{level:2,title:"æ°å»ºgatewayç½å³æ¨¡å",slug:"æ°å»ºgatewayç½å³æ¨¡å",normalizedTitle:"æ°å»ºgatewayç½å³æ¨¡å",charIndex:2},{level:3,title:"æ·»å ä¾èµ",slug:"æ·»å ä¾èµ",normalizedTitle:"æ·»å ä¾èµ",charIndex:20},{level:3,title:"éç½®",slug:"éç½®",normalizedTitle:"éç½®",charIndex:688},{level:2,title:"ä½¿ç¨",slug:"ä½¿ç¨",normalizedTitle:"ä½¿ç¨",charIndex:517},{level:3,title:"å¯å¨ç±»",slug:"å¯å¨ç±»",normalizedTitle:"å¯å¨ç±»",charIndex:1715},{level:3,title:"è®¿é®",slug:"è®¿é®",normalizedTitle:"è®¿é®",charIndex:1915},{level:2,title:"filterè¿æ»¤å¨",slug:"filterè¿æ»¤å¨",normalizedTitle:"filterè¿æ»¤å¨",charIndex:1961},{level:3,title:"èªå®ä¹è¿æ»¤å¨",slug:"èªå®ä¹è¿æ»¤å¨",normalizedTitle:"èªå®ä¹è¿æ»¤å¨",charIndex:1975},{level:3,title:"èªå®ä¹è¿æ»¤å¨",slug:"èªå®ä¹è¿æ»¤å¨-2",normalizedTitle:"èªå®ä¹è¿æ»¤å¨",charIndex:1975},{level:3,title:"å¨å±è¿æ»¤å¨",slug:"å¨å±è¿æ»¤å¨",normalizedTitle:"å¨å±è¿æ»¤å¨",charIndex:4204},{level:3,title:"å¶ä»è¿æ»¤å¨",slug:"å¶ä»è¿æ»¤å¨",normalizedTitle:"å¶ä»è¿æ»¤å¨",charIndex:4539},{level:2,title:"éæµ",slug:"éæµ",normalizedTitle:"éæµ",charIndex:4553},{level:3,title:"æ·»å ä¾èµ",slug:"æ·»å ä¾èµ-2",normalizedTitle:"æ·»å ä¾èµ",charIndex:20},{level:3,title:"éç½®",slug:"éç½®-2",normalizedTitle:"éç½®",charIndex:688}],headersStr:"æ°å»ºgatewayç½å³æ¨¡å æ·»å ä¾èµ éç½® ä½¿ç¨ å¯å¨ç±» è®¿é® filterè¿æ»¤å¨ èªå®ä¹è¿æ»¤å¨ èªå®ä¹è¿æ»¤å¨ å¨å±è¿æ»¤å¨ å¶ä»è¿æ»¤å¨ éæµ æ·»å ä¾èµ éç½®",content:'# æ°å»ºgatewayç½å³æ¨¡å\n\n\n# æ·»å ä¾èµ\n\n<dependencies>\n    \x3c!-- gateway ç½å³ä¾èµ --\x3e\n    <dependency>\n        <groupId>org.springframework.cloud</groupId>\n        <artifactId>spring-cloud-starter-gateway</artifactId>\n    </dependency>\n\n    \x3c!-- SpringCloudAlibaba2021å¼ç¨äºribbonï¼éæå¨å¼å¥æè½éè¿lbè·¯ç±å®ç°è´è½½åè¡¡ --\x3e\n    <dependency>\n        <groupId>org.springframework.cloud</groupId>\n        <artifactId>spring-cloud-starter-loadbalancer</artifactId>\n    </dependency>\n\n    \x3c!-- SpringCloudAlibaba è´è½½åè¡¡ä»ribbonæ¿æ¢æspring-cloud-loadbalancer è¿ç¨ä¸­åºç°è­¦åãæ¨èä½¿ç¨caffeine --\x3e\n    <dependency>\n        <groupId>com.github.ben-manes.caffeine</groupId>\n        <artifactId>caffeine</artifactId>\n    </dependency>\n\n</dependencies>\n\n\n\n# éç½®\n\n# ymléç½®\n\nserver:\n  port: 8084\nspring:\n  application:\n    name: gateway\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n    gateway:\n      # è·¯ç±è§å\n      routes:\n        # è·¯ç±æ è¯ï¼è¦æ±å¯ä¸ï¼åç§°ä»»æ\n        - id: consumer\n          # è¯·æ±æç»è¢«è½¬åå°çç®æ å°å\n          uri: lb://consumer\n          # æ­è¨ï¼æ»¡è¶³ /gateway/consumer/** è·¯å¾çè¯·æ±é½ä¼è¢«è·¯ç±å° lb://consumer è¿ä¸ªuriä¸­\n          predicates:\n            - Path=/consumer/**\n          # éç½®è¿æ»¤å¨ï¼å±é¨ï¼\n          filters:\n            - AddResponseHeader=X-Response-Foo, Bar\n            # åç½®è¿æ»¤å¨ï¼åæ³ç­åäº\n#             - name: AddResponseHeader\n#               args:\n#                name: X-Response-Foo\n#                value: Bar\n            - StripPrefix=1\n            # StripPrefixï¼å»é¤åå§è¯·æ±è·¯å¾ä¸­çå1çº§è·¯å¾ï¼å³/gateway\n        - id: provider\n          uri: lb://provider\n          predicates:\n            - Path=/provider/**\n          filters:\n            - AddResponseHeader=X-Response-Foo, Bar\n            - StripPrefix=1\n            # TokenGatewayFilterFactory è¿ä¸ªè¿æ»¤å¨\n            - Token\n\n\n\n# ä½¿ç¨\n\n\n# å¯å¨ç±»\n\n@SpringBootApplication\n@EnableDiscoveryClient\npublic class GatewayApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(GatewayApplication.class);\n    }\n}\n\n\n\n# è®¿é®\n\nlocalhost:8084/consumer/echo/app-name\n\n\n# filterè¿æ»¤å¨\n\n\n# èªå®ä¹è¿æ»¤å¨\n\nä»¥XXXGatewayFilterFactoryå½åï¼ç»§æ¿AbstractGatewayFilterFactoryï¼å¨ymléç½®-XXXå°±å¯ä»¥ä½¿ç¨\n\n@Component\npublic class TokenGatewayFilterFactory extends AbstractGatewayFilterFactory<TokenGatewayFilterFactory.Config> {\n\n    public TokenGatewayFilterFactory() {\n        super(Config.class);\n    }\n\n    @Override\n    public GatewayFilter apply(Config config) {\n        // è·åè¿æ»¤å¨çéç½®å±æ§\n\n        return (exchange, chain) -> {\n            // åç½®è¿æ»¤å¨pre\n            System.out.println("TokenGatewayFilterFactory filtered!--PRE");\n            ServerHttpRequest.Builder builder = exchange.getRequest().mutate();\n            // åç½®è¿æ»¤å¨post\n            System.out.println("TokenGatewayFilterFactory filtered!--POST");\n            return chain.filter(exchange.mutate().request(builder.build()).build());\n//            System.out.println("èªå®ä¹è¿æ»¤å¨......");\n//            return chain.filter(exchange);\n        };\n    }\n\n    public static class Config {\n        // å°è¿æ»¤å¨çéç½®å±æ§æ¾è¿é\n    }\n\n}\n\n\n# è®¿é®\n\nlocalhost:8084/provider/echo/app-name\n\n\n# èªå®ä¹è¿æ»¤å¨\n\nå®ç°GatewayFilteræ¥å£ï¼Orderedæ¥å£æ¯è¿æ»¤å¨æ§è¡é¡ºåºï¼è¶é«æå¨è¶å\n\n@Component\npublic class TokenGatewayFilter implements GatewayFilter, Ordered {\n\n    @Override\n    public Mono<Void> filter(ServerWebExchange exchange, GatewayFilterChain chain) {\n        // åç½®è¿æ»¤å¨pre\n        System.out.println("TokenGatewayFilter filtered!--PRE");\n        return chain.filter(exchange).then(\n                Mono.fromRunnable(() -> {\n                    // åç½®è¿æ»¤å¨post\n                    System.out.println("TokenGatewayFilter filtered!--POST");\n                })\n        );\n//        System.out.println("èªå®ä¹è¿æ»¤å¨......");\n//        return chain.filter(exchange);\n    }\n\n\n    @Override\n    public int getOrder() {\n        return 20;\n    }\n\n    @Configuration\n    class RouteConfiguration {\n        @Bean\n        public RouteLocator routeLocator(RouteLocatorBuilder builder) {\n            return builder.routes()\n                    .route("myFilter", r -> r.path("/myFilter/**")\n                            .filters(f -> f.stripPrefix(1)\n                                    .filters(new TokenGatewayFilter()))\n                            .uri("lb://consumer"))\n                    .build();\n\n        }\n    }\n}\n\n\n# è®¿é®\n\nlocalhost:8084/myFilter/echo/app-name\n\n\n# å¨å±è¿æ»¤å¨\n\nå®ç°GlobalFilteræ¥å£\n\n@Component\npublic class GlobalGatewayFilter implements GlobalFilter {\n\n    @Override\n    public Mono<Void> filter(ServerWebExchange exchange, GatewayFilterChain chain) {\n        System.out.println("å¨å±è¿æ»¤å¨......");\n        return chain.filter(exchange);\n    }\n}\n\n\n# è®¿é®\n\nlocalhost:8084/consumer/echo/app-name\n\n\n# å¶ä»è¿æ»¤å¨\n\nå®ç½\n\n\n# éæµ\n\n\n# æ·»å ä¾èµ\n\n\x3c!--redis gatewayä»¤çæ¡¶ä¾èµ --\x3e\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-data-redis-reactive</artifactId>\n</dependency>\n\n\n\n# éç½®\n\n# ymléç½®\n\nserver:\n  port: 8084\nspring:\n  application:\n    name: gateway\n  redis:  #å½éè¦ç¨å°redisä»¤çæ¡¶éæµçæ¶åå¼å¯\n    host: localhost\n    port: 6379\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n    gateway:\n      # å¨å±è¿æ»¤\n      default-filters:\n        # éæµ\n        - name: RequestRateLimiter\n          args:\n            # æ¯ç§å¤çå¤å°ä¸ªå¹³åè¯·æ±æ°ï¼ä¸ç§å¡«åéçï¼\n            redis-rate-limiter.replenishRate: 10\n            # ä¸ç§éåæ§è¡çæå¤§è¯·æ±æ°ï¼æ»å®¹éï¼\n            redis-rate-limiter.burstCapacity: 20\n            # æ¯ä¸ªè¯·æ±ä»å­å¨æ¡¶ä¸­è·åçä»¤çæ°\n            redis-rate-limiter.requestedTokens: 1\n            # ä½¿ç¨SpELè¡¨è¾¾å¼ä»Springå®¹å¨ä¸­è·åBeanå¯¹è±¡\n            key-resolver: "#{@apiKeyResolver}"\n      # è·¯ç±è§å\n      routes:\n        # è·¯ç±æ è¯ï¼è¦æ±å¯ä¸ï¼åç§°ä»»æ\n        - id: consumer\n          # è¯·æ±æç»è¢«è½¬åå°çç®æ å°å\n          uri: lb://consumer\n          # æ­è¨ï¼æ»¡è¶³ /gateway/consumer/** è·¯å¾çè¯·æ±é½ä¼è¢«è·¯ç±å° lb://consumer è¿ä¸ªuriä¸­\n          predicates:\n            - Path=/consumer/**\n          # éç½®è¿æ»¤å¨ï¼å±é¨ï¼\n          filters:\n            - AddResponseHeader=X-Response-Foo, Bar\n            # åç½®è¿æ»¤å¨ï¼åæ³ç­åäº\n#             - name: AddResponseHeader\n#               args:\n#                name: X-Response-Foo\n#                value: Bar\n            - StripPrefix=1\n            # StripPrefixï¼å»é¤åå§è¯·æ±è·¯å¾ä¸­çå1çº§è·¯å¾ï¼å³/gateway\n        - id: provider\n          uri: lb://provider\n          predicates:\n            - Path=/provider/**\n          filters:\n            - AddResponseHeader=X-Response-Foo, Bar\n            - StripPrefix=1\n            # TokenGatewayFilterFactory è¿ä¸ªè¿æ»¤å¨\n            - Token\n\n\n# key-resolveréç½®\n\n@Configuration\npublic class RequestRateLimiterConfig {\n\n    /**\n     * æ¥å£éæµ\n     */\n    @Bean\n    @Primary\n    KeyResolver apiKeyResolver() {\n        return exchange -> Mono.just(exchange.getRequest().getPath().toString());\n    }\n\n    /**\n     * ipéæµ\n     */\n    @Bean\n    KeyResolver ipKeyResolver() {\n        return exchange -> Mono.just(exchange.getRequest().getRemoteAddress().getHostName());\n    }\n\n    /**\n     * ç¨æ·éæµ\n     */\n    @Bean\n    KeyResolver userKeyResolver() {\n        return exchange -> Mono.just(exchange.getRequest().getQueryParams().getFirst("user"));\n    }\n\n}\n',normalizedContent:'# æ°å»ºgatewayç½å³æ¨¡å\n\n\n# æ·»å ä¾èµ\n\n<dependencies>\n    \x3c!-- gateway ç½å³ä¾èµ --\x3e\n    <dependency>\n        <groupid>org.springframework.cloud</groupid>\n        <artifactid>spring-cloud-starter-gateway</artifactid>\n    </dependency>\n\n    \x3c!-- springcloudalibaba2021å¼ç¨äºribbonï¼éæå¨å¼å¥æè½éè¿lbè·¯ç±å®ç°è´è½½åè¡¡ --\x3e\n    <dependency>\n        <groupid>org.springframework.cloud</groupid>\n        <artifactid>spring-cloud-starter-loadbalancer</artifactid>\n    </dependency>\n\n    \x3c!-- springcloudalibaba è´è½½åè¡¡ä»ribbonæ¿æ¢æspring-cloud-loadbalancer è¿ç¨ä¸­åºç°è­¦åãæ¨èä½¿ç¨caffeine --\x3e\n    <dependency>\n        <groupid>com.github.ben-manes.caffeine</groupid>\n        <artifactid>caffeine</artifactid>\n    </dependency>\n\n</dependencies>\n\n\n\n# éç½®\n\n# ymléç½®\n\nserver:\n  port: 8084\nspring:\n  application:\n    name: gateway\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n    gateway:\n      # è·¯ç±è§å\n      routes:\n        # è·¯ç±æ è¯ï¼è¦æ±å¯ä¸ï¼åç§°ä»»æ\n        - id: consumer\n          # è¯·æ±æç»è¢«è½¬åå°çç®æ å°å\n          uri: lb://consumer\n          # æ­è¨ï¼æ»¡è¶³ /gateway/consumer/** è·¯å¾çè¯·æ±é½ä¼è¢«è·¯ç±å° lb://consumer è¿ä¸ªuriä¸­\n          predicates:\n            - path=/consumer/**\n          # éç½®è¿æ»¤å¨ï¼å±é¨ï¼\n          filters:\n            - addresponseheader=x-response-foo, bar\n            # åç½®è¿æ»¤å¨ï¼åæ³ç­åäº\n#             - name: addresponseheader\n#               args:\n#                name: x-response-foo\n#                value: bar\n            - stripprefix=1\n            # stripprefixï¼å»é¤åå§è¯·æ±è·¯å¾ä¸­çå1çº§è·¯å¾ï¼å³/gateway\n        - id: provider\n          uri: lb://provider\n          predicates:\n            - path=/provider/**\n          filters:\n            - addresponseheader=x-response-foo, bar\n            - stripprefix=1\n            # tokengatewayfilterfactory è¿ä¸ªè¿æ»¤å¨\n            - token\n\n\n\n# ä½¿ç¨\n\n\n# å¯å¨ç±»\n\n@springbootapplication\n@enablediscoveryclient\npublic class gatewayapplication {\n    public static void main(string[] args) {\n        springapplication.run(gatewayapplication.class);\n    }\n}\n\n\n\n# è®¿é®\n\nlocalhost:8084/consumer/echo/app-name\n\n\n# filterè¿æ»¤å¨\n\n\n# èªå®ä¹è¿æ»¤å¨\n\nä»¥xxxgatewayfilterfactoryå½åï¼ç»§æ¿abstractgatewayfilterfactoryï¼å¨ymléç½®-xxxå°±å¯ä»¥ä½¿ç¨\n\n@component\npublic class tokengatewayfilterfactory extends abstractgatewayfilterfactory<tokengatewayfilterfactory.config> {\n\n    public tokengatewayfilterfactory() {\n        super(config.class);\n    }\n\n    @override\n    public gatewayfilter apply(config config) {\n        // è·åè¿æ»¤å¨çéç½®å±æ§\n\n        return (exchange, chain) -> {\n            // åç½®è¿æ»¤å¨pre\n            system.out.println("tokengatewayfilterfactory filtered!--pre");\n            serverhttprequest.builder builder = exchange.getrequest().mutate();\n            // åç½®è¿æ»¤å¨post\n            system.out.println("tokengatewayfilterfactory filtered!--post");\n            return chain.filter(exchange.mutate().request(builder.build()).build());\n//            system.out.println("èªå®ä¹è¿æ»¤å¨......");\n//            return chain.filter(exchange);\n        };\n    }\n\n    public static class config {\n        // å°è¿æ»¤å¨çéç½®å±æ§æ¾è¿é\n    }\n\n}\n\n\n# è®¿é®\n\nlocalhost:8084/provider/echo/app-name\n\n\n# èªå®ä¹è¿æ»¤å¨\n\nå®ç°gatewayfilteræ¥å£ï¼orderedæ¥å£æ¯è¿æ»¤å¨æ§è¡é¡ºåºï¼è¶é«æå¨è¶å\n\n@component\npublic class tokengatewayfilter implements gatewayfilter, ordered {\n\n    @override\n    public mono<void> filter(serverwebexchange exchange, gatewayfilterchain chain) {\n        // åç½®è¿æ»¤å¨pre\n        system.out.println("tokengatewayfilter filtered!--pre");\n        return chain.filter(exchange).then(\n                mono.fromrunnable(() -> {\n                    // åç½®è¿æ»¤å¨post\n                    system.out.println("tokengatewayfilter filtered!--post");\n                })\n        );\n//        system.out.println("èªå®ä¹è¿æ»¤å¨......");\n//        return chain.filter(exchange);\n    }\n\n\n    @override\n    public int getorder() {\n        return 20;\n    }\n\n    @configuration\n    class routeconfiguration {\n        @bean\n        public routelocator routelocator(routelocatorbuilder builder) {\n            return builder.routes()\n                    .route("myfilter", r -> r.path("/myfilter/**")\n                            .filters(f -> f.stripprefix(1)\n                                    .filters(new tokengatewayfilter()))\n                            .uri("lb://consumer"))\n                    .build();\n\n        }\n    }\n}\n\n\n# è®¿é®\n\nlocalhost:8084/myfilter/echo/app-name\n\n\n# å¨å±è¿æ»¤å¨\n\nå®ç°globalfilteræ¥å£\n\n@component\npublic class globalgatewayfilter implements globalfilter {\n\n    @override\n    public mono<void> filter(serverwebexchange exchange, gatewayfilterchain chain) {\n        system.out.println("å¨å±è¿æ»¤å¨......");\n        return chain.filter(exchange);\n    }\n}\n\n\n# è®¿é®\n\nlocalhost:8084/consumer/echo/app-name\n\n\n# å¶ä»è¿æ»¤å¨\n\nå®ç½\n\n\n# éæµ\n\n\n# æ·»å ä¾èµ\n\n\x3c!--redis gatewayä»¤çæ¡¶ä¾èµ --\x3e\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-data-redis-reactive</artifactid>\n</dependency>\n\n\n\n# éç½®\n\n# ymléç½®\n\nserver:\n  port: 8084\nspring:\n  application:\n    name: gateway\n  redis:  #å½éè¦ç¨å°redisä»¤çæ¡¶éæµçæ¶åå¼å¯\n    host: localhost\n    port: 6379\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n    gateway:\n      # å¨å±è¿æ»¤\n      default-filters:\n        # éæµ\n        - name: requestratelimiter\n          args:\n            # æ¯ç§å¤çå¤å°ä¸ªå¹³åè¯·æ±æ°ï¼ä¸ç§å¡«åéçï¼\n            redis-rate-limiter.replenishrate: 10\n            # ä¸ç§éåæ§è¡çæå¤§è¯·æ±æ°ï¼æ»å®¹éï¼\n            redis-rate-limiter.burstcapacity: 20\n            # æ¯ä¸ªè¯·æ±ä»å­å¨æ¡¶ä¸­è·åçä»¤çæ°\n            redis-rate-limiter.requestedtokens: 1\n            # ä½¿ç¨spelè¡¨è¾¾å¼ä»springå®¹å¨ä¸­è·åbeanå¯¹è±¡\n            key-resolver: "#{@apikeyresolver}"\n      # è·¯ç±è§å\n      routes:\n        # è·¯ç±æ è¯ï¼è¦æ±å¯ä¸ï¼åç§°ä»»æ\n        - id: consumer\n          # è¯·æ±æç»è¢«è½¬åå°çç®æ å°å\n          uri: lb://consumer\n          # æ­è¨ï¼æ»¡è¶³ /gateway/consumer/** è·¯å¾çè¯·æ±é½ä¼è¢«è·¯ç±å° lb://consumer è¿ä¸ªuriä¸­\n          predicates:\n            - path=/consumer/**\n          # éç½®è¿æ»¤å¨ï¼å±é¨ï¼\n          filters:\n            - addresponseheader=x-response-foo, bar\n            # åç½®è¿æ»¤å¨ï¼åæ³ç­åäº\n#             - name: addresponseheader\n#               args:\n#                name: x-response-foo\n#                value: bar\n            - stripprefix=1\n            # stripprefixï¼å»é¤åå§è¯·æ±è·¯å¾ä¸­çå1çº§è·¯å¾ï¼å³/gateway\n        - id: provider\n          uri: lb://provider\n          predicates:\n            - path=/provider/**\n          filters:\n            - addresponseheader=x-response-foo, bar\n            - stripprefix=1\n            # tokengatewayfilterfactory è¿ä¸ªè¿æ»¤å¨\n            - token\n\n\n# key-resolveréç½®\n\n@configuration\npublic class requestratelimiterconfig {\n\n    /**\n     * æ¥å£éæµ\n     */\n    @bean\n    @primary\n    keyresolver apikeyresolver() {\n        return exchange -> mono.just(exchange.getrequest().getpath().tostring());\n    }\n\n    /**\n     * ipéæµ\n     */\n    @bean\n    keyresolver ipkeyresolver() {\n        return exchange -> mono.just(exchange.getrequest().getremoteaddress().gethostname());\n    }\n\n    /**\n     * ç¨æ·éæµ\n     */\n    @bean\n    keyresolver userkeyresolver() {\n        return exchange -> mono.just(exchange.getrequest().getqueryparams().getfirst("user"));\n    }\n\n}\n',charsets:{cjk:!0}},{title:"SpringCloudææOAuth2",frontmatter:{title:"SpringCloudææOAuth2",date:"2022-05-27T10:40:21.000Z",permalink:"/pages/ffc151/",categories:["å­¦ä¹ èµæ","Java","SpringCloudå®æ"],tags:[null]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/25.SpringCloud%E5%AE%9E%E6%88%98/05.SpringCloud%E6%8E%88%E6%9D%83OAuth2.html",relativePath:"å­¦ä¹ èµæ/03.Java/25.SpringCloudå®æ/05.SpringCloudææOAuth2.md",key:"v-0f82412e",path:"/pages/ffc151/",headers:[{level:2,title:"oauth2 å¥é¨",slug:"oauth2-å¥é¨",normalizedTitle:"oauth2 å¥é¨",charIndex:2},{level:3,title:"oauth2 ç¸å³åè¯",slug:"oauth2-ç¸å³åè¯",normalizedTitle:"oauth2 ç¸å³åè¯",charIndex:16},{level:3,title:"åç§æææ¨¡å¼",slug:"åç§æææ¨¡å¼",normalizedTitle:"åç§æææ¨¡å¼",charIndex:269},{level:3,title:"éè¦åæ°",slug:"éè¦åæ°",normalizedTitle:"éè¦åæ°",charIndex:553},{level:3,title:"æ°å»ºoauth2-serverè®¤è¯æ¨¡å",slug:"æ°å»ºoauth2-serverè®¤è¯æ¨¡å",normalizedTitle:"æ°å»ºoauth2-serverè®¤è¯æ¨¡å",charIndex:847},{level:3,title:"ä½¿ç¨",slug:"ä½¿ç¨",normalizedTitle:"ä½¿ç¨",charIndex:163},{level:2,title:"oauth2 ç»åjwtä½¿ç¨",slug:"oauth2-ç»åjwtä½¿ç¨",normalizedTitle:"oauth2 ç»åjwtä½¿ç¨",charIndex:4106},{level:3,title:"æ·»å ä¾èµ",slug:"æ·»å ä¾èµ-2",normalizedTitle:"æ·»å ä¾èµ",charIndex:870},{level:3,title:"éç½®",slug:"éç½®-2",normalizedTitle:"éç½®",charIndex:931},{level:3,title:"ä½¿ç¨æ¹æ³ä¸ä¸é¢ä¸è´",slug:"ä½¿ç¨æ¹æ³ä¸ä¸é¢ä¸è´",normalizedTitle:"ä½¿ç¨æ¹æ³ä¸ä¸é¢ä¸è´",charIndex:10087},{level:2,title:"oauth2 åç¹ç»å½",slug:"oauth2-åç¹ç»å½",normalizedTitle:"oauth2 åç¹ç»å½",charIndex:10101},{level:3,title:"æ°å»ºsso-serverè®¤è¯æå¡æ¨¡å",slug:"æ°å»ºsso-serverè®¤è¯æå¡æ¨¡å",normalizedTitle:"æ°å»ºsso-serverè®¤è¯æå¡æ¨¡å",charIndex:10117},{level:3,title:"æ°å»ºsso-client-oneå®¢æ·ç«¯æ¨¡å",slug:"æ°å»ºsso-client-oneå®¢æ·ç«¯æ¨¡å",normalizedTitle:"æ°å»ºsso-client-oneå®¢æ·ç«¯æ¨¡å",charIndex:14248},{level:3,title:"æ°å»ºsso-client-twoå®¢æ·ç«¯æ¨¡å",slug:"æ°å»ºsso-client-twoå®¢æ·ç«¯æ¨¡å",normalizedTitle:"æ°å»ºsso-client-twoå®¢æ·ç«¯æ¨¡å",charIndex:15546},{level:3,title:"ä½¿ç¨",slug:"ä½¿ç¨-2",normalizedTitle:"ä½¿ç¨",charIndex:163}],headersStr:"oauth2 å¥é¨ oauth2 ç¸å³åè¯ åç§æææ¨¡å¼ éè¦åæ° æ°å»ºoauth2-serverè®¤è¯æ¨¡å ä½¿ç¨ oauth2 ç»åjwtä½¿ç¨ æ·»å ä¾èµ éç½® ä½¿ç¨æ¹æ³ä¸ä¸é¢ä¸è´ oauth2 åç¹ç»å½ æ°å»ºsso-serverè®¤è¯æå¡æ¨¡å æ°å»ºsso-client-oneå®¢æ·ç«¯æ¨¡å æ°å»ºsso-client-twoå®¢æ·ç«¯æ¨¡å ä½¿ç¨",content:'# oauth2 å¥é¨\n\n\n# oauth2 ç¸å³åè¯\n\n * Resource ownerï¼èµæºæ¥æèï¼ï¼æ¥æè¯¥èµæºçæç»ç¨æ·ï¼ä»æè®¿é®èµæºçè´¦å·å¯ç ï¼\n * Resource serverï¼èµæºæå¡å¨ï¼ï¼æ¥æåä¿æ¤èµæºçæå¡å¨ï¼å¦æè¯·æ±åå«æ­£ç¡®çè®¿é®ä»¤çï¼å¯ä»¥è®¿é®èµæºï¼\n * Clientï¼å®¢æ·ç«¯ï¼ï¼è®¿é®èµæºçå®¢æ·ç«¯ï¼ä¼ä½¿ç¨è®¿é®ä»¤çå»è·åèµæºæå¡å¨çèµæºï¼å¯ä»¥æ¯æµè§å¨ãç§»å¨è®¾å¤æèæå¡å¨ï¼\n * Authorization serverï¼è®¤è¯æå¡å¨ï¼ï¼ç¨äºè®¤è¯ç¨æ·çæå¡å¨ï¼å¦æå®¢æ·ç«¯è®¤è¯éè¿ï¼åæ¾è®¿é®èµæºæå¡å¨çä»¤çã\n\n\n# åç§æææ¨¡å¼\n\n * Authorization Codeï¼ææç æ¨¡å¼ï¼ï¼æ­£å®çOAuth2çæææ¨¡å¼ï¼å®¢æ·ç«¯åå°ç¨æ·å¯¼åè®¤è¯æå¡å¨ï¼ç»å½åè·åææç ï¼ç¶åè¿è¡ææï¼æåæ ¹æ®ææç è·åè®¿é®ä»¤çï¼\n * Implicitï¼ç®åæ¨¡å¼ï¼ï¼åææç æ¨¡å¼ç¸æ¯ï¼åæ¶äºè·åææç çè¿ç¨ï¼ç´æ¥è·åè®¿é®ä»¤çï¼\n * Passwordï¼å¯ç æ¨¡å¼ï¼ï¼å®¢æ·ç«¯ç´æ¥åç¨æ·è·åç¨æ·ååå¯ç ï¼ä¹ååè®¤è¯æå¡å¨è·åè®¿é®ä»¤çï¼\n * Client Credentialsï¼å®¢æ·ç«¯æ¨¡å¼ï¼ï¼å®¢æ·ç«¯ç´æ¥éè¿å®¢æ·ç«¯è®¤è¯ï¼æ¯å¦client_idåclient_secretï¼ä»è®¤è¯æå¡å¨è·åè®¿é®ä»¤çã\n\n\n# éè¦åæ°\n\n * response_typeï¼code è¡¨ç¤ºè¦æ±è¿åææç ï¼token è¡¨ç¤ºç´æ¥è¿åä»¤ç\n * client_idï¼å®¢æ·ç«¯èº«ä»½æ è¯\n * client_secretï¼å®¢æ·ç«¯å¯é¥\n * redirect_uriï¼éå®åå°å\n * scopeï¼è¡¨ç¤ºææçèå´ï¼readåªè¯»æéï¼allè¯»åæé\n * grant_typeï¼è¡¨ç¤ºææçæ¹å¼ï¼authorization_codeï¼ææç ï¼ãpasswordï¼å¯ç ï¼ãclient_credentialsï¼å­è¯å¼ï¼ãrefresh_tokenï¼æ´æ°ä»¤çï¼\n * stateï¼åºç¨ç¨åºä¼ éçä¸ä¸ªéæºæ°ï¼ç¨æ¥é²æ­¢CSRFæ»å»ã\n\n\n# æ°å»ºoauth2-serverè®¤è¯æ¨¡å\n\n# æ·»å ä¾èµ\n\n <dependencies>\n        \x3c!-- å¼å¥ SpringMVC ç¸å³ä¾èµï¼å¹¶å®ç°å¯¹å¶çèªå¨éç½® --\x3e\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-web</artifactId>\n        </dependency>\n\n        \x3c!-- oauth2è®¤è¯ææ --\x3e\n        <dependency>\n            <groupId>org.springframework.security.oauth.boot</groupId>\n            <artifactId>spring-security-oauth2-autoconfigure</artifactId>\n        </dependency>\n\n        \x3c!-- spring securityæ¡æ¶ --\x3e\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-security</artifactId>\n        </dependency>\n\n    </dependencies>\n\n\n# éç½®\n\n# ymléç½®\n\nserver:\n  port: 8085\nspring:\n  application:\n    name: auth-server\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\nsecurity:\n  oauth2:\n    client:\n      # å®¢æ·ç«¯èº«ä»½æ è¯\n      client-id: admin\n      # å®¢æ·ç«¯å¯é¥\n      client-secret: admin123456\n      # éå®åå°å\n      registered-redirect-uri: https://www.baidu.com\n\n\n# è®¤è¯æå¡å¨éç½®\n\n@Configuration\n@EnableAuthorizationServer\n//@Order(1)     //å¦åºç° Full authentication is required to access this resource åéç½®è®¤è¯æå¡å¨ï¼åéç½®èµæº\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    \n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n    \n}\n\n\n# èµæºæå¡å¨éç½®\n\n@Configuration\n@EnableResourceServer\n//@Order(2)     //å¦åºç° Full authentication is required to access this resource åéç½®è®¤è¯æå¡å¨ï¼åéç½®èµæº\npublic class ResourceServerConfig extends ResourceServerConfigurerAdapter  {\n\n  @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .requestMatchers()\n                .antMatchers("/index"); //  éç½®éè¦ä¿æ¤çèµæºè·¯å¾\n    }\n\n}\n\n\n# ç¨æ·ç»å½æ ¡éªéç½®\n\n@Service\npublic class UserDetailService implements UserDetailsService {\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        return new User(username, passwordEncoder.encode("123456"), AuthorityUtils.commaSeparatedStringToAuthorityList("admin"));\n    }\n    \n}\n\n\n\n# ä½¿ç¨\n\n# å¯å¨ç±»\n\n@SpringBootApplication\n@EnableDiscoveryClient\npublic class OAuth2ServerApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(OAuth2ServerApplication.class);\n    }\n}\n\n\n# controller\n\n@RestController\npublic class IndexController {\n\n    @GetMapping("/index")\n    public Object test(Authentication authentication){\n        return authentication;\n    }\n    \n}\n\n\n# ææç æ¨¡å¼\n\n 1. è·åææç ï¼è®¿é®æ¥å£\n    http://localhost:8085/oauth/authorize?response_type=code&client_id=admin&redirect_uri=https://www.baidu.com&scope=all&state=normal\n\n 2. ç»å½åè¿è¡æææä½ï¼æµè§å¨ä¼å¸¦çææç è·³è½¬å°æå®å°å\n\n> https://www.baidu.com/?code=hxovq2&state=normal\n\n 3. æ ¹æ®ææç å»è·åtokenï¼ä¸ä¸ªææç åªè½è·åä¸æ¬¡token\n\n * ä½¿ç¨Basic Authè®¤è¯éè¿client_idåclient_secretæé ä¸ä¸ªAuthorizationå¤´ä¿¡æ¯\n\n * å¨bodyä¸­æ·»å ä»¥ä¸åæ°ä¿¡æ¯ï¼codeæ¯è·åçææç ï¼ï¼éè¿POSTè¯·æ±è·åè®¿é®ä»¤ç\n\n 4. è®¿é®éè¦ç»å½è®¤è¯çæ¥å£ ä½¿ç¨Bearer Tokenè®¤è¯éè¿è·åçtokenæé ä¸ä¸ªAuthorizationå¤´ä¿¡æ¯è®¿é®\n\n# å¯ç æ¨¡å¼\n\n * ä½¿ç¨Basic Authè®¤è¯éè¿client_idåclient_secretæé ä¸ä¸ªAuthorizationå¤´ä¿¡æ¯\n\n * å¨bodyä¸­æ·»å ä»¥ä¸åæ°ä¿¡æ¯ï¼ç¨æ·ååå¯ç ï¼ï¼éè¿POSTè¯·æ±è·åè®¿é®ä»¤ç\n\n\n# oauth2 ç»åjwtä½¿ç¨\n\n\n# æ·»å ä¾èµ\n\n\x3c!-- redis --\x3e\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-data-redis</artifactId>\n</dependency>\n\n\x3c!-- jwt --\x3e\n<dependency>\n    <groupId>io.jsonwebtoken</groupId>\n    <artifactId>jjwt</artifactId>\n    <version>0.9.0</version>\n</dependency>\n\n\x3c!-- commons-lang3 --\x3e\n<dependency>\n    <groupId>org.apache.commons</groupId>\n    <artifactId>commons-lang3</artifactId>\n</dependency>\n\n\n\n# éç½®\n\n# ymléç½®\n\nserver:\n  port: 8085\nspring:\n  application:\n    name: auth-server\n  redis:\n    host: localhost\n    port: 6379\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n#security:\n#  oauth2:\n#    client:\n#      # å®¢æ·ç«¯èº«ä»½æ è¯\n#      client-id: admin\n#      # å®¢æ·ç«¯å¯é¥\n#      client-secret: admin123456\n#      # éå®åå°å\n#      registered-redirect-uri: https://www.baidu.com\n\n\n# è®¤è¯æå¡å¨éç½®\n\n@Configuration\n@EnableAuthorizationServer\npublic class AuthorizationServerConfig extends AuthorizationServerConfigurerAdapter {\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    @Autowired\n    private UserDetailService userDetailService;\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n\n//    @Qualifier("redisTokenStore")// rediså­å¨\n\n    @Autowired\n    @Qualifier("jwtTokenStore")\n    private TokenStore tokenStore;\n\n    @Autowired\n    private JwtAccessTokenConverter jwtAccessTokenConverter;\n\n    @Autowired\n    private JwtTokenEnhancer jwtTokenEnhancer;\n\n\n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) {\n\n        TokenEnhancerChain enhancerChain = new TokenEnhancerChain();\n        List<TokenEnhancer> enhancers = new ArrayList<>();\n        enhancers.add(jwtTokenEnhancer);\n        enhancers.add(jwtAccessTokenConverter);\n        enhancerChain.setTokenEnhancers(enhancers);\n\n        endpoints.authenticationManager(authenticationManager)\n                .userDetailsService(userDetailService)\n                .tokenStore(tokenStore)\n                .tokenEnhancer(enhancerChain);\n    }\n\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n        clients.inMemory()\n                // éç½®client_id\n                .withClient("admin")\n                // éç½®client_secret\n                .secret(passwordEncoder.encode("admin123456"))\n                // éç½®è®¿é®tokençæææ\n                .accessTokenValiditySeconds(3600)\n                // éç½®å·æ°tokençæææ\n                .refreshTokenValiditySeconds(864000)\n                // éç½®redirect_uriï¼ç¨äºæææååè·³è½¬\n                .redirectUris("https://www.baidu.com")\n                // éç½®ç³è¯·çæéèå´\n                .scopes("all")\n                // éç½®grant_typeï¼è¡¨ç¤ºææç±»å\n                .authorizedGrantTypes("authorization_code","password","refresh_token");\n    }\n}\n\n\n# èµæºæå¡å¨éç½®\n\n@Configuration\n@EnableResourceServer\npublic class ResourceServerConfig extends ResourceServerConfigurerAdapter {\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests() // ææéç½®\n                .anyRequest()  // ææè¯·æ±\n                .authenticated() // é½éè¦è®¤è¯\n                .and()\n                .requestMatchers()\n                .antMatchers("/**");\n    }\n\n}\n\n\n# springSecurityéç½®\n\n@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http.csrf()\n                .disable()\n                .authorizeRequests()\n                .antMatchers("/oauth/**", "/login/**", "/logout/**")\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .formLogin()\n                .permitAll();\n    }\n\n}\n\n\n# rediså­å¨tokenéç½®\n\n//@Configuration    // æ ¹æ®@Qualifieræ³¨å¥beanä¸çæï¼æä»¥ç´æ¥æ³¨éäº\npublic class RedisTokenStoreConfig {\n\n    @Autowired\n    private RedisConnectionFactory redisConnectionFactory;\n\n    /**\n     * å­å¨tokençbean\n     */\n    @Bean("redisTokenStore")\n    public TokenStore redisTokenStore() {\n        return new RedisTokenStore(redisConnectionFactory);\n    }\n}\n\n\n# jwtå­å¨tokenéç½®\n\n@Configuration\npublic class JwtTokenStoreConfig {\n\n    /**\n     * æ©å±JWTåå®¹çbean\n     */\n    @Bean\n    public JwtTokenEnhancer jwtTokenEnhancer() {\n        return new JwtTokenEnhancer();\n    }\n\n    /**\n     * å­å¨tokençbean\n     */\n    @Bean("jwtTokenStore")\n    public TokenStore jwtTokenStore() {\n        return new JwtTokenStore(jwtAccessTokenConverter());\n    }\n\n    /**\n     * tokenè½¬æ¢å¨\n     */\n    @Bean\n    public JwtAccessTokenConverter jwtAccessTokenConverter() {\n        JwtAccessTokenConverter accessTokenConverter = new JwtAccessTokenConverter();\n        // éç½®JWTä½¿ç¨çç§é¥\n        accessTokenConverter.setSigningKey("test_key");\n        return accessTokenConverter;\n    }\n\n}\n\n\n# jwtåå®¹æ©åéç½®\n\npublic class JwtTokenEnhancer implements TokenEnhancer {\n    @Override\n    public OAuth2AccessToken enhance(OAuth2AccessToken oAuth2AccessToken, OAuth2Authentication oAuth2Authentication) {\n        HashMap<String, Object> map = new HashMap<>();\n        map.put("message","hello world");\n        ((DefaultOAuth2AccessToken) oAuth2AccessToken).setAdditionalInformation(map);\n        return oAuth2AccessToken;\n    }\n}\n\n\n# jwtè§£æ\n\n@RestController\npublic class IndexController {\n\n    @GetMapping("/index")\n    public Object test(Authentication authentication, HttpServletRequest request){\n        String header = request.getHeader("Authorization");\n        String token = StringUtils.substringAfter(header, "Bearer ");\n        return Jwts.parser()\n                .setSigningKey("test_key".getBytes(StandardCharsets.UTF_8))\n                .parseClaimsJws(token)\n                .getBody();\n    }\n\n}\n\n\n\n# ä½¿ç¨æ¹æ³ä¸ä¸é¢ä¸è´\n\n\n# oauth2 åç¹ç»å½\n\n\n# æ°å»ºsso-serverè®¤è¯æå¡æ¨¡å\n\n# ymléç½®\n\nserver:\n  port: 8085\nspring:\n  application:\n    name: auth-sso-server\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n\n\n# è®¤è¯æå¡å¨éç½®\n\n@Configuration\n@EnableAuthorizationServer\npublic class AuthorizationServerConfig extends AuthorizationServerConfigurerAdapter {\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    @Autowired\n    private UserDetailService userDetailService;\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Autowired\n    private TokenStore tokenStore;\n\n    @Autowired\n    private JwtAccessTokenConverter jwtAccessTokenConverter;\n\n\n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) {\n        endpoints.authenticationManager(authenticationManager)\n                .userDetailsService(userDetailService)\n                .tokenStore(tokenStore)\n                .accessTokenConverter(jwtAccessTokenConverter);\n    }\n\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n        clients.inMemory()\n                // éç½®client_id\n                .withClient("client1")\n                // éç½®client_secret\n                .secret(passwordEncoder.encode("client1_123456"))\n                // éç½®è®¿é®tokençæææ\n                .accessTokenValiditySeconds(3600)\n                // éç½®å·æ°tokençæææ\n                .refreshTokenValiditySeconds(86400)\n                // éç½®redirect_uriï¼ç¨äºæææååè·³è½¬\n                .redirectUris("http://localhost:8086/login")\n                // èªå¨ææéç½®\n                .autoApprove(true)\n                // éç½®ç³è¯·çæéèå´\n                .scopes("all")\n                // éç½®grant_typeï¼è¡¨ç¤ºææç±»å\n                .authorizedGrantTypes("authorization_code","refresh_token")\n        .and()\n                .withClient("client2")\n                .secret(passwordEncoder.encode("client2_123456"))\n                .accessTokenValiditySeconds(3600)\n                .refreshTokenValiditySeconds(86400)\n                .redirectUris("http://localhost:8087/login")\n                .autoApprove(true)\n                .scopes("all")\n                .authorizedGrantTypes("authorization_code","refresh_token");\n    }\n\n    @Override\n    public void configure(AuthorizationServerSecurityConfigurer security) {\n        // è·åå¯é¥éè¦èº«ä»½è®¤è¯ï¼ä½¿ç¨åç¹ç»å½æ¶å¿é¡»éç½®\n        security.tokenKeyAccess("isAuthenticated()");\n    }\n}\n\n\n# springSecurityéç½®\n\n@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http.csrf()\n                .disable()\n                .authorizeRequests()\n                .antMatchers("/oauth/**", "/login/**", "/logout/**")\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .formLogin()\n                .permitAll();\n    }\n\n}\n\n\n# jwtå­å¨tokenéç½®\n\n@Configuration\npublic class JwtTokenStoreConfig {\n\n    /**\n     * å­å¨tokençbean\n     */\n    @Bean("jwtTokenStore")\n    public TokenStore jwtTokenStore() {\n        return new JwtTokenStore(jwtAccessTokenConverter());\n    }\n\n    /**\n     * tokenè½¬æ¢å¨\n     */\n    @Bean\n    public JwtAccessTokenConverter jwtAccessTokenConverter() {\n        JwtAccessTokenConverter accessTokenConverter = new JwtAccessTokenConverter();\n        // éç½®JWTä½¿ç¨çç§é¥\n        accessTokenConverter.setSigningKey("test_key");\n        return accessTokenConverter;\n    }\n    \n}\n\n\n# ç¨æ·å¯ç éç½®\n\n@Service\npublic class UserDetailService implements UserDetailsService {\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        return new User(username, passwordEncoder.encode("123456"), AuthorityUtils.commaSeparatedStringToAuthorityList("admin"));\n    }\n}\n\n\n\n# æ°å»ºsso-client-oneå®¢æ·ç«¯æ¨¡å\n\n# ymléç½®\n\nserver:\n  port: 8086\n  # é²æ­¢Cookieå²çªï¼å²çªä¼å¯¼è´ç»å½éªè¯ä¸éè¿,ä¸¤ç§æ¹å¼é½å¯ä»¥é¿å\n  servlet:\n#    context-path: /client1\n    session:\n      cookie:\n        name: AUTH-SSO-CLIENT1-SESSIONID\nspring:\n  application:\n    name: auth-sso-client1\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\nsecurity:\n  oauth2:\n    client:\n      # å®¢æ·ç«¯èº«ä»½æ è¯\n      client-id: client1\n      # å®¢æ·ç«¯å¯é¥\n      client-secret: client1_123456\n      user-authorization-uri: http://localhost:8085/oauth/authorize\n      access-token-uri: http://localhost:8085/oauth/token\n    resource:\n      jwt:\n        key-uri: http://localhost:8085/oauth/token_key\n\n\n# controller\n\n@RestController\npublic class IndexController {\n\n    @GetMapping("/index")\n    public Object getCurrentUser(Authentication authentication) {\n        return authentication;\n    }\n\n    @GetMapping("auth/test1")\n    @PreAuthorize("hasAuthority(\'user\')")\n    public String authTest1(){\n        return "æ¨æ¥æ\'user\'æé";\n    }\n\n    @GetMapping("auth/test2")\n    @PreAuthorize("hasAuthority(\'admin\')")\n    public String authTest2(){\n        return "æ¨æ¥æ\'admin\'æé";\n    }\n}\n\n\n# åç¹ç»å½æééç½®\n\n@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@Order(101)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    \n}\n\n\n\n# æ°å»ºsso-client-twoå®¢æ·ç«¯æ¨¡å\n\n# ymléç½®\n\nserver:\n  port: 8087\n  # é²æ­¢Cookieå²çªï¼å²çªä¼å¯¼è´ç»å½éªè¯ä¸éè¿,ä¸¤ç§æ¹å¼é½å¯ä»¥é¿å\n  servlet:\n#    context-path: /client2\n    session:\n      cookie:\n        name: AUTH-SSO-CLIENT2-SESSIONID\nspring:\n  application:\n    name: auth-sso-client2\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\nsecurity:\n  oauth2:\n    client:\n      # å®¢æ·ç«¯èº«ä»½æ è¯\n      client-id: client2\n      # å®¢æ·ç«¯å¯é¥\n      client-secret: client2_123456\n      user-authorization-uri: http://localhost:8085/oauth/authorize\n      access-token-uri: http://localhost:8085/oauth/token\n    resource:\n      jwt:\n        key-uri: http://localhost:8085/oauth/token_key\n\n\n# controller\n\n@RestController\npublic class IndexController {\n\n    @GetMapping("/index")\n    public Object getCurrentUser(Authentication authentication) {\n        return authentication;\n    }\n\n    @GetMapping("auth/test1")\n    @PreAuthorize("hasAuthority(\'user\')")\n    public String authTest1(){\n        return "æ¨æ¥æ\'user\'æé";\n    }\n\n    @GetMapping("auth/test2")\n    @PreAuthorize("hasAuthority(\'admin\')")\n    public String authTest2(){\n        return "æ¨æ¥æ\'admin\'æé";\n    }\n}\n\n\n\n# ä½¿ç¨\n\n# è®¿é®\n\nhttp://localhost:8086/index\n\n> åç°ä¼è·³è½¬å°è®¤è¯æå¡å¨çç»å½\n\n# åè®¿é®\n\nhttp://localhost:8087/index\n\n> åç°å¯ä»¥ç´æ¥è®¿é®ä¸éè¦éæ°ç»å½äº',normalizedContent:'# oauth2 å¥é¨\n\n\n# oauth2 ç¸å³åè¯\n\n * resource ownerï¼èµæºæ¥æèï¼ï¼æ¥æè¯¥èµæºçæç»ç¨æ·ï¼ä»æè®¿é®èµæºçè´¦å·å¯ç ï¼\n * resource serverï¼èµæºæå¡å¨ï¼ï¼æ¥æåä¿æ¤èµæºçæå¡å¨ï¼å¦æè¯·æ±åå«æ­£ç¡®çè®¿é®ä»¤çï¼å¯ä»¥è®¿é®èµæºï¼\n * clientï¼å®¢æ·ç«¯ï¼ï¼è®¿é®èµæºçå®¢æ·ç«¯ï¼ä¼ä½¿ç¨è®¿é®ä»¤çå»è·åèµæºæå¡å¨çèµæºï¼å¯ä»¥æ¯æµè§å¨ãç§»å¨è®¾å¤æèæå¡å¨ï¼\n * authorization serverï¼è®¤è¯æå¡å¨ï¼ï¼ç¨äºè®¤è¯ç¨æ·çæå¡å¨ï¼å¦æå®¢æ·ç«¯è®¤è¯éè¿ï¼åæ¾è®¿é®èµæºæå¡å¨çä»¤çã\n\n\n# åç§æææ¨¡å¼\n\n * authorization codeï¼ææç æ¨¡å¼ï¼ï¼æ­£å®çoauth2çæææ¨¡å¼ï¼å®¢æ·ç«¯åå°ç¨æ·å¯¼åè®¤è¯æå¡å¨ï¼ç»å½åè·åææç ï¼ç¶åè¿è¡ææï¼æåæ ¹æ®ææç è·åè®¿é®ä»¤çï¼\n * implicitï¼ç®åæ¨¡å¼ï¼ï¼åææç æ¨¡å¼ç¸æ¯ï¼åæ¶äºè·åææç çè¿ç¨ï¼ç´æ¥è·åè®¿é®ä»¤çï¼\n * passwordï¼å¯ç æ¨¡å¼ï¼ï¼å®¢æ·ç«¯ç´æ¥åç¨æ·è·åç¨æ·ååå¯ç ï¼ä¹ååè®¤è¯æå¡å¨è·åè®¿é®ä»¤çï¼\n * client credentialsï¼å®¢æ·ç«¯æ¨¡å¼ï¼ï¼å®¢æ·ç«¯ç´æ¥éè¿å®¢æ·ç«¯è®¤è¯ï¼æ¯å¦client_idåclient_secretï¼ä»è®¤è¯æå¡å¨è·åè®¿é®ä»¤çã\n\n\n# éè¦åæ°\n\n * response_typeï¼code è¡¨ç¤ºè¦æ±è¿åææç ï¼token è¡¨ç¤ºç´æ¥è¿åä»¤ç\n * client_idï¼å®¢æ·ç«¯èº«ä»½æ è¯\n * client_secretï¼å®¢æ·ç«¯å¯é¥\n * redirect_uriï¼éå®åå°å\n * scopeï¼è¡¨ç¤ºææçèå´ï¼readåªè¯»æéï¼allè¯»åæé\n * grant_typeï¼è¡¨ç¤ºææçæ¹å¼ï¼authorization_codeï¼ææç ï¼ãpasswordï¼å¯ç ï¼ãclient_credentialsï¼å­è¯å¼ï¼ãrefresh_tokenï¼æ´æ°ä»¤çï¼\n * stateï¼åºç¨ç¨åºä¼ éçä¸ä¸ªéæºæ°ï¼ç¨æ¥é²æ­¢csrfæ»å»ã\n\n\n# æ°å»ºoauth2-serverè®¤è¯æ¨¡å\n\n# æ·»å ä¾èµ\n\n <dependencies>\n        \x3c!-- å¼å¥ springmvc ç¸å³ä¾èµï¼å¹¶å®ç°å¯¹å¶çèªå¨éç½® --\x3e\n        <dependency>\n            <groupid>org.springframework.boot</groupid>\n            <artifactid>spring-boot-starter-web</artifactid>\n        </dependency>\n\n        \x3c!-- oauth2è®¤è¯ææ --\x3e\n        <dependency>\n            <groupid>org.springframework.security.oauth.boot</groupid>\n            <artifactid>spring-security-oauth2-autoconfigure</artifactid>\n        </dependency>\n\n        \x3c!-- spring securityæ¡æ¶ --\x3e\n        <dependency>\n            <groupid>org.springframework.boot</groupid>\n            <artifactid>spring-boot-starter-security</artifactid>\n        </dependency>\n\n    </dependencies>\n\n\n# éç½®\n\n# ymléç½®\n\nserver:\n  port: 8085\nspring:\n  application:\n    name: auth-server\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\nsecurity:\n  oauth2:\n    client:\n      # å®¢æ·ç«¯èº«ä»½æ è¯\n      client-id: admin\n      # å®¢æ·ç«¯å¯é¥\n      client-secret: admin123456\n      # éå®åå°å\n      registered-redirect-uri: https://www.baidu.com\n\n\n# è®¤è¯æå¡å¨éç½®\n\n@configuration\n@enableauthorizationserver\n//@order(1)     //å¦åºç° full authentication is required to access this resource åéç½®è®¤è¯æå¡å¨ï¼åéç½®èµæº\npublic class securityconfig extends websecurityconfigureradapter {\n    \n    @bean\n    public passwordencoder passwordencoder(){\n        return new bcryptpasswordencoder();\n    }\n    \n}\n\n\n# èµæºæå¡å¨éç½®\n\n@configuration\n@enableresourceserver\n//@order(2)     //å¦åºç° full authentication is required to access this resource åéç½®è®¤è¯æå¡å¨ï¼åéç½®èµæº\npublic class resourceserverconfig extends resourceserverconfigureradapter  {\n\n  @override\n    public void configure(httpsecurity http) throws exception {\n        http.authorizerequests()\n                .anyrequest()\n                .authenticated()\n                .and()\n                .requestmatchers()\n                .antmatchers("/index"); //  éç½®éè¦ä¿æ¤çèµæºè·¯å¾\n    }\n\n}\n\n\n# ç¨æ·ç»å½æ ¡éªéç½®\n\n@service\npublic class userdetailservice implements userdetailsservice {\n\n    @autowired\n    private passwordencoder passwordencoder;\n\n    @override\n    public userdetails loaduserbyusername(string username) throws usernamenotfoundexception {\n        return new user(username, passwordencoder.encode("123456"), authorityutils.commaseparatedstringtoauthoritylist("admin"));\n    }\n    \n}\n\n\n\n# ä½¿ç¨\n\n# å¯å¨ç±»\n\n@springbootapplication\n@enablediscoveryclient\npublic class oauth2serverapplication {\n    public static void main(string[] args) {\n        springapplication.run(oauth2serverapplication.class);\n    }\n}\n\n\n# controller\n\n@restcontroller\npublic class indexcontroller {\n\n    @getmapping("/index")\n    public object test(authentication authentication){\n        return authentication;\n    }\n    \n}\n\n\n# ææç æ¨¡å¼\n\n 1. è·åææç ï¼è®¿é®æ¥å£\n    http://localhost:8085/oauth/authorize?response_type=code&client_id=admin&redirect_uri=https://www.baidu.com&scope=all&state=normal\n\n 2. ç»å½åè¿è¡æææä½ï¼æµè§å¨ä¼å¸¦çææç è·³è½¬å°æå®å°å\n\n> https://www.baidu.com/?code=hxovq2&state=normal\n\n 3. æ ¹æ®ææç å»è·åtokenï¼ä¸ä¸ªææç åªè½è·åä¸æ¬¡token\n\n * ä½¿ç¨basic authè®¤è¯éè¿client_idåclient_secretæé ä¸ä¸ªauthorizationå¤´ä¿¡æ¯\n\n * å¨bodyä¸­æ·»å ä»¥ä¸åæ°ä¿¡æ¯ï¼codeæ¯è·åçææç ï¼ï¼éè¿postè¯·æ±è·åè®¿é®ä»¤ç\n\n 4. è®¿é®éè¦ç»å½è®¤è¯çæ¥å£ ä½¿ç¨bearer tokenè®¤è¯éè¿è·åçtokenæé ä¸ä¸ªauthorizationå¤´ä¿¡æ¯è®¿é®\n\n# å¯ç æ¨¡å¼\n\n * ä½¿ç¨basic authè®¤è¯éè¿client_idåclient_secretæé ä¸ä¸ªauthorizationå¤´ä¿¡æ¯\n\n * å¨bodyä¸­æ·»å ä»¥ä¸åæ°ä¿¡æ¯ï¼ç¨æ·ååå¯ç ï¼ï¼éè¿postè¯·æ±è·åè®¿é®ä»¤ç\n\n\n# oauth2 ç»åjwtä½¿ç¨\n\n\n# æ·»å ä¾èµ\n\n\x3c!-- redis --\x3e\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-data-redis</artifactid>\n</dependency>\n\n\x3c!-- jwt --\x3e\n<dependency>\n    <groupid>io.jsonwebtoken</groupid>\n    <artifactid>jjwt</artifactid>\n    <version>0.9.0</version>\n</dependency>\n\n\x3c!-- commons-lang3 --\x3e\n<dependency>\n    <groupid>org.apache.commons</groupid>\n    <artifactid>commons-lang3</artifactid>\n</dependency>\n\n\n\n# éç½®\n\n# ymléç½®\n\nserver:\n  port: 8085\nspring:\n  application:\n    name: auth-server\n  redis:\n    host: localhost\n    port: 6379\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n#security:\n#  oauth2:\n#    client:\n#      # å®¢æ·ç«¯èº«ä»½æ è¯\n#      client-id: admin\n#      # å®¢æ·ç«¯å¯é¥\n#      client-secret: admin123456\n#      # éå®åå°å\n#      registered-redirect-uri: https://www.baidu.com\n\n\n# è®¤è¯æå¡å¨éç½®\n\n@configuration\n@enableauthorizationserver\npublic class authorizationserverconfig extends authorizationserverconfigureradapter {\n\n    @autowired\n    private passwordencoder passwordencoder;\n\n    @autowired\n    private userdetailservice userdetailservice;\n\n    @autowired\n    private authenticationmanager authenticationmanager;\n\n\n//    @qualifier("redistokenstore")// rediså­å¨\n\n    @autowired\n    @qualifier("jwttokenstore")\n    private tokenstore tokenstore;\n\n    @autowired\n    private jwtaccesstokenconverter jwtaccesstokenconverter;\n\n    @autowired\n    private jwttokenenhancer jwttokenenhancer;\n\n\n    @override\n    public void configure(authorizationserverendpointsconfigurer endpoints) {\n\n        tokenenhancerchain enhancerchain = new tokenenhancerchain();\n        list<tokenenhancer> enhancers = new arraylist<>();\n        enhancers.add(jwttokenenhancer);\n        enhancers.add(jwtaccesstokenconverter);\n        enhancerchain.settokenenhancers(enhancers);\n\n        endpoints.authenticationmanager(authenticationmanager)\n                .userdetailsservice(userdetailservice)\n                .tokenstore(tokenstore)\n                .tokenenhancer(enhancerchain);\n    }\n\n    @override\n    public void configure(clientdetailsserviceconfigurer clients) throws exception {\n        clients.inmemory()\n                // éç½®client_id\n                .withclient("admin")\n                // éç½®client_secret\n                .secret(passwordencoder.encode("admin123456"))\n                // éç½®è®¿é®tokençæææ\n                .accesstokenvalidityseconds(3600)\n                // éç½®å·æ°tokençæææ\n                .refreshtokenvalidityseconds(864000)\n                // éç½®redirect_uriï¼ç¨äºæææååè·³è½¬\n                .redirecturis("https://www.baidu.com")\n                // éç½®ç³è¯·çæéèå´\n                .scopes("all")\n                // éç½®grant_typeï¼è¡¨ç¤ºææç±»å\n                .authorizedgranttypes("authorization_code","password","refresh_token");\n    }\n}\n\n\n# èµæºæå¡å¨éç½®\n\n@configuration\n@enableresourceserver\npublic class resourceserverconfig extends resourceserverconfigureradapter {\n\n    @override\n    public void configure(httpsecurity http) throws exception {\n        http.authorizerequests() // ææéç½®\n                .anyrequest()  // ææè¯·æ±\n                .authenticated() // é½éè¦è®¤è¯\n                .and()\n                .requestmatchers()\n                .antmatchers("/**");\n    }\n\n}\n\n\n# springsecurityéç½®\n\n@configuration\npublic class securityconfig extends websecurityconfigureradapter {\n\n    @bean\n    public passwordencoder passwordencoder(){\n        return new bcryptpasswordencoder();\n    }\n\n    @bean\n    @override\n    public authenticationmanager authenticationmanagerbean() throws exception {\n        return super.authenticationmanagerbean();\n    }\n\n    @override\n    public void configure(httpsecurity http) throws exception {\n        http.csrf()\n                .disable()\n                .authorizerequests()\n                .antmatchers("/oauth/**", "/login/**", "/logout/**")\n                .permitall()\n                .anyrequest()\n                .authenticated()\n                .and()\n                .formlogin()\n                .permitall();\n    }\n\n}\n\n\n# rediså­å¨tokenéç½®\n\n//@configuration    // æ ¹æ®@qualifieræ³¨å¥beanä¸çæï¼æä»¥ç´æ¥æ³¨éäº\npublic class redistokenstoreconfig {\n\n    @autowired\n    private redisconnectionfactory redisconnectionfactory;\n\n    /**\n     * å­å¨tokençbean\n     */\n    @bean("redistokenstore")\n    public tokenstore redistokenstore() {\n        return new redistokenstore(redisconnectionfactory);\n    }\n}\n\n\n# jwtå­å¨tokenéç½®\n\n@configuration\npublic class jwttokenstoreconfig {\n\n    /**\n     * æ©å±jwtåå®¹çbean\n     */\n    @bean\n    public jwttokenenhancer jwttokenenhancer() {\n        return new jwttokenenhancer();\n    }\n\n    /**\n     * å­å¨tokençbean\n     */\n    @bean("jwttokenstore")\n    public tokenstore jwttokenstore() {\n        return new jwttokenstore(jwtaccesstokenconverter());\n    }\n\n    /**\n     * tokenè½¬æ¢å¨\n     */\n    @bean\n    public jwtaccesstokenconverter jwtaccesstokenconverter() {\n        jwtaccesstokenconverter accesstokenconverter = new jwtaccesstokenconverter();\n        // éç½®jwtä½¿ç¨çç§é¥\n        accesstokenconverter.setsigningkey("test_key");\n        return accesstokenconverter;\n    }\n\n}\n\n\n# jwtåå®¹æ©åéç½®\n\npublic class jwttokenenhancer implements tokenenhancer {\n    @override\n    public oauth2accesstoken enhance(oauth2accesstoken oauth2accesstoken, oauth2authentication oauth2authentication) {\n        hashmap<string, object> map = new hashmap<>();\n        map.put("message","hello world");\n        ((defaultoauth2accesstoken) oauth2accesstoken).setadditionalinformation(map);\n        return oauth2accesstoken;\n    }\n}\n\n\n# jwtè§£æ\n\n@restcontroller\npublic class indexcontroller {\n\n    @getmapping("/index")\n    public object test(authentication authentication, httpservletrequest request){\n        string header = request.getheader("authorization");\n        string token = stringutils.substringafter(header, "bearer ");\n        return jwts.parser()\n                .setsigningkey("test_key".getbytes(standardcharsets.utf_8))\n                .parseclaimsjws(token)\n                .getbody();\n    }\n\n}\n\n\n\n# ä½¿ç¨æ¹æ³ä¸ä¸é¢ä¸è´\n\n\n# oauth2 åç¹ç»å½\n\n\n# æ°å»ºsso-serverè®¤è¯æå¡æ¨¡å\n\n# ymléç½®\n\nserver:\n  port: 8085\nspring:\n  application:\n    name: auth-sso-server\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n\n\n# è®¤è¯æå¡å¨éç½®\n\n@configuration\n@enableauthorizationserver\npublic class authorizationserverconfig extends authorizationserverconfigureradapter {\n\n    @autowired\n    private passwordencoder passwordencoder;\n\n    @autowired\n    private userdetailservice userdetailservice;\n\n    @autowired\n    private authenticationmanager authenticationmanager;\n\n    @autowired\n    private tokenstore tokenstore;\n\n    @autowired\n    private jwtaccesstokenconverter jwtaccesstokenconverter;\n\n\n    @override\n    public void configure(authorizationserverendpointsconfigurer endpoints) {\n        endpoints.authenticationmanager(authenticationmanager)\n                .userdetailsservice(userdetailservice)\n                .tokenstore(tokenstore)\n                .accesstokenconverter(jwtaccesstokenconverter);\n    }\n\n    @override\n    public void configure(clientdetailsserviceconfigurer clients) throws exception {\n        clients.inmemory()\n                // éç½®client_id\n                .withclient("client1")\n                // éç½®client_secret\n                .secret(passwordencoder.encode("client1_123456"))\n                // éç½®è®¿é®tokençæææ\n                .accesstokenvalidityseconds(3600)\n                // éç½®å·æ°tokençæææ\n                .refreshtokenvalidityseconds(86400)\n                // éç½®redirect_uriï¼ç¨äºæææååè·³è½¬\n                .redirecturis("http://localhost:8086/login")\n                // èªå¨ææéç½®\n                .autoapprove(true)\n                // éç½®ç³è¯·çæéèå´\n                .scopes("all")\n                // éç½®grant_typeï¼è¡¨ç¤ºææç±»å\n                .authorizedgranttypes("authorization_code","refresh_token")\n        .and()\n                .withclient("client2")\n                .secret(passwordencoder.encode("client2_123456"))\n                .accesstokenvalidityseconds(3600)\n                .refreshtokenvalidityseconds(86400)\n                .redirecturis("http://localhost:8087/login")\n                .autoapprove(true)\n                .scopes("all")\n                .authorizedgranttypes("authorization_code","refresh_token");\n    }\n\n    @override\n    public void configure(authorizationserversecurityconfigurer security) {\n        // è·åå¯é¥éè¦èº«ä»½è®¤è¯ï¼ä½¿ç¨åç¹ç»å½æ¶å¿é¡»éç½®\n        security.tokenkeyaccess("isauthenticated()");\n    }\n}\n\n\n# springsecurityéç½®\n\n@configuration\npublic class securityconfig extends websecurityconfigureradapter {\n\n    @bean\n    public passwordencoder passwordencoder(){\n        return new bcryptpasswordencoder();\n    }\n\n    @bean\n    @override\n    public authenticationmanager authenticationmanagerbean() throws exception {\n        return super.authenticationmanagerbean();\n    }\n\n    @override\n    public void configure(httpsecurity http) throws exception {\n        http.csrf()\n                .disable()\n                .authorizerequests()\n                .antmatchers("/oauth/**", "/login/**", "/logout/**")\n                .permitall()\n                .anyrequest()\n                .authenticated()\n                .and()\n                .formlogin()\n                .permitall();\n    }\n\n}\n\n\n# jwtå­å¨tokenéç½®\n\n@configuration\npublic class jwttokenstoreconfig {\n\n    /**\n     * å­å¨tokençbean\n     */\n    @bean("jwttokenstore")\n    public tokenstore jwttokenstore() {\n        return new jwttokenstore(jwtaccesstokenconverter());\n    }\n\n    /**\n     * tokenè½¬æ¢å¨\n     */\n    @bean\n    public jwtaccesstokenconverter jwtaccesstokenconverter() {\n        jwtaccesstokenconverter accesstokenconverter = new jwtaccesstokenconverter();\n        // éç½®jwtä½¿ç¨çç§é¥\n        accesstokenconverter.setsigningkey("test_key");\n        return accesstokenconverter;\n    }\n    \n}\n\n\n# ç¨æ·å¯ç éç½®\n\n@service\npublic class userdetailservice implements userdetailsservice {\n\n    @autowired\n    private passwordencoder passwordencoder;\n\n    @override\n    public userdetails loaduserbyusername(string username) throws usernamenotfoundexception {\n        return new user(username, passwordencoder.encode("123456"), authorityutils.commaseparatedstringtoauthoritylist("admin"));\n    }\n}\n\n\n\n# æ°å»ºsso-client-oneå®¢æ·ç«¯æ¨¡å\n\n# ymléç½®\n\nserver:\n  port: 8086\n  # é²æ­¢cookieå²çªï¼å²çªä¼å¯¼è´ç»å½éªè¯ä¸éè¿,ä¸¤ç§æ¹å¼é½å¯ä»¥é¿å\n  servlet:\n#    context-path: /client1\n    session:\n      cookie:\n        name: auth-sso-client1-sessionid\nspring:\n  application:\n    name: auth-sso-client1\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\nsecurity:\n  oauth2:\n    client:\n      # å®¢æ·ç«¯èº«ä»½æ è¯\n      client-id: client1\n      # å®¢æ·ç«¯å¯é¥\n      client-secret: client1_123456\n      user-authorization-uri: http://localhost:8085/oauth/authorize\n      access-token-uri: http://localhost:8085/oauth/token\n    resource:\n      jwt:\n        key-uri: http://localhost:8085/oauth/token_key\n\n\n# controller\n\n@restcontroller\npublic class indexcontroller {\n\n    @getmapping("/index")\n    public object getcurrentuser(authentication authentication) {\n        return authentication;\n    }\n\n    @getmapping("auth/test1")\n    @preauthorize("hasauthority(\'user\')")\n    public string authtest1(){\n        return "æ¨æ¥æ\'user\'æé";\n    }\n\n    @getmapping("auth/test2")\n    @preauthorize("hasauthority(\'admin\')")\n    public string authtest2(){\n        return "æ¨æ¥æ\'admin\'æé";\n    }\n}\n\n\n# åç¹ç»å½æééç½®\n\n@configuration\n@enableglobalmethodsecurity(prepostenabled = true)\n@order(101)\npublic class securityconfig extends websecurityconfigureradapter {\n    \n}\n\n\n\n# æ°å»ºsso-client-twoå®¢æ·ç«¯æ¨¡å\n\n# ymléç½®\n\nserver:\n  port: 8087\n  # é²æ­¢cookieå²çªï¼å²çªä¼å¯¼è´ç»å½éªè¯ä¸éè¿,ä¸¤ç§æ¹å¼é½å¯ä»¥é¿å\n  servlet:\n#    context-path: /client2\n    session:\n      cookie:\n        name: auth-sso-client2-sessionid\nspring:\n  application:\n    name: auth-sso-client2\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\nsecurity:\n  oauth2:\n    client:\n      # å®¢æ·ç«¯èº«ä»½æ è¯\n      client-id: client2\n      # å®¢æ·ç«¯å¯é¥\n      client-secret: client2_123456\n      user-authorization-uri: http://localhost:8085/oauth/authorize\n      access-token-uri: http://localhost:8085/oauth/token\n    resource:\n      jwt:\n        key-uri: http://localhost:8085/oauth/token_key\n\n\n# controller\n\n@restcontroller\npublic class indexcontroller {\n\n    @getmapping("/index")\n    public object getcurrentuser(authentication authentication) {\n        return authentication;\n    }\n\n    @getmapping("auth/test1")\n    @preauthorize("hasauthority(\'user\')")\n    public string authtest1(){\n        return "æ¨æ¥æ\'user\'æé";\n    }\n\n    @getmapping("auth/test2")\n    @preauthorize("hasauthority(\'admin\')")\n    public string authtest2(){\n        return "æ¨æ¥æ\'admin\'æé";\n    }\n}\n\n\n\n# ä½¿ç¨\n\n# è®¿é®\n\nhttp://localhost:8086/index\n\n> åç°ä¼è·³è½¬å°è®¤è¯æå¡å¨çç»å½\n\n# åè®¿é®\n\nhttp://localhost:8087/index\n\n> åç°å¯ä»¥ç´æ¥è®¿é®ä¸éè¦éæ°ç»å½äº',charsets:{cjk:!0}},{title:"SpringCloudå¨åµSentinel",frontmatter:{title:"SpringCloudå¨åµSentinel",date:"2022-06-08T10:52:08.000Z",permalink:"/pages/9d5dbe/",categories:["å­¦ä¹ èµæ","Java","SpringCloudå®æ"],tags:[null]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/25.SpringCloud%E5%AE%9E%E6%88%98/06.SpringCloud%E5%93%A8%E5%85%B5Sentinel.html",relativePath:"å­¦ä¹ èµæ/03.Java/25.SpringCloudå®æ/06.SpringCloudå¨åµSentinel.md",key:"v-7c876527",path:"/pages/9d5dbe/",headers:[{level:2,title:"ç¯å¢åå¤ï¼sentinelï¼",slug:"ç¯å¢åå¤-sentinel",normalizedTitle:"ç¯å¢åå¤ï¼sentinelï¼",charIndex:2},{level:3,title:"å¯å¨",slug:"å¯å¨",normalizedTitle:"å¯å¨",charIndex:33},{level:2,title:"æ°å»ºsentinelå¨åµæ¨¡å",slug:"æ°å»ºsentinelå¨åµæ¨¡å",normalizedTitle:"æ°å»ºsentinelå¨åµæ¨¡å",charIndex:175},{level:3,title:"æ·»å ä¾èµ",slug:"æ·»å ä¾èµ",normalizedTitle:"æ·»å ä¾èµ",charIndex:194},{level:3,title:"éç½®",slug:"éç½®",normalizedTitle:"éç½®",charIndex:426},{level:2,title:"ä½¿ç¨",slug:"ä½¿ç¨",normalizedTitle:"ä½¿ç¨",charIndex:905},{level:3,title:"å¯å¨ç±»",slug:"å¯å¨ç±»",normalizedTitle:"å¯å¨ç±»",charIndex:1084},{level:3,title:"controller",slug:"controller",normalizedTitle:"controller",charIndex:1724},{level:3,title:"jsonæä»¶",slug:"jsonæä»¶",normalizedTitle:"jsonæä»¶",charIndex:1992},{level:2,title:"æ´å¤æä½",slug:"æ´å¤æä½",normalizedTitle:"æ´å¤æä½",charIndex:2319}],headersStr:"ç¯å¢åå¤ï¼sentinelï¼ å¯å¨ æ°å»ºsentinelå¨åµæ¨¡å æ·»å ä¾èµ éç½® ä½¿ç¨ å¯å¨ç±» controller jsonæä»¶ æ´å¤æä½",content:'# ç¯å¢åå¤ï¼sentinelï¼\n\nsentinelä¸è½½\n\n\n# å¯å¨\n\njava -Dserver.port=8080 -Dcsp.sentinel.dashboard.server=localhost:8080 -Dproject.name=sentinel-dashboard -jar sentinel-dashboard.jar\n\n\n\n# æ°å»ºsentinelå¨åµæ¨¡å\n\n\n# æ·»å ä¾èµ\n\n<dependencies>\n    \x3c!-- Sentinelå¨åµ --\x3e\n    <dependency>\n        <groupId>com.alibaba.cloud</groupId>\n        <artifactId>spring-cloud-starter-alibaba-sentinel</artifactId>\n    </dependency>\n\n    \x3c!-- å¼å¥ SpringMVC ç¸å³ä¾èµï¼å¹¶å®ç°å¯¹å¶çèªå¨éç½® --\x3e\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-web</artifactId>\n    </dependency>\n    \n</dependencies>\n\n\n\n# éç½®\n\n# ymléç½®\n\nserver:\n  port: 8089\nspring:\n  application:\n    name: sentinel\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n    # sentinel ç¯å¢å°å    \n    sentinel:\n      transport:\n        dashboard: localhost:8080\n      eager: true\n      web-context-unify: true\n      # æ°æ®æº å¯èªå®ä¹ä½¿ç¨nacosãredisãfile...\n      datasource:\n        ds1:\n          file:\n            file: classpath:flowrule.json\n            data-type: json\n            rule-type: flow\n\n\n\n# ä½¿ç¨\n\n\n# å¯å¨ç±»\n\n@SpringBootApplication\n@EnableDiscoveryClient\npublic class SentinelApplication {\n\n    public static void main(String[] args) {\n//        initFlowRules();\n        SpringApplication.run(SentinelApplication.class);\n\n    }\n\n    /**\n    * Javaä»£ç å®ä¹è§å\n    */\n    private static void initFlowRules(){\n        List<FlowRule> rules = new ArrayList<>(); //å®ä¹è§ååè¡¨\n        FlowRule rule = new FlowRule(); //å®ä¹ä¸ä¸ªè§å\n        rule.setResource("/hello"); //ä»ä¹èµæºåºç¨æ­¤è§å\n        rule.setGrade(RuleConstant.FLOW_GRADE_QPS);\n        rule.setCount(2); //æ²¡ç§åªè½2æ¬¡è¯·æ±\n        rules.add(rule);//å å¥è¯¥è§å\n        FlowRuleManager.loadRules(rules); //è½½å¥è§ååè¡¨\n    }\n\n}\n\n\n\n# controller\n\n@RestController\npublic class HelloController {\n\n    @SentinelResource("resource")\n    @GetMapping("/hello")\n    public String hello() {\n        return "Hello";\n    }\n\n    @GetMapping("/test")\n    public String test() {\n        return "test";\n    }\n\n}\n\n\n\n# jsonæä»¶\n\nresourceä¸çflowrule.jsonï¼å¯¹åºymléç½®æä»¶ï¼\n\n[\n  {\n    "resource": "/hello",\n    "controlBehavior": 0,\n    "count": 2,\n    "grade": 1,\n    "limitApp": "default",\n    "strategy": 0\n  },\n  {\n    "resource": "/test",\n    "controlBehavior": 0,\n    "count": 2,\n    "grade": 1,\n    "limitApp": "default",\n    "strategy": 0\n  }\n]\n\n\n\n# æ´å¤æä½\n\nsentinelå®ç½',normalizedContent:'# ç¯å¢åå¤ï¼sentinelï¼\n\nsentinelä¸è½½\n\n\n# å¯å¨\n\njava -dserver.port=8080 -dcsp.sentinel.dashboard.server=localhost:8080 -dproject.name=sentinel-dashboard -jar sentinel-dashboard.jar\n\n\n\n# æ°å»ºsentinelå¨åµæ¨¡å\n\n\n# æ·»å ä¾èµ\n\n<dependencies>\n    \x3c!-- sentinelå¨åµ --\x3e\n    <dependency>\n        <groupid>com.alibaba.cloud</groupid>\n        <artifactid>spring-cloud-starter-alibaba-sentinel</artifactid>\n    </dependency>\n\n    \x3c!-- å¼å¥ springmvc ç¸å³ä¾èµï¼å¹¶å®ç°å¯¹å¶çèªå¨éç½® --\x3e\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-web</artifactid>\n    </dependency>\n    \n</dependencies>\n\n\n\n# éç½®\n\n# ymléç½®\n\nserver:\n  port: 8089\nspring:\n  application:\n    name: sentinel\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n    # sentinel ç¯å¢å°å    \n    sentinel:\n      transport:\n        dashboard: localhost:8080\n      eager: true\n      web-context-unify: true\n      # æ°æ®æº å¯èªå®ä¹ä½¿ç¨nacosãredisãfile...\n      datasource:\n        ds1:\n          file:\n            file: classpath:flowrule.json\n            data-type: json\n            rule-type: flow\n\n\n\n# ä½¿ç¨\n\n\n# å¯å¨ç±»\n\n@springbootapplication\n@enablediscoveryclient\npublic class sentinelapplication {\n\n    public static void main(string[] args) {\n//        initflowrules();\n        springapplication.run(sentinelapplication.class);\n\n    }\n\n    /**\n    * javaä»£ç å®ä¹è§å\n    */\n    private static void initflowrules(){\n        list<flowrule> rules = new arraylist<>(); //å®ä¹è§ååè¡¨\n        flowrule rule = new flowrule(); //å®ä¹ä¸ä¸ªè§å\n        rule.setresource("/hello"); //ä»ä¹èµæºåºç¨æ­¤è§å\n        rule.setgrade(ruleconstant.flow_grade_qps);\n        rule.setcount(2); //æ²¡ç§åªè½2æ¬¡è¯·æ±\n        rules.add(rule);//å å¥è¯¥è§å\n        flowrulemanager.loadrules(rules); //è½½å¥è§ååè¡¨\n    }\n\n}\n\n\n\n# controller\n\n@restcontroller\npublic class hellocontroller {\n\n    @sentinelresource("resource")\n    @getmapping("/hello")\n    public string hello() {\n        return "hello";\n    }\n\n    @getmapping("/test")\n    public string test() {\n        return "test";\n    }\n\n}\n\n\n\n# jsonæä»¶\n\nresourceä¸çflowrule.jsonï¼å¯¹åºymléç½®æä»¶ï¼\n\n[\n  {\n    "resource": "/hello",\n    "controlbehavior": 0,\n    "count": 2,\n    "grade": 1,\n    "limitapp": "default",\n    "strategy": 0\n  },\n  {\n    "resource": "/test",\n    "controlbehavior": 0,\n    "count": 2,\n    "grade": 1,\n    "limitapp": "default",\n    "strategy": 0\n  }\n]\n\n\n\n# æ´å¤æä½\n\nsentinelå®ç½',charsets:{cjk:!0}},{title:"SpringCloudçæ§Admin",frontmatter:{title:"SpringCloudçæ§Admin",date:"2022-06-22T14:02:56.000Z",permalink:"/pages/fde21f/",categories:["å­¦ä¹ èµæ","Java","SpringCloudå®æ"],tags:[null]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/03.Java/25.SpringCloud%E5%AE%9E%E6%88%98/07.SpringCloud%E7%9B%91%E6%8E%A7Admin.html",relativePath:"å­¦ä¹ èµæ/03.Java/25.SpringCloudå®æ/07.SpringCloudçæ§Admin.md",key:"v-b54b2dd0",path:"/pages/fde21f/",headers:[{level:2,title:"æ°å»ºAdminçæ§æ¨¡å",slug:"æ°å»ºadminçæ§æ¨¡å",normalizedTitle:"æ°å»ºadminçæ§æ¨¡å",charIndex:2},{level:3,title:"æ·»å ä¾èµ",slug:"æ·»å ä¾èµ",normalizedTitle:"æ·»å ä¾èµ",charIndex:18},{level:3,title:"éç½®",slug:"éç½®",normalizedTitle:"éç½®",charIndex:276},{level:2,title:"ä½¿ç¨",slug:"ä½¿ç¨",normalizedTitle:"ä½¿ç¨",charIndex:2406},{level:3,title:"å¯å¨ç±»",slug:"å¯å¨ç±»",normalizedTitle:"å¯å¨ç±»",charIndex:2832},{level:3,title:"è®¿é®",slug:"è®¿é®",normalizedTitle:"è®¿é®",charIndex:1855}],headersStr:"æ°å»ºAdminçæ§æ¨¡å æ·»å ä¾èµ éç½® ä½¿ç¨ å¯å¨ç±» è®¿é®",content:'# æ°å»ºAdminçæ§æ¨¡å\n\n\n# æ·»å ä¾èµ\n\n<dependencies>\n    \x3c!-- adminçæ§ --\x3e\n    <dependency>\n        <groupId>de.codecentric</groupId>\n        <artifactId>spring-boot-admin-starter-server</artifactId>\n        <version>2.6.3</version>\n    </dependency>\n    \n    \x3c!-- å¼å¥ SpringMVC ç¸å³ä¾èµï¼å¹¶å®ç°å¯¹å¶çèªå¨éç½® --\x3e\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-web</artifactId>\n    </dependency>\n    \n   \x3c!-- èªçåçæ§ --\x3e\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-actuator</artifactId>\n    </dependency>\n\n    \x3c!-- spring securityå®å¨ --\x3e\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-security</artifactId>\n    </dependency>\n\n</dependencies>\n\n\n\n# éç½®\n\n# ymléç½®\n\nserver:\n  port: 8088\nspring:\n  application:\n    name: admin\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n  security:\n    user:\n      name: admin\n      password: 123456\nmanagement:\n  # æ´é²çæ§ç«¯ç¹webç«¯\n  endpoints:\n    web:\n      exposure:\n        include: \'*\'\n  # æ¾ç¤ºæå¡å¥åº·å·ä½ä¿¡æ¯\n  endpoint:\n    health:\n      show-details: always\n\n\n# å®å¨éç½®\n\n@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final String adminContextPath;\n\n    public SecurityConfig(AdminServerProperties adminServerProperties) {\n        this.adminContextPath = adminServerProperties.getContextPath();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        SavedRequestAwareAuthenticationSuccessHandler successHandler = new SavedRequestAwareAuthenticationSuccessHandler();\n        successHandler.setTargetUrlParameter("redirectTo");\n        successHandler.setDefaultTargetUrl(adminContextPath + "/");\n\n        http.authorizeRequests()\n                //1.éç½®ææéæèµæºåç»å½é¡µå¯ä»¥å¬å¼è®¿é®\n                .antMatchers(adminContextPath + "/assets/**").permitAll()\n                .antMatchers(adminContextPath + "/login").permitAll()\n                .antMatchers(adminContextPath + "/actuator/**").permitAll()\n                .anyRequest().authenticated()\n                .and()\n                //2.éç½®ç»å½åç»åºè·¯å¾\n                .formLogin().loginPage(adminContextPath + "/login").successHandler(successHandler).and()\n                .logout().logoutUrl(adminContextPath + "/logout").and()\n                //3.å¼å¯http basicæ¯æï¼admin-clientæ³¨åæ¶éè¦ä½¿ç¨\n                .httpBasic().and()\n                .csrf()\n                //4.å¼å¯åºäºcookieçcsrfä¿æ¤\n                .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse())\n                //5.å¿½ç¥è¿äºè·¯å¾çcsrfä¿æ¤ä»¥ä¾¿admin-clientæ³¨å\n                .ignoringAntMatchers(\n                        adminContextPath + "/instances",\n                        adminContextPath + "/actuator/**"\n                );\n    }\n}\n\n\n\n# ä½¿ç¨\n\n\n# å¯å¨ç±»\n\n@SpringBootApplication\n@EnableDiscoveryClient\n@EnableAdminServer\npublic class AdminApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AdminApplication.class);\n    }\n\n}\n\n\n\n# è®¿é®\n\nhttp://localhost:8088',normalizedContent:'# æ°å»ºadminçæ§æ¨¡å\n\n\n# æ·»å ä¾èµ\n\n<dependencies>\n    \x3c!-- adminçæ§ --\x3e\n    <dependency>\n        <groupid>de.codecentric</groupid>\n        <artifactid>spring-boot-admin-starter-server</artifactid>\n        <version>2.6.3</version>\n    </dependency>\n    \n    \x3c!-- å¼å¥ springmvc ç¸å³ä¾èµï¼å¹¶å®ç°å¯¹å¶çèªå¨éç½® --\x3e\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-web</artifactid>\n    </dependency>\n    \n   \x3c!-- èªçåçæ§ --\x3e\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-actuator</artifactid>\n    </dependency>\n\n    \x3c!-- spring securityå®å¨ --\x3e\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-security</artifactid>\n    </dependency>\n\n</dependencies>\n\n\n\n# éç½®\n\n# ymléç½®\n\nserver:\n  port: 8088\nspring:\n  application:\n    name: admin\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n  security:\n    user:\n      name: admin\n      password: 123456\nmanagement:\n  # æ´é²çæ§ç«¯ç¹webç«¯\n  endpoints:\n    web:\n      exposure:\n        include: \'*\'\n  # æ¾ç¤ºæå¡å¥åº·å·ä½ä¿¡æ¯\n  endpoint:\n    health:\n      show-details: always\n\n\n# å®å¨éç½®\n\n@configuration\npublic class securityconfig extends websecurityconfigureradapter {\n\n    private final string admincontextpath;\n\n    public securityconfig(adminserverproperties adminserverproperties) {\n        this.admincontextpath = adminserverproperties.getcontextpath();\n    }\n\n    @override\n    protected void configure(httpsecurity http) throws exception {\n        savedrequestawareauthenticationsuccesshandler successhandler = new savedrequestawareauthenticationsuccesshandler();\n        successhandler.settargeturlparameter("redirectto");\n        successhandler.setdefaulttargeturl(admincontextpath + "/");\n\n        http.authorizerequests()\n                //1.éç½®ææéæèµæºåç»å½é¡µå¯ä»¥å¬å¼è®¿é®\n                .antmatchers(admincontextpath + "/assets/**").permitall()\n                .antmatchers(admincontextpath + "/login").permitall()\n                .antmatchers(admincontextpath + "/actuator/**").permitall()\n                .anyrequest().authenticated()\n                .and()\n                //2.éç½®ç»å½åç»åºè·¯å¾\n                .formlogin().loginpage(admincontextpath + "/login").successhandler(successhandler).and()\n                .logout().logouturl(admincontextpath + "/logout").and()\n                //3.å¼å¯http basicæ¯æï¼admin-clientæ³¨åæ¶éè¦ä½¿ç¨\n                .httpbasic().and()\n                .csrf()\n                //4.å¼å¯åºäºcookieçcsrfä¿æ¤\n                .csrftokenrepository(cookiecsrftokenrepository.withhttponlyfalse())\n                //5.å¿½ç¥è¿äºè·¯å¾çcsrfä¿æ¤ä»¥ä¾¿admin-clientæ³¨å\n                .ignoringantmatchers(\n                        admincontextpath + "/instances",\n                        admincontextpath + "/actuator/**"\n                );\n    }\n}\n\n\n\n# ä½¿ç¨\n\n\n# å¯å¨ç±»\n\n@springbootapplication\n@enablediscoveryclient\n@enableadminserver\npublic class adminapplication {\n\n    public static void main(string[] args) {\n        springapplication.run(adminapplication.class);\n    }\n\n}\n\n\n\n# è®¿é®\n\nhttp://localhost:8088',charsets:{cjk:!0}},{title:"Tomcatæä½³å®è·µ",frontmatter:{title:"Tomcatæä½³å®è·µ",date:"2022-01-17T17:30:46.000Z",permalink:"/pages/a1549e/",categories:["å­¦ä¹ èµæ","ç¬è®°"],tags:["Tomcat"]},regularPath:"/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/21.%E7%AC%94%E8%AE%B0/01.Tomcat%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5.html",relativePath:"å­¦ä¹ èµæ/21.ç¬è®°/01.Tomcatæä½³å®è·µ.md",key:"v-e40802de",path:"/pages/a1549e/",headers:[{level:2,title:"è¿è¡æ¨¡å¼",slug:"è¿è¡æ¨¡å¼",normalizedTitle:"è¿è¡æ¨¡å¼",charIndex:2},{level:3,title:"BIO",slug:"bio",normalizedTitle:"bio",charIndex:31},{level:3,title:"NIO",slug:"nio",normalizedTitle:"nio",charIndex:36},{level:3,title:"APR",slug:"apr",normalizedTitle:"apr",charIndex:41},{level:2,title:"è¿æ¥æ± ",slug:"è¿æ¥æ± ",normalizedTitle:"è¿æ¥æ± ",charIndex:867},{level:2,title:"ç«¯å£éç½®",slug:"ç«¯å£éç½®",normalizedTitle:"ç«¯å£éç½®",charIndex:2226},{level:2,title:"JVM ä¼å",slug:"jvm-ä¼å",normalizedTitle:"jvm ä¼å",charIndex:2641}],headersStr:"è¿è¡æ¨¡å¼ BIO NIO APR è¿æ¥æ±  ç«¯å£éç½® JVM ä¼å",content:'# è¿è¡æ¨¡å¼\n\nTomcat Connectorä¸ç§è¿è¡æ¨¡å¼ï¼BIO, NIO, APRï¼çæ¯è¾åä¼åã\n\norg.apache.coyote.http11.Http11Protocolï¼BIO\norg.apache.coyote.http11.Http11NioProtocolï¼NIO\norg.apache.coyote.http11.Http11Nio2Protocolï¼NIO2\norg.apache.coyote.http11.Http11AprProtocolï¼APR\n\n\n\n# BIO\n\nä¸ä¸ªçº¿ç¨å¤çä¸ä¸ªè¯·æ±ãç¼ºç¹ï¼å¹¶åéé«æ¶ï¼çº¿ç¨æ°è¾å¤ï¼æµªè´¹èµæºãTomcat7æä»¥ä¸ï¼å¨Linuxç³»ç»ä¸­é»è®¤ä½¿ç¨è¿ç§æ¹å¼ã\n\n\n# NIO\n\nå©ç¨Javaçå¼æ­¥IOå¤çï¼å¯ä»¥éè¿å°éççº¿ç¨å¤çå¤§éçè¯·æ±ãTomcat8å¨Linuxç³»ç»ä¸­é»è®¤ä½¿ç¨è¿ç§æ¹å¼ãTomcat7å¿é¡»ä¿®æ¹Connectoréç½®æ¥å¯å¨ï¼\n\n<Connector port="8080" \n           protocol="org.apache.coyote.http11.Http11NioProtocol"\n           connectionTimeout="20000"\n\t\t   redirectPort="8443"/>\n\n\nTomcat8ä»¥åNIO2æ¨¡å¼ï¼\n\n<Connector  port="8080"\n            protocol="org.apache.coyote.http11.Http11Nio2Protocol"\n            connectionTimeout="20000"\n\t\t    redirectPort="8443"/>\n\n\n\n# APR\n\nå³Apache Portable Runtimeï¼ä»æä½ç³»ç»å±é¢è§£å³ioé»å¡é®é¢ãTomcat7æTomcat8å¨Win7æä»¥ä¸çç³»ç»ä¸­å¯å¨é»è®¤ä½¿ç¨è¿ç§æ¹å¼ãLinuxå¦æå®è£äºaprånativeï¼Tomcatç´æ¥å¯å¨å°±æ¯æaprã\n\n\n# è¿æ¥æ± \n\né»è®¤å¼ï¼\n\n<Executor name="tomcatThreadPool" namePrefix="catalina-exec-"\n        maxThreads="150" minSpareThreads="4"/>\n\n\nä¿®æ¹ä¸ºï¼\n\n<Executor \n    name="tomcatThreadPool" \n    namePrefix="catalina-exec-"\n    maxThreads="500" \n    minSpareThreads="100" \n    prestartminSpareThreads = "true"\n    maxQueueSize = "100"\n/>\n\n\nåæ°è§£éï¼\n\n * maxThreadsï¼æå¤§å¹¶åæ°ï¼é»è®¤è®¾ç½® 200ï¼ä¸è¬å»ºè®®å¨ 500 ~ 800ï¼æ ¹æ®ç¡¬ä»¶è®¾æ½åä¸å¡æ¥å¤æ­\n * minSpareThreadsï¼Tomcat åå§åæ¶åå»ºççº¿ç¨æ°ï¼é»è®¤è®¾ç½® 25\n * prestartminSpareThreadsï¼å¨ Tomcat åå§åçæ¶åå°±åå§å minSpareThreads çåæ°å¼ï¼å¦æä¸ç­äº trueï¼minSpareThreads çå¼å°±æ²¡å¥ææäº\n * maxQueueSizeï¼æå¤§çç­å¾éåæ°ï¼è¶è¿åæç»è¯·æ±\n\né»è®¤çé¾æ¥åæ°éç½®ï¼\n\n<Connector \n    port="8080" \n    protocol="HTTP/1.1" \n    connectionTimeout="20000" \n    redirectPort="8443" \n/>\n\n\nä¿®æ¹ä¸ºï¼\n\n<Connector  executor="tomcatThreadPool"\n            port="8080"\n            protocol="org.apache.coyote.http11.Http11Nio2Protocol"\n            connectionTimeout="20000"\n\t\t    redirectPort="8443"/>\n\n\nåæ°è§£éï¼\n\n * protocolï¼Tomcat 8 è®¾ç½® nio2 æ´å¥½ï¼org.apache.coyote.http11.Http11Nio2Protocol\n * protocolï¼Tomcat 6ã7 è®¾ç½® nio æ´å¥½ï¼org.apache.coyote.http11.Http11NioProtocol\n * enableLookupsï¼ç¦ç¨DNSæ¥è¯¢\n * acceptCountï¼æå®å½ææå¯ä»¥ä½¿ç¨çå¤çè¯·æ±ççº¿ç¨æ°é½è¢«ä½¿ç¨æ¶ï¼å¯ä»¥æ¾å°å¤çéåä¸­çè¯·æ±æ°ï¼è¶è¿è¿ä¸ªæ°çè¯·æ±å°ä¸äºå¤çï¼é»è®¤è®¾ç½® 100\n * maxPostSizeï¼ä»¥ FORM URL åæ°æ¹å¼ç POST æäº¤æ¹å¼ï¼éå¶æäº¤æå¤§çå¤§å°ï¼é»è®¤æ¯ 2097152(2å)ï¼å®ä½¿ç¨çåä½æ¯å­èã10485760 ä¸º 10Mãå¦æè¦ç¦ç¨éå¶ï¼åå¯ä»¥è®¾ç½®ä¸º -1\n * acceptorThreadCountï¼ç¨äºæ¥æ¶è¿æ¥ççº¿ç¨çæ°éï¼é»è®¤å¼æ¯1ãä¸è¬è¿ä¸ªæéè¦æ¹å¨çæ¶åæ¯å ä¸ºè¯¥æå¡å¨æ¯ä¸ä¸ªå¤æ ¸CPUï¼å¦ææ¯å¤æ ¸ CPU ä¸è¬éç½®ä¸º 2\n\n\n# ç«¯å£éç½®\n\nTomcatæå¡å¨ééç½®ä¸ä¸ªç«¯å£æè½å¯å¨ï¼å®è£æ¶é»è®¤å¯ç¨äºè¿ä¸ä¸ªç«¯å£ï¼å½è¦è¿è¡å¤ä¸ªtomcatæå¡æ¶éè¦ä¿®æ¹è¿ä¸ä¸ªç«¯å£ã\n\n\x3c!-- ç«¯å£-1å³å¯ï¼æ è¯éæº --\x3e\n<Server port="-1" shutdown="SHUTDOWN">\n\n\n\x3c!-- è®¿é®ç«¯å£ï¼å¿é¡»éç½® --\x3e\n<Connector  port="8080"\n            protocol="org.apache.coyote.http11.Http11Nio2Protocol"\n            connectionTimeout="20000"\n\t\t    redirectPort="8443"/>\n\n\n\x3c!-- éç½®Apacheä½¿ç¨ï¼å¦æä½¿ç¨Nginxä»£çæ³¨éæå³å¯ --\x3e\n<Connector port="8009" protocol="AJP/1.3" redirectPort="8443" />\n\n\n\n# JVM ä¼å\n\nJava çåå­æ¨¡ååä¸ºï¼\n\n * Youngï¼å¹´è½»ä»£ï¼æè¢« GCï¼ãYoung åºè¢«ååä¸ºä¸é¨åï¼Eden åºåä¸¤ä¸ªå¤§å°ä¸¥æ ¼ç¸åç Survivor åºï¼å¶ä¸­ Survivor åºé´ä¸­ï¼æä¸æ¶å»åªæå¶ä¸­ä¸ä¸ªæ¯è¢«ä½¿ç¨çï¼å¦å¤ä¸ä¸ªçååå¾æ¶éæ¶å¤å¶å¯¹è±¡ç¨ï¼å¨ Young åºé´åæ»¡çæ¶åï¼minor GC å°±ä¼å°å­æ´»çå¯¹è±¡ç§»å°ç©ºé²çSurvivor åºé´ä¸­ï¼æ ¹æ® JVM çç­ç¥ï¼å¨ç»è¿å æ¬¡åå¾æ¶éåï¼ä»»ç¶å­æ´»äº Survivor çå¯¹è±¡å°è¢«ç§»å¨å° Tenured åºé´ã\n\n * Tenuredï¼ç»èº«ä»£ãTenured åºä¸»è¦ä¿å­çå½å¨æé¿çå¯¹è±¡ï¼ä¸è¬æ¯ä¸äºèçå¯¹è±¡ï¼å½ä¸äºå¯¹è±¡å¨ Young å¤å¶è½¬ç§»ä¸å®çæ¬¡æ°ä»¥åï¼å¯¹è±¡å°±ä¼è¢«è½¬ç§»å° Tenured åºï¼ä¸è¬å¦æç³»ç»ä¸­ç¨äº application çº§å«çç¼å­ï¼ç¼å­ä¸­çå¯¹è±¡å¾å¾ä¼è¢«è½¬ç§»å°è¿ä¸åºé´ã\n\n * Permï¼æ°¸ä¹ä»£ãä¸»è¦ä¿å­ class,method,filed å¯¹è±¡ï¼è¿é¨é¨çç©ºé´ä¸è¬ä¸ä¼æº¢åºï¼é¤éä¸æ¬¡æ§å è½½äºå¾å¤çç±»ï¼ä¸è¿å¨æ¶åå°ç­é¨ç½²çåºç¨æå¡å¨çæ¶åï¼ææ¶åä¼éå° java.lang.OutOfMemoryError : PermGen space çéè¯¯ï¼é æè¿ä¸ªéè¯¯çå¾å¤§åå å°±æå¯è½æ¯æ¯æ¬¡é½éæ°é¨ç½²ï¼ä½æ¯éæ°é¨ç½²åï¼ç±»ç class æ²¡æè¢«å¸è½½æï¼è¿æ ·å°±é æäºå¤§éç class å¯¹è±¡ä¿å­å¨äº perm ä¸­ï¼è¿ç§æåµä¸ï¼ä¸è¬éæ°å¯å¨åºç¨æå¡å¨å¯ä»¥è§£å³é®é¢ã\n\nLinux ä¿®æ¹ /tomcat/bin/catalina.sh æä»¶ï¼æä¸é¢ä¿¡æ¯æ·»å å°æä»¶ç¬¬ä¸è¡ã\n\næºå­åå­å¦ææ¯ 8Gï¼ä¸è¬ PermSize éç½®æ¯ä¸»è¦ä¿è¯ç³»ç»è½ç¨³å®èµ·æ¥å°±è¡ï¼\n\nJAVA_OPTS="-Dfile.encoding=UTF-8 -server -Xms6144m -Xmx6144m -XX:NewSize=1024m -XX:MaxNewSize=2048m -XX:PermSize=512m -XX:MaxPermSize=512m -XX:MaxTenuringThreshold=10 -XX:NewRatio=2 -XX:+DisableExplicitGC"\n\n\nåæ°è¯´æï¼\n\n-Dfile.encodingï¼é»è®¤æä»¶ç¼ç \n-serverï¼è¡¨ç¤ºè¿æ¯åºç¨äºæå¡å¨çéç½®ï¼JVM åé¨ä¼æç¹æ®å¤çç\n-Xmx1024mï¼è®¾ç½®JVMæå¤§å¯ç¨åå­ä¸º1024MB\n-Xms1024mï¼è®¾ç½®JVMæå°åå­ä¸º1024mãæ­¤å¼å¯ä»¥è®¾ç½®ä¸-Xmxç¸åï¼ä»¥é¿åæ¯æ¬¡åå¾åæ¶å®æåJVMéæ°åéåå­ã\n-XX:NewSizeï¼è®¾ç½®å¹´è½»ä»£å¤§å°\n-XX:MaxNewSizeï¼è®¾ç½®æå¤§çå¹´è½»ä»£å¤§å°\n-XX:PermSizeï¼è®¾ç½®æ°¸ä¹ä»£å¤§å°\n-XX:MaxPermSizeï¼è®¾ç½®æå¤§æ°¸ä¹ä»£å¤§å°\n-XX:NewRatio=4ï¼è®¾ç½®å¹´è½»ä»£ï¼åæ¬ Eden åä¸¤ä¸ª Survivor åºï¼ä¸ç»èº«ä»£çæ¯å¼ï¼é¤å»æ°¸ä¹ä»£ï¼ãè®¾ç½®ä¸º 4ï¼åå¹´è½»ä»£ä¸ç»èº«ä»£æå æ¯å¼ä¸º 1ï¼4ï¼å¹´è½»ä»£å æ´ä¸ªå æ ç 1/5\n-XX:MaxTenuringThreshold=10ï¼è®¾ç½®åå¾æå¤§å¹´é¾ï¼é»è®¤ä¸ºï¼15ãå¦æè®¾ç½®ä¸º 0 çè¯ï¼åå¹´è½»ä»£å¯¹è±¡ä¸ç»è¿ Survivor åºï¼ç´æ¥è¿å¥å¹´èä»£ãå¯¹äºå¹´èä»£æ¯è¾å¤çåºç¨ï¼å¯ä»¥æé«æçãå¦æå°æ­¤å¼è®¾ç½®ä¸ºä¸ä¸ªè¾å¤§å¼ï¼åå¹´è½»ä»£å¯¹è±¡ä¼å¨ Survivor åºè¿è¡å¤æ¬¡å¤å¶ï¼è¿æ ·å¯ä»¥å¢å å¯¹è±¡åå¹´è½»ä»£çå­æ´»æ¶é´ï¼å¢å å¨å¹´è½»ä»£å³è¢«åæ¶çæ¦è®ºã\n-XX:+DisableExplicitGCï¼è¿ä¸ªå°ä¼å¿½ç¥æå¨è°ç¨ GC çä»£ç ä½¿å¾ System.gc() çè°ç¨å°±ä¼åæä¸ä¸ªç©ºè°ç¨ï¼å®å¨ä¸ä¼è§¦åä»»ä½ GC\n',normalizedContent:'# è¿è¡æ¨¡å¼\n\ntomcat connectorä¸ç§è¿è¡æ¨¡å¼ï¼bio, nio, aprï¼çæ¯è¾åä¼åã\n\norg.apache.coyote.http11.http11protocolï¼bio\norg.apache.coyote.http11.http11nioprotocolï¼nio\norg.apache.coyote.http11.http11nio2protocolï¼nio2\norg.apache.coyote.http11.http11aprprotocolï¼apr\n\n\n\n# bio\n\nä¸ä¸ªçº¿ç¨å¤çä¸ä¸ªè¯·æ±ãç¼ºç¹ï¼å¹¶åéé«æ¶ï¼çº¿ç¨æ°è¾å¤ï¼æµªè´¹èµæºãtomcat7æä»¥ä¸ï¼å¨linuxç³»ç»ä¸­é»è®¤ä½¿ç¨è¿ç§æ¹å¼ã\n\n\n# nio\n\nå©ç¨javaçå¼æ­¥ioå¤çï¼å¯ä»¥éè¿å°éççº¿ç¨å¤çå¤§éçè¯·æ±ãtomcat8å¨linuxç³»ç»ä¸­é»è®¤ä½¿ç¨è¿ç§æ¹å¼ãtomcat7å¿é¡»ä¿®æ¹connectoréç½®æ¥å¯å¨ï¼\n\n<connector port="8080" \n           protocol="org.apache.coyote.http11.http11nioprotocol"\n           connectiontimeout="20000"\n\t\t   redirectport="8443"/>\n\n\ntomcat8ä»¥ånio2æ¨¡å¼ï¼\n\n<connector  port="8080"\n            protocol="org.apache.coyote.http11.http11nio2protocol"\n            connectiontimeout="20000"\n\t\t    redirectport="8443"/>\n\n\n\n# apr\n\nå³apache portable runtimeï¼ä»æä½ç³»ç»å±é¢è§£å³ioé»å¡é®é¢ãtomcat7ætomcat8å¨win7æä»¥ä¸çç³»ç»ä¸­å¯å¨é»è®¤ä½¿ç¨è¿ç§æ¹å¼ãlinuxå¦æå®è£äºaprånativeï¼tomcatç´æ¥å¯å¨å°±æ¯æaprã\n\n\n# è¿æ¥æ± \n\né»è®¤å¼ï¼\n\n<executor name="tomcatthreadpool" nameprefix="catalina-exec-"\n        maxthreads="150" minsparethreads="4"/>\n\n\nä¿®æ¹ä¸ºï¼\n\n<executor \n    name="tomcatthreadpool" \n    nameprefix="catalina-exec-"\n    maxthreads="500" \n    minsparethreads="100" \n    prestartminsparethreads = "true"\n    maxqueuesize = "100"\n/>\n\n\nåæ°è§£éï¼\n\n * maxthreadsï¼æå¤§å¹¶åæ°ï¼é»è®¤è®¾ç½® 200ï¼ä¸è¬å»ºè®®å¨ 500 ~ 800ï¼æ ¹æ®ç¡¬ä»¶è®¾æ½åä¸å¡æ¥å¤æ­\n * minsparethreadsï¼tomcat åå§åæ¶åå»ºççº¿ç¨æ°ï¼é»è®¤è®¾ç½® 25\n * prestartminsparethreadsï¼å¨ tomcat åå§åçæ¶åå°±åå§å minsparethreads çåæ°å¼ï¼å¦æä¸ç­äº trueï¼minsparethreads çå¼å°±æ²¡å¥ææäº\n * maxqueuesizeï¼æå¤§çç­å¾éåæ°ï¼è¶è¿åæç»è¯·æ±\n\né»è®¤çé¾æ¥åæ°éç½®ï¼\n\n<connector \n    port="8080" \n    protocol="http/1.1" \n    connectiontimeout="20000" \n    redirectport="8443" \n/>\n\n\nä¿®æ¹ä¸ºï¼\n\n<connector  executor="tomcatthreadpool"\n            port="8080"\n            protocol="org.apache.coyote.http11.http11nio2protocol"\n            connectiontimeout="20000"\n\t\t    redirectport="8443"/>\n\n\nåæ°è§£éï¼\n\n * protocolï¼tomcat 8 è®¾ç½® nio2 æ´å¥½ï¼org.apache.coyote.http11.http11nio2protocol\n * protocolï¼tomcat 6ã7 è®¾ç½® nio æ´å¥½ï¼org.apache.coyote.http11.http11nioprotocol\n * enablelookupsï¼ç¦ç¨dnsæ¥è¯¢\n * acceptcountï¼æå®å½ææå¯ä»¥ä½¿ç¨çå¤çè¯·æ±ççº¿ç¨æ°é½è¢«ä½¿ç¨æ¶ï¼å¯ä»¥æ¾å°å¤çéåä¸­çè¯·æ±æ°ï¼è¶è¿è¿ä¸ªæ°çè¯·æ±å°ä¸äºå¤çï¼é»è®¤è®¾ç½® 100\n * maxpostsizeï¼ä»¥ form url åæ°æ¹å¼ç post æäº¤æ¹å¼ï¼éå¶æäº¤æå¤§çå¤§å°ï¼é»è®¤æ¯ 2097152(2å)ï¼å®ä½¿ç¨çåä½æ¯å­èã10485760 ä¸º 10mãå¦æè¦ç¦ç¨éå¶ï¼åå¯ä»¥è®¾ç½®ä¸º -1\n * acceptorthreadcountï¼ç¨äºæ¥æ¶è¿æ¥ççº¿ç¨çæ°éï¼é»è®¤å¼æ¯1ãä¸è¬è¿ä¸ªæéè¦æ¹å¨çæ¶åæ¯å ä¸ºè¯¥æå¡å¨æ¯ä¸ä¸ªå¤æ ¸cpuï¼å¦ææ¯å¤æ ¸ cpu ä¸è¬éç½®ä¸º 2\n\n\n# ç«¯å£éç½®\n\ntomcatæå¡å¨ééç½®ä¸ä¸ªç«¯å£æè½å¯å¨ï¼å®è£æ¶é»è®¤å¯ç¨äºè¿ä¸ä¸ªç«¯å£ï¼å½è¦è¿è¡å¤ä¸ªtomcatæå¡æ¶éè¦ä¿®æ¹è¿ä¸ä¸ªç«¯å£ã\n\n\x3c!-- ç«¯å£-1å³å¯ï¼æ è¯éæº --\x3e\n<server port="-1" shutdown="shutdown">\n\n\n\x3c!-- è®¿é®ç«¯å£ï¼å¿é¡»éç½® --\x3e\n<connector  port="8080"\n            protocol="org.apache.coyote.http11.http11nio2protocol"\n            connectiontimeout="20000"\n\t\t    redirectport="8443"/>\n\n\n\x3c!-- éç½®apacheä½¿ç¨ï¼å¦æä½¿ç¨nginxä»£çæ³¨éæå³å¯ --\x3e\n<connector port="8009" protocol="ajp/1.3" redirectport="8443" />\n\n\n\n# jvm ä¼å\n\njava çåå­æ¨¡ååä¸ºï¼\n\n * youngï¼å¹´è½»ä»£ï¼æè¢« gcï¼ãyoung åºè¢«ååä¸ºä¸é¨åï¼eden åºåä¸¤ä¸ªå¤§å°ä¸¥æ ¼ç¸åç survivor åºï¼å¶ä¸­ survivor åºé´ä¸­ï¼æä¸æ¶å»åªæå¶ä¸­ä¸ä¸ªæ¯è¢«ä½¿ç¨çï¼å¦å¤ä¸ä¸ªçååå¾æ¶éæ¶å¤å¶å¯¹è±¡ç¨ï¼å¨ young åºé´åæ»¡çæ¶åï¼minor gc å°±ä¼å°å­æ´»çå¯¹è±¡ç§»å°ç©ºé²çsurvivor åºé´ä¸­ï¼æ ¹æ® jvm çç­ç¥ï¼å¨ç»è¿å æ¬¡åå¾æ¶éåï¼ä»»ç¶å­æ´»äº survivor çå¯¹è±¡å°è¢«ç§»å¨å° tenured åºé´ã\n\n * tenuredï¼ç»èº«ä»£ãtenured åºä¸»è¦ä¿å­çå½å¨æé¿çå¯¹è±¡ï¼ä¸è¬æ¯ä¸äºèçå¯¹è±¡ï¼å½ä¸äºå¯¹è±¡å¨ young å¤å¶è½¬ç§»ä¸å®çæ¬¡æ°ä»¥åï¼å¯¹è±¡å°±ä¼è¢«è½¬ç§»å° tenured åºï¼ä¸è¬å¦æç³»ç»ä¸­ç¨äº application çº§å«çç¼å­ï¼ç¼å­ä¸­çå¯¹è±¡å¾å¾ä¼è¢«è½¬ç§»å°è¿ä¸åºé´ã\n\n * permï¼æ°¸ä¹ä»£ãä¸»è¦ä¿å­ class,method,filed å¯¹è±¡ï¼è¿é¨é¨çç©ºé´ä¸è¬ä¸ä¼æº¢åºï¼é¤éä¸æ¬¡æ§å è½½äºå¾å¤çç±»ï¼ä¸è¿å¨æ¶åå°ç­é¨ç½²çåºç¨æå¡å¨çæ¶åï¼ææ¶åä¼éå° java.lang.outofmemoryerror : permgen space çéè¯¯ï¼é æè¿ä¸ªéè¯¯çå¾å¤§åå å°±æå¯è½æ¯æ¯æ¬¡é½éæ°é¨ç½²ï¼ä½æ¯éæ°é¨ç½²åï¼ç±»ç class æ²¡æè¢«å¸è½½æï¼è¿æ ·å°±é æäºå¤§éç class å¯¹è±¡ä¿å­å¨äº perm ä¸­ï¼è¿ç§æåµä¸ï¼ä¸è¬éæ°å¯å¨åºç¨æå¡å¨å¯ä»¥è§£å³é®é¢ã\n\nlinux ä¿®æ¹ /tomcat/bin/catalina.sh æä»¶ï¼æä¸é¢ä¿¡æ¯æ·»å å°æä»¶ç¬¬ä¸è¡ã\n\næºå­åå­å¦ææ¯ 8gï¼ä¸è¬ permsize éç½®æ¯ä¸»è¦ä¿è¯ç³»ç»è½ç¨³å®èµ·æ¥å°±è¡ï¼\n\njava_opts="-dfile.encoding=utf-8 -server -xms6144m -xmx6144m -xx:newsize=1024m -xx:maxnewsize=2048m -xx:permsize=512m -xx:maxpermsize=512m -xx:maxtenuringthreshold=10 -xx:newratio=2 -xx:+disableexplicitgc"\n\n\nåæ°è¯´æï¼\n\n-dfile.encodingï¼é»è®¤æä»¶ç¼ç \n-serverï¼è¡¨ç¤ºè¿æ¯åºç¨äºæå¡å¨çéç½®ï¼jvm åé¨ä¼æç¹æ®å¤çç\n-xmx1024mï¼è®¾ç½®jvmæå¤§å¯ç¨åå­ä¸º1024mb\n-xms1024mï¼è®¾ç½®jvmæå°åå­ä¸º1024mãæ­¤å¼å¯ä»¥è®¾ç½®ä¸-xmxç¸åï¼ä»¥é¿åæ¯æ¬¡åå¾åæ¶å®æåjvméæ°åéåå­ã\n-xx:newsizeï¼è®¾ç½®å¹´è½»ä»£å¤§å°\n-xx:maxnewsizeï¼è®¾ç½®æå¤§çå¹´è½»ä»£å¤§å°\n-xx:permsizeï¼è®¾ç½®æ°¸ä¹ä»£å¤§å°\n-xx:maxpermsizeï¼è®¾ç½®æå¤§æ°¸ä¹ä»£å¤§å°\n-xx:newratio=4ï¼è®¾ç½®å¹´è½»ä»£ï¼åæ¬ eden åä¸¤ä¸ª survivor åºï¼ä¸ç»èº«ä»£çæ¯å¼ï¼é¤å»æ°¸ä¹ä»£ï¼ãè®¾ç½®ä¸º 4ï¼åå¹´è½»ä»£ä¸ç»èº«ä»£æå æ¯å¼ä¸º 1ï¼4ï¼å¹´è½»ä»£å æ´ä¸ªå æ ç 1/5\n-xx:maxtenuringthreshold=10ï¼è®¾ç½®åå¾æå¤§å¹´é¾ï¼é»è®¤ä¸ºï¼15ãå¦æè®¾ç½®ä¸º 0 çè¯ï¼åå¹´è½»ä»£å¯¹è±¡ä¸ç»è¿ survivor åºï¼ç´æ¥è¿å¥å¹´èä»£ãå¯¹äºå¹´èä»£æ¯è¾å¤çåºç¨ï¼å¯ä»¥æé«æçãå¦æå°æ­¤å¼è®¾ç½®ä¸ºä¸ä¸ªè¾å¤§å¼ï¼åå¹´è½»ä»£å¯¹è±¡ä¼å¨ survivor åºè¿è¡å¤æ¬¡å¤å¶ï¼è¿æ ·å¯ä»¥å¢å å¯¹è±¡åå¹´è½»ä»£çå­æ´»æ¶é´ï¼å¢å å¨å¹´è½»ä»£å³è¢«åæ¶çæ¦è®ºã\n-xx:+disableexplicitgcï¼è¿ä¸ªå°ä¼å¿½ç¥æå¨è°ç¨ gc çä»£ç ä½¿å¾ system.gc() çè°ç¨å°±ä¼åæä¸ä¸ªç©ºè°ç¨ï¼å®å¨ä¸ä¼è§¦åä»»ä½ gc\n',charsets:{cjk:!0}}],themeConfig:{logo:"/images/logo.jpg",bodyBgImg:"/images/bg.jpg",bodyBgImgOpacity:.7,sidebar:{"/00.ç®å½é¡µ/":[["01.centos7.md","centos7","/centos7/"],["02.å¸¸ç¨å½ä»¤.md","å¸¸ç¨å½ä»¤","/command/"],["03.Java.md","Java","/java/"]],catalogue:{centos7:"/centos7/","å¸¸ç¨å½ä»¤":"/command/",Java:"/java/"},"/å­¦ä¹ èµæ/":[{title:"centos7",collapsable:!0,children:[{title:"centos7å¸¸ç¨éç½®",collapsable:!0,children:[["01.centos7/01.centos7å¸¸ç¨éç½®/02.Centos7éç½®éæç½ç».md","Centos7éç½®éæç½ç»","/pages/ef2f99/"],["01.centos7/01.centos7å¸¸ç¨éç½®/04.Centos7éç½®å®æ¶ä»»å¡.md","Centos7éç½®å®æ¶ä»»å¡","/pages/59c52f/"]]},{title:"centos7å®è£æå¡",collapsable:!0,children:[["01.centos7/03.centos7å®è£æå¡/01.Centos7å®è£Docker.md","Centos7å®è£Docker","/pages/a0deac/"]]},{title:"dockerå®è£æå¡",collapsable:!0,children:[["01.centos7/05.dockerå®è£æå¡/01.Dockerå®è£Nginx.md","Dockerå®è£Nginx","/pages/64523d/"],["01.centos7/05.dockerå®è£æå¡/02.Dockerå®è£MySQL.md","Dockerå®è£MySQL","/pages/02c95e/"],["01.centos7/05.dockerå®è£æå¡/03.Dockerå®è£Tomcat.md","Dockerå®è£Tomcat","/pages/cdbdbb/"],["01.centos7/05.dockerå®è£æå¡/04.Dockerå®è£Gitlab.md","Dockerå®è£Gitlab","/pages/8b837f/"],["01.centos7/05.dockerå®è£æå¡/05.Dockerå®è£Ftp.md","Dockerå®è£Ftp","/pages/02a6d1/"],["01.centos7/05.dockerå®è£æå¡/06.Dockerå®è£Trojan.md","Dockerå®è£Trojan","/pages/7b6292/"],["01.centos7/05.dockerå®è£æå¡/07.Dockerå®è£V2ray.md","Dockerå®è£V2ray","/pages/a7c015/"],["01.centos7/05.dockerå®è£æå¡/08.Dockerå®è£Frp.md","Dockerå®è£Frp","/pages/c1ed84/"],["01.centos7/05.dockerå®è£æå¡/09.Dockerå®è£Redis.md","Dockerå®è£Redis","/pages/0000a6/"],["01.centos7/05.dockerå®è£æå¡/10.Dockerå®è£Nacos.md","Dockerå®è£Nacos","/pages/a45d98/"],["01.centos7/05.dockerå®è£æå¡/11.Dockerå®è£Rabbitmq.md","Dockerå®è£Rabbitmq","/pages/c54468/"],["01.centos7/05.dockerå®è£æå¡/12.Dockerå®è£Elasticsearch.md","Dockerå®è£Elasticsearch","/pages/1e85fd/"],["01.centos7/05.dockerå®è£æå¡/13.Dockerå®è£Logstash.md","Dockerå®è£Logstash","/pages/8a8651/"],["01.centos7/05.dockerå®è£æå¡/14.Dockerå®è£Kibana.md","Dockerå®è£Kibana","/pages/25aa1b/"]]}]},{title:"å¸¸ç¨å½ä»¤",collapsable:!0,children:[["02.å¸¸ç¨å½ä»¤/01.Dockerå¸¸ç¨å½ä»¤.md","Dockerå¸¸ç¨å½ä»¤","/pages/ab63d6/"],["02.å¸¸ç¨å½ä»¤/02.Gitå¸¸ç¨å½ä»¤.md","Gitå¸¸ç¨å½ä»¤","/pages/115b69/"],["02.å¸¸ç¨å½ä»¤/03.Linuxå¸¸ç¨å½ä»¤.md","Linuxå¸¸ç¨å½ä»¤","/pages/33ee6d/"],["02.å¸¸ç¨å½ä»¤/04.MySQLå¸¸ç¨å½ä»¤.md","MySQLå¸¸ç¨å½ä»¤","/pages/3c4d4a/"],["02.å¸¸ç¨å½ä»¤/05.Nginxå¸¸ç¨å½ä»¤.md","Nginxå¸¸ç¨å½ä»¤","/pages/a1ed3d/"]]},{title:"Java",collapsable:!0,children:[{title:"Javaåºç¡",collapsable:!0,children:[["03.Java/01.Javaåºç¡/01.åºç¡ç¥è¯.md","åºç¡ç¥è¯","/pages/07cc6a/"],["03.Java/01.Javaåºç¡/03.æ°æ®ç±»å.md","æ°æ®ç±»å","/pages/118174/"],["03.Java/01.Javaåºç¡/05.é¢åå¯¹è±¡.md","é¢åå¯¹è±¡","/pages/15942a/"],["03.Java/01.Javaåºç¡/07.å¼å¸¸å¤ç.md","å¼å¸¸å¤ç","/pages/b5379c/"]]},{title:"éå",collapsable:!0,children:[["03.Java/03.éå/01.Javaéå.md","Javaéå","/pages/4cb86a/"]]},{title:"JVM",collapsable:!0,children:[["03.Java/05.JVM/01.JVMç¸å³ç¥è¯ä½ç³».md","JVMç¸å³ç¥è¯ä½ç³»","/pages/c3df4e/"]]},{title:"IO",collapsable:!0,children:[["03.Java/07.IO/01.Java IOç¥è¯ä½ç³»å¾.md","Java IOç¥è¯ä½ç³»å¾","/pages/27f6bd/"]]},{title:"å¹¶å",collapsable:!0,children:[["03.Java/09.å¹¶å/01.Javaå¹¶åç¥è¯ä½ç³».md","Javaå¹¶åç¥è¯ä½ç³»","/pages/5f1d51/"],["03.Java/09.å¹¶å/03.Javaçº¿ç¨åºç¡.md","Javaçº¿ç¨åºç¡","/pages/20b9df/"]]},{title:"SpringBootå®æ",collapsable:!0,children:[["03.Java/18.SpringBootå®æ/01.SpringBootæ´åMybatisPlus.md","SpringBootæ´åMybatisPlus","/pages/5f83bc/"],["03.Java/18.SpringBootå®æ/02.SpringBootæ´åSwaggerUI.md","SpringBootæ´åSwaggerUI","/pages/5d1537/"],["03.Java/18.SpringBootå®æ/03.SpringBootæ´åSpringTask.md","SpringBootæ´åSpringTask","/pages/d0754d/"],["03.Java/18.SpringBootå®æ/04.SpringBootæ´åRedis.md","SpringBootæ´åRedis","/pages/a36330/"],["03.Java/18.SpringBootå®æ/05.SpringBootæ´åRabbitMQ.md","SpringBootæ´åRabbitMQ","/pages/73b1ea/"],["03.Java/18.SpringBootå®æ/06.SpringBootæ´åElasticSearch.md","SpringBootæ´åElasticSearch","/pages/b7c905/"],["03.Java/18.SpringBootå®æ/07.SpringBootæ´åSpringSecurity.md","SpringBootæ´åSpringSecurity","/pages/464d7a/"]]},{title:"è®¾è®¡æ¨¡å¼",collapsable:!0,children:[["03.Java/20.è®¾è®¡æ¨¡å¼/01.Javaè®¾è®¡æ¨¡å¼.md","Javaè®¾è®¡æ¨¡å¼","/pages/44301a/"]]},{title:"SpringCloudå®æ",collapsable:!0,children:[["03.Java/25.SpringCloudå®æ/01.SpringCloudå¼å§æ­å»º.md","SpringCloudå¼å§æ­å»º","/pages/723081/"],["03.Java/25.SpringCloudå®æ/02.SpringCloudéç½®ä¸­å¿Config.md","SpringCloudéç½®ä¸­å¿Config","/pages/73ae92/"],["03.Java/25.SpringCloudå®æ/03.SpringCloudæå¡æ³¨åDiscovery.md","SpringCloudæå¡æ³¨åDiscovery","/pages/90be9f/"],["03.Java/25.SpringCloudå®æ/04.SpringCloudç½å³Gateway.md","SpringCloudç½å³Gateway","/pages/b48b5b/"],["03.Java/25.SpringCloudå®æ/05.SpringCloudææOAuth2.md","SpringCloudææOAuth2","/pages/ffc151/"],["03.Java/25.SpringCloudå®æ/06.SpringCloudå¨åµSentinel.md","SpringCloudå¨åµSentinel","/pages/9d5dbe/"],["03.Java/25.SpringCloudå®æ/07.SpringCloudçæ§Admin.md","SpringCloudçæ§Admin","/pages/fde21f/"]]}]},{title:"ç¬è®°",collapsable:!0,children:[["21.ç¬è®°/01.Tomcatæä½³å®è·µ.md","Tomcatæä½³å®è·µ","/pages/a1549e/"]]}]},sidebarDepth:2,category:!0,tags:!0,archive:!0,searchMaxSuggestions:10,repo:"https://github.com/xiaomai653/blog",docsDir:"docs",editLinks:!0,editLinkText:"ç¼è¾",author:{name:"xiaomai"},blogger:{avatar:"/images/author.jpg",name:"å°éº¦",slogan:"ä¸ç§¯ç¡æ­¥ï¼æ ä»¥è³åéã"},nav:[{text:"é¦é¡µ",link:"/"},{text:"centos7",link:"/centos7/"},{text:"å¸¸ç¨å½ä»¤",link:"/command/"},{text:"Java",link:"/java/"}],footer:{createYear:2022,copyrightInfo:""}}},Ks=(t(147),t(202),t(138),t(214)),Ys=t(215),Xs=(t(369),t(231),t(42));var Zs={computed:{$filterPosts:function(){return this.$site.pages.filter((function(n){var e=n.frontmatter,t=e.pageComponent,r=e.article,o=e.home;return!(t||!1===r||!0===o)}))},$sortPosts:function(){return(n=this.$filterPosts).sort((function(n,e){var t=n.frontmatter.sticky,r=e.frontmatter.sticky;return t&&r?t==r?Object(Xs.a)(n,e):t-r:t&&!r?-1:!t&&r?1:Object(Xs.a)(n,e)})),n;var n},$sortPostsByDate:function(){return(n=this.$filterPosts).sort((function(n,e){return Object(Xs.a)(n,e)})),n;var n},$groupPosts:function(){return function(n){for(var e={},t={},r=function(r,o){var i=n[r].frontmatter,a=i.categories,s=i.tags;"array"===Object(Xs.n)(a)&&a.forEach((function(t){t&&(e[t]||(e[t]=[]),e[t].push(n[r]))})),"array"===Object(Xs.n)(s)&&s.forEach((function(e){e&&(t[e]||(t[e]=[]),t[e].push(n[r]))}))},o=0,i=n.length;o<i;o++)r(o);return{categories:e,tags:t}}(this.$sortPosts)},$categoriesAndTags:function(){return function(n){var e=[],t=[];for(var r in n.categories)e.push({key:r,length:n.categories[r].length});for(var o in n.tags)t.push({key:o,length:n.tags[o].length});return{categories:e,tags:t}}(this.$groupPosts)}}};Bo.component(Ks.default),Bo.component(Ys.default);function nc(n){return n.toString().padStart(2,"0")}t(373);Bo.component("Badge",(function(){return Promise.all([t.e(0),t.e(3)]).then(t.bind(null,531))})),Bo.component("CodeBlock",(function(){return Promise.resolve().then(t.bind(null,214))})),Bo.component("CodeGroup",(function(){return Promise.resolve().then(t.bind(null,215))}));t(374),t(205),t(206);function ec(n,e){return(ec=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}function tc(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ec(n,e)}t(207),t(208);function rc(n){return(rc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function oc(n,e){if(e&&("object"===Ta(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function ic(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,r=rc(n);if(e){var o=rc(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return oc(this,t)}}var ac=t(136),sc=(t(378),function(){function n(e){var t=e.origin,r=e.size,o=e.speed,i=e.color,a=e.angle,s=e.context;ls(this,n),this.origin=t,this.position=Object(ac.a)({},this.origin),this.size=r,this.color=i,this.speed=o,this.angle=a,this.context=s,this.renderCount=0}return ps(n,[{key:"draw",value:function(){}},{key:"move",value:function(){this.position.x=Math.sin(this.angle)*this.speed+this.position.x,this.position.y=Math.cos(this.angle)*this.speed+this.position.y+.3*this.renderCount,this.renderCount++}}]),n}()),cc=function(n){tc(t,n);var e=ic(t);function t(){return ls(this,t),e.apply(this,arguments)}return ps(t,[{key:"draw",value:function(){this.context.fillStyle=this.color,this.context.beginPath(),this.context.arc(this.position.x,this.position.y,this.size,0,2*Math.PI),this.context.fill()}}]),t}(sc),lc=function(n){tc(t,n);var e=ic(t);function t(n){var r,o=n.origin,i=n.size,a=n.speed,s=n.color,c=n.angle,l=n.context;return ls(this,t),(r=e.call(this,{origin:o,size:i,speed:a,color:s,angle:c,context:l})).rotate=0,r}return ps(t,[{key:"draw",value:function(){this.context.fillStyle=this.color,this.context.beginPath();for(var n=2*this.size,e=this.size,t=0;t<5;t++)this.context.lineTo(Math.cos((18+72*t-this.rotate)/180*Math.PI)*n+this.position.x,-Math.sin((18+72*t-this.rotate)/180*Math.PI)*n+this.position.y),this.context.lineTo(Math.cos((54+72*t-this.rotate)/180*Math.PI)*e+this.position.x,-Math.sin((54+72*t-this.rotate)/180*Math.PI)*e+this.position.y);this.context.fill(),this.rotate+=5}}]),t}(sc),uc=function(){function n(e){var t=e.origin,r=e.context,o=e.shape,i=void 0===o?"star":o,a=e.size,s=void 0===a?2:a,c=e.particleCount,l=void 0===c?10:c,u=e.clientSize;ls(this,n),this.origin=t,this.context=r,this.shape=i,this.size=s,this.particleCount=l,this.clientSize=u,this.stop=!1,this.particles=[]}return ps(n,[{key:"randomArray",value:function(n){var e=n.length;return n[Math.floor(e*Math.random())]}},{key:"randomColor",value:function(){var n=["8","9","A","B","C","D","E","F"];return"#"+this.randomArray(n)+this.randomArray(n)+this.randomArray(n)+this.randomArray(n)+this.randomArray(n)+this.randomArray(n)}},{key:"randomRange",value:function(n,e){return(e-n)*Math.random()+n}},{key:"getShape",value:function(n){return{star:lc,circle:cc}[n]}},{key:"init",value:function(){for(var n=0;n<this.particleCount;n++){var e=new(this.getShape(this.shape))({context:this.context,origin:this.origin,size:this.size,color:this.randomColor(),angle:this.randomRange(Math.PI-1,Math.PI+1),speed:this.randomRange(1,6)});this.particles.push(e)}}},{key:"move",value:function(){var n=this;this.particles.forEach((function(e,t){e.position.x<0||e.position.x>n.clientSize.width||e.position.y>n.clientSize.height?n.particles.splice(t,1):e.move()})),0==this.particles.length&&(this.stop=!0)}},{key:"draw",value:function(){this.particles.forEach((function(n){return n.draw()}))}}]),n}(),pc={name:"CursorEffects",data:function(){return{shape:"star",size:2,zIndex:999999999,computerCanvas:null,renderCanvas:null,computerContext:null,renderContext:null,clientSize:{width:0,height:0},resizeTimeout:null}},mounted:function(){this.computerCanvas=document.createElement("canvas"),this.renderCanvas=document.getElementById("vuepress-canvas-cursor"),this.computerContext=this.computerCanvas.getContext("2d"),this.renderContext=this.renderCanvas.getContext("2d"),this.clientSize.width=window.innerWidth,this.clientSize.height=window.innerHeight,this.booms=[],this.running=!1,this.init()},methods:{init:function(){this.setStyle(this.renderCanvas.style),this.renderCanvas.width=this.computerCanvas.width=this.clientSize.width,this.renderCanvas.height=this.computerCanvas.height=this.clientSize.height,this.makeHighRes(this.renderCanvas,this.renderContext),this.makeHighRes(this.computerCanvas,this.computerContext),window.addEventListener("mousedown",this.handleMouseDown),window.addEventListener("pagehide",this.handlePageHide),window.addEventListener("resize",this.handleResize)},setStyle:function(n){n.position="fixed",n.top=0,n.left=0,n.zIndex=this.zIndex,n.pointerEvents="none",n.width=this.clientSize.width,n.height=this.clientSize.height},makeHighRes:function(n,e){var t=window.devicePixelRatio||1,r=n.width,o=n.height;n.width=Math.round(r*t),n.height=Math.round(o*t),n.style.width=r+"px",n.style.height=o+"px",e.scale(t,t)},handleMouseDown:function(n){var e=new uc({origin:{x:n.clientX,y:n.clientY},context:this.computerContext,size:this.size,shape:this.shape,clientSize:this.clientSize});e.init(),this.booms.push(e),this.running||this.run()},handlePageHide:function(){this.booms=[],this.running=!1},handleResize:function(){var n=this;null!=this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout((function(){n.clientSize.width=window.innerWidth,n.clientSize.height=window.innerHeight,n.renderCanvas.width=n.computerCanvas.width=n.clientSize.width,n.renderCanvas.height=n.computerCanvas.height=n.clientSize.height,n.makeHighRes(n.renderCanvas,n.renderContext),n.makeHighRes(n.computerCanvas,n.computerContext)}),500)},run:function(){var n=this;if(this.running=!0,0==this.booms.length)return this.running=!1;requestAnimationFrame(this.run),this.computerContext.clearRect(0,0,this.clientSize.width,this.clientSize.height),this.renderContext.clearRect(0,0,this.clientSize.width,this.clientSize.height),this.booms.forEach((function(e,t){e.stop?n.booms.splice(t,1):(e.move(),e.draw())})),this.renderContext.drawImage(this.computerCanvas,0,0,this.clientSize.width,this.clientSize.height)}}},dc=Object(Ws.a)(pc,(function(){var n=this.$createElement;return(this._self._c||n)("canvas",{attrs:{id:"vuepress-canvas-cursor"}})}),[],!1,null,null,null).exports,mc={name:"GoTop",data:function(){return{visibilityHeight:500,catStyle:"hide-cat"}},mounted:function(){window.addEventListener("scroll",this.handleScroll,!0)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll:function(){this.catStyle=this.getScrollTop()>this.visibilityHeight?"show-cat":"hide-cat"},getScrollTop:function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},goTop:function(){window.scrollTo({top:0,behavior:"smooth"}),this.scrollTop=0}}},gc=(t(380),Object(Ws.a)(mc,(function(){var n=this.$createElement;return(this._self._c||n)("div",{class:this.catStyle,attrs:{id:"goTop"},on:{click:this.goTop}})}),[],!1,null,"bf92849a",null).exports),fc=[function(n){n.Vue,n.options,n.router,n.siteData,n.isServer},function(n){var e=n.Vue,t=(n.options,n.router,n.siteData);t.pages.map((function(n){var e=n.frontmatter,r=e.date,o=e.author;"string"==typeof r&&"Z"===r.charAt(r.length-1)&&(n.frontmatter.date=function(n){n instanceof Date||(n=new Date(n));return"".concat(n.getUTCFullYear(),"-").concat(nc(n.getUTCMonth()+1),"-").concat(nc(n.getUTCDate())," ").concat(nc(n.getUTCHours()),":").concat(nc(n.getUTCMinutes()),":").concat(nc(n.getUTCSeconds()))}(r)),o?n.author=o:t.themeConfig.author&&(n.author=t.themeConfig.author)})),e.mixin(Zs)},{},function(n){n.Vue.mixin({computed:{$dataBlock:function(){return this.$options.__data__block__}}})},{},{},function(n){n.Vue.component("CursorEffects",dc)},function(n){n.Vue.component("GoTop",gc)}],hc=["CursorEffects","GoTop"];t(135);var yc=function(n){tc(t,n);var e=ic(t);function t(){return ls(this,t),e.apply(this,arguments)}return ps(t)}(function(){function n(){ls(this,n),this.store=new Bo({data:{state:{}}})}return ps(n,[{key:"$get",value:function(n){return this.store.state[n]}},{key:"$set",value:function(n,e){Bo.set(this.store.state,n,e)}},{key:"$emit",value:function(){var n;(n=this.store).$emit.apply(n,arguments)}},{key:"$on",value:function(){var n;(n=this.store).$on.apply(n,arguments)}}]),n}());Object.assign(yc.prototype,{getPageAsyncComponent:Na,getLayoutAsyncComponent:Fa,getAsyncComponent:Ja,getVueComponent:Ha});var vc={install:function(n){var e=new yc;n.$vuepress=e,n.prototype.$vuepress=e}};function bc(n){n.beforeEach((function(e,t,r){if(kc(n,e.path))r();else if(/(\/|\.html)$/.test(e.path))if(/\/$/.test(e.path)){var o=e.path.replace(/\/$/,"")+".html";kc(n,o)?r(o):r()}else r();else{var i=e.path+"/",a=e.path+".html";kc(n,a)?r(a):kc(n,i)?r(i):r()}}))}function kc(n,e){var t=e.toLowerCase();return n.options.routes.some((function(n){return n.path.toLowerCase()===t}))}var xc={props:{pageKey:String,slotKey:{type:String,default:"default"}},render:function(n){var e=this.pageKey||this.$parent.$page.key;return Ga("pageKey",e),Bo.component(e)||Bo.component(e,Na(e)),Bo.component(e)?n(e):n("")}},wc={functional:!0,props:{slotKey:String,required:!0},render:function(n,e){var t=e.props,r=e.slots;return n("div",{class:["content__".concat(t.slotKey)]},r()[t.slotKey])}},Sc={computed:{openInNewWindowTitle:function(){return this.$themeLocaleConfig.openNewWindowText||"(opens new window)"}}},Ec=(t(381),t(382),Object(Ws.a)(Sc,(function(){var n=this.$createElement,e=this._self._c||n;return e("span",[e("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[e("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),this._v(" "),e("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})]),this._v(" "),e("span",{staticClass:"sr-only"},[this._v(this._s(this.openInNewWindowTitle))])])}),[],!1,null,null,null).exports);function _c(){return(_c=Object(r.a)(regeneratorRuntime.mark((function n(e){var t,r,o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:Qs.routerBase||Qs.base,bc(r=new Ea({base:t,mode:"history",fallback:!1,routes:Vs,scrollBehavior:function(n,e,t){return t||(n.hash?!Bo.$vuepress.$get("disableScrollBehavior")&&{selector:decodeURIComponent(n.hash)}:{x:0,y:0})}})),o={},n.prev=4,n.next=7,Promise.all(fc.filter((function(n){return"function"==typeof n})).map((function(n){return n({Vue:Bo,options:o,router:r,siteData:Qs,isServer:e})})));case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(4),console.error(n.t0);case 12:return i=new Bo(Object.assign(o,{router:r,render:function(n){return n("div",{attrs:{id:"app"}},[n("RouterView",{ref:"layout"}),n("div",{class:"global-ui"},hc.map((function(e){return n(e)})))])}})),n.abrupt("return",{app:i,router:r});case 14:case"end":return n.stop()}}),n,null,[[4,9]])})))).apply(this,arguments)}Bo.config.productionTip=!1,Bo.use(Ea),Bo.use(vc),Bo.mixin(function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bo;_a(e),t.$vuepress.$set("siteData",e);var r=n(t.$vuepress.$get("siteData")),o=new r,i=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(o)),a={};return Object.keys(i).reduce((function(n,e){return e.startsWith("$")&&(n[e]=i[e].get),n}),a),{computed:a}}((function(n){return function(){function e(){ls(this,e)}return ps(e,[{key:"setPage",value:function(n){this.__page=n}},{key:"$site",get:function(){return n}},{key:"$themeConfig",get:function(){return this.$site.themeConfig}},{key:"$frontmatter",get:function(){return this.$page.frontmatter}},{key:"$localeConfig",get:function(){var n,e,t=this.$site.locales,r=void 0===t?{}:t;for(var o in r)"/"===o?e=r[o]:0===this.$page.path.indexOf(o)&&(n=r[o]);return n||e||{}}},{key:"$siteTitle",get:function(){return this.$localeConfig.title||this.$site.title||""}},{key:"$canonicalUrl",get:function(){var n=this.$page.frontmatter.canonicalUrl;return"string"==typeof n&&n}},{key:"$title",get:function(){var n=this.$page,e=this.$page.frontmatter.metaTitle;if("string"==typeof e)return e;var t=this.$siteTitle,r=n.frontmatter.home?null:n.frontmatter.title||n.title;return t?r?r+" | "+t:t:r||"VuePress"}},{key:"$description",get:function(){var n=function(n){if(n){var e=n.filter((function(n){return"description"===n.name}))[0];if(e)return e.content}}(this.$page.frontmatter.meta);return n||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||"")}},{key:"$lang",get:function(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}},{key:"$localePath",get:function(){return this.$localeConfig.path||"/"}},{key:"$themeLocaleConfig",get:function(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}},{key:"$page",get:function(){return this.__page?this.__page:function(n,e){for(var t=0;t<n.length;t++){var r=n[t];if(r.path.toLowerCase()===e.toLowerCase())return r}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}}]),e}()}),Qs)),Bo.component("Content",xc),Bo.component("ContentSlotsDistributor",wc),Bo.component("OutboundLink",Ec),Bo.component("ClientOnly",{functional:!0,render:function(n,e){var t=e.parent,r=e.children;if(t._isMounted)return r;t.$once("hook:mounted",(function(){t.$forceUpdate()}))}}),Bo.component("Layout",Fa("Layout")),Bo.component("NotFound",Fa("NotFound")),Bo.prototype.$withBase=function(n){var e=this.$site.base;return"/"===n.charAt(0)?e+n.slice(1):n},window.__VUEPRESS__={version:"1.9.5",hash:"dcc5511"},function(n){return _c.apply(this,arguments)}(!1).then((function(n){var e=n.app;n.router.onReady((function(){e.$mount("#app")}))}))}]);