(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{486:function(t,s,e){"use strict";e.r(s);var a=e(16),r=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"centos7二进制安装docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#centos7二进制安装docker"}},[t._v("#")]),t._v(" centos7二进制安装docker")]),t._v(" "),e("h3",{attrs:{id:"下载离线安装包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下载离线安装包"}},[t._v("#")]),t._v(" 下载离线安装包")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://download.docker.com/linux/static/stable/x86_64/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网下载"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),e("ol",[e("li",[t._v("把准备好的文件放进home目录")]),t._v(" "),e("li",[t._v("解压放到/usr/bin/目录下")])]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" -zxvf docker-20.10.1.tgz        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 解压安装包")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mv")]),t._v(" docker/* /usr/bin/               "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 移动目录")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" docker-20.10.1.tgz               "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除安装包")]),t._v("\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[t._v("在/etc/systemd/system/目录下新建文件docker.service")])]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("vi")]),t._v(" /etc/systemd/system/\n")])])]),e("details",{staticClass:"custom-block details"},[e("summary",[t._v("docker.service")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("[Unit]\nDescription=Docker Application Container Engine\nDocumentation=https://docs.docker.com\nAfter=network-online.target firewalld.service\nWants=network-online.target\n[Service]\nType=notify\n# the default is not to use systemd for cgroups because the delegate issues still\n# exists and systemd currently does not support the cgroup feature set required\n# for containers run by docker\nExecStart=/usr/bin/dockerd  -H tcp://0.0.0.0:2375 -H unix://var/run/docker.sock\nExecReload=/bin/kill -s HUP $MAINPID\n# Having non-zero Limit*s causes performance problems due to accounting overhead\n# in the kernel. We recommend using cgroups to do container-local accounting.\nLimitNOFILE=infinity\nLimitNPROC=infinity\nLimitCORE=infinity\n# Uncomment TasksMax if your systemd version supports it.\n# Only systemd 226 and above support this version.\n#TasksMax=infinity\nTimeoutStartSec=0\n# set delegate yes so that systemd does not reset the cgroups of docker containers\nDelegate=yes\n# kill only the docker process, not all processes in the cgroup\nKillMode=process\n# restart the docker process if it exits prematurely\nRestart=on-failure\nStartLimitBurst=3\nStartLimitInterval=60s\n[Install]\nWantedBy=multi-user.target \n")])])])]),t._v(" "),e("ol",{attrs:{start:"4"}},[e("li",[t._v("重启")])]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" +x /etc/systemd/system/docker.service       "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#添加文件权限 ")]),t._v("\nsystemctl daemon-reload                           "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#重新加载配置文件 ")]),t._v("\nsystemctl start "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v("                            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#启动Docker ")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" -v                                         "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查看Docker版本")]),t._v("\nsystemctl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("enable")]),t._v(" docker.service                   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#设置开机自启 ")]),t._v("\n")])])]),e("h2",{attrs:{id:"安装docker-compose"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装docker-compose"}},[t._v("#")]),t._v(" 安装docker-compose")]),t._v(" "),e("h3",{attrs:{id:"下载"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下载"}},[t._v("#")]),t._v(" 下载")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/docker/compose/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网下载"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"安装-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-2"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mv")]),t._v(" docker-compose-Linux-x86_64 /usr/local/bin/docker-compose       "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#把文件移动到/usr/local/bin/docker-compose")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" +x /usr/local/bin/docker-compose\t\t\t\t\t\t\t   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#添加文件权限 ")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker-compose")]),t._v(" -v                                                  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查看版本")]),t._v("\n")])])]),e("h2",{attrs:{id:"一键安装docker和docker-compose"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一键安装docker和docker-compose"}},[t._v("#")]),t._v(" 一键安装docker和docker compose")]),t._v(" "),e("h3",{attrs:{id:"下载-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下载-2"}},[t._v("#")]),t._v(" 下载")]),t._v(" "),e("p",[e("a",{attrs:{href:"/file/dockerInstall.sh"}},[t._v("dockerInstall.sh")]),e("br"),t._v(" "),e("a",{attrs:{href:"/file/zksc-install-docker.tar"}},[t._v("安装包")])]),t._v(" "),e("blockquote",[e("p",[t._v("把dockerInstall.sh和zksc-install-docker.tar文件上传到centos7服务器同一目录")])]),t._v(" "),e("h3",{attrs:{id:"使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),e("blockquote",[e("p",[t._v("进入dockerInstall.sh文件所在目录")])]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("777")]),t._v(" dockerInstall.sh      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#给dockerInstall.sh文件权限命令")]),t._v("\n./dockerInstall.sh              "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#执行dockerInstall.sh文件")]),t._v("\n或者\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v(" dockerInstall.sh             "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#执行dockerInstall.sh文件")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);